---
source: tests/deserialization_tests.rs
expression: parsed
---
modules:
  - name: apply_state_machine
    declarations:
      - kind: var
        id: 26
        name: version
      - kind: var
        id: 28
        name: smallest_unpruned_version
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: def
        id: 180
        name: versionsToCheck
        qualifier: val
        expr:
          kind: app
          id: 179
          opcode: Set
          args:
            - kind: name
              id: 178
              name: version
        depth: ~
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: import
      - kind: def
        id: 22
        name: VALUES
        qualifier: pureval
        expr:
          kind: app
          id: 21
          opcode: Set
          args:
            - kind: app
              id: 16
              opcode: Insert
              args:
                - kind: app
                  id: 15
                  opcode: List
                  args:
                    - kind: int
                      id: 14
                      value: 1
            - kind: app
              id: 19
              opcode: Insert
              args:
                - kind: app
                  id: 18
                  opcode: List
                  args:
                    - kind: int
                      id: 17
                      value: 2
            - kind: name
              id: 20
              name: Delete
        depth: ~
      - kind: var
        id: 24
        name: tree
      - kind: var
        id: 32
        name: ops_history
      - kind: export
      - kind: def
        id: 78
        name: to_operations
        qualifier: puredef
        expr:
          kind: lambda
          id: 77
          params:
            - id: 54
              name: nondet_value
          expr:
            kind: app
            id: 76
            opcode: map
            args:
              - kind: app
                id: 58
                opcode: mapToTuples
                args:
                  - kind: name
                    id: 57
                    name: nondet_value
              - kind: lambda
                id: 75
                params:
                  - id: 66
                    name: quintTupledLambdaParam66
                expr:
                  kind: let
                  id: 71
                  opdef:
                    id: 60
                    name: op
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 72
                      opcode: item
                      args:
                        - kind: name
                          id: 73
                          name: quintTupledLambdaParam66
                        - kind: int
                          id: 74
                          value: 2
                    depth: ~
                  expr:
                    kind: let
                    id: 67
                    opdef:
                      id: 59
                      name: key_hash
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 68
                        opcode: item
                        args:
                          - kind: name
                            id: 69
                            name: quintTupledLambdaParam66
                          - kind: int
                            id: 70
                            value: 1
                      depth: ~
                    expr:
                      kind: app
                      id: 65
                      opcode: Rec
                      args:
                        - kind: str
                          id: 62
                          value: key_hash
                        - kind: name
                          id: 61
                          name: key_hash
                        - kind: str
                          id: 64
                          value: op
                        - kind: name
                          id: 63
                          name: op
        depth: ~
      - kind: def
        id: 167
        name: assign_result
        qualifier: action
        expr:
          kind: lambda
          id: 166
          params:
            - id: 145
              name: ops
            - id: 147
              name: new_tree
          expr:
            kind: app
            id: 165
            opcode: actionAll
            args:
              - kind: app
                id: 151
                opcode: assign
                args:
                  - kind: name
                    id: 150
                    name: tree
                  - kind: name
                    id: 149
                    name: new_tree
              - kind: app
                id: 156
                opcode: assign
                args:
                  - kind: name
                    id: 155
                    name: version
                  - kind: app
                    id: 154
                    opcode: iadd
                    args:
                      - kind: name
                        id: 152
                        name: version
                      - kind: int
                        id: 153
                        value: 1
              - kind: app
                id: 159
                opcode: assign
                args:
                  - kind: name
                    id: 158
                    name: smallest_unpruned_version
                  - kind: name
                    id: 157
                    name: smallest_unpruned_version
              - kind: app
                id: 164
                opcode: assign
                args:
                  - kind: name
                    id: 163
                    name: ops_history
                  - kind: app
                    id: 162
                    opcode: append
                    args:
                      - kind: name
                        id: 160
                        name: ops_history
                      - kind: name
                        id: 161
                        name: ops
        depth: ~
      - kind: def
        id: 187
        name: activeTreeVersions
        qualifier: val
        expr:
          kind: app
          id: 186
          opcode: to
          args:
            - kind: name
              id: 183
              name: smallest_unpruned_version
            - kind: app
              id: 185
              opcode: treeVersion
              args:
                - kind: name
                  id: 184
                  name: tree
        depth: ~
      - kind: def
        id: 197
        name: treesToCheck
        qualifier: val
        expr:
          kind: app
          id: 196
          opcode: map
          args:
            - kind: name
              id: 190
              name: versionsToCheck
            - kind: lambda
              id: 195
              params:
                - id: 191
                  name: v
              expr:
                kind: app
                id: 194
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 192
                    name: tree
                  - kind: name
                    id: 193
                    name: v
        depth: ~
      - kind: def
        id: 50
        name: init
        qualifier: action
        expr:
          kind: app
          id: 49
          opcode: actionAll
          args:
            - kind: app
              id: 39
              opcode: assign
              args:
                - kind: name
                  id: 38
                  name: tree
                - kind: app
                  id: 37
                  opcode: Rec
                  args:
                    - kind: str
                      id: 34
                      value: nodes
                    - kind: app
                      id: 33
                      opcode: Map
                      args: []
                    - kind: str
                      id: 36
                      value: orphans
                    - kind: app
                      id: 35
                      opcode: Set
                      args: []
            - kind: app
              id: 42
              opcode: assign
              args:
                - kind: name
                  id: 41
                  name: version
                - kind: int
                  id: 40
                  value: 1
            - kind: app
              id: 45
              opcode: assign
              args:
                - kind: name
                  id: 44
                  name: smallest_unpruned_version
                - kind: int
                  id: 43
                  value: 1
            - kind: app
              id: 48
              opcode: assign
              args:
                - kind: name
                  id: 47
                  name: ops_history
                - kind: app
                  id: 46
                  opcode: List
                  args: []
        depth: ~
      - kind: def
        id: 519
        name: versionInv
        qualifier: val
        expr:
          kind: let
          id: 518
          opdef:
            id: 483
            name: allPrefixes
            qualifier: puredef
            expr:
              kind: lambda
              id: 482
              params:
                - id: 467
                  name: l
              expr:
                kind: app
                id: 481
                opcode: map
                args:
                  - kind: app
                    id: 474
                    opcode: to
                    args:
                      - kind: int
                        id: 471
                        value: 0
                      - kind: app
                        id: 473
                        opcode: length
                        args:
                          - kind: name
                            id: 472
                            name: l
                  - kind: lambda
                    id: 480
                    params:
                      - id: 475
                        name: i
                    expr:
                      kind: app
                      id: 479
                      opcode: slice
                      args:
                        - kind: name
                          id: 476
                          name: l
                        - kind: int
                          id: 477
                          value: 0
                        - kind: name
                          id: 478
                          name: i
            depth: ~
          expr:
            kind: app
            id: 517
            opcode: forall
            args:
              - kind: app
                id: 487
                opcode: keys
                args:
                  - kind: app
                    id: 486
                    opcode: field
                    args:
                      - kind: name
                        id: 484
                        name: tree
                      - kind: str
                        id: 485
                        value: nodes
              - kind: lambda
                id: 516
                params:
                  - id: 488
                    name: a
                expr:
                  kind: app
                  id: 515
                  opcode: forall
                  args:
                    - kind: app
                      id: 492
                      opcode: allPrefixes
                      args:
                        - kind: app
                          id: 491
                          opcode: field
                          args:
                            - kind: name
                              id: 489
                              name: a
                            - kind: str
                              id: 490
                              value: key_hash
                    - kind: lambda
                      id: 514
                      params:
                        - id: 493
                          name: p
                      expr:
                        kind: app
                        id: 513
                        opcode: exists
                        args:
                          - kind: app
                            id: 497
                            opcode: keys
                            args:
                              - kind: app
                                id: 496
                                opcode: field
                                args:
                                  - kind: name
                                    id: 494
                                    name: tree
                                  - kind: str
                                    id: 495
                                    value: nodes
                          - kind: lambda
                            id: 512
                            params:
                              - id: 498
                                name: b
                            expr:
                              kind: app
                              id: 511
                              opcode: and
                              args:
                                - kind: app
                                  id: 503
                                  opcode: eq
                                  args:
                                    - kind: name
                                      id: 499
                                      name: p
                                    - kind: app
                                      id: 502
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 500
                                          name: b
                                        - kind: str
                                          id: 501
                                          value: key_hash
                                - kind: app
                                  id: 510
                                  opcode: igte
                                  args:
                                    - kind: app
                                      id: 506
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 504
                                          name: b
                                        - kind: str
                                          id: 505
                                          value: version
                                    - kind: app
                                      id: 509
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 507
                                          name: a
                                        - kind: str
                                          id: 508
                                          value: version
        depth: ~
      - kind: def
        id: 654
        name: orphansInNoTreeInv
        qualifier: val
        expr:
          kind: app
          id: 653
          opcode: forall
          args:
            - kind: app
              id: 623
              opcode: field
              args:
                - kind: name
                  id: 621
                  name: tree
                - kind: str
                  id: 622
                  value: orphans
            - kind: lambda
              id: 652
              params:
                - id: 624
                  name: o
              expr:
                kind: let
                id: 651
                opdef:
                  id: 634
                  name: nodeId
                  qualifier: val
                  expr:
                    kind: app
                    id: 633
                    opcode: Rec
                    args:
                      - kind: str
                        id: 628
                        value: version
                      - kind: app
                        id: 627
                        opcode: field
                        args:
                          - kind: name
                            id: 625
                            name: o
                          - kind: str
                            id: 626
                            value: version
                      - kind: str
                        id: 632
                        value: key_hash
                      - kind: app
                        id: 631
                        opcode: field
                        args:
                          - kind: name
                            id: 629
                            name: o
                          - kind: str
                            id: 630
                            value: key_hash
                  depth: ~
                expr:
                  kind: app
                  id: 650
                  opcode: forall
                  args:
                    - kind: app
                      id: 640
                      opcode: to
                      args:
                        - kind: app
                          id: 637
                          opcode: field
                          args:
                            - kind: name
                              id: 635
                              name: o
                            - kind: str
                              id: 636
                              value: orphaned_since_version
                        - kind: app
                          id: 639
                          opcode: treeVersion
                          args:
                            - kind: name
                              id: 638
                              name: tree
                    - kind: lambda
                      id: 649
                      params:
                        - id: 641
                          name: ver
                      expr:
                        kind: app
                        id: 648
                        opcode: not
                        args:
                          - kind: app
                            id: 647
                            opcode: contains
                            args:
                              - kind: app
                                id: 645
                                opcode: keys
                                args:
                                  - kind: app
                                    id: 644
                                    opcode: treeAtVersion
                                    args:
                                      - kind: name
                                        id: 642
                                        name: tree
                                      - kind: name
                                        id: 643
                                        name: ver
                              - kind: name
                                id: 646
                                name: nodeId
        depth: ~
      - kind: def
        id: 956
        name: membershipCompletenessInv
        qualifier: val
        expr:
          kind: app
          id: 955
          opcode: forall
          args:
            - kind: name
              id: 949
              name: versionsToCheck
            - kind: lambda
              id: 954
              params:
                - id: 950
                  name: v
              expr:
                kind: app
                id: 953
                opcode: membershipCompleteness
                args:
                  - kind: name
                    id: 951
                    name: tree
                  - kind: name
                    id: 952
                    name: v
        depth: ~
      - kind: def
        id: 964
        name: nonMembershipCompletenessInv
        qualifier: val
        expr:
          kind: app
          id: 963
          opcode: forall
          args:
            - kind: name
              id: 957
              name: versionsToCheck
            - kind: lambda
              id: 962
              params:
                - id: 958
                  name: v
              expr:
                kind: app
                id: 961
                opcode: nonMembershipCompleteness
                args:
                  - kind: name
                    id: 959
                    name: tree
                  - kind: name
                    id: 960
                    name: v
        depth: ~
      - kind: def
        id: 972
        name: membershipSoundnessInv
        qualifier: val
        expr:
          kind: app
          id: 971
          opcode: forall
          args:
            - kind: name
              id: 965
              name: versionsToCheck
            - kind: lambda
              id: 970
              params:
                - id: 966
                  name: v
              expr:
                kind: app
                id: 969
                opcode: membershipSoundness
                args:
                  - kind: name
                    id: 967
                    name: tree
                  - kind: name
                    id: 968
                    name: v
        depth: ~
      - kind: def
        id: 980
        name: nonMembershipSoundnessInv
        qualifier: val
        expr:
          kind: app
          id: 979
          opcode: forall
          args:
            - kind: name
              id: 973
              name: versionsToCheck
            - kind: lambda
              id: 978
              params:
                - id: 974
                  name: v
              expr:
                kind: app
                id: 977
                opcode: nonMembershipSoundness
                args:
                  - kind: name
                    id: 975
                    name: tree
                  - kind: name
                    id: 976
                    name: v
        depth: ~
      - kind: def
        id: 1108
        name: verifyMembershipInv
        qualifier: val
        expr:
          kind: app
          id: 1107
          opcode: forall
          args:
            - kind: name
              id: 981
              name: versionsToCheck
            - kind: lambda
              id: 1106
              params:
                - id: 982
                  name: version
              expr:
                kind: let
                id: 1105
                opdef:
                  id: 987
                  name: leafs
                  qualifier: val
                  expr:
                    kind: app
                    id: 986
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 985
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 983
                            name: tree
                          - kind: name
                            id: 984
                            name: version
                  depth: ~
                expr:
                  kind: let
                  id: 1104
                  opdef:
                    id: 998
                    name: root
                    qualifier: val
                    expr:
                      kind: app
                      id: 997
                      opcode: hash
                      args:
                        - kind: app
                          id: 996
                          opcode: get
                          args:
                            - kind: app
                              id: 990
                              opcode: field
                              args:
                                - kind: name
                                  id: 988
                                  name: tree
                                - kind: str
                                  id: 989
                                  value: nodes
                            - kind: app
                              id: 995
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 992
                                  value: key_hash
                                - kind: name
                                  id: 991
                                  name: ROOT_BITS
                                - kind: str
                                  id: 994
                                  value: version
                                - kind: name
                                  id: 993
                                  name: version
                    depth: ~
                  expr:
                    kind: app
                    id: 1103
                    opcode: implies
                    args:
                      - kind: app
                        id: 1007
                        opcode: has
                        args:
                          - kind: app
                            id: 1001
                            opcode: field
                            args:
                              - kind: name
                                id: 999
                                name: tree
                              - kind: str
                                id: 1000
                                value: nodes
                          - kind: app
                            id: 1006
                            opcode: Rec
                            args:
                              - kind: str
                                id: 1003
                                value: key_hash
                              - kind: name
                                id: 1002
                                name: ROOT_BITS
                              - kind: str
                                id: 1005
                                value: version
                              - kind: name
                                id: 1004
                                name: version
                      - kind: app
                        id: 1102
                        opcode: forall
                        args:
                          - kind: name
                            id: 1008
                            name: all_key_hashes
                          - kind: lambda
                            id: 1101
                            params:
                              - id: 1009
                                name: key_hash
                            expr:
                              kind: let
                              id: 1100
                              opdef:
                                id: 1014
                                name: proof
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 1013
                                  opcode: ics23_prove
                                  args:
                                    - kind: name
                                      id: 1010
                                      name: tree
                                    - kind: name
                                      id: 1011
                                      name: key_hash
                                    - kind: name
                                      id: 1012
                                      name: version
                                depth: ~
                              expr:
                                kind: app
                                id: 1093
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 1015
                                    name: proof
                                  - kind: str
                                    id: 1094
                                    value: Some
                                  - kind: lambda
                                    id: 1095
                                    params:
                                      - id: 1096
                                        name: p
                                    expr:
                                      kind: app
                                      id: 1085
                                      opcode: matchVariant
                                      args:
                                        - kind: name
                                          id: 1016
                                          name: p
                                        - kind: str
                                          id: 1086
                                          value: Exist
                                        - kind: lambda
                                          id: 1087
                                          params:
                                            - id: 1088
                                              name: ep
                                          expr:
                                            kind: app
                                            id: 1068
                                            opcode: and
                                            args:
                                              - kind: app
                                                id: 1050
                                                opcode: exists
                                                args:
                                                  - kind: name
                                                    id: 1017
                                                    name: leafs
                                                  - kind: lambda
                                                    id: 1049
                                                    params:
                                                      - id: 1018
                                                        name: l
                                                    expr:
                                                      kind: app
                                                      id: 1048
                                                      opcode: and
                                                      args:
                                                        - kind: app
                                                          id: 1023
                                                          opcode: eq
                                                          args:
                                                            - kind: app
                                                              id: 1021
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 1019
                                                                  name: l
                                                                - kind: str
                                                                  id: 1020
                                                                  value: key_hash
                                                            - kind: name
                                                              id: 1022
                                                              name: key_hash
                                                        - kind: app
                                                          id: 1032
                                                          opcode: verifyMembership
                                                          args:
                                                            - kind: name
                                                              id: 1024
                                                              name: root
                                                            - kind: name
                                                              id: 1025
                                                              name: ep
                                                            - kind: app
                                                              id: 1028
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 1026
                                                                  name: l
                                                                - kind: str
                                                                  id: 1027
                                                                  value: key_hash
                                                            - kind: app
                                                              id: 1031
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 1029
                                                                  name: l
                                                                - kind: str
                                                                  id: 1030
                                                                  value: value_hash
                                                        - kind: app
                                                          id: 1047
                                                          opcode: forall
                                                          args:
                                                            - kind: app
                                                              id: 1038
                                                              opcode: exclude
                                                              args:
                                                                - kind: name
                                                                  id: 1033
                                                                  name: all_value_hashes
                                                                - kind: app
                                                                  id: 1037
                                                                  opcode: Set
                                                                  args:
                                                                    - kind: app
                                                                      id: 1036
                                                                      opcode: field
                                                                      args:
                                                                        - kind: name
                                                                          id: 1034
                                                                          name: l
                                                                        - kind: str
                                                                          id: 1035
                                                                          value: value_hash
                                                            - kind: lambda
                                                              id: 1046
                                                              params:
                                                                - id: 1039
                                                                  name: value_hash
                                                              expr:
                                                                kind: app
                                                                id: 1045
                                                                opcode: not
                                                                args:
                                                                  - kind: app
                                                                    id: 1044
                                                                    opcode: verifyMembership
                                                                    args:
                                                                      - kind: name
                                                                        id: 1040
                                                                        name: root
                                                                      - kind: name
                                                                        id: 1041
                                                                        name: ep
                                                                      - kind: name
                                                                        id: 1042
                                                                        name: key_hash
                                                                      - kind: name
                                                                        id: 1043
                                                                        name: value_hash
                                              - kind: app
                                                id: 1067
                                                opcode: forall
                                                args:
                                                  - kind: app
                                                    id: 1054
                                                    opcode: exclude
                                                    args:
                                                      - kind: name
                                                        id: 1051
                                                        name: all_key_hashes
                                                      - kind: app
                                                        id: 1053
                                                        opcode: Set
                                                        args:
                                                          - kind: name
                                                            id: 1052
                                                            name: key_hash
                                                  - kind: lambda
                                                    id: 1066
                                                    params:
                                                      - id: 1055
                                                        name: key_hash
                                                    expr:
                                                      kind: app
                                                      id: 1065
                                                      opcode: forall
                                                      args:
                                                        - kind: name
                                                          id: 1056
                                                          name: all_value_hashes
                                                        - kind: lambda
                                                          id: 1064
                                                          params:
                                                            - id: 1057
                                                              name: value_hash
                                                          expr:
                                                            kind: app
                                                            id: 1063
                                                            opcode: not
                                                            args:
                                                              - kind: app
                                                                id: 1062
                                                                opcode: verifyMembership
                                                                args:
                                                                  - kind: name
                                                                    id: 1058
                                                                    name: root
                                                                  - kind: name
                                                                    id: 1059
                                                                    name: ep
                                                                  - kind: name
                                                                    id: 1060
                                                                    name: key_hash
                                                                  - kind: name
                                                                    id: 1061
                                                                    name: value_hash
                                        - kind: str
                                          id: 1089
                                          value: NonExist
                                        - kind: lambda
                                          id: 1090
                                          params:
                                            - id: 1091
                                              name: nep
                                          expr:
                                            kind: app
                                            id: 1084
                                            opcode: and
                                            args:
                                              - kind: app
                                                id: 1072
                                                opcode: verifyNonMembership
                                                args:
                                                  - kind: name
                                                    id: 1069
                                                    name: root
                                                  - kind: name
                                                    id: 1070
                                                    name: nep
                                                  - kind: name
                                                    id: 1071
                                                    name: key_hash
                                              - kind: app
                                                id: 1083
                                                opcode: forall
                                                args:
                                                  - kind: name
                                                    id: 1073
                                                    name: leafs
                                                  - kind: lambda
                                                    id: 1082
                                                    params:
                                                      - id: 1074
                                                        name: l
                                                    expr:
                                                      kind: app
                                                      id: 1081
                                                      opcode: not
                                                      args:
                                                        - kind: app
                                                          id: 1080
                                                          opcode: verifyNonMembership
                                                          args:
                                                            - kind: name
                                                              id: 1075
                                                              name: root
                                                            - kind: name
                                                              id: 1076
                                                              name: nep
                                                            - kind: app
                                                              id: 1079
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 1077
                                                                  name: l
                                                                - kind: str
                                                                  id: 1078
                                                                  value: key_hash
                                  - kind: str
                                    id: 1097
                                    value: None
                                  - kind: lambda
                                    id: 1098
                                    params:
                                      - id: 1099
                                        name: _
                                    expr:
                                      kind: bool
                                      id: 1092
                                      value: true
        depth: ~
      - kind: def
        id: 240
        name: everyNodesParentIsInTheTreeInv
        qualifier: val
        expr:
          kind: let
          id: 239
          opdef:
            id: 235
            name: everyNodesParentIsInTheTree
            qualifier: puredef
            expr:
              kind: lambda
              id: 234
              params:
                - id: 200
                  name: t
              expr:
                kind: let
                id: 233
                opdef:
                  id: 210
                  name: prefixes
                  qualifier: val
                  expr:
                    kind: app
                    id: 209
                    opcode: map
                    args:
                      - kind: app
                        id: 203
                        opcode: keys
                        args:
                          - kind: name
                            id: 202
                            name: t
                      - kind: lambda
                        id: 208
                        params:
                          - id: 204
                            name: p
                        expr:
                          kind: app
                          id: 207
                          opcode: field
                          args:
                            - kind: name
                              id: 205
                              name: p
                            - kind: str
                              id: 206
                              value: key_hash
                  depth: ~
                expr:
                  kind: app
                  id: 232
                  opcode: forall
                  args:
                    - kind: app
                      id: 217
                      opcode: filter
                      args:
                        - kind: name
                          id: 211
                          name: prefixes
                        - kind: lambda
                          id: 216
                          params:
                            - id: 212
                              name: p
                          expr:
                            kind: app
                            id: 215
                            opcode: neq
                            args:
                              - kind: name
                                id: 213
                                name: p
                              - kind: app
                                id: 214
                                opcode: List
                                args: []
                    - kind: lambda
                      id: 231
                      params:
                        - id: 218
                          name: p
                      expr:
                        kind: let
                        id: 230
                        opdef:
                          id: 226
                          name: parent
                          qualifier: val
                          expr:
                            kind: app
                            id: 225
                            opcode: slice
                            args:
                              - kind: name
                                id: 219
                                name: p
                              - kind: int
                                id: 220
                                value: 0
                              - kind: app
                                id: 224
                                opcode: isub
                                args:
                                  - kind: app
                                    id: 222
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 221
                                        name: p
                                  - kind: int
                                    id: 223
                                    value: 1
                          depth: ~
                        expr:
                          kind: app
                          id: 229
                          opcode: contains
                          args:
                            - kind: name
                              id: 227
                              name: prefixes
                            - kind: name
                              id: 228
                              name: parent
            depth: ~
          expr:
            kind: app
            id: 238
            opcode: forall
            args:
              - kind: name
                id: 236
                name: treesToCheck
              - kind: name
                id: 237
                name: everyNodesParentIsInTheTree
        depth: ~
      - kind: def
        id: 295
        name: nodeAtCommonPrefixInv
        qualifier: val
        expr:
          kind: let
          id: 294
          opdef:
            id: 261
            name: existsNode
            qualifier: puredef
            expr:
              kind: lambda
              id: 260
              params:
                - id: 243
                  name: t
                - id: 245
                  name: b
              expr:
                kind: app
                id: 259
                opcode: igt
                args:
                  - kind: app
                    id: 257
                    opcode: size
                    args:
                      - kind: app
                        id: 256
                        opcode: filter
                        args:
                          - kind: app
                            id: 248
                            opcode: keys
                            args:
                              - kind: name
                                id: 247
                                name: t
                          - kind: lambda
                            id: 255
                            params:
                              - id: 249
                                name: nId
                            expr:
                              kind: app
                              id: 254
                              opcode: eq
                              args:
                                - kind: app
                                  id: 252
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 250
                                      name: nId
                                    - kind: str
                                      id: 251
                                      value: key_hash
                                - kind: name
                                  id: 253
                                  name: b
                  - kind: int
                    id: 258
                    value: 0
            depth: ~
          expr:
            kind: let
            id: 293
            opdef:
              id: 289
              name: nodeAtCommonPrefix
              qualifier: puredef
              expr:
                kind: lambda
                id: 288
                params:
                  - id: 263
                    name: t
                expr:
                  kind: app
                  id: 287
                  opcode: forall
                  args:
                    - kind: app
                      id: 266
                      opcode: allLeafs
                      args:
                        - kind: name
                          id: 265
                          name: t
                    - kind: lambda
                      id: 286
                      params:
                        - id: 267
                          name: a
                      expr:
                        kind: app
                        id: 285
                        opcode: forall
                        args:
                          - kind: app
                            id: 269
                            opcode: allLeafs
                            args:
                              - kind: name
                                id: 268
                                name: t
                          - kind: lambda
                            id: 284
                            params:
                              - id: 270
                                name: b
                            expr:
                              kind: app
                              id: 283
                              opcode: implies
                              args:
                                - kind: app
                                  id: 277
                                  opcode: neq
                                  args:
                                    - kind: app
                                      id: 273
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 271
                                          name: a
                                        - kind: str
                                          id: 272
                                          value: key_hash
                                    - kind: app
                                      id: 276
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 274
                                          name: b
                                        - kind: str
                                          id: 275
                                          value: key_hash
                                - kind: app
                                  id: 282
                                  opcode: existsNode
                                  args:
                                    - kind: name
                                      id: 278
                                      name: t
                                    - kind: app
                                      id: 281
                                      opcode: commonPrefix
                                      args:
                                        - kind: name
                                          id: 279
                                          name: a
                                        - kind: name
                                          id: 280
                                          name: b
              depth: ~
            expr:
              kind: app
              id: 292
              opcode: forall
              args:
                - kind: name
                  id: 290
                  name: treesToCheck
                - kind: name
                  id: 291
                  name: nodeAtCommonPrefix
        depth: ~
      - kind: def
        id: 349
        name: noLeafInPrefixesInv
        qualifier: val
        expr:
          kind: let
          id: 348
          opdef:
            id: 344
            name: noLeafInPrefixes
            qualifier: puredef
            expr:
              kind: lambda
              id: 343
              params:
                - id: 298
                  name: t
              expr:
                kind: let
                id: 342
                opdef:
                  id: 308
                  name: nodes
                  qualifier: val
                  expr:
                    kind: app
                    id: 307
                    opcode: map
                    args:
                      - kind: app
                        id: 301
                        opcode: keys
                        args:
                          - kind: name
                            id: 300
                            name: t
                      - kind: lambda
                        id: 306
                        params:
                          - id: 302
                            name: nId
                        expr:
                          kind: app
                          id: 305
                          opcode: field
                          args:
                            - kind: name
                              id: 303
                              name: nId
                            - kind: str
                              id: 304
                              value: key_hash
                  depth: ~
                expr:
                  kind: let
                  id: 341
                  opdef:
                    id: 324
                    name: leafs
                    qualifier: val
                    expr:
                      kind: app
                      id: 323
                      opcode: map
                      args:
                        - kind: app
                          id: 317
                          opcode: filter
                          args:
                            - kind: app
                              id: 310
                              opcode: keys
                              args:
                                - kind: name
                                  id: 309
                                  name: t
                            - kind: lambda
                              id: 316
                              params:
                                - id: 311
                                  name: nId
                              expr:
                                kind: app
                                id: 315
                                opcode: isLeaf
                                args:
                                  - kind: app
                                    id: 314
                                    opcode: get
                                    args:
                                      - kind: name
                                        id: 312
                                        name: t
                                      - kind: name
                                        id: 313
                                        name: nId
                        - kind: lambda
                          id: 322
                          params:
                            - id: 318
                              name: nId
                          expr:
                            kind: app
                            id: 321
                            opcode: field
                            args:
                              - kind: name
                                id: 319
                                name: nId
                              - kind: str
                                id: 320
                                value: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 340
                    opcode: forall
                    args:
                      - kind: name
                        id: 325
                        name: nodes
                      - kind: lambda
                        id: 339
                        params:
                          - id: 326
                            name: node
                        expr:
                          kind: app
                          id: 338
                          opcode: not
                          args:
                            - kind: app
                              id: 337
                              opcode: exists
                              args:
                                - kind: name
                                  id: 327
                                  name: leafs
                                - kind: lambda
                                  id: 336
                                  params:
                                    - id: 328
                                      name: leaf
                                  expr:
                                    kind: app
                                    id: 335
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 331
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 329
                                            name: node
                                          - kind: name
                                            id: 330
                                            name: leaf
                                      - kind: app
                                        id: 334
                                        opcode: prefix_of
                                        args:
                                          - kind: name
                                            id: 332
                                            name: leaf
                                          - kind: name
                                            id: 333
                                            name: node
            depth: ~
          expr:
            kind: app
            id: 347
            opcode: forall
            args:
              - kind: name
                id: 345
                name: treesToCheck
              - kind: name
                id: 346
                name: noLeafInPrefixes
        depth: ~
      - kind: def
        id: 395
        name: allInternalNodesHaveAChildInv
        qualifier: val
        expr:
          kind: let
          id: 394
          opdef:
            id: 366
            name: internalNodeHasAChild
            qualifier: puredef
            expr:
              kind: lambda
              id: 365
              params:
                - id: 352
                  name: n
              expr:
                kind: app
                id: 364
                opcode: or
                args:
                  - kind: app
                    id: 358
                    opcode: neq
                    args:
                      - kind: app
                        id: 356
                        opcode: field
                        args:
                          - kind: name
                            id: 354
                            name: n
                          - kind: str
                            id: 355
                            value: left_child
                      - kind: name
                        id: 357
                        name: None
                  - kind: app
                    id: 363
                    opcode: neq
                    args:
                      - kind: app
                        id: 361
                        opcode: field
                        args:
                          - kind: name
                            id: 359
                            name: n
                          - kind: str
                            id: 360
                            value: right_child
                      - kind: name
                        id: 362
                        name: None
            depth: ~
          expr:
            kind: let
            id: 393
            opdef:
              id: 389
              name: allInternalNodesHaveAChild
              qualifier: puredef
              expr:
                kind: lambda
                id: 388
                params:
                  - id: 368
                    name: t
                expr:
                  kind: app
                  id: 387
                  opcode: forall
                  args:
                    - kind: app
                      id: 371
                      opcode: keys
                      args:
                        - kind: name
                          id: 370
                          name: t
                    - kind: lambda
                      id: 386
                      params:
                        - id: 372
                          name: nId
                      expr:
                        kind: app
                        id: 379
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 375
                            opcode: get
                            args:
                              - kind: name
                                id: 373
                                name: t
                              - kind: name
                                id: 374
                                name: nId
                          - kind: str
                            id: 380
                            value: Internal
                          - kind: lambda
                            id: 381
                            params:
                              - id: 382
                                name: n
                            expr:
                              kind: app
                              id: 377
                              opcode: internalNodeHasAChild
                              args:
                                - kind: name
                                  id: 376
                                  name: n
                          - kind: str
                            id: 383
                            value: Leaf
                          - kind: lambda
                            id: 384
                            params:
                              - id: 385
                                name: _
                            expr:
                              kind: bool
                              id: 378
                              value: true
              depth: ~
            expr:
              kind: app
              id: 392
              opcode: forall
              args:
                - kind: name
                  id: 390
                  name: treesToCheck
                - kind: name
                  id: 391
                  name: allInternalNodesHaveAChild
        depth: ~
      - kind: def
        id: 463
        name: densityInv
        qualifier: val
        expr:
          kind: let
          id: 462
          opdef:
            id: 458
            name: isDense
            qualifier: puredef
            expr:
              kind: lambda
              id: 457
              params:
                - id: 398
                  name: t
              expr:
                kind: app
                id: 456
                opcode: forall
                args:
                  - kind: app
                    id: 401
                    opcode: keys
                    args:
                      - kind: name
                        id: 400
                        name: t
                  - kind: lambda
                    id: 455
                    params:
                      - id: 402
                        name: nId
                    expr:
                      kind: app
                      id: 448
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 405
                          opcode: get
                          args:
                            - kind: name
                              id: 403
                              name: t
                            - kind: name
                              id: 404
                              name: nId
                        - kind: str
                          id: 449
                          value: Internal
                        - kind: lambda
                          id: 450
                          params:
                            - id: 451
                              name: n
                          expr:
                            kind: app
                            id: 446
                            opcode: ite
                            args:
                              - kind: app
                                id: 416
                                opcode: and
                                args:
                                  - kind: app
                                    id: 410
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 408
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 406
                                            name: n
                                          - kind: str
                                            id: 407
                                            value: left_child
                                      - kind: name
                                        id: 409
                                        name: None
                                  - kind: app
                                    id: 415
                                    opcode: neq
                                    args:
                                      - kind: app
                                        id: 413
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 411
                                            name: n
                                          - kind: str
                                            id: 412
                                            value: right_child
                                      - kind: name
                                        id: 414
                                        name: None
                              - kind: app
                                id: 424
                                opcode: isInternal
                                args:
                                  - kind: app
                                    id: 423
                                    opcode: findNode
                                    args:
                                      - kind: name
                                        id: 417
                                        name: t
                                      - kind: app
                                        id: 422
                                        opcode: append
                                        args:
                                          - kind: app
                                            id: 420
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 418
                                                name: nId
                                              - kind: str
                                                id: 419
                                                value: key_hash
                                          - kind: int
                                            id: 421
                                            value: 1
                              - kind: app
                                id: 445
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 435
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 429
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 427
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 425
                                                name: n
                                              - kind: str
                                                id: 426
                                                value: right_child
                                          - kind: name
                                            id: 428
                                            name: None
                                      - kind: app
                                        id: 434
                                        opcode: neq
                                        args:
                                          - kind: app
                                            id: 432
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 430
                                                name: n
                                              - kind: str
                                                id: 431
                                                value: left_child
                                          - kind: name
                                            id: 433
                                            name: None
                                  - kind: app
                                    id: 443
                                    opcode: isInternal
                                    args:
                                      - kind: app
                                        id: 442
                                        opcode: findNode
                                        args:
                                          - kind: name
                                            id: 436
                                            name: t
                                          - kind: app
                                            id: 441
                                            opcode: append
                                            args:
                                              - kind: app
                                                id: 439
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 437
                                                    name: nId
                                                  - kind: str
                                                    id: 438
                                                    value: key_hash
                                              - kind: int
                                                id: 440
                                                value: 0
                                  - kind: bool
                                    id: 444
                                    value: true
                        - kind: str
                          id: 452
                          value: Leaf
                        - kind: lambda
                          id: 453
                          params:
                            - id: 454
                              name: _
                          expr:
                            kind: bool
                            id: 447
                            value: true
            depth: ~
          expr:
            kind: app
            id: 461
            opcode: forall
            args:
              - kind: name
                id: 459
                name: treesToCheck
              - kind: name
                id: 460
                name: isDense
        depth: ~
      - kind: def
        id: 619
        name: denseVersionsInv
        qualifier: val
        expr:
          kind: let
          id: 618
          opdef:
            id: 614
            name: denseVersions
            qualifier: def
            expr:
              kind: lambda
              id: 613
              params:
                - id: 522
                  name: t
              expr:
                kind: app
                id: 612
                opcode: forall
                args:
                  - kind: app
                    id: 525
                    opcode: keys
                    args:
                      - kind: name
                        id: 524
                        name: t
                  - kind: lambda
                    id: 611
                    params:
                      - id: 526
                        name: nId
                    expr:
                      kind: app
                      id: 604
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 529
                          opcode: get
                          args:
                            - kind: name
                              id: 527
                              name: t
                            - kind: name
                              id: 528
                              name: nId
                        - kind: str
                          id: 605
                          value: Internal
                        - kind: lambda
                          id: 606
                          params:
                            - id: 607
                              name: n
                          expr:
                            kind: let
                            id: 602
                            opdef:
                              id: 563
                              name: leftOK
                              qualifier: val
                              expr:
                                kind: app
                                id: 556
                                opcode: matchVariant
                                args:
                                  - kind: app
                                    id: 532
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 530
                                        name: n
                                      - kind: str
                                        id: 531
                                        value: left_child
                                  - kind: str
                                    id: 557
                                    value: Some
                                  - kind: lambda
                                    id: 558
                                    params:
                                      - id: 559
                                        name: c
                                    expr:
                                      kind: app
                                      id: 554
                                      opcode: exists
                                      args:
                                        - kind: app
                                          id: 534
                                          opcode: keys
                                          args:
                                            - kind: name
                                              id: 533
                                              name: t
                                        - kind: lambda
                                          id: 553
                                          params:
                                            - id: 535
                                              name: a
                                          expr:
                                            kind: app
                                            id: 552
                                            opcode: and
                                            args:
                                              - kind: app
                                                id: 544
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 538
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 536
                                                        name: a
                                                      - kind: str
                                                        id: 537
                                                        value: key_hash
                                                  - kind: app
                                                    id: 543
                                                    opcode: append
                                                    args:
                                                      - kind: app
                                                        id: 541
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 539
                                                            name: nId
                                                          - kind: str
                                                            id: 540
                                                            value: key_hash
                                                      - kind: int
                                                        id: 542
                                                        value: 0
                                              - kind: app
                                                id: 551
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 547
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 545
                                                        name: a
                                                      - kind: str
                                                        id: 546
                                                        value: version
                                                  - kind: app
                                                    id: 550
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 548
                                                        name: nId
                                                      - kind: str
                                                        id: 549
                                                        value: version
                                  - kind: str
                                    id: 560
                                    value: None
                                  - kind: lambda
                                    id: 561
                                    params:
                                      - id: 562
                                        name: _
                                    expr:
                                      kind: bool
                                      id: 555
                                      value: false
                              depth: ~
                            expr:
                              kind: let
                              id: 601
                              opdef:
                                id: 597
                                name: rightOK
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 590
                                  opcode: matchVariant
                                  args:
                                    - kind: app
                                      id: 566
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 564
                                          name: n
                                        - kind: str
                                          id: 565
                                          value: right_child
                                    - kind: str
                                      id: 591
                                      value: Some
                                    - kind: lambda
                                      id: 592
                                      params:
                                        - id: 593
                                          name: c
                                      expr:
                                        kind: app
                                        id: 588
                                        opcode: exists
                                        args:
                                          - kind: app
                                            id: 568
                                            opcode: keys
                                            args:
                                              - kind: name
                                                id: 567
                                                name: t
                                          - kind: lambda
                                            id: 587
                                            params:
                                              - id: 569
                                                name: a
                                            expr:
                                              kind: app
                                              id: 586
                                              opcode: and
                                              args:
                                                - kind: app
                                                  id: 578
                                                  opcode: eq
                                                  args:
                                                    - kind: app
                                                      id: 572
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 570
                                                          name: a
                                                        - kind: str
                                                          id: 571
                                                          value: key_hash
                                                    - kind: app
                                                      id: 577
                                                      opcode: append
                                                      args:
                                                        - kind: app
                                                          id: 575
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 573
                                                              name: nId
                                                            - kind: str
                                                              id: 574
                                                              value: key_hash
                                                        - kind: int
                                                          id: 576
                                                          value: 1
                                                - kind: app
                                                  id: 585
                                                  opcode: eq
                                                  args:
                                                    - kind: app
                                                      id: 581
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 579
                                                          name: a
                                                        - kind: str
                                                          id: 580
                                                          value: version
                                                    - kind: app
                                                      id: 584
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 582
                                                          name: nId
                                                        - kind: str
                                                          id: 583
                                                          value: version
                                    - kind: str
                                      id: 594
                                      value: None
                                    - kind: lambda
                                      id: 595
                                      params:
                                        - id: 596
                                          name: _
                                      expr:
                                        kind: bool
                                        id: 589
                                        value: false
                                depth: ~
                              expr:
                                kind: app
                                id: 600
                                opcode: or
                                args:
                                  - kind: name
                                    id: 598
                                    name: leftOK
                                  - kind: name
                                    id: 599
                                    name: rightOK
                        - kind: str
                          id: 608
                          value: Leaf
                        - kind: lambda
                          id: 609
                          params:
                            - id: 610
                              name: _
                          expr:
                            kind: bool
                            id: 603
                            value: true
            depth: ~
          expr:
            kind: app
            id: 617
            opcode: forall
            args:
              - kind: name
                id: 615
                name: treesToCheck
              - kind: name
                id: 616
                name: denseVersions
        depth: ~
      - kind: def
        id: 728
        name: hashInv
        qualifier: val
        expr:
          kind: let
          id: 727
          opdef:
            id: 723
            name: properlyHashed
            qualifier: puredef
            expr:
              kind: lambda
              id: 722
              params:
                - id: 657
                  name: t
              expr:
                kind: app
                id: 721
                opcode: forall
                args:
                  - kind: app
                    id: 660
                    opcode: keys
                    args:
                      - kind: name
                        id: 659
                        name: t
                  - kind: lambda
                    id: 720
                    params:
                      - id: 661
                        name: nID
                    expr:
                      kind: app
                      id: 713
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 664
                          opcode: get
                          args:
                            - kind: name
                              id: 662
                              name: t
                            - kind: name
                              id: 663
                              name: nID
                        - kind: str
                          id: 714
                          value: Leaf
                        - kind: lambda
                          id: 715
                          params:
                            - id: 716
                              name: _
                          expr:
                            kind: bool
                            id: 665
                            value: true
                        - kind: str
                          id: 717
                          value: Internal
                        - kind: lambda
                          id: 718
                          params:
                            - id: 719
                              name: n
                          expr:
                            kind: app
                            id: 712
                            opcode: and
                            args:
                              - kind: app
                                id: 682
                                opcode: matchVariant
                                args:
                                  - kind: app
                                    id: 668
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 666
                                        name: n
                                      - kind: str
                                        id: 667
                                        value: left_child
                                  - kind: str
                                    id: 683
                                    value: None
                                  - kind: lambda
                                    id: 684
                                    params:
                                      - id: 685
                                        name: _
                                    expr:
                                      kind: bool
                                      id: 669
                                      value: true
                                  - kind: str
                                    id: 686
                                    value: Some
                                  - kind: lambda
                                    id: 687
                                    params:
                                      - id: 688
                                        name: c
                                    expr:
                                      kind: app
                                      id: 681
                                      opcode: eq
                                      args:
                                        - kind: app
                                          id: 672
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 670
                                              name: c
                                            - kind: str
                                              id: 671
                                              value: hash
                                        - kind: app
                                          id: 680
                                          opcode: hash
                                          args:
                                            - kind: app
                                              id: 679
                                              opcode: findNode
                                              args:
                                                - kind: name
                                                  id: 673
                                                  name: t
                                                - kind: app
                                                  id: 678
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 676
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 674
                                                          name: nID
                                                        - kind: str
                                                          id: 675
                                                          value: key_hash
                                                    - kind: int
                                                      id: 677
                                                      value: 0
                              - kind: app
                                id: 705
                                opcode: matchVariant
                                args:
                                  - kind: app
                                    id: 691
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 689
                                        name: n
                                      - kind: str
                                        id: 690
                                        value: right_child
                                  - kind: str
                                    id: 706
                                    value: None
                                  - kind: lambda
                                    id: 707
                                    params:
                                      - id: 708
                                        name: _
                                    expr:
                                      kind: bool
                                      id: 692
                                      value: true
                                  - kind: str
                                    id: 709
                                    value: Some
                                  - kind: lambda
                                    id: 710
                                    params:
                                      - id: 711
                                        name: c
                                    expr:
                                      kind: app
                                      id: 704
                                      opcode: eq
                                      args:
                                        - kind: app
                                          id: 695
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 693
                                              name: c
                                            - kind: str
                                              id: 694
                                              value: hash
                                        - kind: app
                                          id: 703
                                          opcode: hash
                                          args:
                                            - kind: app
                                              id: 702
                                              opcode: findNode
                                              args:
                                                - kind: name
                                                  id: 696
                                                  name: t
                                                - kind: app
                                                  id: 701
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 699
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 697
                                                          name: nID
                                                        - kind: str
                                                          id: 698
                                                          value: key_hash
                                                    - kind: int
                                                      id: 700
                                                      value: 1
            depth: ~
          expr:
            kind: app
            id: 726
            opcode: forall
            args:
              - kind: name
                id: 724
                name: treesToCheck
              - kind: name
                id: 725
                name: properlyHashed
        depth: ~
      - kind: def
        id: 844
        name: goodTreeMapInv
        qualifier: val
        expr:
          kind: let
          id: 843
          opdef:
            id: 839
            name: goodTreeMap
            qualifier: puredef
            expr:
              kind: lambda
              id: 838
              params:
                - id: 811
                  name: t
              expr:
                kind: app
                id: 837
                opcode: forall
                args:
                  - kind: app
                    id: 814
                    opcode: keys
                    args:
                      - kind: name
                        id: 813
                        name: t
                  - kind: lambda
                    id: 836
                    params:
                      - id: 815
                        name: a
                    expr:
                      kind: app
                      id: 835
                      opcode: forall
                      args:
                        - kind: app
                          id: 817
                          opcode: keys
                          args:
                            - kind: name
                              id: 816
                              name: t
                        - kind: lambda
                          id: 834
                          params:
                            - id: 818
                              name: b
                          expr:
                            kind: app
                            id: 833
                            opcode: implies
                            args:
                              - kind: app
                                id: 825
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 821
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 819
                                        name: a
                                      - kind: str
                                        id: 820
                                        value: key_hash
                                  - kind: app
                                    id: 824
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 822
                                        name: b
                                      - kind: str
                                        id: 823
                                        value: key_hash
                              - kind: app
                                id: 832
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 828
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 826
                                        name: a
                                      - kind: str
                                        id: 827
                                        value: version
                                  - kind: app
                                    id: 831
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 829
                                        name: b
                                      - kind: str
                                        id: 830
                                        value: version
            depth: ~
          expr:
            kind: app
            id: 842
            opcode: forall
            args:
              - kind: name
                id: 840
                name: treesToCheck
              - kind: name
                id: 841
                name: goodTreeMap
        depth: ~
      - kind: def
        id: 862
        name: bijectiveTreeMapInv
        qualifier: val
        expr:
          kind: let
          id: 861
          opdef:
            id: 857
            name: bijectiveTreeMap
            qualifier: puredef
            expr:
              kind: lambda
              id: 856
              params:
                - id: 847
                  name: t
              expr:
                kind: app
                id: 855
                opcode: eq
                args:
                  - kind: app
                    id: 851
                    opcode: size
                    args:
                      - kind: app
                        id: 850
                        opcode: keys
                        args:
                          - kind: name
                            id: 849
                            name: t
                  - kind: app
                    id: 854
                    opcode: size
                    args:
                      - kind: app
                        id: 853
                        opcode: values
                        args:
                          - kind: name
                            id: 852
                            name: t
            depth: ~
          expr:
            kind: app
            id: 860
            opcode: forall
            args:
              - kind: name
                id: 858
                name: treesToCheck
              - kind: name
                id: 859
                name: bijectiveTreeMap
        depth: ~
      - kind: def
        id: 948
        name: operationSuccessInv
        qualifier: val
        expr:
          kind: let
          id: 947
          opdef:
            id: 875
            name: treeContainsKV
            qualifier: puredef
            expr:
              kind: lambda
              id: 874
              params:
                - id: 865
                  name: t
                - id: 867
                  name: n
              expr:
                kind: app
                id: 873
                opcode: contains
                args:
                  - kind: app
                    id: 870
                    opcode: values
                    args:
                      - kind: name
                        id: 869
                        name: t
                  - kind: app
                    id: 872
                    opcode: Leaf
                    args:
                      - kind: name
                        id: 871
                        name: n
            depth: ~
          expr:
            kind: let
            id: 946
            opdef:
              id: 904
              name: treeNotContainsKey
              qualifier: puredef
              expr:
                kind: lambda
                id: 903
                params:
                  - id: 877
                    name: t
                  - id: 879
                    name: key
                expr:
                  kind: app
                  id: 902
                  opcode: eq
                  args:
                    - kind: app
                      id: 900
                      opcode: size
                      args:
                        - kind: app
                          id: 899
                          opcode: filter
                          args:
                            - kind: app
                              id: 882
                              opcode: values
                              args:
                                - kind: name
                                  id: 881
                                  name: t
                            - kind: lambda
                              id: 898
                              params:
                                - id: 883
                                  name: node
                              expr:
                                kind: app
                                id: 891
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 884
                                    name: node
                                  - kind: str
                                    id: 892
                                    value: Leaf
                                  - kind: lambda
                                    id: 893
                                    params:
                                      - id: 894
                                        name: n
                                    expr:
                                      kind: app
                                      id: 889
                                      opcode: eq
                                      args:
                                        - kind: app
                                          id: 887
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 885
                                              name: n
                                            - kind: str
                                              id: 886
                                              value: key_hash
                                        - kind: name
                                          id: 888
                                          name: key
                                  - kind: str
                                    id: 895
                                    value: Internal
                                  - kind: lambda
                                    id: 896
                                    params:
                                      - id: 897
                                        name: _
                                    expr:
                                      kind: bool
                                      id: 890
                                      value: false
                    - kind: int
                      id: 901
                      value: 0
              depth: ~
            expr:
              kind: let
              id: 945
              opdef:
                id: 910
                name: tm
                qualifier: val
                expr:
                  kind: app
                  id: 909
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 905
                      name: tree
                    - kind: app
                      id: 908
                      opcode: isub
                      args:
                        - kind: name
                          id: 906
                          name: version
                        - kind: int
                          id: 907
                          value: 1
                depth: ~
              expr:
                kind: app
                id: 944
                opcode: implies
                args:
                  - kind: app
                    id: 914
                    opcode: igt
                    args:
                      - kind: app
                        id: 912
                        opcode: length
                        args:
                          - kind: name
                            id: 911
                            name: ops_history
                      - kind: int
                        id: 913
                        value: 0
                  - kind: app
                    id: 943
                    opcode: forall
                    args:
                      - kind: app
                        id: 916
                        opcode: last
                        args:
                          - kind: name
                            id: 915
                            name: ops_history
                      - kind: lambda
                        id: 942
                        params:
                          - id: 917
                            name: op
                        expr:
                          kind: app
                          id: 935
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 920
                              opcode: field
                              args:
                                - kind: name
                                  id: 918
                                  name: op
                                - kind: str
                                  id: 919
                                  value: op
                            - kind: str
                              id: 936
                              value: Insert
                            - kind: lambda
                              id: 937
                              params:
                                - id: 938
                                  name: value
                              expr:
                                kind: app
                                id: 929
                                opcode: treeContainsKV
                                args:
                                  - kind: name
                                    id: 921
                                    name: tm
                                  - kind: app
                                    id: 928
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 925
                                        value: key_hash
                                      - kind: app
                                        id: 924
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 922
                                            name: op
                                          - kind: str
                                            id: 923
                                            value: key_hash
                                      - kind: str
                                        id: 927
                                        value: value_hash
                                      - kind: name
                                        id: 926
                                        name: value
                            - kind: str
                              id: 939
                              value: Delete
                            - kind: lambda
                              id: 940
                              params:
                                - id: 941
                                  name: _
                              expr:
                                kind: app
                                id: 934
                                opcode: treeNotContainsKey
                                args:
                                  - kind: name
                                    id: 930
                                    name: tm
                                  - kind: app
                                    id: 933
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 931
                                        name: op
                                      - kind: str
                                        id: 932
                                        value: key_hash
        depth: ~
      - kind: def
        id: 1214
        name: proofInvariants
        qualifier: val
        expr:
          kind: app
          id: 1213
          opcode: actionAll
          args:
            - kind: app
              id: 1188
              opcode: ite
              args:
                - kind: name
                  id: 1183
                  name: membershipCompletenessInv
                - kind: bool
                  id: 1184
                  value: true
                - kind: app
                  id: 1187
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1185
                      value: membershipCompletenessInv
                    - kind: bool
                      id: 1186
                      value: false
            - kind: app
              id: 1194
              opcode: ite
              args:
                - kind: name
                  id: 1189
                  name: nonMembershipCompletenessInv
                - kind: bool
                  id: 1190
                  value: true
                - kind: app
                  id: 1193
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1191
                      value: nonMembershipCompletenessInv
                    - kind: bool
                      id: 1192
                      value: false
            - kind: app
              id: 1200
              opcode: ite
              args:
                - kind: name
                  id: 1195
                  name: membershipSoundnessInv
                - kind: bool
                  id: 1196
                  value: true
                - kind: app
                  id: 1199
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1197
                      value: membershipSoundnessInv
                    - kind: bool
                      id: 1198
                      value: false
            - kind: app
              id: 1206
              opcode: ite
              args:
                - kind: name
                  id: 1201
                  name: nonMembershipSoundnessInv
                - kind: bool
                  id: 1202
                  value: true
                - kind: app
                  id: 1205
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1203
                      value: nonMembershipSoundnessInv
                    - kind: bool
                      id: 1204
                      value: false
            - kind: app
              id: 1212
              opcode: ite
              args:
                - kind: name
                  id: 1207
                  name: verifyMembershipInv
                - kind: bool
                  id: 1208
                  value: true
                - kind: app
                  id: 1211
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1209
                      value: verifyMembershipInv
                    - kind: bool
                      id: 1210
                      value: false
        depth: ~
      - kind: def
        id: 808
        name: uniqueHashesInv
        qualifier: val
        expr:
          kind: let
          id: 807
          opdef:
            id: 803
            name: uniqueHashes
            qualifier: puredef
            expr:
              kind: lambda
              id: 802
              params:
                - id: 731
                  name: t
              expr:
                kind: let
                id: 801
                opdef:
                  id: 783
                  name: hashes
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 782
                    opcode: fold
                    args:
                      - kind: app
                        id: 734
                        opcode: values
                        args:
                          - kind: name
                            id: 733
                            name: t
                      - kind: app
                        id: 735
                        opcode: List
                        args: []
                      - kind: lambda
                        id: 781
                        params:
                          - id: 736
                            name: acc
                          - id: 737
                            name: node
                        expr:
                          kind: app
                          id: 774
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 738
                              name: node
                            - kind: str
                              id: 775
                              value: Internal
                            - kind: lambda
                              id: 776
                              params:
                                - id: 777
                                  name: n
                              expr:
                                kind: let
                                id: 772
                                opdef:
                                  id: 755
                                  name: acc_1
                                  qualifier: pureval
                                  expr:
                                    kind: app
                                    id: 748
                                    opcode: matchVariant
                                    args:
                                      - kind: app
                                        id: 741
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 739
                                            name: n
                                          - kind: str
                                            id: 740
                                            value: left_child
                                      - kind: str
                                        id: 749
                                        value: None
                                      - kind: lambda
                                        id: 750
                                        params:
                                          - id: 751
                                            name: _
                                        expr:
                                          kind: name
                                          id: 742
                                          name: acc
                                      - kind: str
                                        id: 752
                                        value: Some
                                      - kind: lambda
                                        id: 753
                                        params:
                                          - id: 754
                                            name: c
                                        expr:
                                          kind: app
                                          id: 747
                                          opcode: append
                                          args:
                                            - kind: name
                                              id: 743
                                              name: acc
                                            - kind: app
                                              id: 746
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 744
                                                  name: c
                                                - kind: str
                                                  id: 745
                                                  value: hash
                                  depth: ~
                                expr:
                                  kind: app
                                  id: 765
                                  opcode: matchVariant
                                  args:
                                    - kind: app
                                      id: 758
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 756
                                          name: n
                                        - kind: str
                                          id: 757
                                          value: right_child
                                    - kind: str
                                      id: 766
                                      value: None
                                    - kind: lambda
                                      id: 767
                                      params:
                                        - id: 768
                                          name: _
                                      expr:
                                        kind: name
                                        id: 759
                                        name: acc_1
                                    - kind: str
                                      id: 769
                                      value: Some
                                    - kind: lambda
                                      id: 770
                                      params:
                                        - id: 771
                                          name: c
                                      expr:
                                        kind: app
                                        id: 764
                                        opcode: append
                                        args:
                                          - kind: name
                                            id: 760
                                            name: acc_1
                                          - kind: app
                                            id: 763
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 761
                                                name: c
                                              - kind: str
                                                id: 762
                                                value: hash
                            - kind: str
                              id: 778
                              value: _
                            - kind: lambda
                              id: 779
                              params:
                                - id: 780
                                  name: _
                              expr:
                                kind: name
                                id: 773
                                name: acc
                  depth: ~
                expr:
                  kind: let
                  id: 800
                  opdef:
                    id: 794
                    name: uniqueHashes
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 793
                      opcode: foldl
                      args:
                        - kind: name
                          id: 784
                          name: hashes
                        - kind: app
                          id: 785
                          opcode: Set
                          args: []
                        - kind: lambda
                          id: 792
                          params:
                            - id: 786
                              name: acc
                            - id: 787
                              name: hash
                          expr:
                            kind: app
                            id: 791
                            opcode: union
                            args:
                              - kind: name
                                id: 788
                                name: acc
                              - kind: app
                                id: 790
                                opcode: Set
                                args:
                                  - kind: name
                                    id: 789
                                    name: hash
                    depth: ~
                  expr:
                    kind: app
                    id: 799
                    opcode: eq
                    args:
                      - kind: app
                        id: 796
                        opcode: length
                        args:
                          - kind: name
                            id: 795
                            name: hashes
                      - kind: app
                        id: 798
                        opcode: size
                        args:
                          - kind: name
                            id: 797
                            name: uniqueHashes
            depth: ~
          expr:
            kind: app
            id: 806
            opcode: forall
            args:
              - kind: name
                id: 804
                name: treesToCheck
              - kind: name
                id: 805
                name: uniqueHashes
        depth: ~
      - kind: def
        id: 1182
        name: treeInvariants
        qualifier: val
        expr:
          kind: app
          id: 1181
          opcode: actionAll
          args:
            - kind: app
              id: 1114
              opcode: ite
              args:
                - kind: name
                  id: 1109
                  name: everyNodesParentIsInTheTreeInv
                - kind: bool
                  id: 1110
                  value: true
                - kind: app
                  id: 1113
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1111
                      value: everyNodesParentIsInTheTreeInv
                    - kind: bool
                      id: 1112
                      value: false
            - kind: app
              id: 1120
              opcode: ite
              args:
                - kind: name
                  id: 1115
                  name: nodeAtCommonPrefixInv
                - kind: bool
                  id: 1116
                  value: true
                - kind: app
                  id: 1119
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1117
                      value: nodeAtCommonPrefixInv
                    - kind: bool
                      id: 1118
                      value: false
            - kind: app
              id: 1126
              opcode: ite
              args:
                - kind: name
                  id: 1121
                  name: noLeafInPrefixesInv
                - kind: bool
                  id: 1122
                  value: true
                - kind: app
                  id: 1125
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1123
                      value: noLeafInPrefixesInv
                    - kind: bool
                      id: 1124
                      value: false
            - kind: app
              id: 1132
              opcode: ite
              args:
                - kind: name
                  id: 1127
                  name: allInternalNodesHaveAChildInv
                - kind: bool
                  id: 1128
                  value: true
                - kind: app
                  id: 1131
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1129
                      value: allInternalNodesHaveAChild
                    - kind: bool
                      id: 1130
                      value: false
            - kind: app
              id: 1138
              opcode: ite
              args:
                - kind: name
                  id: 1133
                  name: densityInv
                - kind: bool
                  id: 1134
                  value: true
                - kind: app
                  id: 1137
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1135
                      value: densityInv
                    - kind: bool
                      id: 1136
                      value: false
            - kind: app
              id: 1144
              opcode: ite
              args:
                - kind: name
                  id: 1139
                  name: versionInv
                - kind: bool
                  id: 1140
                  value: true
                - kind: app
                  id: 1143
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1141
                      value: versionInv
                    - kind: bool
                      id: 1142
                      value: false
            - kind: app
              id: 1150
              opcode: ite
              args:
                - kind: name
                  id: 1145
                  name: orphansInNoTreeInv
                - kind: bool
                  id: 1146
                  value: true
                - kind: app
                  id: 1149
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1147
                      value: orphansInNoTreeInv
                    - kind: bool
                      id: 1148
                      value: false
            - kind: app
              id: 1156
              opcode: ite
              args:
                - kind: name
                  id: 1151
                  name: hashInv
                - kind: bool
                  id: 1152
                  value: true
                - kind: app
                  id: 1155
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1153
                      value: hashInv
                    - kind: bool
                      id: 1154
                      value: false
            - kind: app
              id: 1162
              opcode: ite
              args:
                - kind: name
                  id: 1157
                  name: uniqueHashesInv
                - kind: bool
                  id: 1158
                  value: true
                - kind: app
                  id: 1161
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1159
                      value: uniqueHashesInv
                    - kind: bool
                      id: 1160
                      value: false
            - kind: app
              id: 1168
              opcode: ite
              args:
                - kind: name
                  id: 1163
                  name: goodTreeMapInv
                - kind: bool
                  id: 1164
                  value: true
                - kind: app
                  id: 1167
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1165
                      value: goodTreeMapInv
                    - kind: bool
                      id: 1166
                      value: false
            - kind: app
              id: 1174
              opcode: ite
              args:
                - kind: name
                  id: 1169
                  name: bijectiveTreeMapInv
                - kind: bool
                  id: 1170
                  value: true
                - kind: app
                  id: 1173
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1171
                      value: bijectiveTreeMapInv
                    - kind: bool
                      id: 1172
                      value: false
            - kind: app
              id: 1180
              opcode: ite
              args:
                - kind: name
                  id: 1175
                  name: operationSuccessInv
                - kind: bool
                  id: 1176
                  value: true
                - kind: app
                  id: 1179
                  opcode: "q::debug"
                  args:
                    - kind: str
                      id: 1177
                      value: operationSuccessInv
                    - kind: bool
                      id: 1178
                      value: false
        depth: ~
      - kind: def
        id: 1218
        name: allInvariants
        qualifier: val
        expr:
          kind: app
          id: 1217
          opcode: actionAll
          args:
            - kind: name
              id: 1215
              name: treeInvariants
            - kind: name
              id: 1216
              name: proofInvariants
        depth: ~
      - kind: def
        id: 142
        name: step_parametrized
        qualifier: action
        expr:
          kind: lambda
          id: 141
          params:
            - id: 86
              name: apply_op
            - id: 92
              name: assign_result
          expr:
            kind: let
            id: 140
            opdef:
              id: 98
              name: kms_with_value
              qualifier: nondet
              expr:
                kind: app
                id: 97
                opcode: oneOf
                args:
                  - kind: app
                    id: 96
                    opcode: setOfMaps
                    args:
                      - kind: name
                        id: 94
                        name: all_key_hashes
                      - kind: name
                        id: 95
                        name: VALUES
              depth: ~
            expr:
              kind: let
              id: 139
              opdef:
                id: 103
                name: all_ops
                qualifier: pureval
                expr:
                  kind: app
                  id: 102
                  opcode: toList
                  args:
                    - kind: app
                      id: 100
                      opcode: to_operations
                      args:
                        - kind: name
                          id: 99
                          name: kms_with_value
                    - kind: name
                      id: 101
                      name: fuzzy_compare
                depth: ~
              expr:
                kind: let
                id: 138
                opdef:
                  id: 109
                  name: threshold
                  qualifier: nondet
                  expr:
                    kind: app
                    id: 108
                    opcode: oneOf
                    args:
                      - kind: app
                        id: 107
                        opcode: to
                        args:
                          - kind: int
                            id: 104
                            value: 0
                          - kind: app
                            id: 106
                            opcode: length
                            args:
                              - kind: name
                                id: 105
                                name: all_ops
                  depth: ~
                expr:
                  kind: let
                  id: 137
                  opdef:
                    id: 124
                    name: ops
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 123
                      opcode: map
                      args:
                        - kind: app
                          id: 117
                          opcode: filter
                          args:
                            - kind: app
                              id: 111
                              opcode: indices
                              args:
                                - kind: name
                                  id: 110
                                  name: all_ops
                            - kind: lambda
                              id: 116
                              params:
                                - id: 112
                                  name: i
                              expr:
                                kind: app
                                id: 115
                                opcode: ilt
                                args:
                                  - kind: name
                                    id: 113
                                    name: i
                                  - kind: name
                                    id: 114
                                    name: threshold
                        - kind: lambda
                          id: 122
                          params:
                            - id: 118
                              name: i
                          expr:
                            kind: app
                            id: 121
                            opcode: nth
                            args:
                              - kind: name
                                id: 119
                                name: all_ops
                              - kind: name
                                id: 120
                                name: i
                    depth: ~
                  expr:
                    kind: let
                    id: 136
                    opdef:
                      id: 132
                      name: new_tree
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 131
                        opcode: apply_op
                        args:
                          - kind: name
                            id: 125
                            name: tree
                          - kind: app
                            id: 128
                            opcode: isub
                            args:
                              - kind: name
                                id: 126
                                name: version
                              - kind: int
                                id: 127
                                value: 1
                          - kind: name
                            id: 129
                            name: version
                          - kind: name
                            id: 130
                            name: ops
                      depth: ~
                    expr:
                      kind: app
                      id: 135
                      opcode: assign_result
                      args:
                        - kind: name
                          id: 133
                          name: ops
                        - kind: name
                          id: 134
                          name: new_tree
        depth: ~
      - kind: def
        id: 171
        name: step_fancy
        qualifier: action
        expr:
          kind: app
          id: 170
          opcode: step_parametrized
          args:
            - kind: name
              id: 168
              name: "fancy::apply"
            - kind: name
              id: 169
              name: assign_result
        depth: ~
      - kind: def
        id: 175
        name: step_simple
        qualifier: action
        expr:
          kind: app
          id: 174
          opcode: step_parametrized
          args:
            - kind: name
              id: 172
              name: "simple::apply"
            - kind: name
              id: 173
              name: assign_result
        depth: ~
      - kind: def
        id: 8687
        name: "q::init"
        qualifier: action
        expr:
          kind: name
          id: 8686
          name: init
        depth: ~
      - kind: def
        id: 8689
        name: "q::step"
        qualifier: action
        expr:
          kind: name
          id: 8688
          name: step_fancy
        depth: ~
      - kind: def
        id: 8692
        name: "q::inv"
        qualifier: val
        expr:
          kind: app
          id: 8691
          opcode: and
          args:
            - kind: name
              id: 8690
              name: allInvariants
        depth: ~
table:
  16:
    kind: def
    id: 3946
    name: Insert
    qualifier: def
    expr:
      kind: lambda
      id: 3945
      params:
        - id: 3942
          name: __InsertParam
      expr:
        kind: app
        id: 3944
        opcode: variant
        args:
          - kind: str
            id: 3941
            value: Insert
          - kind: name
            id: 3943
            name: __InsertParam
    depth: 0
  19:
    kind: def
    id: 3946
    name: Insert
    qualifier: def
    expr:
      kind: lambda
      id: 3945
      params:
        - id: 3942
          name: __InsertParam
      expr:
        kind: app
        id: 3944
        opcode: variant
        args:
          - kind: str
            id: 3941
            value: Insert
          - kind: name
            id: 3943
            name: __InsertParam
    depth: 0
  20:
    kind: def
    id: 3950
    name: Delete
    qualifier: val
    expr:
      kind: app
      id: 3949
      opcode: variant
      args:
        - kind: str
          id: 3947
          value: Delete
        - kind: app
          id: 3948
          opcode: Tup
          args: []
    depth: 0
  22:
    kind: def
    id: 22
    name: VALUES
    qualifier: pureval
    expr:
      kind: app
      id: 21
      opcode: Set
      args:
        - kind: app
          id: 16
          opcode: Insert
          args:
            - kind: app
              id: 15
              opcode: List
              args:
                - kind: int
                  id: 14
                  value: 1
        - kind: app
          id: 19
          opcode: Insert
          args:
            - kind: app
              id: 18
              opcode: List
              args:
                - kind: int
                  id: 17
                  value: 2
        - kind: name
          id: 20
          name: Delete
    depth: 0
  23:
    kind: typedef
    id: 3278
  29:
    kind: typedef
    id: 3251
  38:
    kind: var
    id: 24
    name: tree
  41:
    kind: var
    id: 26
    name: version
  44:
    kind: var
    id: 28
    name: smallest_unpruned_version
  47:
    kind: var
    id: 32
    name: ops_history
  50:
    kind: def
    id: 50
    name: init
    qualifier: action
    expr:
      kind: app
      id: 49
      opcode: actionAll
      args:
        - kind: app
          id: 39
          opcode: assign
          args:
            - kind: name
              id: 38
              name: tree
            - kind: app
              id: 37
              opcode: Rec
              args:
                - kind: str
                  id: 34
                  value: nodes
                - kind: app
                  id: 33
                  opcode: Map
                  args: []
                - kind: str
                  id: 36
                  value: orphans
                - kind: app
                  id: 35
                  opcode: Set
                  args: []
        - kind: app
          id: 42
          opcode: assign
          args:
            - kind: name
              id: 41
              name: version
            - kind: int
              id: 40
              value: 1
        - kind: app
          id: 45
          opcode: assign
          args:
            - kind: name
              id: 44
              name: smallest_unpruned_version
            - kind: int
              id: 43
              value: 1
        - kind: app
          id: 48
          opcode: assign
          args:
            - kind: name
              id: 47
              name: ops_history
            - kind: app
              id: 46
              opcode: List
              args: []
    depth: 0
  51:
    kind: typedef
    id: 3258
  52:
    kind: typedef
    id: 3939
  55:
    kind: typedef
    id: 3251
  57:
    id: 54
    name: nondet_value
  58:
    kind: def
    id: 4312
    name: mapToTuples
    qualifier: puredef
    expr:
      kind: lambda
      id: 4311
      params:
        - id: 4296
          name: m
      expr:
        kind: app
        id: 4310
        opcode: map
        args:
          - kind: app
            id: 4302
            opcode: keys
            args:
              - kind: name
                id: 4301
                name: m
          - kind: lambda
            id: 4309
            params:
              - id: 4303
                name: k
            expr:
              kind: app
              id: 4308
              opcode: Tup
              args:
                - kind: name
                  id: 4304
                  name: k
                - kind: app
                  id: 4307
                  opcode: get
                  args:
                    - kind: name
                      id: 4305
                      name: m
                    - kind: name
                      id: 4306
                      name: k
    depth: 0
  59:
    kind: def
    id: 59
    name: key_hash
    qualifier: pureval
    expr:
      kind: app
      id: 68
      opcode: item
      args:
        - kind: name
          id: 69
          name: quintTupledLambdaParam66
        - kind: int
          id: 70
          value: 1
    depth: 5
  60:
    kind: def
    id: 60
    name: op
    qualifier: pureval
    expr:
      kind: app
      id: 72
      opcode: item
      args:
        - kind: name
          id: 73
          name: quintTupledLambdaParam66
        - kind: int
          id: 74
          value: 2
    depth: 4
  61:
    kind: def
    id: 59
    name: key_hash
    qualifier: pureval
    expr:
      kind: app
      id: 68
      opcode: item
      args:
        - kind: name
          id: 69
          name: quintTupledLambdaParam66
        - kind: int
          id: 70
          value: 1
    depth: 5
  63:
    kind: def
    id: 60
    name: op
    qualifier: pureval
    expr:
      kind: app
      id: 72
      opcode: item
      args:
        - kind: name
          id: 73
          name: quintTupledLambdaParam66
        - kind: int
          id: 74
          value: 2
    depth: 4
  69:
    id: 66
    name: quintTupledLambdaParam66
  73:
    id: 66
    name: quintTupledLambdaParam66
  78:
    kind: def
    id: 78
    name: to_operations
    qualifier: puredef
    expr:
      kind: lambda
      id: 77
      params:
        - id: 54
          name: nondet_value
      expr:
        kind: app
        id: 76
        opcode: map
        args:
          - kind: app
            id: 58
            opcode: mapToTuples
            args:
              - kind: name
                id: 57
                name: nondet_value
          - kind: lambda
            id: 75
            params:
              - id: 66
                name: quintTupledLambdaParam66
            expr:
              kind: let
              id: 71
              opdef:
                id: 60
                name: op
                qualifier: pureval
                expr:
                  kind: app
                  id: 72
                  opcode: item
                  args:
                    - kind: name
                      id: 73
                      name: quintTupledLambdaParam66
                    - kind: int
                      id: 74
                      value: 2
                depth: ~
              expr:
                kind: let
                id: 67
                opdef:
                  id: 59
                  name: key_hash
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 68
                    opcode: item
                    args:
                      - kind: name
                        id: 69
                        name: quintTupledLambdaParam66
                      - kind: int
                        id: 70
                        value: 1
                  depth: ~
                expr:
                  kind: app
                  id: 65
                  opcode: Rec
                  args:
                    - kind: str
                      id: 62
                      value: key_hash
                    - kind: name
                      id: 61
                      name: key_hash
                    - kind: str
                      id: 64
                      value: op
                    - kind: name
                      id: 63
                      name: op
    depth: 0
  79:
    kind: typedef
    id: 3278
  82:
    kind: typedef
    id: 3251
  84:
    kind: typedef
    id: 3278
  87:
    kind: typedef
    id: 3251
  89:
    kind: typedef
    id: 3278
  94:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  95:
    kind: def
    id: 22
    name: VALUES
    qualifier: pureval
    expr:
      kind: app
      id: 21
      opcode: Set
      args:
        - kind: app
          id: 16
          opcode: Insert
          args:
            - kind: app
              id: 15
              opcode: List
              args:
                - kind: int
                  id: 14
                  value: 1
        - kind: app
          id: 19
          opcode: Insert
          args:
            - kind: app
              id: 18
              opcode: List
              args:
                - kind: int
                  id: 17
                  value: 2
        - kind: name
          id: 20
          name: Delete
    depth: 0
  98:
    kind: def
    id: 98
    name: kms_with_value
    qualifier: nondet
    expr:
      kind: app
      id: 97
      opcode: oneOf
      args:
        - kind: app
          id: 96
          opcode: setOfMaps
          args:
            - kind: name
              id: 94
              name: all_key_hashes
            - kind: name
              id: 95
              name: VALUES
    depth: 3
  99:
    kind: def
    id: 98
    name: kms_with_value
    qualifier: nondet
    expr:
      kind: app
      id: 97
      opcode: oneOf
      args:
        - kind: app
          id: 96
          opcode: setOfMaps
          args:
            - kind: name
              id: 94
              name: all_key_hashes
            - kind: name
              id: 95
              name: VALUES
    depth: 3
  100:
    kind: def
    id: 78
    name: to_operations
    qualifier: puredef
    expr:
      kind: lambda
      id: 77
      params:
        - id: 54
          name: nondet_value
      expr:
        kind: app
        id: 76
        opcode: map
        args:
          - kind: app
            id: 58
            opcode: mapToTuples
            args:
              - kind: name
                id: 57
                name: nondet_value
          - kind: lambda
            id: 75
            params:
              - id: 66
                name: quintTupledLambdaParam66
            expr:
              kind: let
              id: 71
              opdef:
                id: 60
                name: op
                qualifier: pureval
                expr:
                  kind: app
                  id: 72
                  opcode: item
                  args:
                    - kind: name
                      id: 73
                      name: quintTupledLambdaParam66
                    - kind: int
                      id: 74
                      value: 2
                depth: ~
              expr:
                kind: let
                id: 67
                opdef:
                  id: 59
                  name: key_hash
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 68
                    opcode: item
                    args:
                      - kind: name
                        id: 69
                        name: quintTupledLambdaParam66
                      - kind: int
                        id: 70
                        value: 1
                  depth: ~
                expr:
                  kind: app
                  id: 65
                  opcode: Rec
                  args:
                    - kind: str
                      id: 62
                      value: key_hash
                    - kind: name
                      id: 61
                      name: key_hash
                    - kind: str
                      id: 64
                      value: op
                    - kind: name
                      id: 63
                      name: op
    depth: 0
  101:
    kind: def
    id: 4444
    name: fuzzy_compare
    qualifier: puredef
    expr:
      kind: lambda
      id: 4443
      params:
        - id: 4422
          name: a
        - id: 4423
          name: b
      expr:
        kind: app
        id: 4442
        opcode: intCompare
        args:
          - kind: app
            id: 4432
            opcode: nth
            args:
              - kind: app
                id: 4426
                opcode: field
                args:
                  - kind: name
                    id: 4424
                    name: a
                  - kind: str
                    id: 4425
                    value: key_hash
              - kind: app
                id: 4431
                opcode: nth
                args:
                  - kind: app
                    id: 4429
                    opcode: field
                    args:
                      - kind: name
                        id: 4427
                        name: b
                      - kind: str
                        id: 4428
                        value: key_hash
                  - kind: int
                    id: 4430
                    value: 0
          - kind: app
            id: 4441
            opcode: nth
            args:
              - kind: app
                id: 4435
                opcode: field
                args:
                  - kind: name
                    id: 4433
                    name: b
                  - kind: str
                    id: 4434
                    value: key_hash
              - kind: app
                id: 4440
                opcode: nth
                args:
                  - kind: app
                    id: 4438
                    opcode: field
                    args:
                      - kind: name
                        id: 4436
                        name: a
                      - kind: str
                        id: 4437
                        value: key_hash
                  - kind: int
                    id: 4439
                    value: 0
    depth: 0
  102:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  103:
    kind: def
    id: 103
    name: all_ops
    qualifier: pureval
    expr:
      kind: app
      id: 102
      opcode: toList
      args:
        - kind: app
          id: 100
          opcode: to_operations
          args:
            - kind: name
              id: 99
              name: kms_with_value
        - kind: name
          id: 101
          name: fuzzy_compare
    depth: 4
  105:
    kind: def
    id: 103
    name: all_ops
    qualifier: pureval
    expr:
      kind: app
      id: 102
      opcode: toList
      args:
        - kind: app
          id: 100
          opcode: to_operations
          args:
            - kind: name
              id: 99
              name: kms_with_value
        - kind: name
          id: 101
          name: fuzzy_compare
    depth: 4
  109:
    kind: def
    id: 109
    name: threshold
    qualifier: nondet
    expr:
      kind: app
      id: 108
      opcode: oneOf
      args:
        - kind: app
          id: 107
          opcode: to
          args:
            - kind: int
              id: 104
              value: 0
            - kind: app
              id: 106
              opcode: length
              args:
                - kind: name
                  id: 105
                  name: all_ops
    depth: 5
  110:
    kind: def
    id: 103
    name: all_ops
    qualifier: pureval
    expr:
      kind: app
      id: 102
      opcode: toList
      args:
        - kind: app
          id: 100
          opcode: to_operations
          args:
            - kind: name
              id: 99
              name: kms_with_value
        - kind: name
          id: 101
          name: fuzzy_compare
    depth: 4
  113:
    id: 112
    name: i
  114:
    kind: def
    id: 109
    name: threshold
    qualifier: nondet
    expr:
      kind: app
      id: 108
      opcode: oneOf
      args:
        - kind: app
          id: 107
          opcode: to
          args:
            - kind: int
              id: 104
              value: 0
            - kind: app
              id: 106
              opcode: length
              args:
                - kind: name
                  id: 105
                  name: all_ops
    depth: 5
  119:
    kind: def
    id: 103
    name: all_ops
    qualifier: pureval
    expr:
      kind: app
      id: 102
      opcode: toList
      args:
        - kind: app
          id: 100
          opcode: to_operations
          args:
            - kind: name
              id: 99
              name: kms_with_value
        - kind: name
          id: 101
          name: fuzzy_compare
    depth: 4
  120:
    id: 118
    name: i
  124:
    kind: def
    id: 124
    name: ops
    qualifier: pureval
    expr:
      kind: app
      id: 123
      opcode: map
      args:
        - kind: app
          id: 117
          opcode: filter
          args:
            - kind: app
              id: 111
              opcode: indices
              args:
                - kind: name
                  id: 110
                  name: all_ops
            - kind: lambda
              id: 116
              params:
                - id: 112
                  name: i
              expr:
                kind: app
                id: 115
                opcode: ilt
                args:
                  - kind: name
                    id: 113
                    name: i
                  - kind: name
                    id: 114
                    name: threshold
        - kind: lambda
          id: 122
          params:
            - id: 118
              name: i
          expr:
            kind: app
            id: 121
            opcode: nth
            args:
              - kind: name
                id: 119
                name: all_ops
              - kind: name
                id: 120
                name: i
    depth: 6
  125:
    kind: var
    id: 24
    name: tree
  126:
    kind: var
    id: 26
    name: version
  129:
    kind: var
    id: 26
    name: version
  130:
    kind: def
    id: 124
    name: ops
    qualifier: pureval
    expr:
      kind: app
      id: 123
      opcode: map
      args:
        - kind: app
          id: 117
          opcode: filter
          args:
            - kind: app
              id: 111
              opcode: indices
              args:
                - kind: name
                  id: 110
                  name: all_ops
            - kind: lambda
              id: 116
              params:
                - id: 112
                  name: i
              expr:
                kind: app
                id: 115
                opcode: ilt
                args:
                  - kind: name
                    id: 113
                    name: i
                  - kind: name
                    id: 114
                    name: threshold
        - kind: lambda
          id: 122
          params:
            - id: 118
              name: i
          expr:
            kind: app
            id: 121
            opcode: nth
            args:
              - kind: name
                id: 119
                name: all_ops
              - kind: name
                id: 120
                name: i
    depth: 6
  131:
    id: 86
    name: apply_op
  132:
    kind: def
    id: 132
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 131
      opcode: apply_op
      args:
        - kind: name
          id: 125
          name: tree
        - kind: app
          id: 128
          opcode: isub
          args:
            - kind: name
              id: 126
              name: version
            - kind: int
              id: 127
              value: 1
        - kind: name
          id: 129
          name: version
        - kind: name
          id: 130
          name: ops
    depth: 7
  133:
    kind: def
    id: 124
    name: ops
    qualifier: pureval
    expr:
      kind: app
      id: 123
      opcode: map
      args:
        - kind: app
          id: 117
          opcode: filter
          args:
            - kind: app
              id: 111
              opcode: indices
              args:
                - kind: name
                  id: 110
                  name: all_ops
            - kind: lambda
              id: 116
              params:
                - id: 112
                  name: i
              expr:
                kind: app
                id: 115
                opcode: ilt
                args:
                  - kind: name
                    id: 113
                    name: i
                  - kind: name
                    id: 114
                    name: threshold
        - kind: lambda
          id: 122
          params:
            - id: 118
              name: i
          expr:
            kind: app
            id: 121
            opcode: nth
            args:
              - kind: name
                id: 119
                name: all_ops
              - kind: name
                id: 120
                name: i
    depth: 6
  134:
    kind: def
    id: 132
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 131
      opcode: apply_op
      args:
        - kind: name
          id: 125
          name: tree
        - kind: app
          id: 128
          opcode: isub
          args:
            - kind: name
              id: 126
              name: version
            - kind: int
              id: 127
              value: 1
        - kind: name
          id: 129
          name: version
        - kind: name
          id: 130
          name: ops
    depth: 7
  135:
    id: 92
    name: assign_result
  142:
    kind: def
    id: 142
    name: step_parametrized
    qualifier: action
    expr:
      kind: lambda
      id: 141
      params:
        - id: 86
          name: apply_op
        - id: 92
          name: assign_result
      expr:
        kind: let
        id: 140
        opdef:
          id: 98
          name: kms_with_value
          qualifier: nondet
          expr:
            kind: app
            id: 97
            opcode: oneOf
            args:
              - kind: app
                id: 96
                opcode: setOfMaps
                args:
                  - kind: name
                    id: 94
                    name: all_key_hashes
                  - kind: name
                    id: 95
                    name: VALUES
          depth: ~
        expr:
          kind: let
          id: 139
          opdef:
            id: 103
            name: all_ops
            qualifier: pureval
            expr:
              kind: app
              id: 102
              opcode: toList
              args:
                - kind: app
                  id: 100
                  opcode: to_operations
                  args:
                    - kind: name
                      id: 99
                      name: kms_with_value
                - kind: name
                  id: 101
                  name: fuzzy_compare
            depth: ~
          expr:
            kind: let
            id: 138
            opdef:
              id: 109
              name: threshold
              qualifier: nondet
              expr:
                kind: app
                id: 108
                opcode: oneOf
                args:
                  - kind: app
                    id: 107
                    opcode: to
                    args:
                      - kind: int
                        id: 104
                        value: 0
                      - kind: app
                        id: 106
                        opcode: length
                        args:
                          - kind: name
                            id: 105
                            name: all_ops
              depth: ~
            expr:
              kind: let
              id: 137
              opdef:
                id: 124
                name: ops
                qualifier: pureval
                expr:
                  kind: app
                  id: 123
                  opcode: map
                  args:
                    - kind: app
                      id: 117
                      opcode: filter
                      args:
                        - kind: app
                          id: 111
                          opcode: indices
                          args:
                            - kind: name
                              id: 110
                              name: all_ops
                        - kind: lambda
                          id: 116
                          params:
                            - id: 112
                              name: i
                          expr:
                            kind: app
                            id: 115
                            opcode: ilt
                            args:
                              - kind: name
                                id: 113
                                name: i
                              - kind: name
                                id: 114
                                name: threshold
                    - kind: lambda
                      id: 122
                      params:
                        - id: 118
                          name: i
                      expr:
                        kind: app
                        id: 121
                        opcode: nth
                        args:
                          - kind: name
                            id: 119
                            name: all_ops
                          - kind: name
                            id: 120
                            name: i
                depth: ~
              expr:
                kind: let
                id: 136
                opdef:
                  id: 132
                  name: new_tree
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 131
                    opcode: apply_op
                    args:
                      - kind: name
                        id: 125
                        name: tree
                      - kind: app
                        id: 128
                        opcode: isub
                        args:
                          - kind: name
                            id: 126
                            name: version
                          - kind: int
                            id: 127
                            value: 1
                      - kind: name
                        id: 129
                        name: version
                      - kind: name
                        id: 130
                        name: ops
                  depth: ~
                expr:
                  kind: app
                  id: 135
                  opcode: assign_result
                  args:
                    - kind: name
                      id: 133
                      name: ops
                    - kind: name
                      id: 134
                      name: new_tree
    depth: 0
  143:
    kind: typedef
    id: 3251
  146:
    kind: typedef
    id: 3278
  149:
    id: 147
    name: new_tree
  150:
    kind: var
    id: 24
    name: tree
  152:
    kind: var
    id: 26
    name: version
  155:
    kind: var
    id: 26
    name: version
  157:
    kind: var
    id: 28
    name: smallest_unpruned_version
  158:
    kind: var
    id: 28
    name: smallest_unpruned_version
  160:
    kind: var
    id: 32
    name: ops_history
  161:
    id: 145
    name: ops
  163:
    kind: var
    id: 32
    name: ops_history
  167:
    kind: def
    id: 167
    name: assign_result
    qualifier: action
    expr:
      kind: lambda
      id: 166
      params:
        - id: 145
          name: ops
        - id: 147
          name: new_tree
      expr:
        kind: app
        id: 165
        opcode: actionAll
        args:
          - kind: app
            id: 151
            opcode: assign
            args:
              - kind: name
                id: 150
                name: tree
              - kind: name
                id: 149
                name: new_tree
          - kind: app
            id: 156
            opcode: assign
            args:
              - kind: name
                id: 155
                name: version
              - kind: app
                id: 154
                opcode: iadd
                args:
                  - kind: name
                    id: 152
                    name: version
                  - kind: int
                    id: 153
                    value: 1
          - kind: app
            id: 159
            opcode: assign
            args:
              - kind: name
                id: 158
                name: smallest_unpruned_version
              - kind: name
                id: 157
                name: smallest_unpruned_version
          - kind: app
            id: 164
            opcode: assign
            args:
              - kind: name
                id: 163
                name: ops_history
              - kind: app
                id: 162
                opcode: append
                args:
                  - kind: name
                    id: 160
                    name: ops_history
                  - kind: name
                    id: 161
                    name: ops
    depth: 0
  168:
    kind: def
    id: 6881
    name: apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 6880
      params:
        - id: 6770
          name: tree
        - id: 6772
          name: old_version
        - id: 6774
          name: new_version
        - id: 6777
          name: batch
      expr:
        kind: let
        id: 6879
        opdef:
          id: 6795
          name: tree_1
          qualifier: pureval
          expr:
            kind: app
            id: 6794
            opcode: ite
            args:
              - kind: app
                id: 6787
                opcode: has
                args:
                  - kind: app
                    id: 6781
                    opcode: field
                    args:
                      - kind: name
                        id: 6779
                        name: tree
                      - kind: str
                        id: 6780
                        value: nodes
                  - kind: app
                    id: 6786
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6783
                        value: version
                      - kind: name
                        id: 6782
                        name: old_version
                      - kind: str
                        id: 6785
                        value: key_hash
                      - kind: name
                        id: 6784
                        name: ROOT_BITS
              - kind: app
                id: 6792
                opcode: mark_node_as_orphaned
                args:
                  - kind: name
                    id: 6788
                    name: tree
                  - kind: name
                    id: 6789
                    name: new_version
                  - kind: name
                    id: 6790
                    name: old_version
                  - kind: name
                    id: 6791
                    name: ROOT_BITS
              - kind: name
                id: 6793
                name: tree
          depth: ~
        expr:
          kind: let
          id: 6878
          opdef:
            id: 6800
            name: memo
            qualifier: pureval
            expr:
              kind: app
              id: 6799
              opcode: pre_compute_apply_at
              args:
                - kind: name
                  id: 6796
                  name: tree_1
                - kind: name
                  id: 6797
                  name: new_version
                - kind: name
                  id: 6798
                  name: batch
            depth: ~
          expr:
            kind: let
            id: 6877
            opdef:
              id: 6808
              name: apply_result
              qualifier: pureval
              expr:
                kind: app
                id: 6807
                opcode: apply_at
                args:
                  - kind: name
                    id: 6801
                    name: tree_1
                  - kind: name
                    id: 6802
                    name: memo
                  - kind: name
                    id: 6803
                    name: new_version
                  - kind: name
                    id: 6804
                    name: old_version
                  - kind: name
                    id: 6805
                    name: ROOT_BITS
                  - kind: name
                    id: 6806
                    name: batch
              depth: ~
            expr:
              kind: let
              id: 6876
              opdef:
                id: 6826
                name: new_tree
                qualifier: pureval
                expr:
                  kind: app
                  id: 6825
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6816
                      value: nodes
                    - kind: app
                      id: 6815
                      opcode: add_nodes
                      args:
                        - kind: app
                          id: 6811
                          opcode: field
                          args:
                            - kind: name
                              id: 6809
                              name: tree_1
                            - kind: str
                              id: 6810
                              value: nodes
                        - kind: app
                          id: 6814
                          opcode: field
                          args:
                            - kind: name
                              id: 6812
                              name: apply_result
                            - kind: str
                              id: 6813
                              value: nodes_to_add
                    - kind: str
                      id: 6824
                      value: orphans
                    - kind: app
                      id: 6823
                      opcode: union
                      args:
                        - kind: app
                          id: 6819
                          opcode: field
                          args:
                            - kind: name
                              id: 6817
                              name: tree_1
                            - kind: str
                              id: 6818
                              value: orphans
                        - kind: app
                          id: 6822
                          opcode: field
                          args:
                            - kind: name
                              id: 6820
                              name: apply_result
                            - kind: str
                              id: 6821
                              value: orphans_to_add
                depth: ~
              expr:
                kind: app
                id: 6866
                opcode: matchVariant
                args:
                  - kind: app
                    id: 6829
                    opcode: field
                    args:
                      - kind: name
                        id: 6827
                        name: apply_result
                      - kind: str
                        id: 6828
                        value: outcome
                  - kind: str
                    id: 6867
                    value: Updated
                  - kind: lambda
                    id: 6868
                    params:
                      - id: 6869
                        name: new_root_node
                    expr:
                      kind: app
                      id: 6842
                      opcode: with
                      args:
                        - kind: name
                          id: 6830
                          name: new_tree
                        - kind: str
                          id: 6841
                          value: nodes
                        - kind: app
                          id: 6840
                          opcode: put
                          args:
                            - kind: app
                              id: 6833
                              opcode: field
                              args:
                                - kind: name
                                  id: 6831
                                  name: new_tree
                                - kind: str
                                  id: 6832
                                  value: nodes
                            - kind: app
                              id: 6838
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6835
                                  value: version
                                - kind: name
                                  id: 6834
                                  name: new_version
                                - kind: str
                                  id: 6837
                                  value: key_hash
                                - kind: name
                                  id: 6836
                                  name: ROOT_BITS
                            - kind: name
                              id: 6839
                              name: new_root_node
                  - kind: str
                    id: 6870
                    value: Unchanged
                  - kind: lambda
                    id: 6871
                    params:
                      - id: 6872
                        name: optional
                    expr:
                      kind: app
                      id: 6858
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 6843
                          name: optional
                        - kind: str
                          id: 6859
                          value: Some
                        - kind: lambda
                          id: 6860
                          params:
                            - id: 6861
                              name: new_root_node
                          expr:
                            kind: app
                            id: 6856
                            opcode: with
                            args:
                              - kind: name
                                id: 6844
                                name: new_tree
                              - kind: str
                                id: 6855
                                value: nodes
                              - kind: app
                                id: 6854
                                opcode: put
                                args:
                                  - kind: app
                                    id: 6847
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6845
                                        name: new_tree
                                      - kind: str
                                        id: 6846
                                        value: nodes
                                  - kind: app
                                    id: 6852
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6849
                                        value: version
                                      - kind: name
                                        id: 6848
                                        name: new_version
                                      - kind: str
                                        id: 6851
                                        value: key_hash
                                      - kind: name
                                        id: 6850
                                        name: ROOT_BITS
                                  - kind: name
                                    id: 6853
                                    name: new_root_node
                        - kind: str
                          id: 6862
                          value: None
                        - kind: lambda
                          id: 6863
                          params:
                            - id: 6864
                              name: _
                          expr:
                            kind: name
                            id: 6857
                            name: new_tree
                  - kind: str
                    id: 6873
                    value: _
                  - kind: lambda
                    id: 6874
                    params:
                      - id: 6875
                        name: _
                    expr:
                      kind: name
                      id: 6865
                      name: new_tree
    depth: 0
  169:
    kind: def
    id: 167
    name: assign_result
    qualifier: action
    expr:
      kind: lambda
      id: 166
      params:
        - id: 145
          name: ops
        - id: 147
          name: new_tree
      expr:
        kind: app
        id: 165
        opcode: actionAll
        args:
          - kind: app
            id: 151
            opcode: assign
            args:
              - kind: name
                id: 150
                name: tree
              - kind: name
                id: 149
                name: new_tree
          - kind: app
            id: 156
            opcode: assign
            args:
              - kind: name
                id: 155
                name: version
              - kind: app
                id: 154
                opcode: iadd
                args:
                  - kind: name
                    id: 152
                    name: version
                  - kind: int
                    id: 153
                    value: 1
          - kind: app
            id: 159
            opcode: assign
            args:
              - kind: name
                id: 158
                name: smallest_unpruned_version
              - kind: name
                id: 157
                name: smallest_unpruned_version
          - kind: app
            id: 164
            opcode: assign
            args:
              - kind: name
                id: 163
                name: ops_history
              - kind: app
                id: 162
                opcode: append
                args:
                  - kind: name
                    id: 160
                    name: ops_history
                  - kind: name
                    id: 161
                    name: ops
    depth: 0
  170:
    kind: def
    id: 142
    name: step_parametrized
    qualifier: action
    expr:
      kind: lambda
      id: 141
      params:
        - id: 86
          name: apply_op
        - id: 92
          name: assign_result
      expr:
        kind: let
        id: 140
        opdef:
          id: 98
          name: kms_with_value
          qualifier: nondet
          expr:
            kind: app
            id: 97
            opcode: oneOf
            args:
              - kind: app
                id: 96
                opcode: setOfMaps
                args:
                  - kind: name
                    id: 94
                    name: all_key_hashes
                  - kind: name
                    id: 95
                    name: VALUES
          depth: ~
        expr:
          kind: let
          id: 139
          opdef:
            id: 103
            name: all_ops
            qualifier: pureval
            expr:
              kind: app
              id: 102
              opcode: toList
              args:
                - kind: app
                  id: 100
                  opcode: to_operations
                  args:
                    - kind: name
                      id: 99
                      name: kms_with_value
                - kind: name
                  id: 101
                  name: fuzzy_compare
            depth: ~
          expr:
            kind: let
            id: 138
            opdef:
              id: 109
              name: threshold
              qualifier: nondet
              expr:
                kind: app
                id: 108
                opcode: oneOf
                args:
                  - kind: app
                    id: 107
                    opcode: to
                    args:
                      - kind: int
                        id: 104
                        value: 0
                      - kind: app
                        id: 106
                        opcode: length
                        args:
                          - kind: name
                            id: 105
                            name: all_ops
              depth: ~
            expr:
              kind: let
              id: 137
              opdef:
                id: 124
                name: ops
                qualifier: pureval
                expr:
                  kind: app
                  id: 123
                  opcode: map
                  args:
                    - kind: app
                      id: 117
                      opcode: filter
                      args:
                        - kind: app
                          id: 111
                          opcode: indices
                          args:
                            - kind: name
                              id: 110
                              name: all_ops
                        - kind: lambda
                          id: 116
                          params:
                            - id: 112
                              name: i
                          expr:
                            kind: app
                            id: 115
                            opcode: ilt
                            args:
                              - kind: name
                                id: 113
                                name: i
                              - kind: name
                                id: 114
                                name: threshold
                    - kind: lambda
                      id: 122
                      params:
                        - id: 118
                          name: i
                      expr:
                        kind: app
                        id: 121
                        opcode: nth
                        args:
                          - kind: name
                            id: 119
                            name: all_ops
                          - kind: name
                            id: 120
                            name: i
                depth: ~
              expr:
                kind: let
                id: 136
                opdef:
                  id: 132
                  name: new_tree
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 131
                    opcode: apply_op
                    args:
                      - kind: name
                        id: 125
                        name: tree
                      - kind: app
                        id: 128
                        opcode: isub
                        args:
                          - kind: name
                            id: 126
                            name: version
                          - kind: int
                            id: 127
                            value: 1
                      - kind: name
                        id: 129
                        name: version
                      - kind: name
                        id: 130
                        name: ops
                  depth: ~
                expr:
                  kind: app
                  id: 135
                  opcode: assign_result
                  args:
                    - kind: name
                      id: 133
                      name: ops
                    - kind: name
                      id: 134
                      name: new_tree
    depth: 0
  171:
    kind: def
    id: 171
    name: step_fancy
    qualifier: action
    expr:
      kind: app
      id: 170
      opcode: step_parametrized
      args:
        - kind: name
          id: 168
          name: "fancy::apply"
        - kind: name
          id: 169
          name: assign_result
    depth: 0
  172:
    kind: def
    id: 5789
    name: apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 5788
      params:
        - id: 5774
          name: tree
        - id: 5776
          name: old_version
        - id: 5778
          name: new_version
        - id: 5781
          name: batch
      expr:
        kind: app
        id: 5787
        opcode: simple_apply
        args:
          - kind: name
            id: 5783
            name: tree
          - kind: name
            id: 5784
            name: old_version
          - kind: name
            id: 5785
            name: new_version
          - kind: name
            id: 5786
            name: batch
    depth: 0
  173:
    kind: def
    id: 167
    name: assign_result
    qualifier: action
    expr:
      kind: lambda
      id: 166
      params:
        - id: 145
          name: ops
        - id: 147
          name: new_tree
      expr:
        kind: app
        id: 165
        opcode: actionAll
        args:
          - kind: app
            id: 151
            opcode: assign
            args:
              - kind: name
                id: 150
                name: tree
              - kind: name
                id: 149
                name: new_tree
          - kind: app
            id: 156
            opcode: assign
            args:
              - kind: name
                id: 155
                name: version
              - kind: app
                id: 154
                opcode: iadd
                args:
                  - kind: name
                    id: 152
                    name: version
                  - kind: int
                    id: 153
                    value: 1
          - kind: app
            id: 159
            opcode: assign
            args:
              - kind: name
                id: 158
                name: smallest_unpruned_version
              - kind: name
                id: 157
                name: smallest_unpruned_version
          - kind: app
            id: 164
            opcode: assign
            args:
              - kind: name
                id: 163
                name: ops_history
              - kind: app
                id: 162
                opcode: append
                args:
                  - kind: name
                    id: 160
                    name: ops_history
                  - kind: name
                    id: 161
                    name: ops
    depth: 0
  174:
    kind: def
    id: 142
    name: step_parametrized
    qualifier: action
    expr:
      kind: lambda
      id: 141
      params:
        - id: 86
          name: apply_op
        - id: 92
          name: assign_result
      expr:
        kind: let
        id: 140
        opdef:
          id: 98
          name: kms_with_value
          qualifier: nondet
          expr:
            kind: app
            id: 97
            opcode: oneOf
            args:
              - kind: app
                id: 96
                opcode: setOfMaps
                args:
                  - kind: name
                    id: 94
                    name: all_key_hashes
                  - kind: name
                    id: 95
                    name: VALUES
          depth: ~
        expr:
          kind: let
          id: 139
          opdef:
            id: 103
            name: all_ops
            qualifier: pureval
            expr:
              kind: app
              id: 102
              opcode: toList
              args:
                - kind: app
                  id: 100
                  opcode: to_operations
                  args:
                    - kind: name
                      id: 99
                      name: kms_with_value
                - kind: name
                  id: 101
                  name: fuzzy_compare
            depth: ~
          expr:
            kind: let
            id: 138
            opdef:
              id: 109
              name: threshold
              qualifier: nondet
              expr:
                kind: app
                id: 108
                opcode: oneOf
                args:
                  - kind: app
                    id: 107
                    opcode: to
                    args:
                      - kind: int
                        id: 104
                        value: 0
                      - kind: app
                        id: 106
                        opcode: length
                        args:
                          - kind: name
                            id: 105
                            name: all_ops
              depth: ~
            expr:
              kind: let
              id: 137
              opdef:
                id: 124
                name: ops
                qualifier: pureval
                expr:
                  kind: app
                  id: 123
                  opcode: map
                  args:
                    - kind: app
                      id: 117
                      opcode: filter
                      args:
                        - kind: app
                          id: 111
                          opcode: indices
                          args:
                            - kind: name
                              id: 110
                              name: all_ops
                        - kind: lambda
                          id: 116
                          params:
                            - id: 112
                              name: i
                          expr:
                            kind: app
                            id: 115
                            opcode: ilt
                            args:
                              - kind: name
                                id: 113
                                name: i
                              - kind: name
                                id: 114
                                name: threshold
                    - kind: lambda
                      id: 122
                      params:
                        - id: 118
                          name: i
                      expr:
                        kind: app
                        id: 121
                        opcode: nth
                        args:
                          - kind: name
                            id: 119
                            name: all_ops
                          - kind: name
                            id: 120
                            name: i
                depth: ~
              expr:
                kind: let
                id: 136
                opdef:
                  id: 132
                  name: new_tree
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 131
                    opcode: apply_op
                    args:
                      - kind: name
                        id: 125
                        name: tree
                      - kind: app
                        id: 128
                        opcode: isub
                        args:
                          - kind: name
                            id: 126
                            name: version
                          - kind: int
                            id: 127
                            value: 1
                      - kind: name
                        id: 129
                        name: version
                      - kind: name
                        id: 130
                        name: ops
                  depth: ~
                expr:
                  kind: app
                  id: 135
                  opcode: assign_result
                  args:
                    - kind: name
                      id: 133
                      name: ops
                    - kind: name
                      id: 134
                      name: new_tree
    depth: 0
  175:
    kind: def
    id: 175
    name: step_simple
    qualifier: action
    expr:
      kind: app
      id: 174
      opcode: step_parametrized
      args:
        - kind: name
          id: 172
          name: "simple::apply"
        - kind: name
          id: 173
          name: assign_result
    depth: 0
  178:
    kind: var
    id: 26
    name: version
  180:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  183:
    kind: var
    id: 28
    name: smallest_unpruned_version
  184:
    kind: var
    id: 24
    name: tree
  185:
    kind: def
    id: 3511
    name: treeVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3510
      params:
        - id: 3480
          name: t
      expr:
        kind: app
        id: 3509
        opcode: fold
        args:
          - kind: app
            id: 3493
            opcode: filter
            args:
              - kind: app
                id: 3485
                opcode: keys
                args:
                  - kind: app
                    id: 3484
                    opcode: field
                    args:
                      - kind: name
                        id: 3482
                        name: t
                      - kind: str
                        id: 3483
                        value: nodes
              - kind: lambda
                id: 3492
                params:
                  - id: 3486
                    name: nId
                expr:
                  kind: app
                  id: 3491
                  opcode: eq
                  args:
                    - kind: app
                      id: 3489
                      opcode: field
                      args:
                        - kind: name
                          id: 3487
                          name: nId
                        - kind: str
                          id: 3488
                          value: key_hash
                    - kind: app
                      id: 3490
                      opcode: List
                      args: []
          - kind: app
            id: 3495
            opcode: iuminus
            args:
              - kind: int
                id: 3494
                value: 1
          - kind: lambda
            id: 3508
            params:
              - id: 3496
                name: s
              - id: 3497
                name: x
            expr:
              kind: app
              id: 3507
              opcode: ite
              args:
                - kind: app
                  id: 3502
                  opcode: igt
                  args:
                    - kind: app
                      id: 3500
                      opcode: field
                      args:
                        - kind: name
                          id: 3498
                          name: x
                        - kind: str
                          id: 3499
                          value: version
                    - kind: name
                      id: 3501
                      name: s
                - kind: app
                  id: 3505
                  opcode: field
                  args:
                    - kind: name
                      id: 3503
                      name: x
                    - kind: str
                      id: 3504
                      value: version
                - kind: name
                  id: 3506
                  name: s
    depth: 0
  187:
    kind: def
    id: 187
    name: activeTreeVersions
    qualifier: val
    expr:
      kind: app
      id: 186
      opcode: to
      args:
        - kind: name
          id: 183
          name: smallest_unpruned_version
        - kind: app
          id: 185
          opcode: treeVersion
          args:
            - kind: name
              id: 184
              name: tree
    depth: 0
  188:
    kind: typedef
    id: 3273
  190:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  192:
    kind: var
    id: 24
    name: tree
  193:
    id: 191
    name: v
  194:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  197:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  199:
    kind: typedef
    id: 3273
  202:
    id: 200
    name: t
  205:
    id: 204
    name: p
  210:
    kind: def
    id: 210
    name: prefixes
    qualifier: val
    expr:
      kind: app
      id: 209
      opcode: map
      args:
        - kind: app
          id: 203
          opcode: keys
          args:
            - kind: name
              id: 202
              name: t
        - kind: lambda
          id: 208
          params:
            - id: 204
              name: p
          expr:
            kind: app
            id: 207
            opcode: field
            args:
              - kind: name
                id: 205
                name: p
              - kind: str
                id: 206
                value: key_hash
    depth: 5
  211:
    kind: def
    id: 210
    name: prefixes
    qualifier: val
    expr:
      kind: app
      id: 209
      opcode: map
      args:
        - kind: app
          id: 203
          opcode: keys
          args:
            - kind: name
              id: 202
              name: t
        - kind: lambda
          id: 208
          params:
            - id: 204
              name: p
          expr:
            kind: app
            id: 207
            opcode: field
            args:
              - kind: name
                id: 205
                name: p
              - kind: str
                id: 206
                value: key_hash
    depth: 5
  213:
    id: 212
    name: p
  219:
    id: 218
    name: p
  221:
    id: 218
    name: p
  226:
    kind: def
    id: 226
    name: parent
    qualifier: val
    expr:
      kind: app
      id: 225
      opcode: slice
      args:
        - kind: name
          id: 219
          name: p
        - kind: int
          id: 220
          value: 0
        - kind: app
          id: 224
          opcode: isub
          args:
            - kind: app
              id: 222
              opcode: length
              args:
                - kind: name
                  id: 221
                  name: p
            - kind: int
              id: 223
              value: 1
    depth: 7
  227:
    kind: def
    id: 210
    name: prefixes
    qualifier: val
    expr:
      kind: app
      id: 209
      opcode: map
      args:
        - kind: app
          id: 203
          opcode: keys
          args:
            - kind: name
              id: 202
              name: t
        - kind: lambda
          id: 208
          params:
            - id: 204
              name: p
          expr:
            kind: app
            id: 207
            opcode: field
            args:
              - kind: name
                id: 205
                name: p
              - kind: str
                id: 206
                value: key_hash
    depth: 5
  228:
    kind: def
    id: 226
    name: parent
    qualifier: val
    expr:
      kind: app
      id: 225
      opcode: slice
      args:
        - kind: name
          id: 219
          name: p
        - kind: int
          id: 220
          value: 0
        - kind: app
          id: 224
          opcode: isub
          args:
            - kind: app
              id: 222
              opcode: length
              args:
                - kind: name
                  id: 221
                  name: p
            - kind: int
              id: 223
              value: 1
    depth: 7
  235:
    kind: def
    id: 235
    name: everyNodesParentIsInTheTree
    qualifier: puredef
    expr:
      kind: lambda
      id: 234
      params:
        - id: 200
          name: t
      expr:
        kind: let
        id: 233
        opdef:
          id: 210
          name: prefixes
          qualifier: val
          expr:
            kind: app
            id: 209
            opcode: map
            args:
              - kind: app
                id: 203
                opcode: keys
                args:
                  - kind: name
                    id: 202
                    name: t
              - kind: lambda
                id: 208
                params:
                  - id: 204
                    name: p
                expr:
                  kind: app
                  id: 207
                  opcode: field
                  args:
                    - kind: name
                      id: 205
                      name: p
                    - kind: str
                      id: 206
                      value: key_hash
          depth: ~
        expr:
          kind: app
          id: 232
          opcode: forall
          args:
            - kind: app
              id: 217
              opcode: filter
              args:
                - kind: name
                  id: 211
                  name: prefixes
                - kind: lambda
                  id: 216
                  params:
                    - id: 212
                      name: p
                  expr:
                    kind: app
                    id: 215
                    opcode: neq
                    args:
                      - kind: name
                        id: 213
                        name: p
                      - kind: app
                        id: 214
                        opcode: List
                        args: []
            - kind: lambda
              id: 231
              params:
                - id: 218
                  name: p
              expr:
                kind: let
                id: 230
                opdef:
                  id: 226
                  name: parent
                  qualifier: val
                  expr:
                    kind: app
                    id: 225
                    opcode: slice
                    args:
                      - kind: name
                        id: 219
                        name: p
                      - kind: int
                        id: 220
                        value: 0
                      - kind: app
                        id: 224
                        opcode: isub
                        args:
                          - kind: app
                            id: 222
                            opcode: length
                            args:
                              - kind: name
                                id: 221
                                name: p
                          - kind: int
                            id: 223
                            value: 1
                  depth: ~
                expr:
                  kind: app
                  id: 229
                  opcode: contains
                  args:
                    - kind: name
                      id: 227
                      name: prefixes
                    - kind: name
                      id: 228
                      name: parent
    depth: 2
  236:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  237:
    kind: def
    id: 235
    name: everyNodesParentIsInTheTree
    qualifier: puredef
    expr:
      kind: lambda
      id: 234
      params:
        - id: 200
          name: t
      expr:
        kind: let
        id: 233
        opdef:
          id: 210
          name: prefixes
          qualifier: val
          expr:
            kind: app
            id: 209
            opcode: map
            args:
              - kind: app
                id: 203
                opcode: keys
                args:
                  - kind: name
                    id: 202
                    name: t
              - kind: lambda
                id: 208
                params:
                  - id: 204
                    name: p
                expr:
                  kind: app
                  id: 207
                  opcode: field
                  args:
                    - kind: name
                      id: 205
                      name: p
                    - kind: str
                      id: 206
                      value: key_hash
          depth: ~
        expr:
          kind: app
          id: 232
          opcode: forall
          args:
            - kind: app
              id: 217
              opcode: filter
              args:
                - kind: name
                  id: 211
                  name: prefixes
                - kind: lambda
                  id: 216
                  params:
                    - id: 212
                      name: p
                  expr:
                    kind: app
                    id: 215
                    opcode: neq
                    args:
                      - kind: name
                        id: 213
                        name: p
                      - kind: app
                        id: 214
                        opcode: List
                        args: []
            - kind: lambda
              id: 231
              params:
                - id: 218
                  name: p
              expr:
                kind: let
                id: 230
                opdef:
                  id: 226
                  name: parent
                  qualifier: val
                  expr:
                    kind: app
                    id: 225
                    opcode: slice
                    args:
                      - kind: name
                        id: 219
                        name: p
                      - kind: int
                        id: 220
                        value: 0
                      - kind: app
                        id: 224
                        opcode: isub
                        args:
                          - kind: app
                            id: 222
                            opcode: length
                            args:
                              - kind: name
                                id: 221
                                name: p
                          - kind: int
                            id: 223
                            value: 1
                  depth: ~
                expr:
                  kind: app
                  id: 229
                  opcode: contains
                  args:
                    - kind: name
                      id: 227
                      name: prefixes
                    - kind: name
                      id: 228
                      name: parent
    depth: 2
  240:
    kind: def
    id: 240
    name: everyNodesParentIsInTheTreeInv
    qualifier: val
    expr:
      kind: let
      id: 239
      opdef:
        id: 235
        name: everyNodesParentIsInTheTree
        qualifier: puredef
        expr:
          kind: lambda
          id: 234
          params:
            - id: 200
              name: t
          expr:
            kind: let
            id: 233
            opdef:
              id: 210
              name: prefixes
              qualifier: val
              expr:
                kind: app
                id: 209
                opcode: map
                args:
                  - kind: app
                    id: 203
                    opcode: keys
                    args:
                      - kind: name
                        id: 202
                        name: t
                  - kind: lambda
                    id: 208
                    params:
                      - id: 204
                        name: p
                    expr:
                      kind: app
                      id: 207
                      opcode: field
                      args:
                        - kind: name
                          id: 205
                          name: p
                        - kind: str
                          id: 206
                          value: key_hash
              depth: ~
            expr:
              kind: app
              id: 232
              opcode: forall
              args:
                - kind: app
                  id: 217
                  opcode: filter
                  args:
                    - kind: name
                      id: 211
                      name: prefixes
                    - kind: lambda
                      id: 216
                      params:
                        - id: 212
                          name: p
                      expr:
                        kind: app
                        id: 215
                        opcode: neq
                        args:
                          - kind: name
                            id: 213
                            name: p
                          - kind: app
                            id: 214
                            opcode: List
                            args: []
                - kind: lambda
                  id: 231
                  params:
                    - id: 218
                      name: p
                  expr:
                    kind: let
                    id: 230
                    opdef:
                      id: 226
                      name: parent
                      qualifier: val
                      expr:
                        kind: app
                        id: 225
                        opcode: slice
                        args:
                          - kind: name
                            id: 219
                            name: p
                          - kind: int
                            id: 220
                            value: 0
                          - kind: app
                            id: 224
                            opcode: isub
                            args:
                              - kind: app
                                id: 222
                                opcode: length
                                args:
                                  - kind: name
                                    id: 221
                                    name: p
                              - kind: int
                                id: 223
                                value: 1
                      depth: ~
                    expr:
                      kind: app
                      id: 229
                      opcode: contains
                      args:
                        - kind: name
                          id: 227
                          name: prefixes
                        - kind: name
                          id: 228
                          name: parent
        depth: ~
      expr:
        kind: app
        id: 238
        opcode: forall
        args:
          - kind: name
            id: 236
            name: treesToCheck
          - kind: name
            id: 237
            name: everyNodesParentIsInTheTree
    depth: 0
  242:
    kind: typedef
    id: 3273
  244:
    kind: typedef
    id: 2756
  247:
    id: 243
    name: t
  250:
    id: 249
    name: nId
  253:
    id: 245
    name: b
  261:
    kind: def
    id: 261
    name: existsNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 260
      params:
        - id: 243
          name: t
        - id: 245
          name: b
      expr:
        kind: app
        id: 259
        opcode: igt
        args:
          - kind: app
            id: 257
            opcode: size
            args:
              - kind: app
                id: 256
                opcode: filter
                args:
                  - kind: app
                    id: 248
                    opcode: keys
                    args:
                      - kind: name
                        id: 247
                        name: t
                  - kind: lambda
                    id: 255
                    params:
                      - id: 249
                        name: nId
                    expr:
                      kind: app
                      id: 254
                      opcode: eq
                      args:
                        - kind: app
                          id: 252
                          opcode: field
                          args:
                            - kind: name
                              id: 250
                              name: nId
                            - kind: str
                              id: 251
                              value: key_hash
                        - kind: name
                          id: 253
                          name: b
          - kind: int
            id: 258
            value: 0
    depth: 2
  262:
    kind: typedef
    id: 3273
  265:
    id: 263
    name: t
  266:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  268:
    id: 263
    name: t
  269:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  271:
    id: 267
    name: a
  274:
    id: 270
    name: b
  278:
    id: 263
    name: t
  279:
    id: 267
    name: a
  280:
    id: 270
    name: b
  281:
    kind: def
    id: 4240
    name: commonPrefix
    qualifier: puredef
    expr:
      kind: lambda
      id: 4239
      params:
        - id: 4201
          name: a
        - id: 4203
          name: b
      expr:
        kind: let
        id: 4238
        opdef:
          id: 4210
          name: indList
          qualifier: val
          expr:
            kind: app
            id: 4209
            opcode: range
            args:
              - kind: int
                id: 4205
                value: 1
              - kind: app
                id: 4208
                opcode: iadd
                args:
                  - kind: name
                    id: 4206
                    name: keylength
                  - kind: int
                    id: 4207
                    value: 1
          depth: ~
        expr:
          kind: app
          id: 4237
          opcode: foldl
          args:
            - kind: name
              id: 4211
              name: indList
            - kind: app
              id: 4212
              opcode: List
              args: []
            - kind: lambda
              id: 4236
              params:
                - id: 4213
                  name: s
                - id: 4214
                  name: x
              expr:
                kind: app
                id: 4235
                opcode: ite
                args:
                  - kind: app
                    id: 4227
                    opcode: eq
                    args:
                      - kind: app
                        id: 4220
                        opcode: slice
                        args:
                          - kind: app
                            id: 4217
                            opcode: field
                            args:
                              - kind: name
                                id: 4215
                                name: a
                              - kind: str
                                id: 4216
                                value: key_hash
                          - kind: int
                            id: 4218
                            value: 0
                          - kind: name
                            id: 4219
                            name: x
                      - kind: app
                        id: 4226
                        opcode: slice
                        args:
                          - kind: app
                            id: 4223
                            opcode: field
                            args:
                              - kind: name
                                id: 4221
                                name: b
                              - kind: str
                                id: 4222
                                value: key_hash
                          - kind: int
                            id: 4224
                            value: 0
                          - kind: name
                            id: 4225
                            name: x
                  - kind: app
                    id: 4233
                    opcode: slice
                    args:
                      - kind: app
                        id: 4230
                        opcode: field
                        args:
                          - kind: name
                            id: 4228
                            name: b
                          - kind: str
                            id: 4229
                            value: key_hash
                      - kind: int
                        id: 4231
                        value: 0
                      - kind: name
                        id: 4232
                        name: x
                  - kind: name
                    id: 4234
                    name: s
    depth: 0
  282:
    kind: def
    id: 261
    name: existsNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 260
      params:
        - id: 243
          name: t
        - id: 245
          name: b
      expr:
        kind: app
        id: 259
        opcode: igt
        args:
          - kind: app
            id: 257
            opcode: size
            args:
              - kind: app
                id: 256
                opcode: filter
                args:
                  - kind: app
                    id: 248
                    opcode: keys
                    args:
                      - kind: name
                        id: 247
                        name: t
                  - kind: lambda
                    id: 255
                    params:
                      - id: 249
                        name: nId
                    expr:
                      kind: app
                      id: 254
                      opcode: eq
                      args:
                        - kind: app
                          id: 252
                          opcode: field
                          args:
                            - kind: name
                              id: 250
                              name: nId
                            - kind: str
                              id: 251
                              value: key_hash
                        - kind: name
                          id: 253
                          name: b
          - kind: int
            id: 258
            value: 0
    depth: 2
  289:
    kind: def
    id: 289
    name: nodeAtCommonPrefix
    qualifier: puredef
    expr:
      kind: lambda
      id: 288
      params:
        - id: 263
          name: t
      expr:
        kind: app
        id: 287
        opcode: forall
        args:
          - kind: app
            id: 266
            opcode: allLeafs
            args:
              - kind: name
                id: 265
                name: t
          - kind: lambda
            id: 286
            params:
              - id: 267
                name: a
            expr:
              kind: app
              id: 285
              opcode: forall
              args:
                - kind: app
                  id: 269
                  opcode: allLeafs
                  args:
                    - kind: name
                      id: 268
                      name: t
                - kind: lambda
                  id: 284
                  params:
                    - id: 270
                      name: b
                  expr:
                    kind: app
                    id: 283
                    opcode: implies
                    args:
                      - kind: app
                        id: 277
                        opcode: neq
                        args:
                          - kind: app
                            id: 273
                            opcode: field
                            args:
                              - kind: name
                                id: 271
                                name: a
                              - kind: str
                                id: 272
                                value: key_hash
                          - kind: app
                            id: 276
                            opcode: field
                            args:
                              - kind: name
                                id: 274
                                name: b
                              - kind: str
                                id: 275
                                value: key_hash
                      - kind: app
                        id: 282
                        opcode: existsNode
                        args:
                          - kind: name
                            id: 278
                            name: t
                          - kind: app
                            id: 281
                            opcode: commonPrefix
                            args:
                              - kind: name
                                id: 279
                                name: a
                              - kind: name
                                id: 280
                                name: b
    depth: 3
  290:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  291:
    kind: def
    id: 289
    name: nodeAtCommonPrefix
    qualifier: puredef
    expr:
      kind: lambda
      id: 288
      params:
        - id: 263
          name: t
      expr:
        kind: app
        id: 287
        opcode: forall
        args:
          - kind: app
            id: 266
            opcode: allLeafs
            args:
              - kind: name
                id: 265
                name: t
          - kind: lambda
            id: 286
            params:
              - id: 267
                name: a
            expr:
              kind: app
              id: 285
              opcode: forall
              args:
                - kind: app
                  id: 269
                  opcode: allLeafs
                  args:
                    - kind: name
                      id: 268
                      name: t
                - kind: lambda
                  id: 284
                  params:
                    - id: 270
                      name: b
                  expr:
                    kind: app
                    id: 283
                    opcode: implies
                    args:
                      - kind: app
                        id: 277
                        opcode: neq
                        args:
                          - kind: app
                            id: 273
                            opcode: field
                            args:
                              - kind: name
                                id: 271
                                name: a
                              - kind: str
                                id: 272
                                value: key_hash
                          - kind: app
                            id: 276
                            opcode: field
                            args:
                              - kind: name
                                id: 274
                                name: b
                              - kind: str
                                id: 275
                                value: key_hash
                      - kind: app
                        id: 282
                        opcode: existsNode
                        args:
                          - kind: name
                            id: 278
                            name: t
                          - kind: app
                            id: 281
                            opcode: commonPrefix
                            args:
                              - kind: name
                                id: 279
                                name: a
                              - kind: name
                                id: 280
                                name: b
    depth: 3
  295:
    kind: def
    id: 295
    name: nodeAtCommonPrefixInv
    qualifier: val
    expr:
      kind: let
      id: 294
      opdef:
        id: 261
        name: existsNode
        qualifier: puredef
        expr:
          kind: lambda
          id: 260
          params:
            - id: 243
              name: t
            - id: 245
              name: b
          expr:
            kind: app
            id: 259
            opcode: igt
            args:
              - kind: app
                id: 257
                opcode: size
                args:
                  - kind: app
                    id: 256
                    opcode: filter
                    args:
                      - kind: app
                        id: 248
                        opcode: keys
                        args:
                          - kind: name
                            id: 247
                            name: t
                      - kind: lambda
                        id: 255
                        params:
                          - id: 249
                            name: nId
                        expr:
                          kind: app
                          id: 254
                          opcode: eq
                          args:
                            - kind: app
                              id: 252
                              opcode: field
                              args:
                                - kind: name
                                  id: 250
                                  name: nId
                                - kind: str
                                  id: 251
                                  value: key_hash
                            - kind: name
                              id: 253
                              name: b
              - kind: int
                id: 258
                value: 0
        depth: ~
      expr:
        kind: let
        id: 293
        opdef:
          id: 289
          name: nodeAtCommonPrefix
          qualifier: puredef
          expr:
            kind: lambda
            id: 288
            params:
              - id: 263
                name: t
            expr:
              kind: app
              id: 287
              opcode: forall
              args:
                - kind: app
                  id: 266
                  opcode: allLeafs
                  args:
                    - kind: name
                      id: 265
                      name: t
                - kind: lambda
                  id: 286
                  params:
                    - id: 267
                      name: a
                  expr:
                    kind: app
                    id: 285
                    opcode: forall
                    args:
                      - kind: app
                        id: 269
                        opcode: allLeafs
                        args:
                          - kind: name
                            id: 268
                            name: t
                      - kind: lambda
                        id: 284
                        params:
                          - id: 270
                            name: b
                        expr:
                          kind: app
                          id: 283
                          opcode: implies
                          args:
                            - kind: app
                              id: 277
                              opcode: neq
                              args:
                                - kind: app
                                  id: 273
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 271
                                      name: a
                                    - kind: str
                                      id: 272
                                      value: key_hash
                                - kind: app
                                  id: 276
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 274
                                      name: b
                                    - kind: str
                                      id: 275
                                      value: key_hash
                            - kind: app
                              id: 282
                              opcode: existsNode
                              args:
                                - kind: name
                                  id: 278
                                  name: t
                                - kind: app
                                  id: 281
                                  opcode: commonPrefix
                                  args:
                                    - kind: name
                                      id: 279
                                      name: a
                                    - kind: name
                                      id: 280
                                      name: b
          depth: ~
        expr:
          kind: app
          id: 292
          opcode: forall
          args:
            - kind: name
              id: 290
              name: treesToCheck
            - kind: name
              id: 291
              name: nodeAtCommonPrefix
    depth: 0
  297:
    kind: typedef
    id: 3273
  300:
    id: 298
    name: t
  303:
    id: 302
    name: nId
  308:
    kind: def
    id: 308
    name: nodes
    qualifier: val
    expr:
      kind: app
      id: 307
      opcode: map
      args:
        - kind: app
          id: 301
          opcode: keys
          args:
            - kind: name
              id: 300
              name: t
        - kind: lambda
          id: 306
          params:
            - id: 302
              name: nId
          expr:
            kind: app
            id: 305
            opcode: field
            args:
              - kind: name
                id: 303
                name: nId
              - kind: str
                id: 304
                value: key_hash
    depth: 5
  309:
    id: 298
    name: t
  312:
    id: 298
    name: t
  313:
    id: 311
    name: nId
  315:
    kind: def
    id: 3786
    name: isLeaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 3785
      params:
        - id: 3781
          name: n
      expr:
        kind: app
        id: 3784
        opcode: not
        args:
          - kind: app
            id: 3783
            opcode: isInternal
            args:
              - kind: name
                id: 3782
                name: n
    depth: 0
  319:
    id: 318
    name: nId
  324:
    kind: def
    id: 324
    name: leafs
    qualifier: val
    expr:
      kind: app
      id: 323
      opcode: map
      args:
        - kind: app
          id: 317
          opcode: filter
          args:
            - kind: app
              id: 310
              opcode: keys
              args:
                - kind: name
                  id: 309
                  name: t
            - kind: lambda
              id: 316
              params:
                - id: 311
                  name: nId
              expr:
                kind: app
                id: 315
                opcode: isLeaf
                args:
                  - kind: app
                    id: 314
                    opcode: get
                    args:
                      - kind: name
                        id: 312
                        name: t
                      - kind: name
                        id: 313
                        name: nId
        - kind: lambda
          id: 322
          params:
            - id: 318
              name: nId
          expr:
            kind: app
            id: 321
            opcode: field
            args:
              - kind: name
                id: 319
                name: nId
              - kind: str
                id: 320
                value: key_hash
    depth: 6
  325:
    kind: def
    id: 308
    name: nodes
    qualifier: val
    expr:
      kind: app
      id: 307
      opcode: map
      args:
        - kind: app
          id: 301
          opcode: keys
          args:
            - kind: name
              id: 300
              name: t
        - kind: lambda
          id: 306
          params:
            - id: 302
              name: nId
          expr:
            kind: app
            id: 305
            opcode: field
            args:
              - kind: name
                id: 303
                name: nId
              - kind: str
                id: 304
                value: key_hash
    depth: 5
  327:
    kind: def
    id: 324
    name: leafs
    qualifier: val
    expr:
      kind: app
      id: 323
      opcode: map
      args:
        - kind: app
          id: 317
          opcode: filter
          args:
            - kind: app
              id: 310
              opcode: keys
              args:
                - kind: name
                  id: 309
                  name: t
            - kind: lambda
              id: 316
              params:
                - id: 311
                  name: nId
              expr:
                kind: app
                id: 315
                opcode: isLeaf
                args:
                  - kind: app
                    id: 314
                    opcode: get
                    args:
                      - kind: name
                        id: 312
                        name: t
                      - kind: name
                        id: 313
                        name: nId
        - kind: lambda
          id: 322
          params:
            - id: 318
              name: nId
          expr:
            kind: app
            id: 321
            opcode: field
            args:
              - kind: name
                id: 319
                name: nId
              - kind: str
                id: 320
                value: key_hash
    depth: 6
  329:
    id: 326
    name: node
  330:
    id: 328
    name: leaf
  332:
    id: 328
    name: leaf
  333:
    id: 326
    name: node
  334:
    kind: def
    id: 4267
    name: prefix_of
    qualifier: puredef
    expr:
      kind: lambda
      id: 4266
      params:
        - id: 4243
          name: l1
        - id: 4246
          name: l2
      expr:
        kind: app
        id: 4265
        opcode: and
        args:
          - kind: app
            id: 4252
            opcode: ilte
            args:
              - kind: app
                id: 4249
                opcode: length
                args:
                  - kind: name
                    id: 4248
                    name: l1
              - kind: app
                id: 4251
                opcode: length
                args:
                  - kind: name
                    id: 4250
                    name: l2
          - kind: app
            id: 4264
            opcode: forall
            args:
              - kind: app
                id: 4254
                opcode: indices
                args:
                  - kind: name
                    id: 4253
                    name: l1
              - kind: lambda
                id: 4263
                params:
                  - id: 4255
                    name: i
                expr:
                  kind: app
                  id: 4262
                  opcode: eq
                  args:
                    - kind: app
                      id: 4258
                      opcode: nth
                      args:
                        - kind: name
                          id: 4256
                          name: l1
                        - kind: name
                          id: 4257
                          name: i
                    - kind: app
                      id: 4261
                      opcode: nth
                      args:
                        - kind: name
                          id: 4259
                          name: l2
                        - kind: name
                          id: 4260
                          name: i
    depth: 0
  344:
    kind: def
    id: 344
    name: noLeafInPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 343
      params:
        - id: 298
          name: t
      expr:
        kind: let
        id: 342
        opdef:
          id: 308
          name: nodes
          qualifier: val
          expr:
            kind: app
            id: 307
            opcode: map
            args:
              - kind: app
                id: 301
                opcode: keys
                args:
                  - kind: name
                    id: 300
                    name: t
              - kind: lambda
                id: 306
                params:
                  - id: 302
                    name: nId
                expr:
                  kind: app
                  id: 305
                  opcode: field
                  args:
                    - kind: name
                      id: 303
                      name: nId
                    - kind: str
                      id: 304
                      value: key_hash
          depth: ~
        expr:
          kind: let
          id: 341
          opdef:
            id: 324
            name: leafs
            qualifier: val
            expr:
              kind: app
              id: 323
              opcode: map
              args:
                - kind: app
                  id: 317
                  opcode: filter
                  args:
                    - kind: app
                      id: 310
                      opcode: keys
                      args:
                        - kind: name
                          id: 309
                          name: t
                    - kind: lambda
                      id: 316
                      params:
                        - id: 311
                          name: nId
                      expr:
                        kind: app
                        id: 315
                        opcode: isLeaf
                        args:
                          - kind: app
                            id: 314
                            opcode: get
                            args:
                              - kind: name
                                id: 312
                                name: t
                              - kind: name
                                id: 313
                                name: nId
                - kind: lambda
                  id: 322
                  params:
                    - id: 318
                      name: nId
                  expr:
                    kind: app
                    id: 321
                    opcode: field
                    args:
                      - kind: name
                        id: 319
                        name: nId
                      - kind: str
                        id: 320
                        value: key_hash
            depth: ~
          expr:
            kind: app
            id: 340
            opcode: forall
            args:
              - kind: name
                id: 325
                name: nodes
              - kind: lambda
                id: 339
                params:
                  - id: 326
                    name: node
                expr:
                  kind: app
                  id: 338
                  opcode: not
                  args:
                    - kind: app
                      id: 337
                      opcode: exists
                      args:
                        - kind: name
                          id: 327
                          name: leafs
                        - kind: lambda
                          id: 336
                          params:
                            - id: 328
                              name: leaf
                          expr:
                            kind: app
                            id: 335
                            opcode: and
                            args:
                              - kind: app
                                id: 331
                                opcode: neq
                                args:
                                  - kind: name
                                    id: 329
                                    name: node
                                  - kind: name
                                    id: 330
                                    name: leaf
                              - kind: app
                                id: 334
                                opcode: prefix_of
                                args:
                                  - kind: name
                                    id: 332
                                    name: leaf
                                  - kind: name
                                    id: 333
                                    name: node
    depth: 2
  345:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  346:
    kind: def
    id: 344
    name: noLeafInPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 343
      params:
        - id: 298
          name: t
      expr:
        kind: let
        id: 342
        opdef:
          id: 308
          name: nodes
          qualifier: val
          expr:
            kind: app
            id: 307
            opcode: map
            args:
              - kind: app
                id: 301
                opcode: keys
                args:
                  - kind: name
                    id: 300
                    name: t
              - kind: lambda
                id: 306
                params:
                  - id: 302
                    name: nId
                expr:
                  kind: app
                  id: 305
                  opcode: field
                  args:
                    - kind: name
                      id: 303
                      name: nId
                    - kind: str
                      id: 304
                      value: key_hash
          depth: ~
        expr:
          kind: let
          id: 341
          opdef:
            id: 324
            name: leafs
            qualifier: val
            expr:
              kind: app
              id: 323
              opcode: map
              args:
                - kind: app
                  id: 317
                  opcode: filter
                  args:
                    - kind: app
                      id: 310
                      opcode: keys
                      args:
                        - kind: name
                          id: 309
                          name: t
                    - kind: lambda
                      id: 316
                      params:
                        - id: 311
                          name: nId
                      expr:
                        kind: app
                        id: 315
                        opcode: isLeaf
                        args:
                          - kind: app
                            id: 314
                            opcode: get
                            args:
                              - kind: name
                                id: 312
                                name: t
                              - kind: name
                                id: 313
                                name: nId
                - kind: lambda
                  id: 322
                  params:
                    - id: 318
                      name: nId
                  expr:
                    kind: app
                    id: 321
                    opcode: field
                    args:
                      - kind: name
                        id: 319
                        name: nId
                      - kind: str
                        id: 320
                        value: key_hash
            depth: ~
          expr:
            kind: app
            id: 340
            opcode: forall
            args:
              - kind: name
                id: 325
                name: nodes
              - kind: lambda
                id: 339
                params:
                  - id: 326
                    name: node
                expr:
                  kind: app
                  id: 338
                  opcode: not
                  args:
                    - kind: app
                      id: 337
                      opcode: exists
                      args:
                        - kind: name
                          id: 327
                          name: leafs
                        - kind: lambda
                          id: 336
                          params:
                            - id: 328
                              name: leaf
                          expr:
                            kind: app
                            id: 335
                            opcode: and
                            args:
                              - kind: app
                                id: 331
                                opcode: neq
                                args:
                                  - kind: name
                                    id: 329
                                    name: node
                                  - kind: name
                                    id: 330
                                    name: leaf
                              - kind: app
                                id: 334
                                opcode: prefix_of
                                args:
                                  - kind: name
                                    id: 332
                                    name: leaf
                                  - kind: name
                                    id: 333
                                    name: node
    depth: 2
  349:
    kind: def
    id: 349
    name: noLeafInPrefixesInv
    qualifier: val
    expr:
      kind: let
      id: 348
      opdef:
        id: 344
        name: noLeafInPrefixes
        qualifier: puredef
        expr:
          kind: lambda
          id: 343
          params:
            - id: 298
              name: t
          expr:
            kind: let
            id: 342
            opdef:
              id: 308
              name: nodes
              qualifier: val
              expr:
                kind: app
                id: 307
                opcode: map
                args:
                  - kind: app
                    id: 301
                    opcode: keys
                    args:
                      - kind: name
                        id: 300
                        name: t
                  - kind: lambda
                    id: 306
                    params:
                      - id: 302
                        name: nId
                    expr:
                      kind: app
                      id: 305
                      opcode: field
                      args:
                        - kind: name
                          id: 303
                          name: nId
                        - kind: str
                          id: 304
                          value: key_hash
              depth: ~
            expr:
              kind: let
              id: 341
              opdef:
                id: 324
                name: leafs
                qualifier: val
                expr:
                  kind: app
                  id: 323
                  opcode: map
                  args:
                    - kind: app
                      id: 317
                      opcode: filter
                      args:
                        - kind: app
                          id: 310
                          opcode: keys
                          args:
                            - kind: name
                              id: 309
                              name: t
                        - kind: lambda
                          id: 316
                          params:
                            - id: 311
                              name: nId
                          expr:
                            kind: app
                            id: 315
                            opcode: isLeaf
                            args:
                              - kind: app
                                id: 314
                                opcode: get
                                args:
                                  - kind: name
                                    id: 312
                                    name: t
                                  - kind: name
                                    id: 313
                                    name: nId
                    - kind: lambda
                      id: 322
                      params:
                        - id: 318
                          name: nId
                      expr:
                        kind: app
                        id: 321
                        opcode: field
                        args:
                          - kind: name
                            id: 319
                            name: nId
                          - kind: str
                            id: 320
                            value: key_hash
                depth: ~
              expr:
                kind: app
                id: 340
                opcode: forall
                args:
                  - kind: name
                    id: 325
                    name: nodes
                  - kind: lambda
                    id: 339
                    params:
                      - id: 326
                        name: node
                    expr:
                      kind: app
                      id: 338
                      opcode: not
                      args:
                        - kind: app
                          id: 337
                          opcode: exists
                          args:
                            - kind: name
                              id: 327
                              name: leafs
                            - kind: lambda
                              id: 336
                              params:
                                - id: 328
                                  name: leaf
                              expr:
                                kind: app
                                id: 335
                                opcode: and
                                args:
                                  - kind: app
                                    id: 331
                                    opcode: neq
                                    args:
                                      - kind: name
                                        id: 329
                                        name: node
                                      - kind: name
                                        id: 330
                                        name: leaf
                                  - kind: app
                                    id: 334
                                    opcode: prefix_of
                                    args:
                                      - kind: name
                                        id: 332
                                        name: leaf
                                      - kind: name
                                        id: 333
                                        name: node
        depth: ~
      expr:
        kind: app
        id: 347
        opcode: forall
        args:
          - kind: name
            id: 345
            name: treesToCheck
          - kind: name
            id: 346
            name: noLeafInPrefixes
    depth: 0
  351:
    kind: typedef
    id: 3893
  354:
    id: 352
    name: n
  357:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  359:
    id: 352
    name: n
  362:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  366:
    kind: def
    id: 366
    name: internalNodeHasAChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 365
      params:
        - id: 352
          name: n
      expr:
        kind: app
        id: 364
        opcode: or
        args:
          - kind: app
            id: 358
            opcode: neq
            args:
              - kind: app
                id: 356
                opcode: field
                args:
                  - kind: name
                    id: 354
                    name: n
                  - kind: str
                    id: 355
                    value: left_child
              - kind: name
                id: 357
                name: None
          - kind: app
            id: 363
            opcode: neq
            args:
              - kind: app
                id: 361
                opcode: field
                args:
                  - kind: name
                    id: 359
                    name: n
                  - kind: str
                    id: 360
                    value: right_child
              - kind: name
                id: 362
                name: None
    depth: 2
  367:
    kind: typedef
    id: 3273
  370:
    id: 368
    name: t
  373:
    id: 368
    name: t
  374:
    id: 372
    name: nId
  376:
    id: 382
    name: n
  377:
    kind: def
    id: 366
    name: internalNodeHasAChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 365
      params:
        - id: 352
          name: n
      expr:
        kind: app
        id: 364
        opcode: or
        args:
          - kind: app
            id: 358
            opcode: neq
            args:
              - kind: app
                id: 356
                opcode: field
                args:
                  - kind: name
                    id: 354
                    name: n
                  - kind: str
                    id: 355
                    value: left_child
              - kind: name
                id: 357
                name: None
          - kind: app
            id: 363
            opcode: neq
            args:
              - kind: app
                id: 361
                opcode: field
                args:
                  - kind: name
                    id: 359
                    name: n
                  - kind: str
                    id: 360
                    value: right_child
              - kind: name
                id: 362
                name: None
    depth: 2
  389:
    kind: def
    id: 389
    name: allInternalNodesHaveAChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 388
      params:
        - id: 368
          name: t
      expr:
        kind: app
        id: 387
        opcode: forall
        args:
          - kind: app
            id: 371
            opcode: keys
            args:
              - kind: name
                id: 370
                name: t
          - kind: lambda
            id: 386
            params:
              - id: 372
                name: nId
            expr:
              kind: app
              id: 379
              opcode: matchVariant
              args:
                - kind: app
                  id: 375
                  opcode: get
                  args:
                    - kind: name
                      id: 373
                      name: t
                    - kind: name
                      id: 374
                      name: nId
                - kind: str
                  id: 380
                  value: Internal
                - kind: lambda
                  id: 381
                  params:
                    - id: 382
                      name: n
                  expr:
                    kind: app
                    id: 377
                    opcode: internalNodeHasAChild
                    args:
                      - kind: name
                        id: 376
                        name: n
                - kind: str
                  id: 383
                  value: Leaf
                - kind: lambda
                  id: 384
                  params:
                    - id: 385
                      name: _
                  expr:
                    kind: bool
                    id: 378
                    value: true
    depth: 3
  390:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  391:
    kind: def
    id: 389
    name: allInternalNodesHaveAChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 388
      params:
        - id: 368
          name: t
      expr:
        kind: app
        id: 387
        opcode: forall
        args:
          - kind: app
            id: 371
            opcode: keys
            args:
              - kind: name
                id: 370
                name: t
          - kind: lambda
            id: 386
            params:
              - id: 372
                name: nId
            expr:
              kind: app
              id: 379
              opcode: matchVariant
              args:
                - kind: app
                  id: 375
                  opcode: get
                  args:
                    - kind: name
                      id: 373
                      name: t
                    - kind: name
                      id: 374
                      name: nId
                - kind: str
                  id: 380
                  value: Internal
                - kind: lambda
                  id: 381
                  params:
                    - id: 382
                      name: n
                  expr:
                    kind: app
                    id: 377
                    opcode: internalNodeHasAChild
                    args:
                      - kind: name
                        id: 376
                        name: n
                - kind: str
                  id: 383
                  value: Leaf
                - kind: lambda
                  id: 384
                  params:
                    - id: 385
                      name: _
                  expr:
                    kind: bool
                    id: 378
                    value: true
    depth: 3
  395:
    kind: def
    id: 395
    name: allInternalNodesHaveAChildInv
    qualifier: val
    expr:
      kind: let
      id: 394
      opdef:
        id: 366
        name: internalNodeHasAChild
        qualifier: puredef
        expr:
          kind: lambda
          id: 365
          params:
            - id: 352
              name: n
          expr:
            kind: app
            id: 364
            opcode: or
            args:
              - kind: app
                id: 358
                opcode: neq
                args:
                  - kind: app
                    id: 356
                    opcode: field
                    args:
                      - kind: name
                        id: 354
                        name: n
                      - kind: str
                        id: 355
                        value: left_child
                  - kind: name
                    id: 357
                    name: None
              - kind: app
                id: 363
                opcode: neq
                args:
                  - kind: app
                    id: 361
                    opcode: field
                    args:
                      - kind: name
                        id: 359
                        name: n
                      - kind: str
                        id: 360
                        value: right_child
                  - kind: name
                    id: 362
                    name: None
        depth: ~
      expr:
        kind: let
        id: 393
        opdef:
          id: 389
          name: allInternalNodesHaveAChild
          qualifier: puredef
          expr:
            kind: lambda
            id: 388
            params:
              - id: 368
                name: t
            expr:
              kind: app
              id: 387
              opcode: forall
              args:
                - kind: app
                  id: 371
                  opcode: keys
                  args:
                    - kind: name
                      id: 370
                      name: t
                - kind: lambda
                  id: 386
                  params:
                    - id: 372
                      name: nId
                  expr:
                    kind: app
                    id: 379
                    opcode: matchVariant
                    args:
                      - kind: app
                        id: 375
                        opcode: get
                        args:
                          - kind: name
                            id: 373
                            name: t
                          - kind: name
                            id: 374
                            name: nId
                      - kind: str
                        id: 380
                        value: Internal
                      - kind: lambda
                        id: 381
                        params:
                          - id: 382
                            name: n
                        expr:
                          kind: app
                          id: 377
                          opcode: internalNodeHasAChild
                          args:
                            - kind: name
                              id: 376
                              name: n
                      - kind: str
                        id: 383
                        value: Leaf
                      - kind: lambda
                        id: 384
                        params:
                          - id: 385
                            name: _
                        expr:
                          kind: bool
                          id: 378
                          value: true
          depth: ~
        expr:
          kind: app
          id: 392
          opcode: forall
          args:
            - kind: name
              id: 390
              name: treesToCheck
            - kind: name
              id: 391
              name: allInternalNodesHaveAChild
    depth: 0
  397:
    kind: typedef
    id: 3273
  400:
    id: 398
    name: t
  403:
    id: 398
    name: t
  404:
    id: 402
    name: nId
  406:
    id: 451
    name: n
  409:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  411:
    id: 451
    name: n
  414:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  417:
    id: 398
    name: t
  418:
    id: 402
    name: nId
  423:
    kind: def
    id: 3765
    name: findNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3764
      params:
        - id: 3744
          name: t
        - id: 3746
          name: key_hash
      expr:
        kind: let
        id: 3763
        opdef:
          id: 3759
          name: nodeId
          qualifier: pureval
          expr:
            kind: app
            id: 3758
            opcode: getOnlyElement
            args:
              - kind: app
                id: 3757
                opcode: filter
                args:
                  - kind: app
                    id: 3749
                    opcode: keys
                    args:
                      - kind: name
                        id: 3748
                        name: t
                  - kind: lambda
                    id: 3756
                    params:
                      - id: 3750
                        name: n
                    expr:
                      kind: app
                      id: 3755
                      opcode: eq
                      args:
                        - kind: app
                          id: 3753
                          opcode: field
                          args:
                            - kind: name
                              id: 3751
                              name: n
                            - kind: str
                              id: 3752
                              value: key_hash
                        - kind: name
                          id: 3754
                          name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3762
          opcode: get
          args:
            - kind: name
              id: 3760
              name: t
            - kind: name
              id: 3761
              name: nodeId
    depth: 0
  424:
    kind: def
    id: 3780
    name: isInternal
    qualifier: puredef
    expr:
      kind: lambda
      id: 3779
      params:
        - id: 3767
          name: n
      expr:
        kind: app
        id: 3772
        opcode: matchVariant
        args:
          - kind: name
            id: 3769
            name: n
          - kind: str
            id: 3773
            value: Internal
          - kind: lambda
            id: 3774
            params:
              - id: 3775
                name: _
            expr:
              kind: bool
              id: 3770
              value: true
          - kind: str
            id: 3776
            value: Leaf
          - kind: lambda
            id: 3777
            params:
              - id: 3778
                name: _
            expr:
              kind: bool
              id: 3771
              value: false
    depth: 0
  425:
    id: 451
    name: n
  428:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  430:
    id: 451
    name: n
  433:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  436:
    id: 398
    name: t
  437:
    id: 402
    name: nId
  442:
    kind: def
    id: 3765
    name: findNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3764
      params:
        - id: 3744
          name: t
        - id: 3746
          name: key_hash
      expr:
        kind: let
        id: 3763
        opdef:
          id: 3759
          name: nodeId
          qualifier: pureval
          expr:
            kind: app
            id: 3758
            opcode: getOnlyElement
            args:
              - kind: app
                id: 3757
                opcode: filter
                args:
                  - kind: app
                    id: 3749
                    opcode: keys
                    args:
                      - kind: name
                        id: 3748
                        name: t
                  - kind: lambda
                    id: 3756
                    params:
                      - id: 3750
                        name: n
                    expr:
                      kind: app
                      id: 3755
                      opcode: eq
                      args:
                        - kind: app
                          id: 3753
                          opcode: field
                          args:
                            - kind: name
                              id: 3751
                              name: n
                            - kind: str
                              id: 3752
                              value: key_hash
                        - kind: name
                          id: 3754
                          name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3762
          opcode: get
          args:
            - kind: name
              id: 3760
              name: t
            - kind: name
              id: 3761
              name: nodeId
    depth: 0
  443:
    kind: def
    id: 3780
    name: isInternal
    qualifier: puredef
    expr:
      kind: lambda
      id: 3779
      params:
        - id: 3767
          name: n
      expr:
        kind: app
        id: 3772
        opcode: matchVariant
        args:
          - kind: name
            id: 3769
            name: n
          - kind: str
            id: 3773
            value: Internal
          - kind: lambda
            id: 3774
            params:
              - id: 3775
                name: _
            expr:
              kind: bool
              id: 3770
              value: true
          - kind: str
            id: 3776
            value: Leaf
          - kind: lambda
            id: 3777
            params:
              - id: 3778
                name: _
            expr:
              kind: bool
              id: 3771
              value: false
    depth: 0
  458:
    kind: def
    id: 458
    name: isDense
    qualifier: puredef
    expr:
      kind: lambda
      id: 457
      params:
        - id: 398
          name: t
      expr:
        kind: app
        id: 456
        opcode: forall
        args:
          - kind: app
            id: 401
            opcode: keys
            args:
              - kind: name
                id: 400
                name: t
          - kind: lambda
            id: 455
            params:
              - id: 402
                name: nId
            expr:
              kind: app
              id: 448
              opcode: matchVariant
              args:
                - kind: app
                  id: 405
                  opcode: get
                  args:
                    - kind: name
                      id: 403
                      name: t
                    - kind: name
                      id: 404
                      name: nId
                - kind: str
                  id: 449
                  value: Internal
                - kind: lambda
                  id: 450
                  params:
                    - id: 451
                      name: n
                  expr:
                    kind: app
                    id: 446
                    opcode: ite
                    args:
                      - kind: app
                        id: 416
                        opcode: and
                        args:
                          - kind: app
                            id: 410
                            opcode: eq
                            args:
                              - kind: app
                                id: 408
                                opcode: field
                                args:
                                  - kind: name
                                    id: 406
                                    name: n
                                  - kind: str
                                    id: 407
                                    value: left_child
                              - kind: name
                                id: 409
                                name: None
                          - kind: app
                            id: 415
                            opcode: neq
                            args:
                              - kind: app
                                id: 413
                                opcode: field
                                args:
                                  - kind: name
                                    id: 411
                                    name: n
                                  - kind: str
                                    id: 412
                                    value: right_child
                              - kind: name
                                id: 414
                                name: None
                      - kind: app
                        id: 424
                        opcode: isInternal
                        args:
                          - kind: app
                            id: 423
                            opcode: findNode
                            args:
                              - kind: name
                                id: 417
                                name: t
                              - kind: app
                                id: 422
                                opcode: append
                                args:
                                  - kind: app
                                    id: 420
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 418
                                        name: nId
                                      - kind: str
                                        id: 419
                                        value: key_hash
                                  - kind: int
                                    id: 421
                                    value: 1
                      - kind: app
                        id: 445
                        opcode: ite
                        args:
                          - kind: app
                            id: 435
                            opcode: and
                            args:
                              - kind: app
                                id: 429
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 427
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 425
                                        name: n
                                      - kind: str
                                        id: 426
                                        value: right_child
                                  - kind: name
                                    id: 428
                                    name: None
                              - kind: app
                                id: 434
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 432
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 430
                                        name: n
                                      - kind: str
                                        id: 431
                                        value: left_child
                                  - kind: name
                                    id: 433
                                    name: None
                          - kind: app
                            id: 443
                            opcode: isInternal
                            args:
                              - kind: app
                                id: 442
                                opcode: findNode
                                args:
                                  - kind: name
                                    id: 436
                                    name: t
                                  - kind: app
                                    id: 441
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 439
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 437
                                            name: nId
                                          - kind: str
                                            id: 438
                                            value: key_hash
                                      - kind: int
                                        id: 440
                                        value: 0
                          - kind: bool
                            id: 444
                            value: true
                - kind: str
                  id: 452
                  value: Leaf
                - kind: lambda
                  id: 453
                  params:
                    - id: 454
                      name: _
                  expr:
                    kind: bool
                    id: 447
                    value: true
    depth: 2
  459:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  460:
    kind: def
    id: 458
    name: isDense
    qualifier: puredef
    expr:
      kind: lambda
      id: 457
      params:
        - id: 398
          name: t
      expr:
        kind: app
        id: 456
        opcode: forall
        args:
          - kind: app
            id: 401
            opcode: keys
            args:
              - kind: name
                id: 400
                name: t
          - kind: lambda
            id: 455
            params:
              - id: 402
                name: nId
            expr:
              kind: app
              id: 448
              opcode: matchVariant
              args:
                - kind: app
                  id: 405
                  opcode: get
                  args:
                    - kind: name
                      id: 403
                      name: t
                    - kind: name
                      id: 404
                      name: nId
                - kind: str
                  id: 449
                  value: Internal
                - kind: lambda
                  id: 450
                  params:
                    - id: 451
                      name: n
                  expr:
                    kind: app
                    id: 446
                    opcode: ite
                    args:
                      - kind: app
                        id: 416
                        opcode: and
                        args:
                          - kind: app
                            id: 410
                            opcode: eq
                            args:
                              - kind: app
                                id: 408
                                opcode: field
                                args:
                                  - kind: name
                                    id: 406
                                    name: n
                                  - kind: str
                                    id: 407
                                    value: left_child
                              - kind: name
                                id: 409
                                name: None
                          - kind: app
                            id: 415
                            opcode: neq
                            args:
                              - kind: app
                                id: 413
                                opcode: field
                                args:
                                  - kind: name
                                    id: 411
                                    name: n
                                  - kind: str
                                    id: 412
                                    value: right_child
                              - kind: name
                                id: 414
                                name: None
                      - kind: app
                        id: 424
                        opcode: isInternal
                        args:
                          - kind: app
                            id: 423
                            opcode: findNode
                            args:
                              - kind: name
                                id: 417
                                name: t
                              - kind: app
                                id: 422
                                opcode: append
                                args:
                                  - kind: app
                                    id: 420
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 418
                                        name: nId
                                      - kind: str
                                        id: 419
                                        value: key_hash
                                  - kind: int
                                    id: 421
                                    value: 1
                      - kind: app
                        id: 445
                        opcode: ite
                        args:
                          - kind: app
                            id: 435
                            opcode: and
                            args:
                              - kind: app
                                id: 429
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 427
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 425
                                        name: n
                                      - kind: str
                                        id: 426
                                        value: right_child
                                  - kind: name
                                    id: 428
                                    name: None
                              - kind: app
                                id: 434
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 432
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 430
                                        name: n
                                      - kind: str
                                        id: 431
                                        value: left_child
                                  - kind: name
                                    id: 433
                                    name: None
                          - kind: app
                            id: 443
                            opcode: isInternal
                            args:
                              - kind: app
                                id: 442
                                opcode: findNode
                                args:
                                  - kind: name
                                    id: 436
                                    name: t
                                  - kind: app
                                    id: 441
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 439
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 437
                                            name: nId
                                          - kind: str
                                            id: 438
                                            value: key_hash
                                      - kind: int
                                        id: 440
                                        value: 0
                          - kind: bool
                            id: 444
                            value: true
                - kind: str
                  id: 452
                  value: Leaf
                - kind: lambda
                  id: 453
                  params:
                    - id: 454
                      name: _
                  expr:
                    kind: bool
                    id: 447
                    value: true
    depth: 2
  463:
    kind: def
    id: 463
    name: densityInv
    qualifier: val
    expr:
      kind: let
      id: 462
      opdef:
        id: 458
        name: isDense
        qualifier: puredef
        expr:
          kind: lambda
          id: 457
          params:
            - id: 398
              name: t
          expr:
            kind: app
            id: 456
            opcode: forall
            args:
              - kind: app
                id: 401
                opcode: keys
                args:
                  - kind: name
                    id: 400
                    name: t
              - kind: lambda
                id: 455
                params:
                  - id: 402
                    name: nId
                expr:
                  kind: app
                  id: 448
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 405
                      opcode: get
                      args:
                        - kind: name
                          id: 403
                          name: t
                        - kind: name
                          id: 404
                          name: nId
                    - kind: str
                      id: 449
                      value: Internal
                    - kind: lambda
                      id: 450
                      params:
                        - id: 451
                          name: n
                      expr:
                        kind: app
                        id: 446
                        opcode: ite
                        args:
                          - kind: app
                            id: 416
                            opcode: and
                            args:
                              - kind: app
                                id: 410
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 408
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 406
                                        name: n
                                      - kind: str
                                        id: 407
                                        value: left_child
                                  - kind: name
                                    id: 409
                                    name: None
                              - kind: app
                                id: 415
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 413
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 411
                                        name: n
                                      - kind: str
                                        id: 412
                                        value: right_child
                                  - kind: name
                                    id: 414
                                    name: None
                          - kind: app
                            id: 424
                            opcode: isInternal
                            args:
                              - kind: app
                                id: 423
                                opcode: findNode
                                args:
                                  - kind: name
                                    id: 417
                                    name: t
                                  - kind: app
                                    id: 422
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 420
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 418
                                            name: nId
                                          - kind: str
                                            id: 419
                                            value: key_hash
                                      - kind: int
                                        id: 421
                                        value: 1
                          - kind: app
                            id: 445
                            opcode: ite
                            args:
                              - kind: app
                                id: 435
                                opcode: and
                                args:
                                  - kind: app
                                    id: 429
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 427
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 425
                                            name: n
                                          - kind: str
                                            id: 426
                                            value: right_child
                                      - kind: name
                                        id: 428
                                        name: None
                                  - kind: app
                                    id: 434
                                    opcode: neq
                                    args:
                                      - kind: app
                                        id: 432
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 430
                                            name: n
                                          - kind: str
                                            id: 431
                                            value: left_child
                                      - kind: name
                                        id: 433
                                        name: None
                              - kind: app
                                id: 443
                                opcode: isInternal
                                args:
                                  - kind: app
                                    id: 442
                                    opcode: findNode
                                    args:
                                      - kind: name
                                        id: 436
                                        name: t
                                      - kind: app
                                        id: 441
                                        opcode: append
                                        args:
                                          - kind: app
                                            id: 439
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 437
                                                name: nId
                                              - kind: str
                                                id: 438
                                                value: key_hash
                                          - kind: int
                                            id: 440
                                            value: 0
                              - kind: bool
                                id: 444
                                value: true
                    - kind: str
                      id: 452
                      value: Leaf
                    - kind: lambda
                      id: 453
                      params:
                        - id: 454
                          name: _
                      expr:
                        kind: bool
                        id: 447
                        value: true
        depth: ~
      expr:
        kind: app
        id: 461
        opcode: forall
        args:
          - kind: name
            id: 459
            name: treesToCheck
          - kind: name
            id: 460
            name: isDense
    depth: 0
  472:
    id: 467
    name: l
  476:
    id: 467
    name: l
  478:
    id: 475
    name: i
  483:
    kind: def
    id: 483
    name: allPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 482
      params:
        - id: 467
          name: l
      expr:
        kind: app
        id: 481
        opcode: map
        args:
          - kind: app
            id: 474
            opcode: to
            args:
              - kind: int
                id: 471
                value: 0
              - kind: app
                id: 473
                opcode: length
                args:
                  - kind: name
                    id: 472
                    name: l
          - kind: lambda
            id: 480
            params:
              - id: 475
                name: i
            expr:
              kind: app
              id: 479
              opcode: slice
              args:
                - kind: name
                  id: 476
                  name: l
                - kind: int
                  id: 477
                  value: 0
                - kind: name
                  id: 478
                  name: i
    depth: 2
  484:
    kind: var
    id: 24
    name: tree
  489:
    id: 488
    name: a
  492:
    kind: def
    id: 483
    name: allPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 482
      params:
        - id: 467
          name: l
      expr:
        kind: app
        id: 481
        opcode: map
        args:
          - kind: app
            id: 474
            opcode: to
            args:
              - kind: int
                id: 471
                value: 0
              - kind: app
                id: 473
                opcode: length
                args:
                  - kind: name
                    id: 472
                    name: l
          - kind: lambda
            id: 480
            params:
              - id: 475
                name: i
            expr:
              kind: app
              id: 479
              opcode: slice
              args:
                - kind: name
                  id: 476
                  name: l
                - kind: int
                  id: 477
                  value: 0
                - kind: name
                  id: 478
                  name: i
    depth: 2
  494:
    kind: var
    id: 24
    name: tree
  499:
    id: 493
    name: p
  500:
    id: 498
    name: b
  504:
    id: 498
    name: b
  507:
    id: 488
    name: a
  519:
    kind: def
    id: 519
    name: versionInv
    qualifier: val
    expr:
      kind: let
      id: 518
      opdef:
        id: 483
        name: allPrefixes
        qualifier: puredef
        expr:
          kind: lambda
          id: 482
          params:
            - id: 467
              name: l
          expr:
            kind: app
            id: 481
            opcode: map
            args:
              - kind: app
                id: 474
                opcode: to
                args:
                  - kind: int
                    id: 471
                    value: 0
                  - kind: app
                    id: 473
                    opcode: length
                    args:
                      - kind: name
                        id: 472
                        name: l
              - kind: lambda
                id: 480
                params:
                  - id: 475
                    name: i
                expr:
                  kind: app
                  id: 479
                  opcode: slice
                  args:
                    - kind: name
                      id: 476
                      name: l
                    - kind: int
                      id: 477
                      value: 0
                    - kind: name
                      id: 478
                      name: i
        depth: ~
      expr:
        kind: app
        id: 517
        opcode: forall
        args:
          - kind: app
            id: 487
            opcode: keys
            args:
              - kind: app
                id: 486
                opcode: field
                args:
                  - kind: name
                    id: 484
                    name: tree
                  - kind: str
                    id: 485
                    value: nodes
          - kind: lambda
            id: 516
            params:
              - id: 488
                name: a
            expr:
              kind: app
              id: 515
              opcode: forall
              args:
                - kind: app
                  id: 492
                  opcode: allPrefixes
                  args:
                    - kind: app
                      id: 491
                      opcode: field
                      args:
                        - kind: name
                          id: 489
                          name: a
                        - kind: str
                          id: 490
                          value: key_hash
                - kind: lambda
                  id: 514
                  params:
                    - id: 493
                      name: p
                  expr:
                    kind: app
                    id: 513
                    opcode: exists
                    args:
                      - kind: app
                        id: 497
                        opcode: keys
                        args:
                          - kind: app
                            id: 496
                            opcode: field
                            args:
                              - kind: name
                                id: 494
                                name: tree
                              - kind: str
                                id: 495
                                value: nodes
                      - kind: lambda
                        id: 512
                        params:
                          - id: 498
                            name: b
                        expr:
                          kind: app
                          id: 511
                          opcode: and
                          args:
                            - kind: app
                              id: 503
                              opcode: eq
                              args:
                                - kind: name
                                  id: 499
                                  name: p
                                - kind: app
                                  id: 502
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 500
                                      name: b
                                    - kind: str
                                      id: 501
                                      value: key_hash
                            - kind: app
                              id: 510
                              opcode: igte
                              args:
                                - kind: app
                                  id: 506
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 504
                                      name: b
                                    - kind: str
                                      id: 505
                                      value: version
                                - kind: app
                                  id: 509
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 507
                                      name: a
                                    - kind: str
                                      id: 508
                                      value: version
    depth: 0
  521:
    kind: typedef
    id: 3273
  524:
    id: 522
    name: t
  527:
    id: 522
    name: t
  528:
    id: 526
    name: nId
  530:
    id: 607
    name: n
  533:
    id: 522
    name: t
  536:
    id: 535
    name: a
  539:
    id: 526
    name: nId
  545:
    id: 535
    name: a
  548:
    id: 526
    name: nId
  563:
    kind: def
    id: 563
    name: leftOK
    qualifier: val
    expr:
      kind: app
      id: 556
      opcode: matchVariant
      args:
        - kind: app
          id: 532
          opcode: field
          args:
            - kind: name
              id: 530
              name: n
            - kind: str
              id: 531
              value: left_child
        - kind: str
          id: 557
          value: Some
        - kind: lambda
          id: 558
          params:
            - id: 559
              name: c
          expr:
            kind: app
            id: 554
            opcode: exists
            args:
              - kind: app
                id: 534
                opcode: keys
                args:
                  - kind: name
                    id: 533
                    name: t
              - kind: lambda
                id: 553
                params:
                  - id: 535
                    name: a
                expr:
                  kind: app
                  id: 552
                  opcode: and
                  args:
                    - kind: app
                      id: 544
                      opcode: eq
                      args:
                        - kind: app
                          id: 538
                          opcode: field
                          args:
                            - kind: name
                              id: 536
                              name: a
                            - kind: str
                              id: 537
                              value: key_hash
                        - kind: app
                          id: 543
                          opcode: append
                          args:
                            - kind: app
                              id: 541
                              opcode: field
                              args:
                                - kind: name
                                  id: 539
                                  name: nId
                                - kind: str
                                  id: 540
                                  value: key_hash
                            - kind: int
                              id: 542
                              value: 0
                    - kind: app
                      id: 551
                      opcode: eq
                      args:
                        - kind: app
                          id: 547
                          opcode: field
                          args:
                            - kind: name
                              id: 545
                              name: a
                            - kind: str
                              id: 546
                              value: version
                        - kind: app
                          id: 550
                          opcode: field
                          args:
                            - kind: name
                              id: 548
                              name: nId
                            - kind: str
                              id: 549
                              value: version
        - kind: str
          id: 560
          value: None
        - kind: lambda
          id: 561
          params:
            - id: 562
              name: _
          expr:
            kind: bool
            id: 555
            value: false
    depth: 7
  564:
    id: 607
    name: n
  567:
    id: 522
    name: t
  570:
    id: 569
    name: a
  573:
    id: 526
    name: nId
  579:
    id: 569
    name: a
  582:
    id: 526
    name: nId
  597:
    kind: def
    id: 597
    name: rightOK
    qualifier: val
    expr:
      kind: app
      id: 590
      opcode: matchVariant
      args:
        - kind: app
          id: 566
          opcode: field
          args:
            - kind: name
              id: 564
              name: n
            - kind: str
              id: 565
              value: right_child
        - kind: str
          id: 591
          value: Some
        - kind: lambda
          id: 592
          params:
            - id: 593
              name: c
          expr:
            kind: app
            id: 588
            opcode: exists
            args:
              - kind: app
                id: 568
                opcode: keys
                args:
                  - kind: name
                    id: 567
                    name: t
              - kind: lambda
                id: 587
                params:
                  - id: 569
                    name: a
                expr:
                  kind: app
                  id: 586
                  opcode: and
                  args:
                    - kind: app
                      id: 578
                      opcode: eq
                      args:
                        - kind: app
                          id: 572
                          opcode: field
                          args:
                            - kind: name
                              id: 570
                              name: a
                            - kind: str
                              id: 571
                              value: key_hash
                        - kind: app
                          id: 577
                          opcode: append
                          args:
                            - kind: app
                              id: 575
                              opcode: field
                              args:
                                - kind: name
                                  id: 573
                                  name: nId
                                - kind: str
                                  id: 574
                                  value: key_hash
                            - kind: int
                              id: 576
                              value: 1
                    - kind: app
                      id: 585
                      opcode: eq
                      args:
                        - kind: app
                          id: 581
                          opcode: field
                          args:
                            - kind: name
                              id: 579
                              name: a
                            - kind: str
                              id: 580
                              value: version
                        - kind: app
                          id: 584
                          opcode: field
                          args:
                            - kind: name
                              id: 582
                              name: nId
                            - kind: str
                              id: 583
                              value: version
        - kind: str
          id: 594
          value: None
        - kind: lambda
          id: 595
          params:
            - id: 596
              name: _
          expr:
            kind: bool
            id: 589
            value: false
    depth: 8
  598:
    kind: def
    id: 563
    name: leftOK
    qualifier: val
    expr:
      kind: app
      id: 556
      opcode: matchVariant
      args:
        - kind: app
          id: 532
          opcode: field
          args:
            - kind: name
              id: 530
              name: n
            - kind: str
              id: 531
              value: left_child
        - kind: str
          id: 557
          value: Some
        - kind: lambda
          id: 558
          params:
            - id: 559
              name: c
          expr:
            kind: app
            id: 554
            opcode: exists
            args:
              - kind: app
                id: 534
                opcode: keys
                args:
                  - kind: name
                    id: 533
                    name: t
              - kind: lambda
                id: 553
                params:
                  - id: 535
                    name: a
                expr:
                  kind: app
                  id: 552
                  opcode: and
                  args:
                    - kind: app
                      id: 544
                      opcode: eq
                      args:
                        - kind: app
                          id: 538
                          opcode: field
                          args:
                            - kind: name
                              id: 536
                              name: a
                            - kind: str
                              id: 537
                              value: key_hash
                        - kind: app
                          id: 543
                          opcode: append
                          args:
                            - kind: app
                              id: 541
                              opcode: field
                              args:
                                - kind: name
                                  id: 539
                                  name: nId
                                - kind: str
                                  id: 540
                                  value: key_hash
                            - kind: int
                              id: 542
                              value: 0
                    - kind: app
                      id: 551
                      opcode: eq
                      args:
                        - kind: app
                          id: 547
                          opcode: field
                          args:
                            - kind: name
                              id: 545
                              name: a
                            - kind: str
                              id: 546
                              value: version
                        - kind: app
                          id: 550
                          opcode: field
                          args:
                            - kind: name
                              id: 548
                              name: nId
                            - kind: str
                              id: 549
                              value: version
        - kind: str
          id: 560
          value: None
        - kind: lambda
          id: 561
          params:
            - id: 562
              name: _
          expr:
            kind: bool
            id: 555
            value: false
    depth: 7
  599:
    kind: def
    id: 597
    name: rightOK
    qualifier: val
    expr:
      kind: app
      id: 590
      opcode: matchVariant
      args:
        - kind: app
          id: 566
          opcode: field
          args:
            - kind: name
              id: 564
              name: n
            - kind: str
              id: 565
              value: right_child
        - kind: str
          id: 591
          value: Some
        - kind: lambda
          id: 592
          params:
            - id: 593
              name: c
          expr:
            kind: app
            id: 588
            opcode: exists
            args:
              - kind: app
                id: 568
                opcode: keys
                args:
                  - kind: name
                    id: 567
                    name: t
              - kind: lambda
                id: 587
                params:
                  - id: 569
                    name: a
                expr:
                  kind: app
                  id: 586
                  opcode: and
                  args:
                    - kind: app
                      id: 578
                      opcode: eq
                      args:
                        - kind: app
                          id: 572
                          opcode: field
                          args:
                            - kind: name
                              id: 570
                              name: a
                            - kind: str
                              id: 571
                              value: key_hash
                        - kind: app
                          id: 577
                          opcode: append
                          args:
                            - kind: app
                              id: 575
                              opcode: field
                              args:
                                - kind: name
                                  id: 573
                                  name: nId
                                - kind: str
                                  id: 574
                                  value: key_hash
                            - kind: int
                              id: 576
                              value: 1
                    - kind: app
                      id: 585
                      opcode: eq
                      args:
                        - kind: app
                          id: 581
                          opcode: field
                          args:
                            - kind: name
                              id: 579
                              name: a
                            - kind: str
                              id: 580
                              value: version
                        - kind: app
                          id: 584
                          opcode: field
                          args:
                            - kind: name
                              id: 582
                              name: nId
                            - kind: str
                              id: 583
                              value: version
        - kind: str
          id: 594
          value: None
        - kind: lambda
          id: 595
          params:
            - id: 596
              name: _
          expr:
            kind: bool
            id: 589
            value: false
    depth: 8
  614:
    kind: def
    id: 614
    name: denseVersions
    qualifier: def
    expr:
      kind: lambda
      id: 613
      params:
        - id: 522
          name: t
      expr:
        kind: app
        id: 612
        opcode: forall
        args:
          - kind: app
            id: 525
            opcode: keys
            args:
              - kind: name
                id: 524
                name: t
          - kind: lambda
            id: 611
            params:
              - id: 526
                name: nId
            expr:
              kind: app
              id: 604
              opcode: matchVariant
              args:
                - kind: app
                  id: 529
                  opcode: get
                  args:
                    - kind: name
                      id: 527
                      name: t
                    - kind: name
                      id: 528
                      name: nId
                - kind: str
                  id: 605
                  value: Internal
                - kind: lambda
                  id: 606
                  params:
                    - id: 607
                      name: n
                  expr:
                    kind: let
                    id: 602
                    opdef:
                      id: 563
                      name: leftOK
                      qualifier: val
                      expr:
                        kind: app
                        id: 556
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 532
                            opcode: field
                            args:
                              - kind: name
                                id: 530
                                name: n
                              - kind: str
                                id: 531
                                value: left_child
                          - kind: str
                            id: 557
                            value: Some
                          - kind: lambda
                            id: 558
                            params:
                              - id: 559
                                name: c
                            expr:
                              kind: app
                              id: 554
                              opcode: exists
                              args:
                                - kind: app
                                  id: 534
                                  opcode: keys
                                  args:
                                    - kind: name
                                      id: 533
                                      name: t
                                - kind: lambda
                                  id: 553
                                  params:
                                    - id: 535
                                      name: a
                                  expr:
                                    kind: app
                                    id: 552
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 544
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 538
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 536
                                                name: a
                                              - kind: str
                                                id: 537
                                                value: key_hash
                                          - kind: app
                                            id: 543
                                            opcode: append
                                            args:
                                              - kind: app
                                                id: 541
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 539
                                                    name: nId
                                                  - kind: str
                                                    id: 540
                                                    value: key_hash
                                              - kind: int
                                                id: 542
                                                value: 0
                                      - kind: app
                                        id: 551
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 547
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 545
                                                name: a
                                              - kind: str
                                                id: 546
                                                value: version
                                          - kind: app
                                            id: 550
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 548
                                                name: nId
                                              - kind: str
                                                id: 549
                                                value: version
                          - kind: str
                            id: 560
                            value: None
                          - kind: lambda
                            id: 561
                            params:
                              - id: 562
                                name: _
                            expr:
                              kind: bool
                              id: 555
                              value: false
                      depth: ~
                    expr:
                      kind: let
                      id: 601
                      opdef:
                        id: 597
                        name: rightOK
                        qualifier: val
                        expr:
                          kind: app
                          id: 590
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 566
                              opcode: field
                              args:
                                - kind: name
                                  id: 564
                                  name: n
                                - kind: str
                                  id: 565
                                  value: right_child
                            - kind: str
                              id: 591
                              value: Some
                            - kind: lambda
                              id: 592
                              params:
                                - id: 593
                                  name: c
                              expr:
                                kind: app
                                id: 588
                                opcode: exists
                                args:
                                  - kind: app
                                    id: 568
                                    opcode: keys
                                    args:
                                      - kind: name
                                        id: 567
                                        name: t
                                  - kind: lambda
                                    id: 587
                                    params:
                                      - id: 569
                                        name: a
                                    expr:
                                      kind: app
                                      id: 586
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 578
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 572
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 570
                                                  name: a
                                                - kind: str
                                                  id: 571
                                                  value: key_hash
                                            - kind: app
                                              id: 577
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 575
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 573
                                                      name: nId
                                                    - kind: str
                                                      id: 574
                                                      value: key_hash
                                                - kind: int
                                                  id: 576
                                                  value: 1
                                        - kind: app
                                          id: 585
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 581
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 579
                                                  name: a
                                                - kind: str
                                                  id: 580
                                                  value: version
                                            - kind: app
                                              id: 584
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 582
                                                  name: nId
                                                - kind: str
                                                  id: 583
                                                  value: version
                            - kind: str
                              id: 594
                              value: None
                            - kind: lambda
                              id: 595
                              params:
                                - id: 596
                                  name: _
                              expr:
                                kind: bool
                                id: 589
                                value: false
                        depth: ~
                      expr:
                        kind: app
                        id: 600
                        opcode: or
                        args:
                          - kind: name
                            id: 598
                            name: leftOK
                          - kind: name
                            id: 599
                            name: rightOK
                - kind: str
                  id: 608
                  value: Leaf
                - kind: lambda
                  id: 609
                  params:
                    - id: 610
                      name: _
                  expr:
                    kind: bool
                    id: 603
                    value: true
    depth: 2
  615:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  616:
    kind: def
    id: 614
    name: denseVersions
    qualifier: def
    expr:
      kind: lambda
      id: 613
      params:
        - id: 522
          name: t
      expr:
        kind: app
        id: 612
        opcode: forall
        args:
          - kind: app
            id: 525
            opcode: keys
            args:
              - kind: name
                id: 524
                name: t
          - kind: lambda
            id: 611
            params:
              - id: 526
                name: nId
            expr:
              kind: app
              id: 604
              opcode: matchVariant
              args:
                - kind: app
                  id: 529
                  opcode: get
                  args:
                    - kind: name
                      id: 527
                      name: t
                    - kind: name
                      id: 528
                      name: nId
                - kind: str
                  id: 605
                  value: Internal
                - kind: lambda
                  id: 606
                  params:
                    - id: 607
                      name: n
                  expr:
                    kind: let
                    id: 602
                    opdef:
                      id: 563
                      name: leftOK
                      qualifier: val
                      expr:
                        kind: app
                        id: 556
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 532
                            opcode: field
                            args:
                              - kind: name
                                id: 530
                                name: n
                              - kind: str
                                id: 531
                                value: left_child
                          - kind: str
                            id: 557
                            value: Some
                          - kind: lambda
                            id: 558
                            params:
                              - id: 559
                                name: c
                            expr:
                              kind: app
                              id: 554
                              opcode: exists
                              args:
                                - kind: app
                                  id: 534
                                  opcode: keys
                                  args:
                                    - kind: name
                                      id: 533
                                      name: t
                                - kind: lambda
                                  id: 553
                                  params:
                                    - id: 535
                                      name: a
                                  expr:
                                    kind: app
                                    id: 552
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 544
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 538
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 536
                                                name: a
                                              - kind: str
                                                id: 537
                                                value: key_hash
                                          - kind: app
                                            id: 543
                                            opcode: append
                                            args:
                                              - kind: app
                                                id: 541
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 539
                                                    name: nId
                                                  - kind: str
                                                    id: 540
                                                    value: key_hash
                                              - kind: int
                                                id: 542
                                                value: 0
                                      - kind: app
                                        id: 551
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 547
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 545
                                                name: a
                                              - kind: str
                                                id: 546
                                                value: version
                                          - kind: app
                                            id: 550
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 548
                                                name: nId
                                              - kind: str
                                                id: 549
                                                value: version
                          - kind: str
                            id: 560
                            value: None
                          - kind: lambda
                            id: 561
                            params:
                              - id: 562
                                name: _
                            expr:
                              kind: bool
                              id: 555
                              value: false
                      depth: ~
                    expr:
                      kind: let
                      id: 601
                      opdef:
                        id: 597
                        name: rightOK
                        qualifier: val
                        expr:
                          kind: app
                          id: 590
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 566
                              opcode: field
                              args:
                                - kind: name
                                  id: 564
                                  name: n
                                - kind: str
                                  id: 565
                                  value: right_child
                            - kind: str
                              id: 591
                              value: Some
                            - kind: lambda
                              id: 592
                              params:
                                - id: 593
                                  name: c
                              expr:
                                kind: app
                                id: 588
                                opcode: exists
                                args:
                                  - kind: app
                                    id: 568
                                    opcode: keys
                                    args:
                                      - kind: name
                                        id: 567
                                        name: t
                                  - kind: lambda
                                    id: 587
                                    params:
                                      - id: 569
                                        name: a
                                    expr:
                                      kind: app
                                      id: 586
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 578
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 572
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 570
                                                  name: a
                                                - kind: str
                                                  id: 571
                                                  value: key_hash
                                            - kind: app
                                              id: 577
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 575
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 573
                                                      name: nId
                                                    - kind: str
                                                      id: 574
                                                      value: key_hash
                                                - kind: int
                                                  id: 576
                                                  value: 1
                                        - kind: app
                                          id: 585
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 581
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 579
                                                  name: a
                                                - kind: str
                                                  id: 580
                                                  value: version
                                            - kind: app
                                              id: 584
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 582
                                                  name: nId
                                                - kind: str
                                                  id: 583
                                                  value: version
                            - kind: str
                              id: 594
                              value: None
                            - kind: lambda
                              id: 595
                              params:
                                - id: 596
                                  name: _
                              expr:
                                kind: bool
                                id: 589
                                value: false
                        depth: ~
                      expr:
                        kind: app
                        id: 600
                        opcode: or
                        args:
                          - kind: name
                            id: 598
                            name: leftOK
                          - kind: name
                            id: 599
                            name: rightOK
                - kind: str
                  id: 608
                  value: Leaf
                - kind: lambda
                  id: 609
                  params:
                    - id: 610
                      name: _
                  expr:
                    kind: bool
                    id: 603
                    value: true
    depth: 2
  619:
    kind: def
    id: 619
    name: denseVersionsInv
    qualifier: val
    expr:
      kind: let
      id: 618
      opdef:
        id: 614
        name: denseVersions
        qualifier: def
        expr:
          kind: lambda
          id: 613
          params:
            - id: 522
              name: t
          expr:
            kind: app
            id: 612
            opcode: forall
            args:
              - kind: app
                id: 525
                opcode: keys
                args:
                  - kind: name
                    id: 524
                    name: t
              - kind: lambda
                id: 611
                params:
                  - id: 526
                    name: nId
                expr:
                  kind: app
                  id: 604
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 529
                      opcode: get
                      args:
                        - kind: name
                          id: 527
                          name: t
                        - kind: name
                          id: 528
                          name: nId
                    - kind: str
                      id: 605
                      value: Internal
                    - kind: lambda
                      id: 606
                      params:
                        - id: 607
                          name: n
                      expr:
                        kind: let
                        id: 602
                        opdef:
                          id: 563
                          name: leftOK
                          qualifier: val
                          expr:
                            kind: app
                            id: 556
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 532
                                opcode: field
                                args:
                                  - kind: name
                                    id: 530
                                    name: n
                                  - kind: str
                                    id: 531
                                    value: left_child
                              - kind: str
                                id: 557
                                value: Some
                              - kind: lambda
                                id: 558
                                params:
                                  - id: 559
                                    name: c
                                expr:
                                  kind: app
                                  id: 554
                                  opcode: exists
                                  args:
                                    - kind: app
                                      id: 534
                                      opcode: keys
                                      args:
                                        - kind: name
                                          id: 533
                                          name: t
                                    - kind: lambda
                                      id: 553
                                      params:
                                        - id: 535
                                          name: a
                                      expr:
                                        kind: app
                                        id: 552
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 544
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 538
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 536
                                                    name: a
                                                  - kind: str
                                                    id: 537
                                                    value: key_hash
                                              - kind: app
                                                id: 543
                                                opcode: append
                                                args:
                                                  - kind: app
                                                    id: 541
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 539
                                                        name: nId
                                                      - kind: str
                                                        id: 540
                                                        value: key_hash
                                                  - kind: int
                                                    id: 542
                                                    value: 0
                                          - kind: app
                                            id: 551
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 547
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 545
                                                    name: a
                                                  - kind: str
                                                    id: 546
                                                    value: version
                                              - kind: app
                                                id: 550
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 548
                                                    name: nId
                                                  - kind: str
                                                    id: 549
                                                    value: version
                              - kind: str
                                id: 560
                                value: None
                              - kind: lambda
                                id: 561
                                params:
                                  - id: 562
                                    name: _
                                expr:
                                  kind: bool
                                  id: 555
                                  value: false
                          depth: ~
                        expr:
                          kind: let
                          id: 601
                          opdef:
                            id: 597
                            name: rightOK
                            qualifier: val
                            expr:
                              kind: app
                              id: 590
                              opcode: matchVariant
                              args:
                                - kind: app
                                  id: 566
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 564
                                      name: n
                                    - kind: str
                                      id: 565
                                      value: right_child
                                - kind: str
                                  id: 591
                                  value: Some
                                - kind: lambda
                                  id: 592
                                  params:
                                    - id: 593
                                      name: c
                                  expr:
                                    kind: app
                                    id: 588
                                    opcode: exists
                                    args:
                                      - kind: app
                                        id: 568
                                        opcode: keys
                                        args:
                                          - kind: name
                                            id: 567
                                            name: t
                                      - kind: lambda
                                        id: 587
                                        params:
                                          - id: 569
                                            name: a
                                        expr:
                                          kind: app
                                          id: 586
                                          opcode: and
                                          args:
                                            - kind: app
                                              id: 578
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 572
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 570
                                                      name: a
                                                    - kind: str
                                                      id: 571
                                                      value: key_hash
                                                - kind: app
                                                  id: 577
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 575
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 573
                                                          name: nId
                                                        - kind: str
                                                          id: 574
                                                          value: key_hash
                                                    - kind: int
                                                      id: 576
                                                      value: 1
                                            - kind: app
                                              id: 585
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 581
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 579
                                                      name: a
                                                    - kind: str
                                                      id: 580
                                                      value: version
                                                - kind: app
                                                  id: 584
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 582
                                                      name: nId
                                                    - kind: str
                                                      id: 583
                                                      value: version
                                - kind: str
                                  id: 594
                                  value: None
                                - kind: lambda
                                  id: 595
                                  params:
                                    - id: 596
                                      name: _
                                  expr:
                                    kind: bool
                                    id: 589
                                    value: false
                            depth: ~
                          expr:
                            kind: app
                            id: 600
                            opcode: or
                            args:
                              - kind: name
                                id: 598
                                name: leftOK
                              - kind: name
                                id: 599
                                name: rightOK
                    - kind: str
                      id: 608
                      value: Leaf
                    - kind: lambda
                      id: 609
                      params:
                        - id: 610
                          name: _
                      expr:
                        kind: bool
                        id: 603
                        value: true
        depth: ~
      expr:
        kind: app
        id: 617
        opcode: forall
        args:
          - kind: name
            id: 615
            name: treesToCheck
          - kind: name
            id: 616
            name: denseVersions
    depth: 0
  621:
    kind: var
    id: 24
    name: tree
  625:
    id: 624
    name: o
  629:
    id: 624
    name: o
  634:
    kind: def
    id: 634
    name: nodeId
    qualifier: val
    expr:
      kind: app
      id: 633
      opcode: Rec
      args:
        - kind: str
          id: 628
          value: version
        - kind: app
          id: 627
          opcode: field
          args:
            - kind: name
              id: 625
              name: o
            - kind: str
              id: 626
              value: version
        - kind: str
          id: 632
          value: key_hash
        - kind: app
          id: 631
          opcode: field
          args:
            - kind: name
              id: 629
              name: o
            - kind: str
              id: 630
              value: key_hash
    depth: 3
  635:
    id: 624
    name: o
  638:
    kind: var
    id: 24
    name: tree
  639:
    kind: def
    id: 3511
    name: treeVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3510
      params:
        - id: 3480
          name: t
      expr:
        kind: app
        id: 3509
        opcode: fold
        args:
          - kind: app
            id: 3493
            opcode: filter
            args:
              - kind: app
                id: 3485
                opcode: keys
                args:
                  - kind: app
                    id: 3484
                    opcode: field
                    args:
                      - kind: name
                        id: 3482
                        name: t
                      - kind: str
                        id: 3483
                        value: nodes
              - kind: lambda
                id: 3492
                params:
                  - id: 3486
                    name: nId
                expr:
                  kind: app
                  id: 3491
                  opcode: eq
                  args:
                    - kind: app
                      id: 3489
                      opcode: field
                      args:
                        - kind: name
                          id: 3487
                          name: nId
                        - kind: str
                          id: 3488
                          value: key_hash
                    - kind: app
                      id: 3490
                      opcode: List
                      args: []
          - kind: app
            id: 3495
            opcode: iuminus
            args:
              - kind: int
                id: 3494
                value: 1
          - kind: lambda
            id: 3508
            params:
              - id: 3496
                name: s
              - id: 3497
                name: x
            expr:
              kind: app
              id: 3507
              opcode: ite
              args:
                - kind: app
                  id: 3502
                  opcode: igt
                  args:
                    - kind: app
                      id: 3500
                      opcode: field
                      args:
                        - kind: name
                          id: 3498
                          name: x
                        - kind: str
                          id: 3499
                          value: version
                    - kind: name
                      id: 3501
                      name: s
                - kind: app
                  id: 3505
                  opcode: field
                  args:
                    - kind: name
                      id: 3503
                      name: x
                    - kind: str
                      id: 3504
                      value: version
                - kind: name
                  id: 3506
                  name: s
    depth: 0
  642:
    kind: var
    id: 24
    name: tree
  643:
    id: 641
    name: ver
  644:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  646:
    kind: def
    id: 634
    name: nodeId
    qualifier: val
    expr:
      kind: app
      id: 633
      opcode: Rec
      args:
        - kind: str
          id: 628
          value: version
        - kind: app
          id: 627
          opcode: field
          args:
            - kind: name
              id: 625
              name: o
            - kind: str
              id: 626
              value: version
        - kind: str
          id: 632
          value: key_hash
        - kind: app
          id: 631
          opcode: field
          args:
            - kind: name
              id: 629
              name: o
            - kind: str
              id: 630
              value: key_hash
    depth: 3
  654:
    kind: def
    id: 654
    name: orphansInNoTreeInv
    qualifier: val
    expr:
      kind: app
      id: 653
      opcode: forall
      args:
        - kind: app
          id: 623
          opcode: field
          args:
            - kind: name
              id: 621
              name: tree
            - kind: str
              id: 622
              value: orphans
        - kind: lambda
          id: 652
          params:
            - id: 624
              name: o
          expr:
            kind: let
            id: 651
            opdef:
              id: 634
              name: nodeId
              qualifier: val
              expr:
                kind: app
                id: 633
                opcode: Rec
                args:
                  - kind: str
                    id: 628
                    value: version
                  - kind: app
                    id: 627
                    opcode: field
                    args:
                      - kind: name
                        id: 625
                        name: o
                      - kind: str
                        id: 626
                        value: version
                  - kind: str
                    id: 632
                    value: key_hash
                  - kind: app
                    id: 631
                    opcode: field
                    args:
                      - kind: name
                        id: 629
                        name: o
                      - kind: str
                        id: 630
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 650
              opcode: forall
              args:
                - kind: app
                  id: 640
                  opcode: to
                  args:
                    - kind: app
                      id: 637
                      opcode: field
                      args:
                        - kind: name
                          id: 635
                          name: o
                        - kind: str
                          id: 636
                          value: orphaned_since_version
                    - kind: app
                      id: 639
                      opcode: treeVersion
                      args:
                        - kind: name
                          id: 638
                          name: tree
                - kind: lambda
                  id: 649
                  params:
                    - id: 641
                      name: ver
                  expr:
                    kind: app
                    id: 648
                    opcode: not
                    args:
                      - kind: app
                        id: 647
                        opcode: contains
                        args:
                          - kind: app
                            id: 645
                            opcode: keys
                            args:
                              - kind: app
                                id: 644
                                opcode: treeAtVersion
                                args:
                                  - kind: name
                                    id: 642
                                    name: tree
                                  - kind: name
                                    id: 643
                                    name: ver
                          - kind: name
                            id: 646
                            name: nodeId
    depth: 0
  656:
    kind: typedef
    id: 3273
  659:
    id: 657
    name: t
  662:
    id: 657
    name: t
  663:
    id: 661
    name: nID
  666:
    id: 719
    name: n
  670:
    id: 688
    name: c
  673:
    id: 657
    name: t
  674:
    id: 661
    name: nID
  679:
    kind: def
    id: 3765
    name: findNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3764
      params:
        - id: 3744
          name: t
        - id: 3746
          name: key_hash
      expr:
        kind: let
        id: 3763
        opdef:
          id: 3759
          name: nodeId
          qualifier: pureval
          expr:
            kind: app
            id: 3758
            opcode: getOnlyElement
            args:
              - kind: app
                id: 3757
                opcode: filter
                args:
                  - kind: app
                    id: 3749
                    opcode: keys
                    args:
                      - kind: name
                        id: 3748
                        name: t
                  - kind: lambda
                    id: 3756
                    params:
                      - id: 3750
                        name: n
                    expr:
                      kind: app
                      id: 3755
                      opcode: eq
                      args:
                        - kind: app
                          id: 3753
                          opcode: field
                          args:
                            - kind: name
                              id: 3751
                              name: n
                            - kind: str
                              id: 3752
                              value: key_hash
                        - kind: name
                          id: 3754
                          name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3762
          opcode: get
          args:
            - kind: name
              id: 3760
              name: t
            - kind: name
              id: 3761
              name: nodeId
    depth: 0
  680:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  689:
    id: 719
    name: n
  693:
    id: 711
    name: c
  696:
    id: 657
    name: t
  697:
    id: 661
    name: nID
  702:
    kind: def
    id: 3765
    name: findNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3764
      params:
        - id: 3744
          name: t
        - id: 3746
          name: key_hash
      expr:
        kind: let
        id: 3763
        opdef:
          id: 3759
          name: nodeId
          qualifier: pureval
          expr:
            kind: app
            id: 3758
            opcode: getOnlyElement
            args:
              - kind: app
                id: 3757
                opcode: filter
                args:
                  - kind: app
                    id: 3749
                    opcode: keys
                    args:
                      - kind: name
                        id: 3748
                        name: t
                  - kind: lambda
                    id: 3756
                    params:
                      - id: 3750
                        name: n
                    expr:
                      kind: app
                      id: 3755
                      opcode: eq
                      args:
                        - kind: app
                          id: 3753
                          opcode: field
                          args:
                            - kind: name
                              id: 3751
                              name: n
                            - kind: str
                              id: 3752
                              value: key_hash
                        - kind: name
                          id: 3754
                          name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3762
          opcode: get
          args:
            - kind: name
              id: 3760
              name: t
            - kind: name
              id: 3761
              name: nodeId
    depth: 0
  703:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  723:
    kind: def
    id: 723
    name: properlyHashed
    qualifier: puredef
    expr:
      kind: lambda
      id: 722
      params:
        - id: 657
          name: t
      expr:
        kind: app
        id: 721
        opcode: forall
        args:
          - kind: app
            id: 660
            opcode: keys
            args:
              - kind: name
                id: 659
                name: t
          - kind: lambda
            id: 720
            params:
              - id: 661
                name: nID
            expr:
              kind: app
              id: 713
              opcode: matchVariant
              args:
                - kind: app
                  id: 664
                  opcode: get
                  args:
                    - kind: name
                      id: 662
                      name: t
                    - kind: name
                      id: 663
                      name: nID
                - kind: str
                  id: 714
                  value: Leaf
                - kind: lambda
                  id: 715
                  params:
                    - id: 716
                      name: _
                  expr:
                    kind: bool
                    id: 665
                    value: true
                - kind: str
                  id: 717
                  value: Internal
                - kind: lambda
                  id: 718
                  params:
                    - id: 719
                      name: n
                  expr:
                    kind: app
                    id: 712
                    opcode: and
                    args:
                      - kind: app
                        id: 682
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 668
                            opcode: field
                            args:
                              - kind: name
                                id: 666
                                name: n
                              - kind: str
                                id: 667
                                value: left_child
                          - kind: str
                            id: 683
                            value: None
                          - kind: lambda
                            id: 684
                            params:
                              - id: 685
                                name: _
                            expr:
                              kind: bool
                              id: 669
                              value: true
                          - kind: str
                            id: 686
                            value: Some
                          - kind: lambda
                            id: 687
                            params:
                              - id: 688
                                name: c
                            expr:
                              kind: app
                              id: 681
                              opcode: eq
                              args:
                                - kind: app
                                  id: 672
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 670
                                      name: c
                                    - kind: str
                                      id: 671
                                      value: hash
                                - kind: app
                                  id: 680
                                  opcode: hash
                                  args:
                                    - kind: app
                                      id: 679
                                      opcode: findNode
                                      args:
                                        - kind: name
                                          id: 673
                                          name: t
                                        - kind: app
                                          id: 678
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 676
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 674
                                                  name: nID
                                                - kind: str
                                                  id: 675
                                                  value: key_hash
                                            - kind: int
                                              id: 677
                                              value: 0
                      - kind: app
                        id: 705
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 691
                            opcode: field
                            args:
                              - kind: name
                                id: 689
                                name: n
                              - kind: str
                                id: 690
                                value: right_child
                          - kind: str
                            id: 706
                            value: None
                          - kind: lambda
                            id: 707
                            params:
                              - id: 708
                                name: _
                            expr:
                              kind: bool
                              id: 692
                              value: true
                          - kind: str
                            id: 709
                            value: Some
                          - kind: lambda
                            id: 710
                            params:
                              - id: 711
                                name: c
                            expr:
                              kind: app
                              id: 704
                              opcode: eq
                              args:
                                - kind: app
                                  id: 695
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 693
                                      name: c
                                    - kind: str
                                      id: 694
                                      value: hash
                                - kind: app
                                  id: 703
                                  opcode: hash
                                  args:
                                    - kind: app
                                      id: 702
                                      opcode: findNode
                                      args:
                                        - kind: name
                                          id: 696
                                          name: t
                                        - kind: app
                                          id: 701
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 699
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 697
                                                  name: nID
                                                - kind: str
                                                  id: 698
                                                  value: key_hash
                                            - kind: int
                                              id: 700
                                              value: 1
    depth: 2
  724:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  725:
    kind: def
    id: 723
    name: properlyHashed
    qualifier: puredef
    expr:
      kind: lambda
      id: 722
      params:
        - id: 657
          name: t
      expr:
        kind: app
        id: 721
        opcode: forall
        args:
          - kind: app
            id: 660
            opcode: keys
            args:
              - kind: name
                id: 659
                name: t
          - kind: lambda
            id: 720
            params:
              - id: 661
                name: nID
            expr:
              kind: app
              id: 713
              opcode: matchVariant
              args:
                - kind: app
                  id: 664
                  opcode: get
                  args:
                    - kind: name
                      id: 662
                      name: t
                    - kind: name
                      id: 663
                      name: nID
                - kind: str
                  id: 714
                  value: Leaf
                - kind: lambda
                  id: 715
                  params:
                    - id: 716
                      name: _
                  expr:
                    kind: bool
                    id: 665
                    value: true
                - kind: str
                  id: 717
                  value: Internal
                - kind: lambda
                  id: 718
                  params:
                    - id: 719
                      name: n
                  expr:
                    kind: app
                    id: 712
                    opcode: and
                    args:
                      - kind: app
                        id: 682
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 668
                            opcode: field
                            args:
                              - kind: name
                                id: 666
                                name: n
                              - kind: str
                                id: 667
                                value: left_child
                          - kind: str
                            id: 683
                            value: None
                          - kind: lambda
                            id: 684
                            params:
                              - id: 685
                                name: _
                            expr:
                              kind: bool
                              id: 669
                              value: true
                          - kind: str
                            id: 686
                            value: Some
                          - kind: lambda
                            id: 687
                            params:
                              - id: 688
                                name: c
                            expr:
                              kind: app
                              id: 681
                              opcode: eq
                              args:
                                - kind: app
                                  id: 672
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 670
                                      name: c
                                    - kind: str
                                      id: 671
                                      value: hash
                                - kind: app
                                  id: 680
                                  opcode: hash
                                  args:
                                    - kind: app
                                      id: 679
                                      opcode: findNode
                                      args:
                                        - kind: name
                                          id: 673
                                          name: t
                                        - kind: app
                                          id: 678
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 676
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 674
                                                  name: nID
                                                - kind: str
                                                  id: 675
                                                  value: key_hash
                                            - kind: int
                                              id: 677
                                              value: 0
                      - kind: app
                        id: 705
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 691
                            opcode: field
                            args:
                              - kind: name
                                id: 689
                                name: n
                              - kind: str
                                id: 690
                                value: right_child
                          - kind: str
                            id: 706
                            value: None
                          - kind: lambda
                            id: 707
                            params:
                              - id: 708
                                name: _
                            expr:
                              kind: bool
                              id: 692
                              value: true
                          - kind: str
                            id: 709
                            value: Some
                          - kind: lambda
                            id: 710
                            params:
                              - id: 711
                                name: c
                            expr:
                              kind: app
                              id: 704
                              opcode: eq
                              args:
                                - kind: app
                                  id: 695
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 693
                                      name: c
                                    - kind: str
                                      id: 694
                                      value: hash
                                - kind: app
                                  id: 703
                                  opcode: hash
                                  args:
                                    - kind: app
                                      id: 702
                                      opcode: findNode
                                      args:
                                        - kind: name
                                          id: 696
                                          name: t
                                        - kind: app
                                          id: 701
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 699
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 697
                                                  name: nID
                                                - kind: str
                                                  id: 698
                                                  value: key_hash
                                            - kind: int
                                              id: 700
                                              value: 1
    depth: 2
  728:
    kind: def
    id: 728
    name: hashInv
    qualifier: val
    expr:
      kind: let
      id: 727
      opdef:
        id: 723
        name: properlyHashed
        qualifier: puredef
        expr:
          kind: lambda
          id: 722
          params:
            - id: 657
              name: t
          expr:
            kind: app
            id: 721
            opcode: forall
            args:
              - kind: app
                id: 660
                opcode: keys
                args:
                  - kind: name
                    id: 659
                    name: t
              - kind: lambda
                id: 720
                params:
                  - id: 661
                    name: nID
                expr:
                  kind: app
                  id: 713
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 664
                      opcode: get
                      args:
                        - kind: name
                          id: 662
                          name: t
                        - kind: name
                          id: 663
                          name: nID
                    - kind: str
                      id: 714
                      value: Leaf
                    - kind: lambda
                      id: 715
                      params:
                        - id: 716
                          name: _
                      expr:
                        kind: bool
                        id: 665
                        value: true
                    - kind: str
                      id: 717
                      value: Internal
                    - kind: lambda
                      id: 718
                      params:
                        - id: 719
                          name: n
                      expr:
                        kind: app
                        id: 712
                        opcode: and
                        args:
                          - kind: app
                            id: 682
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 668
                                opcode: field
                                args:
                                  - kind: name
                                    id: 666
                                    name: n
                                  - kind: str
                                    id: 667
                                    value: left_child
                              - kind: str
                                id: 683
                                value: None
                              - kind: lambda
                                id: 684
                                params:
                                  - id: 685
                                    name: _
                                expr:
                                  kind: bool
                                  id: 669
                                  value: true
                              - kind: str
                                id: 686
                                value: Some
                              - kind: lambda
                                id: 687
                                params:
                                  - id: 688
                                    name: c
                                expr:
                                  kind: app
                                  id: 681
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 672
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 670
                                          name: c
                                        - kind: str
                                          id: 671
                                          value: hash
                                    - kind: app
                                      id: 680
                                      opcode: hash
                                      args:
                                        - kind: app
                                          id: 679
                                          opcode: findNode
                                          args:
                                            - kind: name
                                              id: 673
                                              name: t
                                            - kind: app
                                              id: 678
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 676
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 674
                                                      name: nID
                                                    - kind: str
                                                      id: 675
                                                      value: key_hash
                                                - kind: int
                                                  id: 677
                                                  value: 0
                          - kind: app
                            id: 705
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 691
                                opcode: field
                                args:
                                  - kind: name
                                    id: 689
                                    name: n
                                  - kind: str
                                    id: 690
                                    value: right_child
                              - kind: str
                                id: 706
                                value: None
                              - kind: lambda
                                id: 707
                                params:
                                  - id: 708
                                    name: _
                                expr:
                                  kind: bool
                                  id: 692
                                  value: true
                              - kind: str
                                id: 709
                                value: Some
                              - kind: lambda
                                id: 710
                                params:
                                  - id: 711
                                    name: c
                                expr:
                                  kind: app
                                  id: 704
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 695
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 693
                                          name: c
                                        - kind: str
                                          id: 694
                                          value: hash
                                    - kind: app
                                      id: 703
                                      opcode: hash
                                      args:
                                        - kind: app
                                          id: 702
                                          opcode: findNode
                                          args:
                                            - kind: name
                                              id: 696
                                              name: t
                                            - kind: app
                                              id: 701
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 699
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 697
                                                      name: nID
                                                    - kind: str
                                                      id: 698
                                                      value: key_hash
                                                - kind: int
                                                  id: 700
                                                  value: 1
        depth: ~
      expr:
        kind: app
        id: 726
        opcode: forall
        args:
          - kind: name
            id: 724
            name: treesToCheck
          - kind: name
            id: 725
            name: properlyHashed
    depth: 0
  730:
    kind: typedef
    id: 3273
  733:
    id: 731
    name: t
  734:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  738:
    id: 737
    name: node
  739:
    id: 777
    name: n
  742:
    id: 736
    name: acc
  743:
    id: 736
    name: acc
  744:
    id: 754
    name: c
  755:
    kind: def
    id: 755
    name: acc_1
    qualifier: pureval
    expr:
      kind: app
      id: 748
      opcode: matchVariant
      args:
        - kind: app
          id: 741
          opcode: field
          args:
            - kind: name
              id: 739
              name: n
            - kind: str
              id: 740
              value: left_child
        - kind: str
          id: 749
          value: None
        - kind: lambda
          id: 750
          params:
            - id: 751
              name: _
          expr:
            kind: name
            id: 742
            name: acc
        - kind: str
          id: 752
          value: Some
        - kind: lambda
          id: 753
          params:
            - id: 754
              name: c
          expr:
            kind: app
            id: 747
            opcode: append
            args:
              - kind: name
                id: 743
                name: acc
              - kind: app
                id: 746
                opcode: field
                args:
                  - kind: name
                    id: 744
                    name: c
                  - kind: str
                    id: 745
                    value: hash
    depth: 9
  756:
    id: 777
    name: n
  759:
    kind: def
    id: 755
    name: acc_1
    qualifier: pureval
    expr:
      kind: app
      id: 748
      opcode: matchVariant
      args:
        - kind: app
          id: 741
          opcode: field
          args:
            - kind: name
              id: 739
              name: n
            - kind: str
              id: 740
              value: left_child
        - kind: str
          id: 749
          value: None
        - kind: lambda
          id: 750
          params:
            - id: 751
              name: _
          expr:
            kind: name
            id: 742
            name: acc
        - kind: str
          id: 752
          value: Some
        - kind: lambda
          id: 753
          params:
            - id: 754
              name: c
          expr:
            kind: app
            id: 747
            opcode: append
            args:
              - kind: name
                id: 743
                name: acc
              - kind: app
                id: 746
                opcode: field
                args:
                  - kind: name
                    id: 744
                    name: c
                  - kind: str
                    id: 745
                    value: hash
    depth: 9
  760:
    kind: def
    id: 755
    name: acc_1
    qualifier: pureval
    expr:
      kind: app
      id: 748
      opcode: matchVariant
      args:
        - kind: app
          id: 741
          opcode: field
          args:
            - kind: name
              id: 739
              name: n
            - kind: str
              id: 740
              value: left_child
        - kind: str
          id: 749
          value: None
        - kind: lambda
          id: 750
          params:
            - id: 751
              name: _
          expr:
            kind: name
            id: 742
            name: acc
        - kind: str
          id: 752
          value: Some
        - kind: lambda
          id: 753
          params:
            - id: 754
              name: c
          expr:
            kind: app
            id: 747
            opcode: append
            args:
              - kind: name
                id: 743
                name: acc
              - kind: app
                id: 746
                opcode: field
                args:
                  - kind: name
                    id: 744
                    name: c
                  - kind: str
                    id: 745
                    value: hash
    depth: 9
  761:
    id: 771
    name: c
  773:
    id: 736
    name: acc
  783:
    kind: def
    id: 783
    name: hashes
    qualifier: pureval
    expr:
      kind: app
      id: 782
      opcode: fold
      args:
        - kind: app
          id: 734
          opcode: values
          args:
            - kind: name
              id: 733
              name: t
        - kind: app
          id: 735
          opcode: List
          args: []
        - kind: lambda
          id: 781
          params:
            - id: 736
              name: acc
            - id: 737
              name: node
          expr:
            kind: app
            id: 774
            opcode: matchVariant
            args:
              - kind: name
                id: 738
                name: node
              - kind: str
                id: 775
                value: Internal
              - kind: lambda
                id: 776
                params:
                  - id: 777
                    name: n
                expr:
                  kind: let
                  id: 772
                  opdef:
                    id: 755
                    name: acc_1
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 748
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 741
                          opcode: field
                          args:
                            - kind: name
                              id: 739
                              name: n
                            - kind: str
                              id: 740
                              value: left_child
                        - kind: str
                          id: 749
                          value: None
                        - kind: lambda
                          id: 750
                          params:
                            - id: 751
                              name: _
                          expr:
                            kind: name
                            id: 742
                            name: acc
                        - kind: str
                          id: 752
                          value: Some
                        - kind: lambda
                          id: 753
                          params:
                            - id: 754
                              name: c
                          expr:
                            kind: app
                            id: 747
                            opcode: append
                            args:
                              - kind: name
                                id: 743
                                name: acc
                              - kind: app
                                id: 746
                                opcode: field
                                args:
                                  - kind: name
                                    id: 744
                                    name: c
                                  - kind: str
                                    id: 745
                                    value: hash
                    depth: ~
                  expr:
                    kind: app
                    id: 765
                    opcode: matchVariant
                    args:
                      - kind: app
                        id: 758
                        opcode: field
                        args:
                          - kind: name
                            id: 756
                            name: n
                          - kind: str
                            id: 757
                            value: right_child
                      - kind: str
                        id: 766
                        value: None
                      - kind: lambda
                        id: 767
                        params:
                          - id: 768
                            name: _
                        expr:
                          kind: name
                          id: 759
                          name: acc_1
                      - kind: str
                        id: 769
                        value: Some
                      - kind: lambda
                        id: 770
                        params:
                          - id: 771
                            name: c
                        expr:
                          kind: app
                          id: 764
                          opcode: append
                          args:
                            - kind: name
                              id: 760
                              name: acc_1
                            - kind: app
                              id: 763
                              opcode: field
                              args:
                                - kind: name
                                  id: 761
                                  name: c
                                - kind: str
                                  id: 762
                                  value: hash
              - kind: str
                id: 778
                value: _
              - kind: lambda
                id: 779
                params:
                  - id: 780
                    name: _
                expr:
                  kind: name
                  id: 773
                  name: acc
    depth: 5
  784:
    kind: def
    id: 783
    name: hashes
    qualifier: pureval
    expr:
      kind: app
      id: 782
      opcode: fold
      args:
        - kind: app
          id: 734
          opcode: values
          args:
            - kind: name
              id: 733
              name: t
        - kind: app
          id: 735
          opcode: List
          args: []
        - kind: lambda
          id: 781
          params:
            - id: 736
              name: acc
            - id: 737
              name: node
          expr:
            kind: app
            id: 774
            opcode: matchVariant
            args:
              - kind: name
                id: 738
                name: node
              - kind: str
                id: 775
                value: Internal
              - kind: lambda
                id: 776
                params:
                  - id: 777
                    name: n
                expr:
                  kind: let
                  id: 772
                  opdef:
                    id: 755
                    name: acc_1
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 748
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 741
                          opcode: field
                          args:
                            - kind: name
                              id: 739
                              name: n
                            - kind: str
                              id: 740
                              value: left_child
                        - kind: str
                          id: 749
                          value: None
                        - kind: lambda
                          id: 750
                          params:
                            - id: 751
                              name: _
                          expr:
                            kind: name
                            id: 742
                            name: acc
                        - kind: str
                          id: 752
                          value: Some
                        - kind: lambda
                          id: 753
                          params:
                            - id: 754
                              name: c
                          expr:
                            kind: app
                            id: 747
                            opcode: append
                            args:
                              - kind: name
                                id: 743
                                name: acc
                              - kind: app
                                id: 746
                                opcode: field
                                args:
                                  - kind: name
                                    id: 744
                                    name: c
                                  - kind: str
                                    id: 745
                                    value: hash
                    depth: ~
                  expr:
                    kind: app
                    id: 765
                    opcode: matchVariant
                    args:
                      - kind: app
                        id: 758
                        opcode: field
                        args:
                          - kind: name
                            id: 756
                            name: n
                          - kind: str
                            id: 757
                            value: right_child
                      - kind: str
                        id: 766
                        value: None
                      - kind: lambda
                        id: 767
                        params:
                          - id: 768
                            name: _
                        expr:
                          kind: name
                          id: 759
                          name: acc_1
                      - kind: str
                        id: 769
                        value: Some
                      - kind: lambda
                        id: 770
                        params:
                          - id: 771
                            name: c
                        expr:
                          kind: app
                          id: 764
                          opcode: append
                          args:
                            - kind: name
                              id: 760
                              name: acc_1
                            - kind: app
                              id: 763
                              opcode: field
                              args:
                                - kind: name
                                  id: 761
                                  name: c
                                - kind: str
                                  id: 762
                                  value: hash
              - kind: str
                id: 778
                value: _
              - kind: lambda
                id: 779
                params:
                  - id: 780
                    name: _
                expr:
                  kind: name
                  id: 773
                  name: acc
    depth: 5
  788:
    id: 786
    name: acc
  789:
    id: 787
    name: hash
  794:
    kind: def
    id: 794
    name: uniqueHashes
    qualifier: pureval
    expr:
      kind: app
      id: 793
      opcode: foldl
      args:
        - kind: name
          id: 784
          name: hashes
        - kind: app
          id: 785
          opcode: Set
          args: []
        - kind: lambda
          id: 792
          params:
            - id: 786
              name: acc
            - id: 787
              name: hash
          expr:
            kind: app
            id: 791
            opcode: union
            args:
              - kind: name
                id: 788
                name: acc
              - kind: app
                id: 790
                opcode: Set
                args:
                  - kind: name
                    id: 789
                    name: hash
    depth: 6
  795:
    kind: def
    id: 783
    name: hashes
    qualifier: pureval
    expr:
      kind: app
      id: 782
      opcode: fold
      args:
        - kind: app
          id: 734
          opcode: values
          args:
            - kind: name
              id: 733
              name: t
        - kind: app
          id: 735
          opcode: List
          args: []
        - kind: lambda
          id: 781
          params:
            - id: 736
              name: acc
            - id: 737
              name: node
          expr:
            kind: app
            id: 774
            opcode: matchVariant
            args:
              - kind: name
                id: 738
                name: node
              - kind: str
                id: 775
                value: Internal
              - kind: lambda
                id: 776
                params:
                  - id: 777
                    name: n
                expr:
                  kind: let
                  id: 772
                  opdef:
                    id: 755
                    name: acc_1
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 748
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 741
                          opcode: field
                          args:
                            - kind: name
                              id: 739
                              name: n
                            - kind: str
                              id: 740
                              value: left_child
                        - kind: str
                          id: 749
                          value: None
                        - kind: lambda
                          id: 750
                          params:
                            - id: 751
                              name: _
                          expr:
                            kind: name
                            id: 742
                            name: acc
                        - kind: str
                          id: 752
                          value: Some
                        - kind: lambda
                          id: 753
                          params:
                            - id: 754
                              name: c
                          expr:
                            kind: app
                            id: 747
                            opcode: append
                            args:
                              - kind: name
                                id: 743
                                name: acc
                              - kind: app
                                id: 746
                                opcode: field
                                args:
                                  - kind: name
                                    id: 744
                                    name: c
                                  - kind: str
                                    id: 745
                                    value: hash
                    depth: ~
                  expr:
                    kind: app
                    id: 765
                    opcode: matchVariant
                    args:
                      - kind: app
                        id: 758
                        opcode: field
                        args:
                          - kind: name
                            id: 756
                            name: n
                          - kind: str
                            id: 757
                            value: right_child
                      - kind: str
                        id: 766
                        value: None
                      - kind: lambda
                        id: 767
                        params:
                          - id: 768
                            name: _
                        expr:
                          kind: name
                          id: 759
                          name: acc_1
                      - kind: str
                        id: 769
                        value: Some
                      - kind: lambda
                        id: 770
                        params:
                          - id: 771
                            name: c
                        expr:
                          kind: app
                          id: 764
                          opcode: append
                          args:
                            - kind: name
                              id: 760
                              name: acc_1
                            - kind: app
                              id: 763
                              opcode: field
                              args:
                                - kind: name
                                  id: 761
                                  name: c
                                - kind: str
                                  id: 762
                                  value: hash
              - kind: str
                id: 778
                value: _
              - kind: lambda
                id: 779
                params:
                  - id: 780
                    name: _
                expr:
                  kind: name
                  id: 773
                  name: acc
    depth: 5
  797:
    kind: def
    id: 794
    name: uniqueHashes
    qualifier: pureval
    expr:
      kind: app
      id: 793
      opcode: foldl
      args:
        - kind: name
          id: 784
          name: hashes
        - kind: app
          id: 785
          opcode: Set
          args: []
        - kind: lambda
          id: 792
          params:
            - id: 786
              name: acc
            - id: 787
              name: hash
          expr:
            kind: app
            id: 791
            opcode: union
            args:
              - kind: name
                id: 788
                name: acc
              - kind: app
                id: 790
                opcode: Set
                args:
                  - kind: name
                    id: 789
                    name: hash
    depth: 6
  803:
    kind: def
    id: 803
    name: uniqueHashes
    qualifier: puredef
    expr:
      kind: lambda
      id: 802
      params:
        - id: 731
          name: t
      expr:
        kind: let
        id: 801
        opdef:
          id: 783
          name: hashes
          qualifier: pureval
          expr:
            kind: app
            id: 782
            opcode: fold
            args:
              - kind: app
                id: 734
                opcode: values
                args:
                  - kind: name
                    id: 733
                    name: t
              - kind: app
                id: 735
                opcode: List
                args: []
              - kind: lambda
                id: 781
                params:
                  - id: 736
                    name: acc
                  - id: 737
                    name: node
                expr:
                  kind: app
                  id: 774
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 738
                      name: node
                    - kind: str
                      id: 775
                      value: Internal
                    - kind: lambda
                      id: 776
                      params:
                        - id: 777
                          name: n
                      expr:
                        kind: let
                        id: 772
                        opdef:
                          id: 755
                          name: acc_1
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 748
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 741
                                opcode: field
                                args:
                                  - kind: name
                                    id: 739
                                    name: n
                                  - kind: str
                                    id: 740
                                    value: left_child
                              - kind: str
                                id: 749
                                value: None
                              - kind: lambda
                                id: 750
                                params:
                                  - id: 751
                                    name: _
                                expr:
                                  kind: name
                                  id: 742
                                  name: acc
                              - kind: str
                                id: 752
                                value: Some
                              - kind: lambda
                                id: 753
                                params:
                                  - id: 754
                                    name: c
                                expr:
                                  kind: app
                                  id: 747
                                  opcode: append
                                  args:
                                    - kind: name
                                      id: 743
                                      name: acc
                                    - kind: app
                                      id: 746
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 744
                                          name: c
                                        - kind: str
                                          id: 745
                                          value: hash
                          depth: ~
                        expr:
                          kind: app
                          id: 765
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 758
                              opcode: field
                              args:
                                - kind: name
                                  id: 756
                                  name: n
                                - kind: str
                                  id: 757
                                  value: right_child
                            - kind: str
                              id: 766
                              value: None
                            - kind: lambda
                              id: 767
                              params:
                                - id: 768
                                  name: _
                              expr:
                                kind: name
                                id: 759
                                name: acc_1
                            - kind: str
                              id: 769
                              value: Some
                            - kind: lambda
                              id: 770
                              params:
                                - id: 771
                                  name: c
                              expr:
                                kind: app
                                id: 764
                                opcode: append
                                args:
                                  - kind: name
                                    id: 760
                                    name: acc_1
                                  - kind: app
                                    id: 763
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 761
                                        name: c
                                      - kind: str
                                        id: 762
                                        value: hash
                    - kind: str
                      id: 778
                      value: _
                    - kind: lambda
                      id: 779
                      params:
                        - id: 780
                          name: _
                      expr:
                        kind: name
                        id: 773
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 800
          opdef:
            id: 794
            name: uniqueHashes
            qualifier: pureval
            expr:
              kind: app
              id: 793
              opcode: foldl
              args:
                - kind: name
                  id: 784
                  name: hashes
                - kind: app
                  id: 785
                  opcode: Set
                  args: []
                - kind: lambda
                  id: 792
                  params:
                    - id: 786
                      name: acc
                    - id: 787
                      name: hash
                  expr:
                    kind: app
                    id: 791
                    opcode: union
                    args:
                      - kind: name
                        id: 788
                        name: acc
                      - kind: app
                        id: 790
                        opcode: Set
                        args:
                          - kind: name
                            id: 789
                            name: hash
            depth: ~
          expr:
            kind: app
            id: 799
            opcode: eq
            args:
              - kind: app
                id: 796
                opcode: length
                args:
                  - kind: name
                    id: 795
                    name: hashes
              - kind: app
                id: 798
                opcode: size
                args:
                  - kind: name
                    id: 797
                    name: uniqueHashes
    depth: 2
  804:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  805:
    kind: def
    id: 803
    name: uniqueHashes
    qualifier: puredef
    expr:
      kind: lambda
      id: 802
      params:
        - id: 731
          name: t
      expr:
        kind: let
        id: 801
        opdef:
          id: 783
          name: hashes
          qualifier: pureval
          expr:
            kind: app
            id: 782
            opcode: fold
            args:
              - kind: app
                id: 734
                opcode: values
                args:
                  - kind: name
                    id: 733
                    name: t
              - kind: app
                id: 735
                opcode: List
                args: []
              - kind: lambda
                id: 781
                params:
                  - id: 736
                    name: acc
                  - id: 737
                    name: node
                expr:
                  kind: app
                  id: 774
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 738
                      name: node
                    - kind: str
                      id: 775
                      value: Internal
                    - kind: lambda
                      id: 776
                      params:
                        - id: 777
                          name: n
                      expr:
                        kind: let
                        id: 772
                        opdef:
                          id: 755
                          name: acc_1
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 748
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 741
                                opcode: field
                                args:
                                  - kind: name
                                    id: 739
                                    name: n
                                  - kind: str
                                    id: 740
                                    value: left_child
                              - kind: str
                                id: 749
                                value: None
                              - kind: lambda
                                id: 750
                                params:
                                  - id: 751
                                    name: _
                                expr:
                                  kind: name
                                  id: 742
                                  name: acc
                              - kind: str
                                id: 752
                                value: Some
                              - kind: lambda
                                id: 753
                                params:
                                  - id: 754
                                    name: c
                                expr:
                                  kind: app
                                  id: 747
                                  opcode: append
                                  args:
                                    - kind: name
                                      id: 743
                                      name: acc
                                    - kind: app
                                      id: 746
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 744
                                          name: c
                                        - kind: str
                                          id: 745
                                          value: hash
                          depth: ~
                        expr:
                          kind: app
                          id: 765
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 758
                              opcode: field
                              args:
                                - kind: name
                                  id: 756
                                  name: n
                                - kind: str
                                  id: 757
                                  value: right_child
                            - kind: str
                              id: 766
                              value: None
                            - kind: lambda
                              id: 767
                              params:
                                - id: 768
                                  name: _
                              expr:
                                kind: name
                                id: 759
                                name: acc_1
                            - kind: str
                              id: 769
                              value: Some
                            - kind: lambda
                              id: 770
                              params:
                                - id: 771
                                  name: c
                              expr:
                                kind: app
                                id: 764
                                opcode: append
                                args:
                                  - kind: name
                                    id: 760
                                    name: acc_1
                                  - kind: app
                                    id: 763
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 761
                                        name: c
                                      - kind: str
                                        id: 762
                                        value: hash
                    - kind: str
                      id: 778
                      value: _
                    - kind: lambda
                      id: 779
                      params:
                        - id: 780
                          name: _
                      expr:
                        kind: name
                        id: 773
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 800
          opdef:
            id: 794
            name: uniqueHashes
            qualifier: pureval
            expr:
              kind: app
              id: 793
              opcode: foldl
              args:
                - kind: name
                  id: 784
                  name: hashes
                - kind: app
                  id: 785
                  opcode: Set
                  args: []
                - kind: lambda
                  id: 792
                  params:
                    - id: 786
                      name: acc
                    - id: 787
                      name: hash
                  expr:
                    kind: app
                    id: 791
                    opcode: union
                    args:
                      - kind: name
                        id: 788
                        name: acc
                      - kind: app
                        id: 790
                        opcode: Set
                        args:
                          - kind: name
                            id: 789
                            name: hash
            depth: ~
          expr:
            kind: app
            id: 799
            opcode: eq
            args:
              - kind: app
                id: 796
                opcode: length
                args:
                  - kind: name
                    id: 795
                    name: hashes
              - kind: app
                id: 798
                opcode: size
                args:
                  - kind: name
                    id: 797
                    name: uniqueHashes
    depth: 2
  808:
    kind: def
    id: 808
    name: uniqueHashesInv
    qualifier: val
    expr:
      kind: let
      id: 807
      opdef:
        id: 803
        name: uniqueHashes
        qualifier: puredef
        expr:
          kind: lambda
          id: 802
          params:
            - id: 731
              name: t
          expr:
            kind: let
            id: 801
            opdef:
              id: 783
              name: hashes
              qualifier: pureval
              expr:
                kind: app
                id: 782
                opcode: fold
                args:
                  - kind: app
                    id: 734
                    opcode: values
                    args:
                      - kind: name
                        id: 733
                        name: t
                  - kind: app
                    id: 735
                    opcode: List
                    args: []
                  - kind: lambda
                    id: 781
                    params:
                      - id: 736
                        name: acc
                      - id: 737
                        name: node
                    expr:
                      kind: app
                      id: 774
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 738
                          name: node
                        - kind: str
                          id: 775
                          value: Internal
                        - kind: lambda
                          id: 776
                          params:
                            - id: 777
                              name: n
                          expr:
                            kind: let
                            id: 772
                            opdef:
                              id: 755
                              name: acc_1
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 748
                                opcode: matchVariant
                                args:
                                  - kind: app
                                    id: 741
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 739
                                        name: n
                                      - kind: str
                                        id: 740
                                        value: left_child
                                  - kind: str
                                    id: 749
                                    value: None
                                  - kind: lambda
                                    id: 750
                                    params:
                                      - id: 751
                                        name: _
                                    expr:
                                      kind: name
                                      id: 742
                                      name: acc
                                  - kind: str
                                    id: 752
                                    value: Some
                                  - kind: lambda
                                    id: 753
                                    params:
                                      - id: 754
                                        name: c
                                    expr:
                                      kind: app
                                      id: 747
                                      opcode: append
                                      args:
                                        - kind: name
                                          id: 743
                                          name: acc
                                        - kind: app
                                          id: 746
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 744
                                              name: c
                                            - kind: str
                                              id: 745
                                              value: hash
                              depth: ~
                            expr:
                              kind: app
                              id: 765
                              opcode: matchVariant
                              args:
                                - kind: app
                                  id: 758
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 756
                                      name: n
                                    - kind: str
                                      id: 757
                                      value: right_child
                                - kind: str
                                  id: 766
                                  value: None
                                - kind: lambda
                                  id: 767
                                  params:
                                    - id: 768
                                      name: _
                                  expr:
                                    kind: name
                                    id: 759
                                    name: acc_1
                                - kind: str
                                  id: 769
                                  value: Some
                                - kind: lambda
                                  id: 770
                                  params:
                                    - id: 771
                                      name: c
                                  expr:
                                    kind: app
                                    id: 764
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 760
                                        name: acc_1
                                      - kind: app
                                        id: 763
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 761
                                            name: c
                                          - kind: str
                                            id: 762
                                            value: hash
                        - kind: str
                          id: 778
                          value: _
                        - kind: lambda
                          id: 779
                          params:
                            - id: 780
                              name: _
                          expr:
                            kind: name
                            id: 773
                            name: acc
              depth: ~
            expr:
              kind: let
              id: 800
              opdef:
                id: 794
                name: uniqueHashes
                qualifier: pureval
                expr:
                  kind: app
                  id: 793
                  opcode: foldl
                  args:
                    - kind: name
                      id: 784
                      name: hashes
                    - kind: app
                      id: 785
                      opcode: Set
                      args: []
                    - kind: lambda
                      id: 792
                      params:
                        - id: 786
                          name: acc
                        - id: 787
                          name: hash
                      expr:
                        kind: app
                        id: 791
                        opcode: union
                        args:
                          - kind: name
                            id: 788
                            name: acc
                          - kind: app
                            id: 790
                            opcode: Set
                            args:
                              - kind: name
                                id: 789
                                name: hash
                depth: ~
              expr:
                kind: app
                id: 799
                opcode: eq
                args:
                  - kind: app
                    id: 796
                    opcode: length
                    args:
                      - kind: name
                        id: 795
                        name: hashes
                  - kind: app
                    id: 798
                    opcode: size
                    args:
                      - kind: name
                        id: 797
                        name: uniqueHashes
        depth: ~
      expr:
        kind: app
        id: 806
        opcode: forall
        args:
          - kind: name
            id: 804
            name: treesToCheck
          - kind: name
            id: 805
            name: uniqueHashes
    depth: 0
  810:
    kind: typedef
    id: 3273
  813:
    id: 811
    name: t
  816:
    id: 811
    name: t
  819:
    id: 815
    name: a
  822:
    id: 818
    name: b
  826:
    id: 815
    name: a
  829:
    id: 818
    name: b
  839:
    kind: def
    id: 839
    name: goodTreeMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 838
      params:
        - id: 811
          name: t
      expr:
        kind: app
        id: 837
        opcode: forall
        args:
          - kind: app
            id: 814
            opcode: keys
            args:
              - kind: name
                id: 813
                name: t
          - kind: lambda
            id: 836
            params:
              - id: 815
                name: a
            expr:
              kind: app
              id: 835
              opcode: forall
              args:
                - kind: app
                  id: 817
                  opcode: keys
                  args:
                    - kind: name
                      id: 816
                      name: t
                - kind: lambda
                  id: 834
                  params:
                    - id: 818
                      name: b
                  expr:
                    kind: app
                    id: 833
                    opcode: implies
                    args:
                      - kind: app
                        id: 825
                        opcode: eq
                        args:
                          - kind: app
                            id: 821
                            opcode: field
                            args:
                              - kind: name
                                id: 819
                                name: a
                              - kind: str
                                id: 820
                                value: key_hash
                          - kind: app
                            id: 824
                            opcode: field
                            args:
                              - kind: name
                                id: 822
                                name: b
                              - kind: str
                                id: 823
                                value: key_hash
                      - kind: app
                        id: 832
                        opcode: eq
                        args:
                          - kind: app
                            id: 828
                            opcode: field
                            args:
                              - kind: name
                                id: 826
                                name: a
                              - kind: str
                                id: 827
                                value: version
                          - kind: app
                            id: 831
                            opcode: field
                            args:
                              - kind: name
                                id: 829
                                name: b
                              - kind: str
                                id: 830
                                value: version
    depth: 2
  840:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  841:
    kind: def
    id: 839
    name: goodTreeMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 838
      params:
        - id: 811
          name: t
      expr:
        kind: app
        id: 837
        opcode: forall
        args:
          - kind: app
            id: 814
            opcode: keys
            args:
              - kind: name
                id: 813
                name: t
          - kind: lambda
            id: 836
            params:
              - id: 815
                name: a
            expr:
              kind: app
              id: 835
              opcode: forall
              args:
                - kind: app
                  id: 817
                  opcode: keys
                  args:
                    - kind: name
                      id: 816
                      name: t
                - kind: lambda
                  id: 834
                  params:
                    - id: 818
                      name: b
                  expr:
                    kind: app
                    id: 833
                    opcode: implies
                    args:
                      - kind: app
                        id: 825
                        opcode: eq
                        args:
                          - kind: app
                            id: 821
                            opcode: field
                            args:
                              - kind: name
                                id: 819
                                name: a
                              - kind: str
                                id: 820
                                value: key_hash
                          - kind: app
                            id: 824
                            opcode: field
                            args:
                              - kind: name
                                id: 822
                                name: b
                              - kind: str
                                id: 823
                                value: key_hash
                      - kind: app
                        id: 832
                        opcode: eq
                        args:
                          - kind: app
                            id: 828
                            opcode: field
                            args:
                              - kind: name
                                id: 826
                                name: a
                              - kind: str
                                id: 827
                                value: version
                          - kind: app
                            id: 831
                            opcode: field
                            args:
                              - kind: name
                                id: 829
                                name: b
                              - kind: str
                                id: 830
                                value: version
    depth: 2
  844:
    kind: def
    id: 844
    name: goodTreeMapInv
    qualifier: val
    expr:
      kind: let
      id: 843
      opdef:
        id: 839
        name: goodTreeMap
        qualifier: puredef
        expr:
          kind: lambda
          id: 838
          params:
            - id: 811
              name: t
          expr:
            kind: app
            id: 837
            opcode: forall
            args:
              - kind: app
                id: 814
                opcode: keys
                args:
                  - kind: name
                    id: 813
                    name: t
              - kind: lambda
                id: 836
                params:
                  - id: 815
                    name: a
                expr:
                  kind: app
                  id: 835
                  opcode: forall
                  args:
                    - kind: app
                      id: 817
                      opcode: keys
                      args:
                        - kind: name
                          id: 816
                          name: t
                    - kind: lambda
                      id: 834
                      params:
                        - id: 818
                          name: b
                      expr:
                        kind: app
                        id: 833
                        opcode: implies
                        args:
                          - kind: app
                            id: 825
                            opcode: eq
                            args:
                              - kind: app
                                id: 821
                                opcode: field
                                args:
                                  - kind: name
                                    id: 819
                                    name: a
                                  - kind: str
                                    id: 820
                                    value: key_hash
                              - kind: app
                                id: 824
                                opcode: field
                                args:
                                  - kind: name
                                    id: 822
                                    name: b
                                  - kind: str
                                    id: 823
                                    value: key_hash
                          - kind: app
                            id: 832
                            opcode: eq
                            args:
                              - kind: app
                                id: 828
                                opcode: field
                                args:
                                  - kind: name
                                    id: 826
                                    name: a
                                  - kind: str
                                    id: 827
                                    value: version
                              - kind: app
                                id: 831
                                opcode: field
                                args:
                                  - kind: name
                                    id: 829
                                    name: b
                                  - kind: str
                                    id: 830
                                    value: version
        depth: ~
      expr:
        kind: app
        id: 842
        opcode: forall
        args:
          - kind: name
            id: 840
            name: treesToCheck
          - kind: name
            id: 841
            name: goodTreeMap
    depth: 0
  846:
    kind: typedef
    id: 3273
  849:
    id: 847
    name: t
  852:
    id: 847
    name: t
  853:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  857:
    kind: def
    id: 857
    name: bijectiveTreeMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 856
      params:
        - id: 847
          name: t
      expr:
        kind: app
        id: 855
        opcode: eq
        args:
          - kind: app
            id: 851
            opcode: size
            args:
              - kind: app
                id: 850
                opcode: keys
                args:
                  - kind: name
                    id: 849
                    name: t
          - kind: app
            id: 854
            opcode: size
            args:
              - kind: app
                id: 853
                opcode: values
                args:
                  - kind: name
                    id: 852
                    name: t
    depth: 2
  858:
    kind: def
    id: 197
    name: treesToCheck
    qualifier: val
    expr:
      kind: app
      id: 196
      opcode: map
      args:
        - kind: name
          id: 190
          name: versionsToCheck
        - kind: lambda
          id: 195
          params:
            - id: 191
              name: v
          expr:
            kind: app
            id: 194
            opcode: treeAtVersion
            args:
              - kind: name
                id: 192
                name: tree
              - kind: name
                id: 193
                name: v
    depth: 0
  859:
    kind: def
    id: 857
    name: bijectiveTreeMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 856
      params:
        - id: 847
          name: t
      expr:
        kind: app
        id: 855
        opcode: eq
        args:
          - kind: app
            id: 851
            opcode: size
            args:
              - kind: app
                id: 850
                opcode: keys
                args:
                  - kind: name
                    id: 849
                    name: t
          - kind: app
            id: 854
            opcode: size
            args:
              - kind: app
                id: 853
                opcode: values
                args:
                  - kind: name
                    id: 852
                    name: t
    depth: 2
  862:
    kind: def
    id: 862
    name: bijectiveTreeMapInv
    qualifier: val
    expr:
      kind: let
      id: 861
      opdef:
        id: 857
        name: bijectiveTreeMap
        qualifier: puredef
        expr:
          kind: lambda
          id: 856
          params:
            - id: 847
              name: t
          expr:
            kind: app
            id: 855
            opcode: eq
            args:
              - kind: app
                id: 851
                opcode: size
                args:
                  - kind: app
                    id: 850
                    opcode: keys
                    args:
                      - kind: name
                        id: 849
                        name: t
              - kind: app
                id: 854
                opcode: size
                args:
                  - kind: app
                    id: 853
                    opcode: values
                    args:
                      - kind: name
                        id: 852
                        name: t
        depth: ~
      expr:
        kind: app
        id: 860
        opcode: forall
        args:
          - kind: name
            id: 858
            name: treesToCheck
          - kind: name
            id: 859
            name: bijectiveTreeMap
    depth: 0
  864:
    kind: typedef
    id: 3273
  866:
    kind: typedef
    id: 3897
  869:
    id: 865
    name: t
  870:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  871:
    id: 867
    name: n
  872:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  875:
    kind: def
    id: 875
    name: treeContainsKV
    qualifier: puredef
    expr:
      kind: lambda
      id: 874
      params:
        - id: 865
          name: t
        - id: 867
          name: n
      expr:
        kind: app
        id: 873
        opcode: contains
        args:
          - kind: app
            id: 870
            opcode: values
            args:
              - kind: name
                id: 869
                name: t
          - kind: app
            id: 872
            opcode: Leaf
            args:
              - kind: name
                id: 871
                name: n
    depth: 2
  876:
    kind: typedef
    id: 3273
  878:
    kind: typedef
    id: 3258
  881:
    id: 877
    name: t
  882:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  884:
    id: 883
    name: node
  885:
    id: 894
    name: n
  888:
    id: 879
    name: key
  904:
    kind: def
    id: 904
    name: treeNotContainsKey
    qualifier: puredef
    expr:
      kind: lambda
      id: 903
      params:
        - id: 877
          name: t
        - id: 879
          name: key
      expr:
        kind: app
        id: 902
        opcode: eq
        args:
          - kind: app
            id: 900
            opcode: size
            args:
              - kind: app
                id: 899
                opcode: filter
                args:
                  - kind: app
                    id: 882
                    opcode: values
                    args:
                      - kind: name
                        id: 881
                        name: t
                  - kind: lambda
                    id: 898
                    params:
                      - id: 883
                        name: node
                    expr:
                      kind: app
                      id: 891
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 884
                          name: node
                        - kind: str
                          id: 892
                          value: Leaf
                        - kind: lambda
                          id: 893
                          params:
                            - id: 894
                              name: n
                          expr:
                            kind: app
                            id: 889
                            opcode: eq
                            args:
                              - kind: app
                                id: 887
                                opcode: field
                                args:
                                  - kind: name
                                    id: 885
                                    name: n
                                  - kind: str
                                    id: 886
                                    value: key_hash
                              - kind: name
                                id: 888
                                name: key
                        - kind: str
                          id: 895
                          value: Internal
                        - kind: lambda
                          id: 896
                          params:
                            - id: 897
                              name: _
                          expr:
                            kind: bool
                            id: 890
                            value: false
          - kind: int
            id: 901
            value: 0
    depth: 3
  905:
    kind: var
    id: 24
    name: tree
  906:
    kind: var
    id: 26
    name: version
  909:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  910:
    kind: def
    id: 910
    name: tm
    qualifier: val
    expr:
      kind: app
      id: 909
      opcode: treeAtVersion
      args:
        - kind: name
          id: 905
          name: tree
        - kind: app
          id: 908
          opcode: isub
          args:
            - kind: name
              id: 906
              name: version
            - kind: int
              id: 907
              value: 1
    depth: 4
  911:
    kind: var
    id: 32
    name: ops_history
  915:
    kind: var
    id: 32
    name: ops_history
  916:
    kind: def
    id: 1937
    name: last
    qualifier: puredef
    expr:
      kind: lambda
      id: 1936
      params:
        - id: 1928
          name: v
      expr:
        kind: app
        id: 1935
        opcode: nth
        args:
          - kind: name
            id: 1930
            name: v
          - kind: app
            id: 1934
            opcode: isub
            args:
              - kind: app
                id: 1932
                opcode: length
                args:
                  - kind: name
                    id: 1931
                    name: v
              - kind: int
                id: 1933
                value: 1
    depth: 0
  918:
    id: 917
    name: op
  921:
    kind: def
    id: 910
    name: tm
    qualifier: val
    expr:
      kind: app
      id: 909
      opcode: treeAtVersion
      args:
        - kind: name
          id: 905
          name: tree
        - kind: app
          id: 908
          opcode: isub
          args:
            - kind: name
              id: 906
              name: version
            - kind: int
              id: 907
              value: 1
    depth: 4
  922:
    id: 917
    name: op
  926:
    id: 938
    name: value
  929:
    kind: def
    id: 875
    name: treeContainsKV
    qualifier: puredef
    expr:
      kind: lambda
      id: 874
      params:
        - id: 865
          name: t
        - id: 867
          name: n
      expr:
        kind: app
        id: 873
        opcode: contains
        args:
          - kind: app
            id: 870
            opcode: values
            args:
              - kind: name
                id: 869
                name: t
          - kind: app
            id: 872
            opcode: Leaf
            args:
              - kind: name
                id: 871
                name: n
    depth: 2
  930:
    kind: def
    id: 910
    name: tm
    qualifier: val
    expr:
      kind: app
      id: 909
      opcode: treeAtVersion
      args:
        - kind: name
          id: 905
          name: tree
        - kind: app
          id: 908
          opcode: isub
          args:
            - kind: name
              id: 906
              name: version
            - kind: int
              id: 907
              value: 1
    depth: 4
  931:
    id: 917
    name: op
  934:
    kind: def
    id: 904
    name: treeNotContainsKey
    qualifier: puredef
    expr:
      kind: lambda
      id: 903
      params:
        - id: 877
          name: t
        - id: 879
          name: key
      expr:
        kind: app
        id: 902
        opcode: eq
        args:
          - kind: app
            id: 900
            opcode: size
            args:
              - kind: app
                id: 899
                opcode: filter
                args:
                  - kind: app
                    id: 882
                    opcode: values
                    args:
                      - kind: name
                        id: 881
                        name: t
                  - kind: lambda
                    id: 898
                    params:
                      - id: 883
                        name: node
                    expr:
                      kind: app
                      id: 891
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 884
                          name: node
                        - kind: str
                          id: 892
                          value: Leaf
                        - kind: lambda
                          id: 893
                          params:
                            - id: 894
                              name: n
                          expr:
                            kind: app
                            id: 889
                            opcode: eq
                            args:
                              - kind: app
                                id: 887
                                opcode: field
                                args:
                                  - kind: name
                                    id: 885
                                    name: n
                                  - kind: str
                                    id: 886
                                    value: key_hash
                              - kind: name
                                id: 888
                                name: key
                        - kind: str
                          id: 895
                          value: Internal
                        - kind: lambda
                          id: 896
                          params:
                            - id: 897
                              name: _
                          expr:
                            kind: bool
                            id: 890
                            value: false
          - kind: int
            id: 901
            value: 0
    depth: 3
  948:
    kind: def
    id: 948
    name: operationSuccessInv
    qualifier: val
    expr:
      kind: let
      id: 947
      opdef:
        id: 875
        name: treeContainsKV
        qualifier: puredef
        expr:
          kind: lambda
          id: 874
          params:
            - id: 865
              name: t
            - id: 867
              name: n
          expr:
            kind: app
            id: 873
            opcode: contains
            args:
              - kind: app
                id: 870
                opcode: values
                args:
                  - kind: name
                    id: 869
                    name: t
              - kind: app
                id: 872
                opcode: Leaf
                args:
                  - kind: name
                    id: 871
                    name: n
        depth: ~
      expr:
        kind: let
        id: 946
        opdef:
          id: 904
          name: treeNotContainsKey
          qualifier: puredef
          expr:
            kind: lambda
            id: 903
            params:
              - id: 877
                name: t
              - id: 879
                name: key
            expr:
              kind: app
              id: 902
              opcode: eq
              args:
                - kind: app
                  id: 900
                  opcode: size
                  args:
                    - kind: app
                      id: 899
                      opcode: filter
                      args:
                        - kind: app
                          id: 882
                          opcode: values
                          args:
                            - kind: name
                              id: 881
                              name: t
                        - kind: lambda
                          id: 898
                          params:
                            - id: 883
                              name: node
                          expr:
                            kind: app
                            id: 891
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 884
                                name: node
                              - kind: str
                                id: 892
                                value: Leaf
                              - kind: lambda
                                id: 893
                                params:
                                  - id: 894
                                    name: n
                                expr:
                                  kind: app
                                  id: 889
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 887
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 885
                                          name: n
                                        - kind: str
                                          id: 886
                                          value: key_hash
                                    - kind: name
                                      id: 888
                                      name: key
                              - kind: str
                                id: 895
                                value: Internal
                              - kind: lambda
                                id: 896
                                params:
                                  - id: 897
                                    name: _
                                expr:
                                  kind: bool
                                  id: 890
                                  value: false
                - kind: int
                  id: 901
                  value: 0
          depth: ~
        expr:
          kind: let
          id: 945
          opdef:
            id: 910
            name: tm
            qualifier: val
            expr:
              kind: app
              id: 909
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 905
                  name: tree
                - kind: app
                  id: 908
                  opcode: isub
                  args:
                    - kind: name
                      id: 906
                      name: version
                    - kind: int
                      id: 907
                      value: 1
            depth: ~
          expr:
            kind: app
            id: 944
            opcode: implies
            args:
              - kind: app
                id: 914
                opcode: igt
                args:
                  - kind: app
                    id: 912
                    opcode: length
                    args:
                      - kind: name
                        id: 911
                        name: ops_history
                  - kind: int
                    id: 913
                    value: 0
              - kind: app
                id: 943
                opcode: forall
                args:
                  - kind: app
                    id: 916
                    opcode: last
                    args:
                      - kind: name
                        id: 915
                        name: ops_history
                  - kind: lambda
                    id: 942
                    params:
                      - id: 917
                        name: op
                    expr:
                      kind: app
                      id: 935
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 920
                          opcode: field
                          args:
                            - kind: name
                              id: 918
                              name: op
                            - kind: str
                              id: 919
                              value: op
                        - kind: str
                          id: 936
                          value: Insert
                        - kind: lambda
                          id: 937
                          params:
                            - id: 938
                              name: value
                          expr:
                            kind: app
                            id: 929
                            opcode: treeContainsKV
                            args:
                              - kind: name
                                id: 921
                                name: tm
                              - kind: app
                                id: 928
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 925
                                    value: key_hash
                                  - kind: app
                                    id: 924
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 922
                                        name: op
                                      - kind: str
                                        id: 923
                                        value: key_hash
                                  - kind: str
                                    id: 927
                                    value: value_hash
                                  - kind: name
                                    id: 926
                                    name: value
                        - kind: str
                          id: 939
                          value: Delete
                        - kind: lambda
                          id: 940
                          params:
                            - id: 941
                              name: _
                          expr:
                            kind: app
                            id: 934
                            opcode: treeNotContainsKey
                            args:
                              - kind: name
                                id: 930
                                name: tm
                              - kind: app
                                id: 933
                                opcode: field
                                args:
                                  - kind: name
                                    id: 931
                                    name: op
                                  - kind: str
                                    id: 932
                                    value: key_hash
    depth: 0
  949:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  951:
    kind: var
    id: 24
    name: tree
  952:
    id: 950
    name: v
  953:
    kind: def
    id: 8239
    name: membershipCompleteness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8238
      params:
        - id: 8164
          name: tree
        - id: 8166
          name: v
      expr:
        kind: app
        id: 8237
        opcode: implies
        args:
          - kind: app
            id: 8176
            opcode: has
            args:
              - kind: app
                id: 8170
                opcode: field
                args:
                  - kind: name
                    id: 8168
                    name: tree
                  - kind: str
                    id: 8169
                    value: nodes
              - kind: app
                id: 8175
                opcode: Rec
                args:
                  - kind: str
                    id: 8172
                    value: key_hash
                  - kind: name
                    id: 8171
                    name: ROOT_BITS
                  - kind: str
                    id: 8174
                    value: version
                  - kind: name
                    id: 8173
                    name: v
          - kind: app
            id: 8236
            opcode: forall
            args:
              - kind: app
                id: 8180
                opcode: values
                args:
                  - kind: app
                    id: 8179
                    opcode: treeAtVersion
                    args:
                      - kind: name
                        id: 8177
                        name: tree
                      - kind: name
                        id: 8178
                        name: v
              - kind: lambda
                id: 8235
                params:
                  - id: 8181
                    name: node
                expr:
                  kind: app
                  id: 8228
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 8182
                      name: node
                    - kind: str
                      id: 8229
                      value: Leaf
                    - kind: lambda
                      id: 8230
                      params:
                        - id: 8231
                          name: n
                      expr:
                        kind: app
                        id: 8220
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 8188
                            opcode: ics23_prove
                            args:
                              - kind: name
                                id: 8183
                                name: tree
                              - kind: app
                                id: 8186
                                opcode: field
                                args:
                                  - kind: name
                                    id: 8184
                                    name: n
                                  - kind: str
                                    id: 8185
                                    value: key_hash
                              - kind: name
                                id: 8187
                                name: v
                          - kind: str
                            id: 8221
                            value: Some
                          - kind: lambda
                            id: 8222
                            params:
                              - id: 8223
                                name: cp
                            expr:
                              kind: app
                              id: 8212
                              opcode: matchVariant
                              args:
                                - kind: name
                                  id: 8189
                                  name: cp
                                - kind: str
                                  id: 8213
                                  value: Exist
                                - kind: lambda
                                  id: 8214
                                  params:
                                    - id: 8215
                                      name: ep
                                  expr:
                                    kind: let
                                    id: 8210
                                    opdef:
                                      id: 8200
                                      name: root
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 8199
                                        opcode: hash
                                        args:
                                          - kind: app
                                            id: 8198
                                            opcode: get
                                            args:
                                              - kind: app
                                                id: 8192
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 8190
                                                    name: tree
                                                  - kind: str
                                                    id: 8191
                                                    value: nodes
                                              - kind: app
                                                id: 8197
                                                opcode: Rec
                                                args:
                                                  - kind: str
                                                    id: 8194
                                                    value: key_hash
                                                  - kind: name
                                                    id: 8193
                                                    name: ROOT_BITS
                                                  - kind: str
                                                    id: 8196
                                                    value: version
                                                  - kind: name
                                                    id: 8195
                                                    name: v
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 8209
                                      opcode: verifyMembership
                                      args:
                                        - kind: name
                                          id: 8201
                                          name: root
                                        - kind: name
                                          id: 8202
                                          name: ep
                                        - kind: app
                                          id: 8205
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 8203
                                              name: n
                                            - kind: str
                                              id: 8204
                                              value: key_hash
                                        - kind: app
                                          id: 8208
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 8206
                                              name: n
                                            - kind: str
                                              id: 8207
                                              value: value_hash
                                - kind: str
                                  id: 8216
                                  value: NonExist
                                - kind: lambda
                                  id: 8217
                                  params:
                                    - id: 8218
                                      name: _
                                  expr:
                                    kind: bool
                                    id: 8211
                                    value: false
                          - kind: str
                            id: 8224
                            value: None
                          - kind: lambda
                            id: 8225
                            params:
                              - id: 8226
                                name: _
                            expr:
                              kind: bool
                              id: 8219
                              value: false
                    - kind: str
                      id: 8232
                      value: Internal
                    - kind: lambda
                      id: 8233
                      params:
                        - id: 8234
                          name: _
                      expr:
                        kind: bool
                        id: 8227
                        value: true
    depth: 0
  956:
    kind: def
    id: 956
    name: membershipCompletenessInv
    qualifier: val
    expr:
      kind: app
      id: 955
      opcode: forall
      args:
        - kind: name
          id: 949
          name: versionsToCheck
        - kind: lambda
          id: 954
          params:
            - id: 950
              name: v
          expr:
            kind: app
            id: 953
            opcode: membershipCompleteness
            args:
              - kind: name
                id: 951
                name: tree
              - kind: name
                id: 952
                name: v
    depth: 0
  957:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  959:
    kind: var
    id: 24
    name: tree
  960:
    id: 958
    name: v
  961:
    kind: def
    id: 8311
    name: nonMembershipCompleteness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8310
      params:
        - id: 8241
          name: tree
        - id: 8243
          name: v
      expr:
        kind: app
        id: 8309
        opcode: implies
        args:
          - kind: app
            id: 8253
            opcode: has
            args:
              - kind: app
                id: 8247
                opcode: field
                args:
                  - kind: name
                    id: 8245
                    name: tree
                  - kind: str
                    id: 8246
                    value: nodes
              - kind: app
                id: 8252
                opcode: Rec
                args:
                  - kind: str
                    id: 8249
                    value: key_hash
                  - kind: name
                    id: 8248
                    name: ROOT_BITS
                  - kind: str
                    id: 8251
                    value: version
                  - kind: name
                    id: 8250
                    name: v
          - kind: let
            id: 8308
            opdef:
              id: 8264
              name: key_hashes_from_tree
              qualifier: pureval
              expr:
                kind: app
                id: 8263
                opcode: map
                args:
                  - kind: app
                    id: 8257
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 8256
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 8254
                            name: tree
                          - kind: name
                            id: 8255
                            name: v
                  - kind: lambda
                    id: 8262
                    params:
                      - id: 8258
                        name: l
                    expr:
                      kind: app
                      id: 8261
                      opcode: field
                      args:
                        - kind: name
                          id: 8259
                          name: l
                        - kind: str
                          id: 8260
                          value: key_hash
              depth: ~
            expr:
              kind: let
              id: 8307
              opdef:
                id: 8275
                name: root
                qualifier: pureval
                expr:
                  kind: app
                  id: 8274
                  opcode: hash
                  args:
                    - kind: app
                      id: 8273
                      opcode: get
                      args:
                        - kind: app
                          id: 8267
                          opcode: field
                          args:
                            - kind: name
                              id: 8265
                              name: tree
                            - kind: str
                              id: 8266
                              value: nodes
                        - kind: app
                          id: 8272
                          opcode: Rec
                          args:
                            - kind: str
                              id: 8269
                              value: key_hash
                            - kind: name
                              id: 8268
                              name: ROOT_BITS
                            - kind: str
                              id: 8271
                              value: version
                            - kind: name
                              id: 8270
                              name: v
                depth: ~
              expr:
                kind: app
                id: 8306
                opcode: forall
                args:
                  - kind: app
                    id: 8278
                    opcode: exclude
                    args:
                      - kind: name
                        id: 8276
                        name: all_key_hashes
                      - kind: name
                        id: 8277
                        name: key_hashes_from_tree
                  - kind: lambda
                    id: 8305
                    params:
                      - id: 8279
                        name: k
                    expr:
                      kind: app
                      id: 8298
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 8283
                          opcode: ics23_prove
                          args:
                            - kind: name
                              id: 8280
                              name: tree
                            - kind: name
                              id: 8281
                              name: k
                            - kind: name
                              id: 8282
                              name: v
                        - kind: str
                          id: 8299
                          value: Some
                        - kind: lambda
                          id: 8300
                          params:
                            - id: 8301
                              name: cp
                          expr:
                            kind: app
                            id: 8290
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 8284
                                name: cp
                              - kind: str
                                id: 8291
                                value: NonExist
                              - kind: lambda
                                id: 8292
                                params:
                                  - id: 8293
                                    name: nep
                                expr:
                                  kind: app
                                  id: 8288
                                  opcode: verifyNonMembership
                                  args:
                                    - kind: name
                                      id: 8285
                                      name: root
                                    - kind: name
                                      id: 8286
                                      name: nep
                                    - kind: name
                                      id: 8287
                                      name: k
                              - kind: str
                                id: 8294
                                value: Exist
                              - kind: lambda
                                id: 8295
                                params:
                                  - id: 8296
                                    name: _
                                expr:
                                  kind: bool
                                  id: 8289
                                  value: false
                        - kind: str
                          id: 8302
                          value: None
                        - kind: lambda
                          id: 8303
                          params:
                            - id: 8304
                              name: _
                          expr:
                            kind: bool
                            id: 8297
                            value: false
    depth: 0
  964:
    kind: def
    id: 964
    name: nonMembershipCompletenessInv
    qualifier: val
    expr:
      kind: app
      id: 963
      opcode: forall
      args:
        - kind: name
          id: 957
          name: versionsToCheck
        - kind: lambda
          id: 962
          params:
            - id: 958
              name: v
          expr:
            kind: app
            id: 961
            opcode: nonMembershipCompleteness
            args:
              - kind: name
                id: 959
                name: tree
              - kind: name
                id: 960
                name: v
    depth: 0
  965:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  967:
    kind: var
    id: 24
    name: tree
  968:
    id: 966
    name: v
  969:
    kind: def
    id: 8375
    name: membershipSoundness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8374
      params:
        - id: 8318
          name: tree
        - id: 8320
          name: v
      expr:
        kind: let
        id: 8373
        opdef:
          id: 8326
          name: nodes
          qualifier: pureval
          expr:
            kind: app
            id: 8325
            opcode: values
            args:
              - kind: app
                id: 8324
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 8322
                    name: tree
                  - kind: name
                    id: 8323
                    name: v
          depth: ~
        expr:
          kind: app
          id: 8372
          opcode: forall
          args:
            - kind: name
              id: 8327
              name: all_key_hashes
            - kind: lambda
              id: 8371
              params:
                - id: 8328
                  name: k
              expr:
                kind: app
                id: 8364
                opcode: matchVariant
                args:
                  - kind: app
                    id: 8332
                    opcode: ics23_prove
                    args:
                      - kind: name
                        id: 8329
                        name: tree
                      - kind: name
                        id: 8330
                        name: k
                      - kind: name
                        id: 8331
                        name: v
                  - kind: str
                    id: 8365
                    value: Some
                  - kind: lambda
                    id: 8366
                    params:
                      - id: 8367
                        name: cp
                    expr:
                      kind: app
                      id: 8356
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 8333
                          name: cp
                        - kind: str
                          id: 8357
                          value: Exist
                        - kind: lambda
                          id: 8358
                          params:
                            - id: 8359
                              name: ep
                          expr:
                            kind: app
                            id: 8354
                            opcode: igt
                            args:
                              - kind: app
                                id: 8352
                                opcode: size
                                args:
                                  - kind: app
                                    id: 8351
                                    opcode: filter
                                    args:
                                      - kind: name
                                        id: 8334
                                        name: nodes
                                      - kind: lambda
                                        id: 8350
                                        params:
                                          - id: 8335
                                            name: n
                                        expr:
                                          kind: app
                                          id: 8343
                                          opcode: matchVariant
                                          args:
                                            - kind: name
                                              id: 8336
                                              name: n
                                            - kind: str
                                              id: 8344
                                              value: Leaf
                                            - kind: lambda
                                              id: 8345
                                              params:
                                                - id: 8346
                                                  name: n
                                              expr:
                                                kind: app
                                                id: 8341
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 8339
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8337
                                                        name: n
                                                      - kind: str
                                                        id: 8338
                                                        value: key_hash
                                                  - kind: name
                                                    id: 8340
                                                    name: k
                                            - kind: str
                                              id: 8347
                                              value: Internal
                                            - kind: lambda
                                              id: 8348
                                              params:
                                                - id: 8349
                                                  name: _
                                              expr:
                                                kind: bool
                                                id: 8342
                                                value: false
                              - kind: int
                                id: 8353
                                value: 0
                        - kind: str
                          id: 8360
                          value: NonExist
                        - kind: lambda
                          id: 8361
                          params:
                            - id: 8362
                              name: _
                          expr:
                            kind: bool
                            id: 8355
                            value: true
                  - kind: str
                    id: 8368
                    value: None
                  - kind: lambda
                    id: 8369
                    params:
                      - id: 8370
                        name: _
                    expr:
                      kind: bool
                      id: 8363
                      value: true
    depth: 0
  972:
    kind: def
    id: 972
    name: membershipSoundnessInv
    qualifier: val
    expr:
      kind: app
      id: 971
      opcode: forall
      args:
        - kind: name
          id: 965
          name: versionsToCheck
        - kind: lambda
          id: 970
          params:
            - id: 966
              name: v
          expr:
            kind: app
            id: 969
            opcode: membershipSoundness
            args:
              - kind: name
                id: 967
                name: tree
              - kind: name
                id: 968
                name: v
    depth: 0
  973:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  975:
    kind: var
    id: 24
    name: tree
  976:
    id: 974
    name: v
  977:
    kind: def
    id: 8434
    name: nonMembershipSoundness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8433
      params:
        - id: 8377
          name: tree
        - id: 8379
          name: v
      expr:
        kind: let
        id: 8432
        opdef:
          id: 8385
          name: nodes
          qualifier: pureval
          expr:
            kind: app
            id: 8384
            opcode: values
            args:
              - kind: app
                id: 8383
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 8381
                    name: tree
                  - kind: name
                    id: 8382
                    name: v
          depth: ~
        expr:
          kind: app
          id: 8431
          opcode: forall
          args:
            - kind: name
              id: 8386
              name: all_key_hashes
            - kind: lambda
              id: 8430
              params:
                - id: 8387
                  name: k
              expr:
                kind: app
                id: 8423
                opcode: matchVariant
                args:
                  - kind: app
                    id: 8391
                    opcode: ics23_prove
                    args:
                      - kind: name
                        id: 8388
                        name: tree
                      - kind: name
                        id: 8389
                        name: k
                      - kind: name
                        id: 8390
                        name: v
                  - kind: str
                    id: 8424
                    value: Some
                  - kind: lambda
                    id: 8425
                    params:
                      - id: 8426
                        name: cp
                    expr:
                      kind: app
                      id: 8415
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 8392
                          name: cp
                        - kind: str
                          id: 8416
                          value: NonExist
                        - kind: lambda
                          id: 8417
                          params:
                            - id: 8418
                              name: nep
                          expr:
                            kind: app
                            id: 8413
                            opcode: eq
                            args:
                              - kind: app
                                id: 8411
                                opcode: size
                                args:
                                  - kind: app
                                    id: 8410
                                    opcode: filter
                                    args:
                                      - kind: name
                                        id: 8393
                                        name: nodes
                                      - kind: lambda
                                        id: 8409
                                        params:
                                          - id: 8394
                                            name: n
                                        expr:
                                          kind: app
                                          id: 8402
                                          opcode: matchVariant
                                          args:
                                            - kind: name
                                              id: 8395
                                              name: n
                                            - kind: str
                                              id: 8403
                                              value: Leaf
                                            - kind: lambda
                                              id: 8404
                                              params:
                                                - id: 8405
                                                  name: n
                                              expr:
                                                kind: app
                                                id: 8400
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 8398
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8396
                                                        name: n
                                                      - kind: str
                                                        id: 8397
                                                        value: key_hash
                                                  - kind: name
                                                    id: 8399
                                                    name: k
                                            - kind: str
                                              id: 8406
                                              value: Internal
                                            - kind: lambda
                                              id: 8407
                                              params:
                                                - id: 8408
                                                  name: _
                                              expr:
                                                kind: bool
                                                id: 8401
                                                value: false
                              - kind: int
                                id: 8412
                                value: 0
                        - kind: str
                          id: 8419
                          value: Exist
                        - kind: lambda
                          id: 8420
                          params:
                            - id: 8421
                              name: _
                          expr:
                            kind: bool
                            id: 8414
                            value: true
                  - kind: str
                    id: 8427
                    value: None
                  - kind: lambda
                    id: 8428
                    params:
                      - id: 8429
                        name: _
                    expr:
                      kind: bool
                      id: 8422
                      value: true
    depth: 0
  980:
    kind: def
    id: 980
    name: nonMembershipSoundnessInv
    qualifier: val
    expr:
      kind: app
      id: 979
      opcode: forall
      args:
        - kind: name
          id: 973
          name: versionsToCheck
        - kind: lambda
          id: 978
          params:
            - id: 974
              name: v
          expr:
            kind: app
            id: 977
            opcode: nonMembershipSoundness
            args:
              - kind: name
                id: 975
                name: tree
              - kind: name
                id: 976
                name: v
    depth: 0
  981:
    kind: def
    id: 180
    name: versionsToCheck
    qualifier: val
    expr:
      kind: app
      id: 179
      opcode: Set
      args:
        - kind: name
          id: 178
          name: version
    depth: 0
  983:
    kind: var
    id: 24
    name: tree
  984:
    id: 982
    name: version
  985:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  986:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  987:
    kind: def
    id: 987
    name: leafs
    qualifier: val
    expr:
      kind: app
      id: 986
      opcode: allLeafs
      args:
        - kind: app
          id: 985
          opcode: treeAtVersion
          args:
            - kind: name
              id: 983
              name: tree
            - kind: name
              id: 984
              name: version
    depth: 3
  988:
    kind: var
    id: 24
    name: tree
  991:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  993:
    id: 982
    name: version
  997:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  998:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  999:
    kind: var
    id: 24
    name: tree
  1002:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  1004:
    id: 982
    name: version
  1007:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  1008:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  1010:
    kind: var
    id: 24
    name: tree
  1011:
    id: 1009
    name: key_hash
  1012:
    id: 982
    name: version
  1013:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  1014:
    kind: def
    id: 1014
    name: proof
    qualifier: val
    expr:
      kind: app
      id: 1013
      opcode: ics23_prove
      args:
        - kind: name
          id: 1010
          name: tree
        - kind: name
          id: 1011
          name: key_hash
        - kind: name
          id: 1012
          name: version
    depth: 6
  1015:
    kind: def
    id: 1014
    name: proof
    qualifier: val
    expr:
      kind: app
      id: 1013
      opcode: ics23_prove
      args:
        - kind: name
          id: 1010
          name: tree
        - kind: name
          id: 1011
          name: key_hash
        - kind: name
          id: 1012
          name: version
    depth: 6
  1016:
    id: 1096
    name: p
  1017:
    kind: def
    id: 987
    name: leafs
    qualifier: val
    expr:
      kind: app
      id: 986
      opcode: allLeafs
      args:
        - kind: app
          id: 985
          opcode: treeAtVersion
          args:
            - kind: name
              id: 983
              name: tree
            - kind: name
              id: 984
              name: version
    depth: 3
  1019:
    id: 1018
    name: l
  1022:
    id: 1009
    name: key_hash
  1024:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  1025:
    id: 1088
    name: ep
  1026:
    id: 1018
    name: l
  1029:
    id: 1018
    name: l
  1032:
    kind: def
    id: 4495
    name: verifyMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4494
      params:
        - id: 4481
          name: root
        - id: 4483
          name: proof
        - id: 4485
          name: key
        - id: 4487
          name: value
      expr:
        kind: app
        id: 4493
        opcode: verify_existence
        args:
          - kind: name
            id: 4489
            name: proof
          - kind: name
            id: 4490
            name: root
          - kind: name
            id: 4491
            name: key
          - kind: name
            id: 4492
            name: value
    depth: 0
  1033:
    kind: def
    id: 3821
    name: all_value_hashes
    qualifier: pureval
    expr:
      kind: app
      id: 3820
      opcode: Set
      args:
        - kind: app
          id: 3817
          opcode: List
          args:
            - kind: int
              id: 3816
              value: 0
        - kind: app
          id: 3819
          opcode: List
          args:
            - kind: int
              id: 3818
              value: 1
    depth: 0
  1034:
    id: 1018
    name: l
  1040:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  1041:
    id: 1088
    name: ep
  1042:
    id: 1009
    name: key_hash
  1043:
    id: 1039
    name: value_hash
  1044:
    kind: def
    id: 4495
    name: verifyMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4494
      params:
        - id: 4481
          name: root
        - id: 4483
          name: proof
        - id: 4485
          name: key
        - id: 4487
          name: value
      expr:
        kind: app
        id: 4493
        opcode: verify_existence
        args:
          - kind: name
            id: 4489
            name: proof
          - kind: name
            id: 4490
            name: root
          - kind: name
            id: 4491
            name: key
          - kind: name
            id: 4492
            name: value
    depth: 0
  1051:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  1052:
    id: 1009
    name: key_hash
  1056:
    kind: def
    id: 3821
    name: all_value_hashes
    qualifier: pureval
    expr:
      kind: app
      id: 3820
      opcode: Set
      args:
        - kind: app
          id: 3817
          opcode: List
          args:
            - kind: int
              id: 3816
              value: 0
        - kind: app
          id: 3819
          opcode: List
          args:
            - kind: int
              id: 3818
              value: 1
    depth: 0
  1058:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  1059:
    id: 1088
    name: ep
  1060:
    id: 1055
    name: key_hash
  1061:
    id: 1057
    name: value_hash
  1062:
    kind: def
    id: 4495
    name: verifyMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4494
      params:
        - id: 4481
          name: root
        - id: 4483
          name: proof
        - id: 4485
          name: key
        - id: 4487
          name: value
      expr:
        kind: app
        id: 4493
        opcode: verify_existence
        args:
          - kind: name
            id: 4489
            name: proof
          - kind: name
            id: 4490
            name: root
          - kind: name
            id: 4491
            name: key
          - kind: name
            id: 4492
            name: value
    depth: 0
  1069:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  1070:
    id: 1091
    name: nep
  1071:
    id: 1009
    name: key_hash
  1072:
    kind: def
    id: 4565
    name: verifyNonMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4564
      params:
        - id: 4553
          name: root
        - id: 4555
          name: np
        - id: 4557
          name: key
      expr:
        kind: app
        id: 4563
        opcode: verify_non_existence
        args:
          - kind: name
            id: 4559
            name: np
          - kind: name
            id: 4560
            name: "ics23::InnerSpec"
          - kind: name
            id: 4561
            name: root
          - kind: name
            id: 4562
            name: key
    depth: 0
  1073:
    kind: def
    id: 987
    name: leafs
    qualifier: val
    expr:
      kind: app
      id: 986
      opcode: allLeafs
      args:
        - kind: app
          id: 985
          opcode: treeAtVersion
          args:
            - kind: name
              id: 983
              name: tree
            - kind: name
              id: 984
              name: version
    depth: 3
  1075:
    kind: def
    id: 998
    name: root
    qualifier: val
    expr:
      kind: app
      id: 997
      opcode: hash
      args:
        - kind: app
          id: 996
          opcode: get
          args:
            - kind: app
              id: 990
              opcode: field
              args:
                - kind: name
                  id: 988
                  name: tree
                - kind: str
                  id: 989
                  value: nodes
            - kind: app
              id: 995
              opcode: Rec
              args:
                - kind: str
                  id: 992
                  value: key_hash
                - kind: name
                  id: 991
                  name: ROOT_BITS
                - kind: str
                  id: 994
                  value: version
                - kind: name
                  id: 993
                  name: version
    depth: 4
  1076:
    id: 1091
    name: nep
  1077:
    id: 1074
    name: l
  1080:
    kind: def
    id: 4565
    name: verifyNonMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4564
      params:
        - id: 4553
          name: root
        - id: 4555
          name: np
        - id: 4557
          name: key
      expr:
        kind: app
        id: 4563
        opcode: verify_non_existence
        args:
          - kind: name
            id: 4559
            name: np
          - kind: name
            id: 4560
            name: "ics23::InnerSpec"
          - kind: name
            id: 4561
            name: root
          - kind: name
            id: 4562
            name: key
    depth: 0
  1108:
    kind: def
    id: 1108
    name: verifyMembershipInv
    qualifier: val
    expr:
      kind: app
      id: 1107
      opcode: forall
      args:
        - kind: name
          id: 981
          name: versionsToCheck
        - kind: lambda
          id: 1106
          params:
            - id: 982
              name: version
          expr:
            kind: let
            id: 1105
            opdef:
              id: 987
              name: leafs
              qualifier: val
              expr:
                kind: app
                id: 986
                opcode: allLeafs
                args:
                  - kind: app
                    id: 985
                    opcode: treeAtVersion
                    args:
                      - kind: name
                        id: 983
                        name: tree
                      - kind: name
                        id: 984
                        name: version
              depth: ~
            expr:
              kind: let
              id: 1104
              opdef:
                id: 998
                name: root
                qualifier: val
                expr:
                  kind: app
                  id: 997
                  opcode: hash
                  args:
                    - kind: app
                      id: 996
                      opcode: get
                      args:
                        - kind: app
                          id: 990
                          opcode: field
                          args:
                            - kind: name
                              id: 988
                              name: tree
                            - kind: str
                              id: 989
                              value: nodes
                        - kind: app
                          id: 995
                          opcode: Rec
                          args:
                            - kind: str
                              id: 992
                              value: key_hash
                            - kind: name
                              id: 991
                              name: ROOT_BITS
                            - kind: str
                              id: 994
                              value: version
                            - kind: name
                              id: 993
                              name: version
                depth: ~
              expr:
                kind: app
                id: 1103
                opcode: implies
                args:
                  - kind: app
                    id: 1007
                    opcode: has
                    args:
                      - kind: app
                        id: 1001
                        opcode: field
                        args:
                          - kind: name
                            id: 999
                            name: tree
                          - kind: str
                            id: 1000
                            value: nodes
                      - kind: app
                        id: 1006
                        opcode: Rec
                        args:
                          - kind: str
                            id: 1003
                            value: key_hash
                          - kind: name
                            id: 1002
                            name: ROOT_BITS
                          - kind: str
                            id: 1005
                            value: version
                          - kind: name
                            id: 1004
                            name: version
                  - kind: app
                    id: 1102
                    opcode: forall
                    args:
                      - kind: name
                        id: 1008
                        name: all_key_hashes
                      - kind: lambda
                        id: 1101
                        params:
                          - id: 1009
                            name: key_hash
                        expr:
                          kind: let
                          id: 1100
                          opdef:
                            id: 1014
                            name: proof
                            qualifier: val
                            expr:
                              kind: app
                              id: 1013
                              opcode: ics23_prove
                              args:
                                - kind: name
                                  id: 1010
                                  name: tree
                                - kind: name
                                  id: 1011
                                  name: key_hash
                                - kind: name
                                  id: 1012
                                  name: version
                            depth: ~
                          expr:
                            kind: app
                            id: 1093
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 1015
                                name: proof
                              - kind: str
                                id: 1094
                                value: Some
                              - kind: lambda
                                id: 1095
                                params:
                                  - id: 1096
                                    name: p
                                expr:
                                  kind: app
                                  id: 1085
                                  opcode: matchVariant
                                  args:
                                    - kind: name
                                      id: 1016
                                      name: p
                                    - kind: str
                                      id: 1086
                                      value: Exist
                                    - kind: lambda
                                      id: 1087
                                      params:
                                        - id: 1088
                                          name: ep
                                      expr:
                                        kind: app
                                        id: 1068
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 1050
                                            opcode: exists
                                            args:
                                              - kind: name
                                                id: 1017
                                                name: leafs
                                              - kind: lambda
                                                id: 1049
                                                params:
                                                  - id: 1018
                                                    name: l
                                                expr:
                                                  kind: app
                                                  id: 1048
                                                  opcode: and
                                                  args:
                                                    - kind: app
                                                      id: 1023
                                                      opcode: eq
                                                      args:
                                                        - kind: app
                                                          id: 1021
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1019
                                                              name: l
                                                            - kind: str
                                                              id: 1020
                                                              value: key_hash
                                                        - kind: name
                                                          id: 1022
                                                          name: key_hash
                                                    - kind: app
                                                      id: 1032
                                                      opcode: verifyMembership
                                                      args:
                                                        - kind: name
                                                          id: 1024
                                                          name: root
                                                        - kind: name
                                                          id: 1025
                                                          name: ep
                                                        - kind: app
                                                          id: 1028
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1026
                                                              name: l
                                                            - kind: str
                                                              id: 1027
                                                              value: key_hash
                                                        - kind: app
                                                          id: 1031
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1029
                                                              name: l
                                                            - kind: str
                                                              id: 1030
                                                              value: value_hash
                                                    - kind: app
                                                      id: 1047
                                                      opcode: forall
                                                      args:
                                                        - kind: app
                                                          id: 1038
                                                          opcode: exclude
                                                          args:
                                                            - kind: name
                                                              id: 1033
                                                              name: all_value_hashes
                                                            - kind: app
                                                              id: 1037
                                                              opcode: Set
                                                              args:
                                                                - kind: app
                                                                  id: 1036
                                                                  opcode: field
                                                                  args:
                                                                    - kind: name
                                                                      id: 1034
                                                                      name: l
                                                                    - kind: str
                                                                      id: 1035
                                                                      value: value_hash
                                                        - kind: lambda
                                                          id: 1046
                                                          params:
                                                            - id: 1039
                                                              name: value_hash
                                                          expr:
                                                            kind: app
                                                            id: 1045
                                                            opcode: not
                                                            args:
                                                              - kind: app
                                                                id: 1044
                                                                opcode: verifyMembership
                                                                args:
                                                                  - kind: name
                                                                    id: 1040
                                                                    name: root
                                                                  - kind: name
                                                                    id: 1041
                                                                    name: ep
                                                                  - kind: name
                                                                    id: 1042
                                                                    name: key_hash
                                                                  - kind: name
                                                                    id: 1043
                                                                    name: value_hash
                                          - kind: app
                                            id: 1067
                                            opcode: forall
                                            args:
                                              - kind: app
                                                id: 1054
                                                opcode: exclude
                                                args:
                                                  - kind: name
                                                    id: 1051
                                                    name: all_key_hashes
                                                  - kind: app
                                                    id: 1053
                                                    opcode: Set
                                                    args:
                                                      - kind: name
                                                        id: 1052
                                                        name: key_hash
                                              - kind: lambda
                                                id: 1066
                                                params:
                                                  - id: 1055
                                                    name: key_hash
                                                expr:
                                                  kind: app
                                                  id: 1065
                                                  opcode: forall
                                                  args:
                                                    - kind: name
                                                      id: 1056
                                                      name: all_value_hashes
                                                    - kind: lambda
                                                      id: 1064
                                                      params:
                                                        - id: 1057
                                                          name: value_hash
                                                      expr:
                                                        kind: app
                                                        id: 1063
                                                        opcode: not
                                                        args:
                                                          - kind: app
                                                            id: 1062
                                                            opcode: verifyMembership
                                                            args:
                                                              - kind: name
                                                                id: 1058
                                                                name: root
                                                              - kind: name
                                                                id: 1059
                                                                name: ep
                                                              - kind: name
                                                                id: 1060
                                                                name: key_hash
                                                              - kind: name
                                                                id: 1061
                                                                name: value_hash
                                    - kind: str
                                      id: 1089
                                      value: NonExist
                                    - kind: lambda
                                      id: 1090
                                      params:
                                        - id: 1091
                                          name: nep
                                      expr:
                                        kind: app
                                        id: 1084
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 1072
                                            opcode: verifyNonMembership
                                            args:
                                              - kind: name
                                                id: 1069
                                                name: root
                                              - kind: name
                                                id: 1070
                                                name: nep
                                              - kind: name
                                                id: 1071
                                                name: key_hash
                                          - kind: app
                                            id: 1083
                                            opcode: forall
                                            args:
                                              - kind: name
                                                id: 1073
                                                name: leafs
                                              - kind: lambda
                                                id: 1082
                                                params:
                                                  - id: 1074
                                                    name: l
                                                expr:
                                                  kind: app
                                                  id: 1081
                                                  opcode: not
                                                  args:
                                                    - kind: app
                                                      id: 1080
                                                      opcode: verifyNonMembership
                                                      args:
                                                        - kind: name
                                                          id: 1075
                                                          name: root
                                                        - kind: name
                                                          id: 1076
                                                          name: nep
                                                        - kind: app
                                                          id: 1079
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1077
                                                              name: l
                                                            - kind: str
                                                              id: 1078
                                                              value: key_hash
                              - kind: str
                                id: 1097
                                value: None
                              - kind: lambda
                                id: 1098
                                params:
                                  - id: 1099
                                    name: _
                                expr:
                                  kind: bool
                                  id: 1092
                                  value: true
    depth: 0
  1109:
    kind: def
    id: 240
    name: everyNodesParentIsInTheTreeInv
    qualifier: val
    expr:
      kind: let
      id: 239
      opdef:
        id: 235
        name: everyNodesParentIsInTheTree
        qualifier: puredef
        expr:
          kind: lambda
          id: 234
          params:
            - id: 200
              name: t
          expr:
            kind: let
            id: 233
            opdef:
              id: 210
              name: prefixes
              qualifier: val
              expr:
                kind: app
                id: 209
                opcode: map
                args:
                  - kind: app
                    id: 203
                    opcode: keys
                    args:
                      - kind: name
                        id: 202
                        name: t
                  - kind: lambda
                    id: 208
                    params:
                      - id: 204
                        name: p
                    expr:
                      kind: app
                      id: 207
                      opcode: field
                      args:
                        - kind: name
                          id: 205
                          name: p
                        - kind: str
                          id: 206
                          value: key_hash
              depth: ~
            expr:
              kind: app
              id: 232
              opcode: forall
              args:
                - kind: app
                  id: 217
                  opcode: filter
                  args:
                    - kind: name
                      id: 211
                      name: prefixes
                    - kind: lambda
                      id: 216
                      params:
                        - id: 212
                          name: p
                      expr:
                        kind: app
                        id: 215
                        opcode: neq
                        args:
                          - kind: name
                            id: 213
                            name: p
                          - kind: app
                            id: 214
                            opcode: List
                            args: []
                - kind: lambda
                  id: 231
                  params:
                    - id: 218
                      name: p
                  expr:
                    kind: let
                    id: 230
                    opdef:
                      id: 226
                      name: parent
                      qualifier: val
                      expr:
                        kind: app
                        id: 225
                        opcode: slice
                        args:
                          - kind: name
                            id: 219
                            name: p
                          - kind: int
                            id: 220
                            value: 0
                          - kind: app
                            id: 224
                            opcode: isub
                            args:
                              - kind: app
                                id: 222
                                opcode: length
                                args:
                                  - kind: name
                                    id: 221
                                    name: p
                              - kind: int
                                id: 223
                                value: 1
                      depth: ~
                    expr:
                      kind: app
                      id: 229
                      opcode: contains
                      args:
                        - kind: name
                          id: 227
                          name: prefixes
                        - kind: name
                          id: 228
                          name: parent
        depth: ~
      expr:
        kind: app
        id: 238
        opcode: forall
        args:
          - kind: name
            id: 236
            name: treesToCheck
          - kind: name
            id: 237
            name: everyNodesParentIsInTheTree
    depth: 0
  1115:
    kind: def
    id: 295
    name: nodeAtCommonPrefixInv
    qualifier: val
    expr:
      kind: let
      id: 294
      opdef:
        id: 261
        name: existsNode
        qualifier: puredef
        expr:
          kind: lambda
          id: 260
          params:
            - id: 243
              name: t
            - id: 245
              name: b
          expr:
            kind: app
            id: 259
            opcode: igt
            args:
              - kind: app
                id: 257
                opcode: size
                args:
                  - kind: app
                    id: 256
                    opcode: filter
                    args:
                      - kind: app
                        id: 248
                        opcode: keys
                        args:
                          - kind: name
                            id: 247
                            name: t
                      - kind: lambda
                        id: 255
                        params:
                          - id: 249
                            name: nId
                        expr:
                          kind: app
                          id: 254
                          opcode: eq
                          args:
                            - kind: app
                              id: 252
                              opcode: field
                              args:
                                - kind: name
                                  id: 250
                                  name: nId
                                - kind: str
                                  id: 251
                                  value: key_hash
                            - kind: name
                              id: 253
                              name: b
              - kind: int
                id: 258
                value: 0
        depth: ~
      expr:
        kind: let
        id: 293
        opdef:
          id: 289
          name: nodeAtCommonPrefix
          qualifier: puredef
          expr:
            kind: lambda
            id: 288
            params:
              - id: 263
                name: t
            expr:
              kind: app
              id: 287
              opcode: forall
              args:
                - kind: app
                  id: 266
                  opcode: allLeafs
                  args:
                    - kind: name
                      id: 265
                      name: t
                - kind: lambda
                  id: 286
                  params:
                    - id: 267
                      name: a
                  expr:
                    kind: app
                    id: 285
                    opcode: forall
                    args:
                      - kind: app
                        id: 269
                        opcode: allLeafs
                        args:
                          - kind: name
                            id: 268
                            name: t
                      - kind: lambda
                        id: 284
                        params:
                          - id: 270
                            name: b
                        expr:
                          kind: app
                          id: 283
                          opcode: implies
                          args:
                            - kind: app
                              id: 277
                              opcode: neq
                              args:
                                - kind: app
                                  id: 273
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 271
                                      name: a
                                    - kind: str
                                      id: 272
                                      value: key_hash
                                - kind: app
                                  id: 276
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 274
                                      name: b
                                    - kind: str
                                      id: 275
                                      value: key_hash
                            - kind: app
                              id: 282
                              opcode: existsNode
                              args:
                                - kind: name
                                  id: 278
                                  name: t
                                - kind: app
                                  id: 281
                                  opcode: commonPrefix
                                  args:
                                    - kind: name
                                      id: 279
                                      name: a
                                    - kind: name
                                      id: 280
                                      name: b
          depth: ~
        expr:
          kind: app
          id: 292
          opcode: forall
          args:
            - kind: name
              id: 290
              name: treesToCheck
            - kind: name
              id: 291
              name: nodeAtCommonPrefix
    depth: 0
  1121:
    kind: def
    id: 349
    name: noLeafInPrefixesInv
    qualifier: val
    expr:
      kind: let
      id: 348
      opdef:
        id: 344
        name: noLeafInPrefixes
        qualifier: puredef
        expr:
          kind: lambda
          id: 343
          params:
            - id: 298
              name: t
          expr:
            kind: let
            id: 342
            opdef:
              id: 308
              name: nodes
              qualifier: val
              expr:
                kind: app
                id: 307
                opcode: map
                args:
                  - kind: app
                    id: 301
                    opcode: keys
                    args:
                      - kind: name
                        id: 300
                        name: t
                  - kind: lambda
                    id: 306
                    params:
                      - id: 302
                        name: nId
                    expr:
                      kind: app
                      id: 305
                      opcode: field
                      args:
                        - kind: name
                          id: 303
                          name: nId
                        - kind: str
                          id: 304
                          value: key_hash
              depth: ~
            expr:
              kind: let
              id: 341
              opdef:
                id: 324
                name: leafs
                qualifier: val
                expr:
                  kind: app
                  id: 323
                  opcode: map
                  args:
                    - kind: app
                      id: 317
                      opcode: filter
                      args:
                        - kind: app
                          id: 310
                          opcode: keys
                          args:
                            - kind: name
                              id: 309
                              name: t
                        - kind: lambda
                          id: 316
                          params:
                            - id: 311
                              name: nId
                          expr:
                            kind: app
                            id: 315
                            opcode: isLeaf
                            args:
                              - kind: app
                                id: 314
                                opcode: get
                                args:
                                  - kind: name
                                    id: 312
                                    name: t
                                  - kind: name
                                    id: 313
                                    name: nId
                    - kind: lambda
                      id: 322
                      params:
                        - id: 318
                          name: nId
                      expr:
                        kind: app
                        id: 321
                        opcode: field
                        args:
                          - kind: name
                            id: 319
                            name: nId
                          - kind: str
                            id: 320
                            value: key_hash
                depth: ~
              expr:
                kind: app
                id: 340
                opcode: forall
                args:
                  - kind: name
                    id: 325
                    name: nodes
                  - kind: lambda
                    id: 339
                    params:
                      - id: 326
                        name: node
                    expr:
                      kind: app
                      id: 338
                      opcode: not
                      args:
                        - kind: app
                          id: 337
                          opcode: exists
                          args:
                            - kind: name
                              id: 327
                              name: leafs
                            - kind: lambda
                              id: 336
                              params:
                                - id: 328
                                  name: leaf
                              expr:
                                kind: app
                                id: 335
                                opcode: and
                                args:
                                  - kind: app
                                    id: 331
                                    opcode: neq
                                    args:
                                      - kind: name
                                        id: 329
                                        name: node
                                      - kind: name
                                        id: 330
                                        name: leaf
                                  - kind: app
                                    id: 334
                                    opcode: prefix_of
                                    args:
                                      - kind: name
                                        id: 332
                                        name: leaf
                                      - kind: name
                                        id: 333
                                        name: node
        depth: ~
      expr:
        kind: app
        id: 347
        opcode: forall
        args:
          - kind: name
            id: 345
            name: treesToCheck
          - kind: name
            id: 346
            name: noLeafInPrefixes
    depth: 0
  1127:
    kind: def
    id: 395
    name: allInternalNodesHaveAChildInv
    qualifier: val
    expr:
      kind: let
      id: 394
      opdef:
        id: 366
        name: internalNodeHasAChild
        qualifier: puredef
        expr:
          kind: lambda
          id: 365
          params:
            - id: 352
              name: n
          expr:
            kind: app
            id: 364
            opcode: or
            args:
              - kind: app
                id: 358
                opcode: neq
                args:
                  - kind: app
                    id: 356
                    opcode: field
                    args:
                      - kind: name
                        id: 354
                        name: n
                      - kind: str
                        id: 355
                        value: left_child
                  - kind: name
                    id: 357
                    name: None
              - kind: app
                id: 363
                opcode: neq
                args:
                  - kind: app
                    id: 361
                    opcode: field
                    args:
                      - kind: name
                        id: 359
                        name: n
                      - kind: str
                        id: 360
                        value: right_child
                  - kind: name
                    id: 362
                    name: None
        depth: ~
      expr:
        kind: let
        id: 393
        opdef:
          id: 389
          name: allInternalNodesHaveAChild
          qualifier: puredef
          expr:
            kind: lambda
            id: 388
            params:
              - id: 368
                name: t
            expr:
              kind: app
              id: 387
              opcode: forall
              args:
                - kind: app
                  id: 371
                  opcode: keys
                  args:
                    - kind: name
                      id: 370
                      name: t
                - kind: lambda
                  id: 386
                  params:
                    - id: 372
                      name: nId
                  expr:
                    kind: app
                    id: 379
                    opcode: matchVariant
                    args:
                      - kind: app
                        id: 375
                        opcode: get
                        args:
                          - kind: name
                            id: 373
                            name: t
                          - kind: name
                            id: 374
                            name: nId
                      - kind: str
                        id: 380
                        value: Internal
                      - kind: lambda
                        id: 381
                        params:
                          - id: 382
                            name: n
                        expr:
                          kind: app
                          id: 377
                          opcode: internalNodeHasAChild
                          args:
                            - kind: name
                              id: 376
                              name: n
                      - kind: str
                        id: 383
                        value: Leaf
                      - kind: lambda
                        id: 384
                        params:
                          - id: 385
                            name: _
                        expr:
                          kind: bool
                          id: 378
                          value: true
          depth: ~
        expr:
          kind: app
          id: 392
          opcode: forall
          args:
            - kind: name
              id: 390
              name: treesToCheck
            - kind: name
              id: 391
              name: allInternalNodesHaveAChild
    depth: 0
  1133:
    kind: def
    id: 463
    name: densityInv
    qualifier: val
    expr:
      kind: let
      id: 462
      opdef:
        id: 458
        name: isDense
        qualifier: puredef
        expr:
          kind: lambda
          id: 457
          params:
            - id: 398
              name: t
          expr:
            kind: app
            id: 456
            opcode: forall
            args:
              - kind: app
                id: 401
                opcode: keys
                args:
                  - kind: name
                    id: 400
                    name: t
              - kind: lambda
                id: 455
                params:
                  - id: 402
                    name: nId
                expr:
                  kind: app
                  id: 448
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 405
                      opcode: get
                      args:
                        - kind: name
                          id: 403
                          name: t
                        - kind: name
                          id: 404
                          name: nId
                    - kind: str
                      id: 449
                      value: Internal
                    - kind: lambda
                      id: 450
                      params:
                        - id: 451
                          name: n
                      expr:
                        kind: app
                        id: 446
                        opcode: ite
                        args:
                          - kind: app
                            id: 416
                            opcode: and
                            args:
                              - kind: app
                                id: 410
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 408
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 406
                                        name: n
                                      - kind: str
                                        id: 407
                                        value: left_child
                                  - kind: name
                                    id: 409
                                    name: None
                              - kind: app
                                id: 415
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 413
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 411
                                        name: n
                                      - kind: str
                                        id: 412
                                        value: right_child
                                  - kind: name
                                    id: 414
                                    name: None
                          - kind: app
                            id: 424
                            opcode: isInternal
                            args:
                              - kind: app
                                id: 423
                                opcode: findNode
                                args:
                                  - kind: name
                                    id: 417
                                    name: t
                                  - kind: app
                                    id: 422
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 420
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 418
                                            name: nId
                                          - kind: str
                                            id: 419
                                            value: key_hash
                                      - kind: int
                                        id: 421
                                        value: 1
                          - kind: app
                            id: 445
                            opcode: ite
                            args:
                              - kind: app
                                id: 435
                                opcode: and
                                args:
                                  - kind: app
                                    id: 429
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 427
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 425
                                            name: n
                                          - kind: str
                                            id: 426
                                            value: right_child
                                      - kind: name
                                        id: 428
                                        name: None
                                  - kind: app
                                    id: 434
                                    opcode: neq
                                    args:
                                      - kind: app
                                        id: 432
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 430
                                            name: n
                                          - kind: str
                                            id: 431
                                            value: left_child
                                      - kind: name
                                        id: 433
                                        name: None
                              - kind: app
                                id: 443
                                opcode: isInternal
                                args:
                                  - kind: app
                                    id: 442
                                    opcode: findNode
                                    args:
                                      - kind: name
                                        id: 436
                                        name: t
                                      - kind: app
                                        id: 441
                                        opcode: append
                                        args:
                                          - kind: app
                                            id: 439
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 437
                                                name: nId
                                              - kind: str
                                                id: 438
                                                value: key_hash
                                          - kind: int
                                            id: 440
                                            value: 0
                              - kind: bool
                                id: 444
                                value: true
                    - kind: str
                      id: 452
                      value: Leaf
                    - kind: lambda
                      id: 453
                      params:
                        - id: 454
                          name: _
                      expr:
                        kind: bool
                        id: 447
                        value: true
        depth: ~
      expr:
        kind: app
        id: 461
        opcode: forall
        args:
          - kind: name
            id: 459
            name: treesToCheck
          - kind: name
            id: 460
            name: isDense
    depth: 0
  1139:
    kind: def
    id: 519
    name: versionInv
    qualifier: val
    expr:
      kind: let
      id: 518
      opdef:
        id: 483
        name: allPrefixes
        qualifier: puredef
        expr:
          kind: lambda
          id: 482
          params:
            - id: 467
              name: l
          expr:
            kind: app
            id: 481
            opcode: map
            args:
              - kind: app
                id: 474
                opcode: to
                args:
                  - kind: int
                    id: 471
                    value: 0
                  - kind: app
                    id: 473
                    opcode: length
                    args:
                      - kind: name
                        id: 472
                        name: l
              - kind: lambda
                id: 480
                params:
                  - id: 475
                    name: i
                expr:
                  kind: app
                  id: 479
                  opcode: slice
                  args:
                    - kind: name
                      id: 476
                      name: l
                    - kind: int
                      id: 477
                      value: 0
                    - kind: name
                      id: 478
                      name: i
        depth: ~
      expr:
        kind: app
        id: 517
        opcode: forall
        args:
          - kind: app
            id: 487
            opcode: keys
            args:
              - kind: app
                id: 486
                opcode: field
                args:
                  - kind: name
                    id: 484
                    name: tree
                  - kind: str
                    id: 485
                    value: nodes
          - kind: lambda
            id: 516
            params:
              - id: 488
                name: a
            expr:
              kind: app
              id: 515
              opcode: forall
              args:
                - kind: app
                  id: 492
                  opcode: allPrefixes
                  args:
                    - kind: app
                      id: 491
                      opcode: field
                      args:
                        - kind: name
                          id: 489
                          name: a
                        - kind: str
                          id: 490
                          value: key_hash
                - kind: lambda
                  id: 514
                  params:
                    - id: 493
                      name: p
                  expr:
                    kind: app
                    id: 513
                    opcode: exists
                    args:
                      - kind: app
                        id: 497
                        opcode: keys
                        args:
                          - kind: app
                            id: 496
                            opcode: field
                            args:
                              - kind: name
                                id: 494
                                name: tree
                              - kind: str
                                id: 495
                                value: nodes
                      - kind: lambda
                        id: 512
                        params:
                          - id: 498
                            name: b
                        expr:
                          kind: app
                          id: 511
                          opcode: and
                          args:
                            - kind: app
                              id: 503
                              opcode: eq
                              args:
                                - kind: name
                                  id: 499
                                  name: p
                                - kind: app
                                  id: 502
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 500
                                      name: b
                                    - kind: str
                                      id: 501
                                      value: key_hash
                            - kind: app
                              id: 510
                              opcode: igte
                              args:
                                - kind: app
                                  id: 506
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 504
                                      name: b
                                    - kind: str
                                      id: 505
                                      value: version
                                - kind: app
                                  id: 509
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 507
                                      name: a
                                    - kind: str
                                      id: 508
                                      value: version
    depth: 0
  1145:
    kind: def
    id: 654
    name: orphansInNoTreeInv
    qualifier: val
    expr:
      kind: app
      id: 653
      opcode: forall
      args:
        - kind: app
          id: 623
          opcode: field
          args:
            - kind: name
              id: 621
              name: tree
            - kind: str
              id: 622
              value: orphans
        - kind: lambda
          id: 652
          params:
            - id: 624
              name: o
          expr:
            kind: let
            id: 651
            opdef:
              id: 634
              name: nodeId
              qualifier: val
              expr:
                kind: app
                id: 633
                opcode: Rec
                args:
                  - kind: str
                    id: 628
                    value: version
                  - kind: app
                    id: 627
                    opcode: field
                    args:
                      - kind: name
                        id: 625
                        name: o
                      - kind: str
                        id: 626
                        value: version
                  - kind: str
                    id: 632
                    value: key_hash
                  - kind: app
                    id: 631
                    opcode: field
                    args:
                      - kind: name
                        id: 629
                        name: o
                      - kind: str
                        id: 630
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 650
              opcode: forall
              args:
                - kind: app
                  id: 640
                  opcode: to
                  args:
                    - kind: app
                      id: 637
                      opcode: field
                      args:
                        - kind: name
                          id: 635
                          name: o
                        - kind: str
                          id: 636
                          value: orphaned_since_version
                    - kind: app
                      id: 639
                      opcode: treeVersion
                      args:
                        - kind: name
                          id: 638
                          name: tree
                - kind: lambda
                  id: 649
                  params:
                    - id: 641
                      name: ver
                  expr:
                    kind: app
                    id: 648
                    opcode: not
                    args:
                      - kind: app
                        id: 647
                        opcode: contains
                        args:
                          - kind: app
                            id: 645
                            opcode: keys
                            args:
                              - kind: app
                                id: 644
                                opcode: treeAtVersion
                                args:
                                  - kind: name
                                    id: 642
                                    name: tree
                                  - kind: name
                                    id: 643
                                    name: ver
                          - kind: name
                            id: 646
                            name: nodeId
    depth: 0
  1151:
    kind: def
    id: 728
    name: hashInv
    qualifier: val
    expr:
      kind: let
      id: 727
      opdef:
        id: 723
        name: properlyHashed
        qualifier: puredef
        expr:
          kind: lambda
          id: 722
          params:
            - id: 657
              name: t
          expr:
            kind: app
            id: 721
            opcode: forall
            args:
              - kind: app
                id: 660
                opcode: keys
                args:
                  - kind: name
                    id: 659
                    name: t
              - kind: lambda
                id: 720
                params:
                  - id: 661
                    name: nID
                expr:
                  kind: app
                  id: 713
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 664
                      opcode: get
                      args:
                        - kind: name
                          id: 662
                          name: t
                        - kind: name
                          id: 663
                          name: nID
                    - kind: str
                      id: 714
                      value: Leaf
                    - kind: lambda
                      id: 715
                      params:
                        - id: 716
                          name: _
                      expr:
                        kind: bool
                        id: 665
                        value: true
                    - kind: str
                      id: 717
                      value: Internal
                    - kind: lambda
                      id: 718
                      params:
                        - id: 719
                          name: n
                      expr:
                        kind: app
                        id: 712
                        opcode: and
                        args:
                          - kind: app
                            id: 682
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 668
                                opcode: field
                                args:
                                  - kind: name
                                    id: 666
                                    name: n
                                  - kind: str
                                    id: 667
                                    value: left_child
                              - kind: str
                                id: 683
                                value: None
                              - kind: lambda
                                id: 684
                                params:
                                  - id: 685
                                    name: _
                                expr:
                                  kind: bool
                                  id: 669
                                  value: true
                              - kind: str
                                id: 686
                                value: Some
                              - kind: lambda
                                id: 687
                                params:
                                  - id: 688
                                    name: c
                                expr:
                                  kind: app
                                  id: 681
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 672
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 670
                                          name: c
                                        - kind: str
                                          id: 671
                                          value: hash
                                    - kind: app
                                      id: 680
                                      opcode: hash
                                      args:
                                        - kind: app
                                          id: 679
                                          opcode: findNode
                                          args:
                                            - kind: name
                                              id: 673
                                              name: t
                                            - kind: app
                                              id: 678
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 676
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 674
                                                      name: nID
                                                    - kind: str
                                                      id: 675
                                                      value: key_hash
                                                - kind: int
                                                  id: 677
                                                  value: 0
                          - kind: app
                            id: 705
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 691
                                opcode: field
                                args:
                                  - kind: name
                                    id: 689
                                    name: n
                                  - kind: str
                                    id: 690
                                    value: right_child
                              - kind: str
                                id: 706
                                value: None
                              - kind: lambda
                                id: 707
                                params:
                                  - id: 708
                                    name: _
                                expr:
                                  kind: bool
                                  id: 692
                                  value: true
                              - kind: str
                                id: 709
                                value: Some
                              - kind: lambda
                                id: 710
                                params:
                                  - id: 711
                                    name: c
                                expr:
                                  kind: app
                                  id: 704
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 695
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 693
                                          name: c
                                        - kind: str
                                          id: 694
                                          value: hash
                                    - kind: app
                                      id: 703
                                      opcode: hash
                                      args:
                                        - kind: app
                                          id: 702
                                          opcode: findNode
                                          args:
                                            - kind: name
                                              id: 696
                                              name: t
                                            - kind: app
                                              id: 701
                                              opcode: append
                                              args:
                                                - kind: app
                                                  id: 699
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 697
                                                      name: nID
                                                    - kind: str
                                                      id: 698
                                                      value: key_hash
                                                - kind: int
                                                  id: 700
                                                  value: 1
        depth: ~
      expr:
        kind: app
        id: 726
        opcode: forall
        args:
          - kind: name
            id: 724
            name: treesToCheck
          - kind: name
            id: 725
            name: properlyHashed
    depth: 0
  1157:
    kind: def
    id: 808
    name: uniqueHashesInv
    qualifier: val
    expr:
      kind: let
      id: 807
      opdef:
        id: 803
        name: uniqueHashes
        qualifier: puredef
        expr:
          kind: lambda
          id: 802
          params:
            - id: 731
              name: t
          expr:
            kind: let
            id: 801
            opdef:
              id: 783
              name: hashes
              qualifier: pureval
              expr:
                kind: app
                id: 782
                opcode: fold
                args:
                  - kind: app
                    id: 734
                    opcode: values
                    args:
                      - kind: name
                        id: 733
                        name: t
                  - kind: app
                    id: 735
                    opcode: List
                    args: []
                  - kind: lambda
                    id: 781
                    params:
                      - id: 736
                        name: acc
                      - id: 737
                        name: node
                    expr:
                      kind: app
                      id: 774
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 738
                          name: node
                        - kind: str
                          id: 775
                          value: Internal
                        - kind: lambda
                          id: 776
                          params:
                            - id: 777
                              name: n
                          expr:
                            kind: let
                            id: 772
                            opdef:
                              id: 755
                              name: acc_1
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 748
                                opcode: matchVariant
                                args:
                                  - kind: app
                                    id: 741
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 739
                                        name: n
                                      - kind: str
                                        id: 740
                                        value: left_child
                                  - kind: str
                                    id: 749
                                    value: None
                                  - kind: lambda
                                    id: 750
                                    params:
                                      - id: 751
                                        name: _
                                    expr:
                                      kind: name
                                      id: 742
                                      name: acc
                                  - kind: str
                                    id: 752
                                    value: Some
                                  - kind: lambda
                                    id: 753
                                    params:
                                      - id: 754
                                        name: c
                                    expr:
                                      kind: app
                                      id: 747
                                      opcode: append
                                      args:
                                        - kind: name
                                          id: 743
                                          name: acc
                                        - kind: app
                                          id: 746
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 744
                                              name: c
                                            - kind: str
                                              id: 745
                                              value: hash
                              depth: ~
                            expr:
                              kind: app
                              id: 765
                              opcode: matchVariant
                              args:
                                - kind: app
                                  id: 758
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 756
                                      name: n
                                    - kind: str
                                      id: 757
                                      value: right_child
                                - kind: str
                                  id: 766
                                  value: None
                                - kind: lambda
                                  id: 767
                                  params:
                                    - id: 768
                                      name: _
                                  expr:
                                    kind: name
                                    id: 759
                                    name: acc_1
                                - kind: str
                                  id: 769
                                  value: Some
                                - kind: lambda
                                  id: 770
                                  params:
                                    - id: 771
                                      name: c
                                  expr:
                                    kind: app
                                    id: 764
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 760
                                        name: acc_1
                                      - kind: app
                                        id: 763
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 761
                                            name: c
                                          - kind: str
                                            id: 762
                                            value: hash
                        - kind: str
                          id: 778
                          value: _
                        - kind: lambda
                          id: 779
                          params:
                            - id: 780
                              name: _
                          expr:
                            kind: name
                            id: 773
                            name: acc
              depth: ~
            expr:
              kind: let
              id: 800
              opdef:
                id: 794
                name: uniqueHashes
                qualifier: pureval
                expr:
                  kind: app
                  id: 793
                  opcode: foldl
                  args:
                    - kind: name
                      id: 784
                      name: hashes
                    - kind: app
                      id: 785
                      opcode: Set
                      args: []
                    - kind: lambda
                      id: 792
                      params:
                        - id: 786
                          name: acc
                        - id: 787
                          name: hash
                      expr:
                        kind: app
                        id: 791
                        opcode: union
                        args:
                          - kind: name
                            id: 788
                            name: acc
                          - kind: app
                            id: 790
                            opcode: Set
                            args:
                              - kind: name
                                id: 789
                                name: hash
                depth: ~
              expr:
                kind: app
                id: 799
                opcode: eq
                args:
                  - kind: app
                    id: 796
                    opcode: length
                    args:
                      - kind: name
                        id: 795
                        name: hashes
                  - kind: app
                    id: 798
                    opcode: size
                    args:
                      - kind: name
                        id: 797
                        name: uniqueHashes
        depth: ~
      expr:
        kind: app
        id: 806
        opcode: forall
        args:
          - kind: name
            id: 804
            name: treesToCheck
          - kind: name
            id: 805
            name: uniqueHashes
    depth: 0
  1163:
    kind: def
    id: 844
    name: goodTreeMapInv
    qualifier: val
    expr:
      kind: let
      id: 843
      opdef:
        id: 839
        name: goodTreeMap
        qualifier: puredef
        expr:
          kind: lambda
          id: 838
          params:
            - id: 811
              name: t
          expr:
            kind: app
            id: 837
            opcode: forall
            args:
              - kind: app
                id: 814
                opcode: keys
                args:
                  - kind: name
                    id: 813
                    name: t
              - kind: lambda
                id: 836
                params:
                  - id: 815
                    name: a
                expr:
                  kind: app
                  id: 835
                  opcode: forall
                  args:
                    - kind: app
                      id: 817
                      opcode: keys
                      args:
                        - kind: name
                          id: 816
                          name: t
                    - kind: lambda
                      id: 834
                      params:
                        - id: 818
                          name: b
                      expr:
                        kind: app
                        id: 833
                        opcode: implies
                        args:
                          - kind: app
                            id: 825
                            opcode: eq
                            args:
                              - kind: app
                                id: 821
                                opcode: field
                                args:
                                  - kind: name
                                    id: 819
                                    name: a
                                  - kind: str
                                    id: 820
                                    value: key_hash
                              - kind: app
                                id: 824
                                opcode: field
                                args:
                                  - kind: name
                                    id: 822
                                    name: b
                                  - kind: str
                                    id: 823
                                    value: key_hash
                          - kind: app
                            id: 832
                            opcode: eq
                            args:
                              - kind: app
                                id: 828
                                opcode: field
                                args:
                                  - kind: name
                                    id: 826
                                    name: a
                                  - kind: str
                                    id: 827
                                    value: version
                              - kind: app
                                id: 831
                                opcode: field
                                args:
                                  - kind: name
                                    id: 829
                                    name: b
                                  - kind: str
                                    id: 830
                                    value: version
        depth: ~
      expr:
        kind: app
        id: 842
        opcode: forall
        args:
          - kind: name
            id: 840
            name: treesToCheck
          - kind: name
            id: 841
            name: goodTreeMap
    depth: 0
  1169:
    kind: def
    id: 862
    name: bijectiveTreeMapInv
    qualifier: val
    expr:
      kind: let
      id: 861
      opdef:
        id: 857
        name: bijectiveTreeMap
        qualifier: puredef
        expr:
          kind: lambda
          id: 856
          params:
            - id: 847
              name: t
          expr:
            kind: app
            id: 855
            opcode: eq
            args:
              - kind: app
                id: 851
                opcode: size
                args:
                  - kind: app
                    id: 850
                    opcode: keys
                    args:
                      - kind: name
                        id: 849
                        name: t
              - kind: app
                id: 854
                opcode: size
                args:
                  - kind: app
                    id: 853
                    opcode: values
                    args:
                      - kind: name
                        id: 852
                        name: t
        depth: ~
      expr:
        kind: app
        id: 860
        opcode: forall
        args:
          - kind: name
            id: 858
            name: treesToCheck
          - kind: name
            id: 859
            name: bijectiveTreeMap
    depth: 0
  1175:
    kind: def
    id: 948
    name: operationSuccessInv
    qualifier: val
    expr:
      kind: let
      id: 947
      opdef:
        id: 875
        name: treeContainsKV
        qualifier: puredef
        expr:
          kind: lambda
          id: 874
          params:
            - id: 865
              name: t
            - id: 867
              name: n
          expr:
            kind: app
            id: 873
            opcode: contains
            args:
              - kind: app
                id: 870
                opcode: values
                args:
                  - kind: name
                    id: 869
                    name: t
              - kind: app
                id: 872
                opcode: Leaf
                args:
                  - kind: name
                    id: 871
                    name: n
        depth: ~
      expr:
        kind: let
        id: 946
        opdef:
          id: 904
          name: treeNotContainsKey
          qualifier: puredef
          expr:
            kind: lambda
            id: 903
            params:
              - id: 877
                name: t
              - id: 879
                name: key
            expr:
              kind: app
              id: 902
              opcode: eq
              args:
                - kind: app
                  id: 900
                  opcode: size
                  args:
                    - kind: app
                      id: 899
                      opcode: filter
                      args:
                        - kind: app
                          id: 882
                          opcode: values
                          args:
                            - kind: name
                              id: 881
                              name: t
                        - kind: lambda
                          id: 898
                          params:
                            - id: 883
                              name: node
                          expr:
                            kind: app
                            id: 891
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 884
                                name: node
                              - kind: str
                                id: 892
                                value: Leaf
                              - kind: lambda
                                id: 893
                                params:
                                  - id: 894
                                    name: n
                                expr:
                                  kind: app
                                  id: 889
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 887
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 885
                                          name: n
                                        - kind: str
                                          id: 886
                                          value: key_hash
                                    - kind: name
                                      id: 888
                                      name: key
                              - kind: str
                                id: 895
                                value: Internal
                              - kind: lambda
                                id: 896
                                params:
                                  - id: 897
                                    name: _
                                expr:
                                  kind: bool
                                  id: 890
                                  value: false
                - kind: int
                  id: 901
                  value: 0
          depth: ~
        expr:
          kind: let
          id: 945
          opdef:
            id: 910
            name: tm
            qualifier: val
            expr:
              kind: app
              id: 909
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 905
                  name: tree
                - kind: app
                  id: 908
                  opcode: isub
                  args:
                    - kind: name
                      id: 906
                      name: version
                    - kind: int
                      id: 907
                      value: 1
            depth: ~
          expr:
            kind: app
            id: 944
            opcode: implies
            args:
              - kind: app
                id: 914
                opcode: igt
                args:
                  - kind: app
                    id: 912
                    opcode: length
                    args:
                      - kind: name
                        id: 911
                        name: ops_history
                  - kind: int
                    id: 913
                    value: 0
              - kind: app
                id: 943
                opcode: forall
                args:
                  - kind: app
                    id: 916
                    opcode: last
                    args:
                      - kind: name
                        id: 915
                        name: ops_history
                  - kind: lambda
                    id: 942
                    params:
                      - id: 917
                        name: op
                    expr:
                      kind: app
                      id: 935
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 920
                          opcode: field
                          args:
                            - kind: name
                              id: 918
                              name: op
                            - kind: str
                              id: 919
                              value: op
                        - kind: str
                          id: 936
                          value: Insert
                        - kind: lambda
                          id: 937
                          params:
                            - id: 938
                              name: value
                          expr:
                            kind: app
                            id: 929
                            opcode: treeContainsKV
                            args:
                              - kind: name
                                id: 921
                                name: tm
                              - kind: app
                                id: 928
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 925
                                    value: key_hash
                                  - kind: app
                                    id: 924
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 922
                                        name: op
                                      - kind: str
                                        id: 923
                                        value: key_hash
                                  - kind: str
                                    id: 927
                                    value: value_hash
                                  - kind: name
                                    id: 926
                                    name: value
                        - kind: str
                          id: 939
                          value: Delete
                        - kind: lambda
                          id: 940
                          params:
                            - id: 941
                              name: _
                          expr:
                            kind: app
                            id: 934
                            opcode: treeNotContainsKey
                            args:
                              - kind: name
                                id: 930
                                name: tm
                              - kind: app
                                id: 933
                                opcode: field
                                args:
                                  - kind: name
                                    id: 931
                                    name: op
                                  - kind: str
                                    id: 932
                                    value: key_hash
    depth: 0
  1182:
    kind: def
    id: 1182
    name: treeInvariants
    qualifier: val
    expr:
      kind: app
      id: 1181
      opcode: actionAll
      args:
        - kind: app
          id: 1114
          opcode: ite
          args:
            - kind: name
              id: 1109
              name: everyNodesParentIsInTheTreeInv
            - kind: bool
              id: 1110
              value: true
            - kind: app
              id: 1113
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1111
                  value: everyNodesParentIsInTheTreeInv
                - kind: bool
                  id: 1112
                  value: false
        - kind: app
          id: 1120
          opcode: ite
          args:
            - kind: name
              id: 1115
              name: nodeAtCommonPrefixInv
            - kind: bool
              id: 1116
              value: true
            - kind: app
              id: 1119
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1117
                  value: nodeAtCommonPrefixInv
                - kind: bool
                  id: 1118
                  value: false
        - kind: app
          id: 1126
          opcode: ite
          args:
            - kind: name
              id: 1121
              name: noLeafInPrefixesInv
            - kind: bool
              id: 1122
              value: true
            - kind: app
              id: 1125
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1123
                  value: noLeafInPrefixesInv
                - kind: bool
                  id: 1124
                  value: false
        - kind: app
          id: 1132
          opcode: ite
          args:
            - kind: name
              id: 1127
              name: allInternalNodesHaveAChildInv
            - kind: bool
              id: 1128
              value: true
            - kind: app
              id: 1131
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1129
                  value: allInternalNodesHaveAChild
                - kind: bool
                  id: 1130
                  value: false
        - kind: app
          id: 1138
          opcode: ite
          args:
            - kind: name
              id: 1133
              name: densityInv
            - kind: bool
              id: 1134
              value: true
            - kind: app
              id: 1137
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1135
                  value: densityInv
                - kind: bool
                  id: 1136
                  value: false
        - kind: app
          id: 1144
          opcode: ite
          args:
            - kind: name
              id: 1139
              name: versionInv
            - kind: bool
              id: 1140
              value: true
            - kind: app
              id: 1143
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1141
                  value: versionInv
                - kind: bool
                  id: 1142
                  value: false
        - kind: app
          id: 1150
          opcode: ite
          args:
            - kind: name
              id: 1145
              name: orphansInNoTreeInv
            - kind: bool
              id: 1146
              value: true
            - kind: app
              id: 1149
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1147
                  value: orphansInNoTreeInv
                - kind: bool
                  id: 1148
                  value: false
        - kind: app
          id: 1156
          opcode: ite
          args:
            - kind: name
              id: 1151
              name: hashInv
            - kind: bool
              id: 1152
              value: true
            - kind: app
              id: 1155
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1153
                  value: hashInv
                - kind: bool
                  id: 1154
                  value: false
        - kind: app
          id: 1162
          opcode: ite
          args:
            - kind: name
              id: 1157
              name: uniqueHashesInv
            - kind: bool
              id: 1158
              value: true
            - kind: app
              id: 1161
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1159
                  value: uniqueHashesInv
                - kind: bool
                  id: 1160
                  value: false
        - kind: app
          id: 1168
          opcode: ite
          args:
            - kind: name
              id: 1163
              name: goodTreeMapInv
            - kind: bool
              id: 1164
              value: true
            - kind: app
              id: 1167
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1165
                  value: goodTreeMapInv
                - kind: bool
                  id: 1166
                  value: false
        - kind: app
          id: 1174
          opcode: ite
          args:
            - kind: name
              id: 1169
              name: bijectiveTreeMapInv
            - kind: bool
              id: 1170
              value: true
            - kind: app
              id: 1173
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1171
                  value: bijectiveTreeMapInv
                - kind: bool
                  id: 1172
                  value: false
        - kind: app
          id: 1180
          opcode: ite
          args:
            - kind: name
              id: 1175
              name: operationSuccessInv
            - kind: bool
              id: 1176
              value: true
            - kind: app
              id: 1179
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1177
                  value: operationSuccessInv
                - kind: bool
                  id: 1178
                  value: false
    depth: 0
  1183:
    kind: def
    id: 956
    name: membershipCompletenessInv
    qualifier: val
    expr:
      kind: app
      id: 955
      opcode: forall
      args:
        - kind: name
          id: 949
          name: versionsToCheck
        - kind: lambda
          id: 954
          params:
            - id: 950
              name: v
          expr:
            kind: app
            id: 953
            opcode: membershipCompleteness
            args:
              - kind: name
                id: 951
                name: tree
              - kind: name
                id: 952
                name: v
    depth: 0
  1189:
    kind: def
    id: 964
    name: nonMembershipCompletenessInv
    qualifier: val
    expr:
      kind: app
      id: 963
      opcode: forall
      args:
        - kind: name
          id: 957
          name: versionsToCheck
        - kind: lambda
          id: 962
          params:
            - id: 958
              name: v
          expr:
            kind: app
            id: 961
            opcode: nonMembershipCompleteness
            args:
              - kind: name
                id: 959
                name: tree
              - kind: name
                id: 960
                name: v
    depth: 0
  1195:
    kind: def
    id: 972
    name: membershipSoundnessInv
    qualifier: val
    expr:
      kind: app
      id: 971
      opcode: forall
      args:
        - kind: name
          id: 965
          name: versionsToCheck
        - kind: lambda
          id: 970
          params:
            - id: 966
              name: v
          expr:
            kind: app
            id: 969
            opcode: membershipSoundness
            args:
              - kind: name
                id: 967
                name: tree
              - kind: name
                id: 968
                name: v
    depth: 0
  1201:
    kind: def
    id: 980
    name: nonMembershipSoundnessInv
    qualifier: val
    expr:
      kind: app
      id: 979
      opcode: forall
      args:
        - kind: name
          id: 973
          name: versionsToCheck
        - kind: lambda
          id: 978
          params:
            - id: 974
              name: v
          expr:
            kind: app
            id: 977
            opcode: nonMembershipSoundness
            args:
              - kind: name
                id: 975
                name: tree
              - kind: name
                id: 976
                name: v
    depth: 0
  1207:
    kind: def
    id: 1108
    name: verifyMembershipInv
    qualifier: val
    expr:
      kind: app
      id: 1107
      opcode: forall
      args:
        - kind: name
          id: 981
          name: versionsToCheck
        - kind: lambda
          id: 1106
          params:
            - id: 982
              name: version
          expr:
            kind: let
            id: 1105
            opdef:
              id: 987
              name: leafs
              qualifier: val
              expr:
                kind: app
                id: 986
                opcode: allLeafs
                args:
                  - kind: app
                    id: 985
                    opcode: treeAtVersion
                    args:
                      - kind: name
                        id: 983
                        name: tree
                      - kind: name
                        id: 984
                        name: version
              depth: ~
            expr:
              kind: let
              id: 1104
              opdef:
                id: 998
                name: root
                qualifier: val
                expr:
                  kind: app
                  id: 997
                  opcode: hash
                  args:
                    - kind: app
                      id: 996
                      opcode: get
                      args:
                        - kind: app
                          id: 990
                          opcode: field
                          args:
                            - kind: name
                              id: 988
                              name: tree
                            - kind: str
                              id: 989
                              value: nodes
                        - kind: app
                          id: 995
                          opcode: Rec
                          args:
                            - kind: str
                              id: 992
                              value: key_hash
                            - kind: name
                              id: 991
                              name: ROOT_BITS
                            - kind: str
                              id: 994
                              value: version
                            - kind: name
                              id: 993
                              name: version
                depth: ~
              expr:
                kind: app
                id: 1103
                opcode: implies
                args:
                  - kind: app
                    id: 1007
                    opcode: has
                    args:
                      - kind: app
                        id: 1001
                        opcode: field
                        args:
                          - kind: name
                            id: 999
                            name: tree
                          - kind: str
                            id: 1000
                            value: nodes
                      - kind: app
                        id: 1006
                        opcode: Rec
                        args:
                          - kind: str
                            id: 1003
                            value: key_hash
                          - kind: name
                            id: 1002
                            name: ROOT_BITS
                          - kind: str
                            id: 1005
                            value: version
                          - kind: name
                            id: 1004
                            name: version
                  - kind: app
                    id: 1102
                    opcode: forall
                    args:
                      - kind: name
                        id: 1008
                        name: all_key_hashes
                      - kind: lambda
                        id: 1101
                        params:
                          - id: 1009
                            name: key_hash
                        expr:
                          kind: let
                          id: 1100
                          opdef:
                            id: 1014
                            name: proof
                            qualifier: val
                            expr:
                              kind: app
                              id: 1013
                              opcode: ics23_prove
                              args:
                                - kind: name
                                  id: 1010
                                  name: tree
                                - kind: name
                                  id: 1011
                                  name: key_hash
                                - kind: name
                                  id: 1012
                                  name: version
                            depth: ~
                          expr:
                            kind: app
                            id: 1093
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 1015
                                name: proof
                              - kind: str
                                id: 1094
                                value: Some
                              - kind: lambda
                                id: 1095
                                params:
                                  - id: 1096
                                    name: p
                                expr:
                                  kind: app
                                  id: 1085
                                  opcode: matchVariant
                                  args:
                                    - kind: name
                                      id: 1016
                                      name: p
                                    - kind: str
                                      id: 1086
                                      value: Exist
                                    - kind: lambda
                                      id: 1087
                                      params:
                                        - id: 1088
                                          name: ep
                                      expr:
                                        kind: app
                                        id: 1068
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 1050
                                            opcode: exists
                                            args:
                                              - kind: name
                                                id: 1017
                                                name: leafs
                                              - kind: lambda
                                                id: 1049
                                                params:
                                                  - id: 1018
                                                    name: l
                                                expr:
                                                  kind: app
                                                  id: 1048
                                                  opcode: and
                                                  args:
                                                    - kind: app
                                                      id: 1023
                                                      opcode: eq
                                                      args:
                                                        - kind: app
                                                          id: 1021
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1019
                                                              name: l
                                                            - kind: str
                                                              id: 1020
                                                              value: key_hash
                                                        - kind: name
                                                          id: 1022
                                                          name: key_hash
                                                    - kind: app
                                                      id: 1032
                                                      opcode: verifyMembership
                                                      args:
                                                        - kind: name
                                                          id: 1024
                                                          name: root
                                                        - kind: name
                                                          id: 1025
                                                          name: ep
                                                        - kind: app
                                                          id: 1028
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1026
                                                              name: l
                                                            - kind: str
                                                              id: 1027
                                                              value: key_hash
                                                        - kind: app
                                                          id: 1031
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1029
                                                              name: l
                                                            - kind: str
                                                              id: 1030
                                                              value: value_hash
                                                    - kind: app
                                                      id: 1047
                                                      opcode: forall
                                                      args:
                                                        - kind: app
                                                          id: 1038
                                                          opcode: exclude
                                                          args:
                                                            - kind: name
                                                              id: 1033
                                                              name: all_value_hashes
                                                            - kind: app
                                                              id: 1037
                                                              opcode: Set
                                                              args:
                                                                - kind: app
                                                                  id: 1036
                                                                  opcode: field
                                                                  args:
                                                                    - kind: name
                                                                      id: 1034
                                                                      name: l
                                                                    - kind: str
                                                                      id: 1035
                                                                      value: value_hash
                                                        - kind: lambda
                                                          id: 1046
                                                          params:
                                                            - id: 1039
                                                              name: value_hash
                                                          expr:
                                                            kind: app
                                                            id: 1045
                                                            opcode: not
                                                            args:
                                                              - kind: app
                                                                id: 1044
                                                                opcode: verifyMembership
                                                                args:
                                                                  - kind: name
                                                                    id: 1040
                                                                    name: root
                                                                  - kind: name
                                                                    id: 1041
                                                                    name: ep
                                                                  - kind: name
                                                                    id: 1042
                                                                    name: key_hash
                                                                  - kind: name
                                                                    id: 1043
                                                                    name: value_hash
                                          - kind: app
                                            id: 1067
                                            opcode: forall
                                            args:
                                              - kind: app
                                                id: 1054
                                                opcode: exclude
                                                args:
                                                  - kind: name
                                                    id: 1051
                                                    name: all_key_hashes
                                                  - kind: app
                                                    id: 1053
                                                    opcode: Set
                                                    args:
                                                      - kind: name
                                                        id: 1052
                                                        name: key_hash
                                              - kind: lambda
                                                id: 1066
                                                params:
                                                  - id: 1055
                                                    name: key_hash
                                                expr:
                                                  kind: app
                                                  id: 1065
                                                  opcode: forall
                                                  args:
                                                    - kind: name
                                                      id: 1056
                                                      name: all_value_hashes
                                                    - kind: lambda
                                                      id: 1064
                                                      params:
                                                        - id: 1057
                                                          name: value_hash
                                                      expr:
                                                        kind: app
                                                        id: 1063
                                                        opcode: not
                                                        args:
                                                          - kind: app
                                                            id: 1062
                                                            opcode: verifyMembership
                                                            args:
                                                              - kind: name
                                                                id: 1058
                                                                name: root
                                                              - kind: name
                                                                id: 1059
                                                                name: ep
                                                              - kind: name
                                                                id: 1060
                                                                name: key_hash
                                                              - kind: name
                                                                id: 1061
                                                                name: value_hash
                                    - kind: str
                                      id: 1089
                                      value: NonExist
                                    - kind: lambda
                                      id: 1090
                                      params:
                                        - id: 1091
                                          name: nep
                                      expr:
                                        kind: app
                                        id: 1084
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 1072
                                            opcode: verifyNonMembership
                                            args:
                                              - kind: name
                                                id: 1069
                                                name: root
                                              - kind: name
                                                id: 1070
                                                name: nep
                                              - kind: name
                                                id: 1071
                                                name: key_hash
                                          - kind: app
                                            id: 1083
                                            opcode: forall
                                            args:
                                              - kind: name
                                                id: 1073
                                                name: leafs
                                              - kind: lambda
                                                id: 1082
                                                params:
                                                  - id: 1074
                                                    name: l
                                                expr:
                                                  kind: app
                                                  id: 1081
                                                  opcode: not
                                                  args:
                                                    - kind: app
                                                      id: 1080
                                                      opcode: verifyNonMembership
                                                      args:
                                                        - kind: name
                                                          id: 1075
                                                          name: root
                                                        - kind: name
                                                          id: 1076
                                                          name: nep
                                                        - kind: app
                                                          id: 1079
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 1077
                                                              name: l
                                                            - kind: str
                                                              id: 1078
                                                              value: key_hash
                              - kind: str
                                id: 1097
                                value: None
                              - kind: lambda
                                id: 1098
                                params:
                                  - id: 1099
                                    name: _
                                expr:
                                  kind: bool
                                  id: 1092
                                  value: true
    depth: 0
  1214:
    kind: def
    id: 1214
    name: proofInvariants
    qualifier: val
    expr:
      kind: app
      id: 1213
      opcode: actionAll
      args:
        - kind: app
          id: 1188
          opcode: ite
          args:
            - kind: name
              id: 1183
              name: membershipCompletenessInv
            - kind: bool
              id: 1184
              value: true
            - kind: app
              id: 1187
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1185
                  value: membershipCompletenessInv
                - kind: bool
                  id: 1186
                  value: false
        - kind: app
          id: 1194
          opcode: ite
          args:
            - kind: name
              id: 1189
              name: nonMembershipCompletenessInv
            - kind: bool
              id: 1190
              value: true
            - kind: app
              id: 1193
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1191
                  value: nonMembershipCompletenessInv
                - kind: bool
                  id: 1192
                  value: false
        - kind: app
          id: 1200
          opcode: ite
          args:
            - kind: name
              id: 1195
              name: membershipSoundnessInv
            - kind: bool
              id: 1196
              value: true
            - kind: app
              id: 1199
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1197
                  value: membershipSoundnessInv
                - kind: bool
                  id: 1198
                  value: false
        - kind: app
          id: 1206
          opcode: ite
          args:
            - kind: name
              id: 1201
              name: nonMembershipSoundnessInv
            - kind: bool
              id: 1202
              value: true
            - kind: app
              id: 1205
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1203
                  value: nonMembershipSoundnessInv
                - kind: bool
                  id: 1204
                  value: false
        - kind: app
          id: 1212
          opcode: ite
          args:
            - kind: name
              id: 1207
              name: verifyMembershipInv
            - kind: bool
              id: 1208
              value: true
            - kind: app
              id: 1211
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1209
                  value: verifyMembershipInv
                - kind: bool
                  id: 1210
                  value: false
    depth: 0
  1215:
    kind: def
    id: 1182
    name: treeInvariants
    qualifier: val
    expr:
      kind: app
      id: 1181
      opcode: actionAll
      args:
        - kind: app
          id: 1114
          opcode: ite
          args:
            - kind: name
              id: 1109
              name: everyNodesParentIsInTheTreeInv
            - kind: bool
              id: 1110
              value: true
            - kind: app
              id: 1113
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1111
                  value: everyNodesParentIsInTheTreeInv
                - kind: bool
                  id: 1112
                  value: false
        - kind: app
          id: 1120
          opcode: ite
          args:
            - kind: name
              id: 1115
              name: nodeAtCommonPrefixInv
            - kind: bool
              id: 1116
              value: true
            - kind: app
              id: 1119
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1117
                  value: nodeAtCommonPrefixInv
                - kind: bool
                  id: 1118
                  value: false
        - kind: app
          id: 1126
          opcode: ite
          args:
            - kind: name
              id: 1121
              name: noLeafInPrefixesInv
            - kind: bool
              id: 1122
              value: true
            - kind: app
              id: 1125
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1123
                  value: noLeafInPrefixesInv
                - kind: bool
                  id: 1124
                  value: false
        - kind: app
          id: 1132
          opcode: ite
          args:
            - kind: name
              id: 1127
              name: allInternalNodesHaveAChildInv
            - kind: bool
              id: 1128
              value: true
            - kind: app
              id: 1131
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1129
                  value: allInternalNodesHaveAChild
                - kind: bool
                  id: 1130
                  value: false
        - kind: app
          id: 1138
          opcode: ite
          args:
            - kind: name
              id: 1133
              name: densityInv
            - kind: bool
              id: 1134
              value: true
            - kind: app
              id: 1137
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1135
                  value: densityInv
                - kind: bool
                  id: 1136
                  value: false
        - kind: app
          id: 1144
          opcode: ite
          args:
            - kind: name
              id: 1139
              name: versionInv
            - kind: bool
              id: 1140
              value: true
            - kind: app
              id: 1143
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1141
                  value: versionInv
                - kind: bool
                  id: 1142
                  value: false
        - kind: app
          id: 1150
          opcode: ite
          args:
            - kind: name
              id: 1145
              name: orphansInNoTreeInv
            - kind: bool
              id: 1146
              value: true
            - kind: app
              id: 1149
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1147
                  value: orphansInNoTreeInv
                - kind: bool
                  id: 1148
                  value: false
        - kind: app
          id: 1156
          opcode: ite
          args:
            - kind: name
              id: 1151
              name: hashInv
            - kind: bool
              id: 1152
              value: true
            - kind: app
              id: 1155
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1153
                  value: hashInv
                - kind: bool
                  id: 1154
                  value: false
        - kind: app
          id: 1162
          opcode: ite
          args:
            - kind: name
              id: 1157
              name: uniqueHashesInv
            - kind: bool
              id: 1158
              value: true
            - kind: app
              id: 1161
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1159
                  value: uniqueHashesInv
                - kind: bool
                  id: 1160
                  value: false
        - kind: app
          id: 1168
          opcode: ite
          args:
            - kind: name
              id: 1163
              name: goodTreeMapInv
            - kind: bool
              id: 1164
              value: true
            - kind: app
              id: 1167
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1165
                  value: goodTreeMapInv
                - kind: bool
                  id: 1166
                  value: false
        - kind: app
          id: 1174
          opcode: ite
          args:
            - kind: name
              id: 1169
              name: bijectiveTreeMapInv
            - kind: bool
              id: 1170
              value: true
            - kind: app
              id: 1173
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1171
                  value: bijectiveTreeMapInv
                - kind: bool
                  id: 1172
                  value: false
        - kind: app
          id: 1180
          opcode: ite
          args:
            - kind: name
              id: 1175
              name: operationSuccessInv
            - kind: bool
              id: 1176
              value: true
            - kind: app
              id: 1179
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1177
                  value: operationSuccessInv
                - kind: bool
                  id: 1178
                  value: false
    depth: 0
  1216:
    kind: def
    id: 1214
    name: proofInvariants
    qualifier: val
    expr:
      kind: app
      id: 1213
      opcode: actionAll
      args:
        - kind: app
          id: 1188
          opcode: ite
          args:
            - kind: name
              id: 1183
              name: membershipCompletenessInv
            - kind: bool
              id: 1184
              value: true
            - kind: app
              id: 1187
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1185
                  value: membershipCompletenessInv
                - kind: bool
                  id: 1186
                  value: false
        - kind: app
          id: 1194
          opcode: ite
          args:
            - kind: name
              id: 1189
              name: nonMembershipCompletenessInv
            - kind: bool
              id: 1190
              value: true
            - kind: app
              id: 1193
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1191
                  value: nonMembershipCompletenessInv
                - kind: bool
                  id: 1192
                  value: false
        - kind: app
          id: 1200
          opcode: ite
          args:
            - kind: name
              id: 1195
              name: membershipSoundnessInv
            - kind: bool
              id: 1196
              value: true
            - kind: app
              id: 1199
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1197
                  value: membershipSoundnessInv
                - kind: bool
                  id: 1198
                  value: false
        - kind: app
          id: 1206
          opcode: ite
          args:
            - kind: name
              id: 1201
              name: nonMembershipSoundnessInv
            - kind: bool
              id: 1202
              value: true
            - kind: app
              id: 1205
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1203
                  value: nonMembershipSoundnessInv
                - kind: bool
                  id: 1204
                  value: false
        - kind: app
          id: 1212
          opcode: ite
          args:
            - kind: name
              id: 1207
              name: verifyMembershipInv
            - kind: bool
              id: 1208
              value: true
            - kind: app
              id: 1211
              opcode: "q::debug"
              args:
                - kind: str
                  id: 1209
                  value: verifyMembershipInv
                - kind: bool
                  id: 1210
                  value: false
    depth: 0
  1218:
    kind: def
    id: 1218
    name: allInvariants
    qualifier: val
    expr:
      kind: app
      id: 1217
      opcode: actionAll
      args:
        - kind: name
          id: 1215
          name: treeInvariants
        - kind: name
          id: 1216
          name: proofInvariants
    depth: 0
  1227:
    id: 1226
    name: __SomeParam
  1230:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  1234:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  1238:
    id: 1236
    name: cond
  1240:
    kind: def
    id: 1240
    name: require
    qualifier: puredef
    expr:
      kind: lambda
      id: 1239
      params:
        - id: 1236
          name: cond
      expr:
        kind: name
        id: 1238
        name: cond
    depth: 0
  1244:
    kind: def
    id: 1240
    name: require
    qualifier: puredef
    expr:
      kind: lambda
      id: 1239
      params:
        - id: 1236
          name: cond
      expr:
        kind: name
        id: 1238
        name: cond
    depth: 0
  1247:
    kind: def
    id: 1240
    name: require
    qualifier: puredef
    expr:
      kind: lambda
      id: 1239
      params:
        - id: 1236
          name: cond
      expr:
        kind: name
        id: 1238
        name: cond
    depth: 0
  1251:
    kind: def
    id: 1251
    name: requireTest
    qualifier: run
    expr:
      kind: app
      id: 1250
      opcode: actionAll
      args:
        - kind: app
          id: 1245
          opcode: assert
          args:
            - kind: app
              id: 1244
              opcode: require
              args:
                - kind: app
                  id: 1243
                  opcode: igt
                  args:
                    - kind: int
                      id: 1241
                      value: 4
                    - kind: int
                      id: 1242
                      value: 3
        - kind: app
          id: 1249
          opcode: assert
          args:
            - kind: app
              id: 1248
              opcode: not
              args:
                - kind: app
                  id: 1247
                  opcode: require
                  args:
                    - kind: bool
                      id: 1246
                      value: false
    depth: 0
  1257:
    id: 1253
    name: cond
  1259:
    id: 1255
    name: error
  1262:
    kind: def
    id: 1262
    name: requires
    qualifier: puredef
    expr:
      kind: lambda
      id: 1261
      params:
        - id: 1253
          name: cond
        - id: 1255
          name: error
      expr:
        kind: app
        id: 1260
        opcode: ite
        args:
          - kind: name
            id: 1257
            name: cond
          - kind: str
            id: 1258
            value: ""
          - kind: name
            id: 1259
            name: error
    depth: 0
  1267:
    kind: def
    id: 1262
    name: requires
    qualifier: puredef
    expr:
      kind: lambda
      id: 1261
      params:
        - id: 1253
          name: cond
        - id: 1255
          name: error
      expr:
        kind: app
        id: 1260
        opcode: ite
        args:
          - kind: name
            id: 1257
            name: cond
          - kind: str
            id: 1258
            value: ""
          - kind: name
            id: 1259
            name: error
    depth: 0
  1275:
    kind: def
    id: 1262
    name: requires
    qualifier: puredef
    expr:
      kind: lambda
      id: 1261
      params:
        - id: 1253
          name: cond
        - id: 1255
          name: error
      expr:
        kind: app
        id: 1260
        opcode: ite
        args:
          - kind: name
            id: 1257
            name: cond
          - kind: str
            id: 1258
            value: ""
          - kind: name
            id: 1259
            name: error
    depth: 0
  1280:
    kind: def
    id: 1280
    name: requiresTest
    qualifier: run
    expr:
      kind: app
      id: 1279
      opcode: actionAll
      args:
        - kind: app
          id: 1270
          opcode: assert
          args:
            - kind: app
              id: 1269
              opcode: eq
              args:
                - kind: app
                  id: 1267
                  opcode: requires
                  args:
                    - kind: app
                      id: 1265
                      opcode: igt
                      args:
                        - kind: int
                          id: 1263
                          value: 4
                        - kind: int
                          id: 1264
                          value: 3
                    - kind: str
                      id: 1266
                      value: 4 > 3
                - kind: str
                  id: 1268
                  value: ""
        - kind: app
          id: 1278
          opcode: assert
          args:
            - kind: app
              id: 1277
              opcode: eq
              args:
                - kind: app
                  id: 1275
                  opcode: requires
                  args:
                    - kind: app
                      id: 1273
                      opcode: ilt
                      args:
                        - kind: int
                          id: 1271
                          value: 4
                        - kind: int
                          id: 1272
                          value: 3
                    - kind: str
                      id: 1274
                      value: "false: 4 < 3"
                - kind: str
                  id: 1276
                  value: "false: 4 < 3"
    depth: 0
  1286:
    id: 1282
    name: i
  1287:
    id: 1284
    name: j
  1289:
    id: 1282
    name: i
  1290:
    id: 1284
    name: j
  1293:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1296:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1302:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1308:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1316:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1325:
    kind: def
    id: 1293
    name: max
    qualifier: puredef
    expr:
      kind: lambda
      id: 1292
      params:
        - id: 1282
          name: i
        - id: 1284
          name: j
      expr:
        kind: app
        id: 1291
        opcode: ite
        args:
          - kind: app
            id: 1288
            opcode: igt
            args:
              - kind: name
                id: 1286
                name: i
              - kind: name
                id: 1287
                name: j
          - kind: name
            id: 1289
            name: i
          - kind: name
            id: 1290
            name: j
    depth: 0
  1331:
    kind: def
    id: 1331
    name: maxTest
    qualifier: run
    expr:
      kind: app
      id: 1330
      opcode: actionAll
      args:
        - kind: app
          id: 1299
          opcode: assert
          args:
            - kind: app
              id: 1298
              opcode: eq
              args:
                - kind: app
                  id: 1296
                  opcode: max
                  args:
                    - kind: int
                      id: 1294
                      value: 3
                    - kind: int
                      id: 1295
                      value: 4
                - kind: int
                  id: 1297
                  value: 4
        - kind: app
          id: 1305
          opcode: assert
          args:
            - kind: app
              id: 1304
              opcode: eq
              args:
                - kind: app
                  id: 1302
                  opcode: max
                  args:
                    - kind: int
                      id: 1300
                      value: 6
                    - kind: int
                      id: 1301
                      value: 3
                - kind: int
                  id: 1303
                  value: 6
        - kind: app
          id: 1311
          opcode: assert
          args:
            - kind: app
              id: 1310
              opcode: eq
              args:
                - kind: app
                  id: 1308
                  opcode: max
                  args:
                    - kind: int
                      id: 1306
                      value: 10
                    - kind: int
                      id: 1307
                      value: 10
                - kind: int
                  id: 1309
                  value: 10
        - kind: app
          id: 1320
          opcode: assert
          args:
            - kind: app
              id: 1319
              opcode: eq
              args:
                - kind: app
                  id: 1316
                  opcode: max
                  args:
                    - kind: app
                      id: 1313
                      opcode: iuminus
                      args:
                        - kind: int
                          id: 1312
                          value: 3
                    - kind: app
                      id: 1315
                      opcode: iuminus
                      args:
                        - kind: int
                          id: 1314
                          value: 5
                - kind: app
                  id: 1318
                  opcode: iuminus
                  args:
                    - kind: int
                      id: 1317
                      value: 3
        - kind: app
          id: 1329
          opcode: assert
          args:
            - kind: app
              id: 1328
              opcode: eq
              args:
                - kind: app
                  id: 1325
                  opcode: max
                  args:
                    - kind: app
                      id: 1322
                      opcode: iuminus
                      args:
                        - kind: int
                          id: 1321
                          value: 5
                    - kind: app
                      id: 1324
                      opcode: iuminus
                      args:
                        - kind: int
                          id: 1323
                          value: 3
                - kind: app
                  id: 1327
                  opcode: iuminus
                  args:
                    - kind: int
                      id: 1326
                      value: 3
    depth: 0
  1335:
    id: 1333
    name: i
  1338:
    id: 1333
    name: i
  1340:
    id: 1333
    name: i
  1343:
    kind: def
    id: 1343
    name: abs
    qualifier: puredef
    expr:
      kind: lambda
      id: 1342
      params:
        - id: 1333
          name: i
      expr:
        kind: app
        id: 1341
        opcode: ite
        args:
          - kind: app
            id: 1337
            opcode: ilt
            args:
              - kind: name
                id: 1335
                name: i
              - kind: int
                id: 1336
                value: 0
          - kind: app
            id: 1339
            opcode: iuminus
            args:
              - kind: name
                id: 1338
                name: i
          - kind: name
            id: 1340
            name: i
    depth: 0
  1345:
    kind: def
    id: 1343
    name: abs
    qualifier: puredef
    expr:
      kind: lambda
      id: 1342
      params:
        - id: 1333
          name: i
      expr:
        kind: app
        id: 1341
        opcode: ite
        args:
          - kind: app
            id: 1337
            opcode: ilt
            args:
              - kind: name
                id: 1335
                name: i
              - kind: int
                id: 1336
                value: 0
          - kind: app
            id: 1339
            opcode: iuminus
            args:
              - kind: name
                id: 1338
                name: i
          - kind: name
            id: 1340
            name: i
    depth: 0
  1351:
    kind: def
    id: 1343
    name: abs
    qualifier: puredef
    expr:
      kind: lambda
      id: 1342
      params:
        - id: 1333
          name: i
      expr:
        kind: app
        id: 1341
        opcode: ite
        args:
          - kind: app
            id: 1337
            opcode: ilt
            args:
              - kind: name
                id: 1335
                name: i
              - kind: int
                id: 1336
                value: 0
          - kind: app
            id: 1339
            opcode: iuminus
            args:
              - kind: name
                id: 1338
                name: i
          - kind: name
            id: 1340
            name: i
    depth: 0
  1356:
    kind: def
    id: 1343
    name: abs
    qualifier: puredef
    expr:
      kind: lambda
      id: 1342
      params:
        - id: 1333
          name: i
      expr:
        kind: app
        id: 1341
        opcode: ite
        args:
          - kind: app
            id: 1337
            opcode: ilt
            args:
              - kind: name
                id: 1335
                name: i
              - kind: int
                id: 1336
                value: 0
          - kind: app
            id: 1339
            opcode: iuminus
            args:
              - kind: name
                id: 1338
                name: i
          - kind: name
            id: 1340
            name: i
    depth: 0
  1361:
    kind: def
    id: 1361
    name: absTest
    qualifier: run
    expr:
      kind: app
      id: 1360
      opcode: actionAll
      args:
        - kind: app
          id: 1348
          opcode: assert
          args:
            - kind: app
              id: 1347
              opcode: eq
              args:
                - kind: app
                  id: 1345
                  opcode: abs
                  args:
                    - kind: int
                      id: 1344
                      value: 3
                - kind: int
                  id: 1346
                  value: 3
        - kind: app
          id: 1354
          opcode: assert
          args:
            - kind: app
              id: 1353
              opcode: eq
              args:
                - kind: app
                  id: 1351
                  opcode: abs
                  args:
                    - kind: app
                      id: 1350
                      opcode: iuminus
                      args:
                        - kind: int
                          id: 1349
                          value: 3
                - kind: int
                  id: 1352
                  value: 3
        - kind: app
          id: 1359
          opcode: assert
          args:
            - kind: app
              id: 1358
              opcode: eq
              args:
                - kind: app
                  id: 1356
                  opcode: abs
                  args:
                    - kind: int
                      id: 1355
                      value: 0
                - kind: int
                  id: 1357
                  value: 0
    depth: 0
  1369:
    id: 1364
    name: s
  1370:
    id: 1366
    name: elem
  1374:
    kind: def
    id: 1374
    name: setRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1373
      params:
        - id: 1364
          name: s
        - id: 1366
          name: elem
      expr:
        kind: app
        id: 1372
        opcode: exclude
        args:
          - kind: name
            id: 1369
            name: s
          - kind: app
            id: 1371
            opcode: Set
            args:
              - kind: name
                id: 1370
                name: elem
    depth: 0
  1383:
    kind: def
    id: 1374
    name: setRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1373
      params:
        - id: 1364
          name: s
        - id: 1366
          name: elem
      expr:
        kind: app
        id: 1372
        opcode: exclude
        args:
          - kind: name
            id: 1369
            name: s
          - kind: app
            id: 1371
            opcode: Set
            args:
              - kind: name
                id: 1370
                name: elem
    depth: 0
  1389:
    kind: def
    id: 1374
    name: setRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1373
      params:
        - id: 1364
          name: s
        - id: 1366
          name: elem
      expr:
        kind: app
        id: 1372
        opcode: exclude
        args:
          - kind: name
            id: 1369
            name: s
          - kind: app
            id: 1371
            opcode: Set
            args:
              - kind: name
                id: 1370
                name: elem
    depth: 0
  1393:
    kind: def
    id: 1393
    name: setRemoveTest
    qualifier: run
    expr:
      kind: app
      id: 1392
      opcode: actionAll
      args:
        - kind: app
          id: 1385
          opcode: assert
          args:
            - kind: app
              id: 1384
              opcode: eq
              args:
                - kind: app
                  id: 1377
                  opcode: Set
                  args:
                    - kind: int
                      id: 1375
                      value: 2
                    - kind: int
                      id: 1376
                      value: 4
                - kind: app
                  id: 1383
                  opcode: setRemove
                  args:
                    - kind: app
                      id: 1381
                      opcode: Set
                      args:
                        - kind: int
                          id: 1378
                          value: 2
                        - kind: int
                          id: 1379
                          value: 3
                        - kind: int
                          id: 1380
                          value: 4
                    - kind: int
                      id: 1382
                      value: 3
        - kind: app
          id: 1391
          opcode: assert
          args:
            - kind: app
              id: 1390
              opcode: eq
              args:
                - kind: app
                  id: 1386
                  opcode: Set
                  args: []
                - kind: app
                  id: 1389
                  opcode: setRemove
                  args:
                    - kind: app
                      id: 1387
                      opcode: Set
                      args: []
                    - kind: int
                      id: 1388
                      value: 3
    depth: 0
  1401:
    id: 1396
    name: s
  1402:
    id: 1398
    name: elem
  1406:
    kind: def
    id: 1406
    name: setAdd
    qualifier: puredef
    expr:
      kind: lambda
      id: 1405
      params:
        - id: 1396
          name: s
        - id: 1398
          name: elem
      expr:
        kind: app
        id: 1404
        opcode: union
        args:
          - kind: name
            id: 1401
            name: s
          - kind: app
            id: 1403
            opcode: Set
            args:
              - kind: name
                id: 1402
                name: elem
    depth: 0
  1415:
    kind: def
    id: 1406
    name: setAdd
    qualifier: puredef
    expr:
      kind: lambda
      id: 1405
      params:
        - id: 1396
          name: s
        - id: 1398
          name: elem
      expr:
        kind: app
        id: 1404
        opcode: union
        args:
          - kind: name
            id: 1401
            name: s
          - kind: app
            id: 1403
            opcode: Set
            args:
              - kind: name
                id: 1402
                name: elem
    depth: 0
  1422:
    kind: def
    id: 1406
    name: setAdd
    qualifier: puredef
    expr:
      kind: lambda
      id: 1405
      params:
        - id: 1396
          name: s
        - id: 1398
          name: elem
      expr:
        kind: app
        id: 1404
        opcode: union
        args:
          - kind: name
            id: 1401
            name: s
          - kind: app
            id: 1403
            opcode: Set
            args:
              - kind: name
                id: 1402
                name: elem
    depth: 0
  1432:
    kind: def
    id: 1406
    name: setAdd
    qualifier: puredef
    expr:
      kind: lambda
      id: 1405
      params:
        - id: 1396
          name: s
        - id: 1398
          name: elem
      expr:
        kind: app
        id: 1404
        opcode: union
        args:
          - kind: name
            id: 1401
            name: s
          - kind: app
            id: 1403
            opcode: Set
            args:
              - kind: name
                id: 1402
                name: elem
    depth: 0
  1436:
    kind: def
    id: 1436
    name: setAddTest
    qualifier: run
    expr:
      kind: app
      id: 1435
      opcode: actionAll
      args:
        - kind: app
          id: 1417
          opcode: assert
          args:
            - kind: app
              id: 1416
              opcode: eq
              args:
                - kind: app
                  id: 1410
                  opcode: Set
                  args:
                    - kind: int
                      id: 1407
                      value: 2
                    - kind: int
                      id: 1408
                      value: 3
                    - kind: int
                      id: 1409
                      value: 4
                - kind: app
                  id: 1415
                  opcode: setAdd
                  args:
                    - kind: app
                      id: 1413
                      opcode: Set
                      args:
                        - kind: int
                          id: 1411
                          value: 2
                        - kind: int
                          id: 1412
                          value: 4
                    - kind: int
                      id: 1414
                      value: 3
        - kind: app
          id: 1424
          opcode: assert
          args:
            - kind: app
              id: 1423
              opcode: eq
              args:
                - kind: app
                  id: 1419
                  opcode: Set
                  args:
                    - kind: int
                      id: 1418
                      value: 3
                - kind: app
                  id: 1422
                  opcode: setAdd
                  args:
                    - kind: app
                      id: 1420
                      opcode: Set
                      args: []
                    - kind: int
                      id: 1421
                      value: 3
        - kind: app
          id: 1434
          opcode: assert
          args:
            - kind: app
              id: 1433
              opcode: eq
              args:
                - kind: app
                  id: 1427
                  opcode: Set
                  args:
                    - kind: int
                      id: 1425
                      value: 2
                    - kind: int
                      id: 1426
                      value: 4
                - kind: app
                  id: 1432
                  opcode: setAdd
                  args:
                    - kind: app
                      id: 1430
                      opcode: Set
                      args:
                        - kind: int
                          id: 1428
                          value: 2
                        - kind: int
                          id: 1429
                          value: 4
                    - kind: int
                      id: 1431
                      value: 4
    depth: 0
  1444:
    id: 1440
    name: m
  1446:
    id: 1442
    name: key
  1449:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  1458:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  1468:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  1472:
    kind: def
    id: 1472
    name: hasTest
    qualifier: run
    expr:
      kind: app
      id: 1471
      opcode: actionAll
      args:
        - kind: app
          id: 1459
          opcode: assert
          args:
            - kind: app
              id: 1458
              opcode: has
              args:
                - kind: app
                  id: 1456
                  opcode: Map
                  args:
                    - kind: app
                      id: 1452
                      opcode: Tup
                      args:
                        - kind: int
                          id: 1450
                          value: 2
                        - kind: int
                          id: 1451
                          value: 3
                    - kind: app
                      id: 1455
                      opcode: Tup
                      args:
                        - kind: int
                          id: 1453
                          value: 4
                        - kind: int
                          id: 1454
                          value: 5
                - kind: int
                  id: 1457
                  value: 2
        - kind: app
          id: 1470
          opcode: assert
          args:
            - kind: app
              id: 1469
              opcode: not
              args:
                - kind: app
                  id: 1468
                  opcode: has
                  args:
                    - kind: app
                      id: 1466
                      opcode: Map
                      args:
                        - kind: app
                          id: 1462
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1460
                              value: 2
                            - kind: int
                              id: 1461
                              value: 3
                        - kind: app
                          id: 1465
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1463
                              value: 4
                            - kind: int
                              id: 1464
                              value: 5
                    - kind: int
                      id: 1467
                      value: 6
    depth: 0
  1482:
    id: 1476
    name: m
  1483:
    id: 1478
    name: key
  1484:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  1485:
    id: 1476
    name: m
  1486:
    id: 1478
    name: key
  1488:
    id: 1480
    name: default
  1491:
    kind: def
    id: 1491
    name: getOrElse
    qualifier: puredef
    expr:
      kind: lambda
      id: 1490
      params:
        - id: 1476
          name: m
        - id: 1478
          name: key
        - id: 1480
          name: default
      expr:
        kind: app
        id: 1489
        opcode: ite
        args:
          - kind: app
            id: 1484
            opcode: has
            args:
              - kind: name
                id: 1482
                name: m
              - kind: name
                id: 1483
                name: key
          - kind: app
            id: 1487
            opcode: get
            args:
              - kind: name
                id: 1485
                name: m
              - kind: name
                id: 1486
                name: key
          - kind: name
            id: 1488
            name: default
    depth: 0
  1501:
    kind: def
    id: 1491
    name: getOrElse
    qualifier: puredef
    expr:
      kind: lambda
      id: 1490
      params:
        - id: 1476
          name: m
        - id: 1478
          name: key
        - id: 1480
          name: default
      expr:
        kind: app
        id: 1489
        opcode: ite
        args:
          - kind: app
            id: 1484
            opcode: has
            args:
              - kind: name
                id: 1482
                name: m
              - kind: name
                id: 1483
                name: key
          - kind: app
            id: 1487
            opcode: get
            args:
              - kind: name
                id: 1485
                name: m
              - kind: name
                id: 1486
                name: key
          - kind: name
            id: 1488
            name: default
    depth: 0
  1514:
    kind: def
    id: 1491
    name: getOrElse
    qualifier: puredef
    expr:
      kind: lambda
      id: 1490
      params:
        - id: 1476
          name: m
        - id: 1478
          name: key
        - id: 1480
          name: default
      expr:
        kind: app
        id: 1489
        opcode: ite
        args:
          - kind: app
            id: 1484
            opcode: has
            args:
              - kind: name
                id: 1482
                name: m
              - kind: name
                id: 1483
                name: key
          - kind: app
            id: 1487
            opcode: get
            args:
              - kind: name
                id: 1485
                name: m
              - kind: name
                id: 1486
                name: key
          - kind: name
            id: 1488
            name: default
    depth: 0
  1519:
    kind: def
    id: 1519
    name: getOrElseTest
    qualifier: run
    expr:
      kind: app
      id: 1518
      opcode: actionAll
      args:
        - kind: app
          id: 1504
          opcode: assert
          args:
            - kind: app
              id: 1503
              opcode: eq
              args:
                - kind: app
                  id: 1501
                  opcode: getOrElse
                  args:
                    - kind: app
                      id: 1498
                      opcode: Map
                      args:
                        - kind: app
                          id: 1494
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1492
                              value: 2
                            - kind: int
                              id: 1493
                              value: 3
                        - kind: app
                          id: 1497
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1495
                              value: 4
                            - kind: int
                              id: 1496
                              value: 5
                    - kind: int
                      id: 1499
                      value: 2
                    - kind: int
                      id: 1500
                      value: 0
                - kind: int
                  id: 1502
                  value: 3
        - kind: app
          id: 1517
          opcode: assert
          args:
            - kind: app
              id: 1516
              opcode: eq
              args:
                - kind: app
                  id: 1514
                  opcode: getOrElse
                  args:
                    - kind: app
                      id: 1511
                      opcode: Map
                      args:
                        - kind: app
                          id: 1507
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1505
                              value: 2
                            - kind: int
                              id: 1506
                              value: 3
                        - kind: app
                          id: 1510
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1508
                              value: 4
                            - kind: int
                              id: 1509
                              value: 5
                    - kind: int
                      id: 1512
                      value: 7
                    - kind: int
                      id: 1513
                      value: 11
                - kind: int
                  id: 1515
                  value: 11
    depth: 0
  1529:
    id: 1523
    name: m
  1531:
    id: 1525
    name: key
  1532:
    kind: def
    id: 1374
    name: setRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1373
      params:
        - id: 1364
          name: s
        - id: 1366
          name: elem
      expr:
        kind: app
        id: 1372
        opcode: exclude
        args:
          - kind: name
            id: 1369
            name: s
          - kind: app
            id: 1371
            opcode: Set
            args:
              - kind: name
                id: 1370
                name: elem
    depth: 0
  1534:
    id: 1523
    name: m
  1535:
    id: 1533
    name: k
  1540:
    kind: def
    id: 1540
    name: mapRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1539
      params:
        - id: 1523
          name: m
        - id: 1525
          name: key
      expr:
        kind: app
        id: 1538
        opcode: mapBy
        args:
          - kind: app
            id: 1532
            opcode: setRemove
            args:
              - kind: app
                id: 1530
                opcode: keys
                args:
                  - kind: name
                    id: 1529
                    name: m
              - kind: name
                id: 1531
                name: key
          - kind: lambda
            id: 1537
            params:
              - id: 1533
                name: k
            expr:
              kind: app
              id: 1536
              opcode: get
              args:
                - kind: name
                  id: 1534
                  name: m
                - kind: name
                  id: 1535
                  name: k
    depth: 0
  1559:
    kind: def
    id: 1540
    name: mapRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1539
      params:
        - id: 1523
          name: m
        - id: 1525
          name: key
      expr:
        kind: app
        id: 1538
        opcode: mapBy
        args:
          - kind: app
            id: 1532
            opcode: setRemove
            args:
              - kind: app
                id: 1530
                opcode: keys
                args:
                  - kind: name
                    id: 1529
                    name: m
              - kind: name
                id: 1531
                name: key
          - kind: lambda
            id: 1537
            params:
              - id: 1533
                name: k
            expr:
              kind: app
              id: 1536
              opcode: get
              args:
                - kind: name
                  id: 1534
                  name: m
                - kind: name
                  id: 1535
                  name: k
    depth: 0
  1565:
    kind: def
    id: 1540
    name: mapRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1539
      params:
        - id: 1523
          name: m
        - id: 1525
          name: key
      expr:
        kind: app
        id: 1538
        opcode: mapBy
        args:
          - kind: app
            id: 1532
            opcode: setRemove
            args:
              - kind: app
                id: 1530
                opcode: keys
                args:
                  - kind: name
                    id: 1529
                    name: m
              - kind: name
                id: 1531
                name: key
          - kind: lambda
            id: 1537
            params:
              - id: 1533
                name: k
            expr:
              kind: app
              id: 1536
              opcode: get
              args:
                - kind: name
                  id: 1534
                  name: m
                - kind: name
                  id: 1535
                  name: k
    depth: 0
  1569:
    kind: def
    id: 1569
    name: mapRemoveTest
    qualifier: run
    expr:
      kind: app
      id: 1568
      opcode: actionAll
      args:
        - kind: app
          id: 1561
          opcode: assert
          args:
            - kind: app
              id: 1560
              opcode: eq
              args:
                - kind: app
                  id: 1547
                  opcode: Map
                  args:
                    - kind: app
                      id: 1543
                      opcode: Tup
                      args:
                        - kind: int
                          id: 1541
                          value: 3
                        - kind: int
                          id: 1542
                          value: 4
                    - kind: app
                      id: 1546
                      opcode: Tup
                      args:
                        - kind: int
                          id: 1544
                          value: 7
                        - kind: int
                          id: 1545
                          value: 8
                - kind: app
                  id: 1559
                  opcode: mapRemove
                  args:
                    - kind: app
                      id: 1557
                      opcode: Map
                      args:
                        - kind: app
                          id: 1550
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1548
                              value: 3
                            - kind: int
                              id: 1549
                              value: 4
                        - kind: app
                          id: 1553
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1551
                              value: 5
                            - kind: int
                              id: 1552
                              value: 6
                        - kind: app
                          id: 1556
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1554
                              value: 7
                            - kind: int
                              id: 1555
                              value: 8
                    - kind: int
                      id: 1558
                      value: 5
        - kind: app
          id: 1567
          opcode: assert
          args:
            - kind: app
              id: 1566
              opcode: eq
              args:
                - kind: app
                  id: 1562
                  opcode: Map
                  args: []
                - kind: app
                  id: 1565
                  opcode: mapRemove
                  args:
                    - kind: app
                      id: 1563
                      opcode: Map
                      args: []
                    - kind: int
                      id: 1564
                      value: 3
    depth: 0
  1580:
    id: 1573
    name: m
  1582:
    id: 1576
    name: ks
  1585:
    id: 1573
    name: m
  1586:
    id: 1584
    name: k
  1591:
    kind: def
    id: 1591
    name: mapRemoveAll
    qualifier: puredef
    expr:
      kind: lambda
      id: 1590
      params:
        - id: 1573
          name: m
        - id: 1576
          name: ks
      expr:
        kind: app
        id: 1589
        opcode: mapBy
        args:
          - kind: app
            id: 1583
            opcode: exclude
            args:
              - kind: app
                id: 1581
                opcode: keys
                args:
                  - kind: name
                    id: 1580
                    name: m
              - kind: name
                id: 1582
                name: ks
          - kind: lambda
            id: 1588
            params:
              - id: 1584
                name: k
            expr:
              kind: app
              id: 1587
              opcode: get
              args:
                - kind: name
                  id: 1585
                  name: m
                - kind: name
                  id: 1586
                  name: k
    depth: 0
  1602:
    kind: def
    id: 1602
    name: m
    qualifier: val
    expr:
      kind: app
      id: 1601
      opcode: Map
      args:
        - kind: app
          id: 1594
          opcode: Tup
          args:
            - kind: int
              id: 1592
              value: 3
            - kind: int
              id: 1593
              value: 4
        - kind: app
          id: 1597
          opcode: Tup
          args:
            - kind: int
              id: 1595
              value: 5
            - kind: int
              id: 1596
              value: 6
        - kind: app
          id: 1600
          opcode: Tup
          args:
            - kind: int
              id: 1598
              value: 7
            - kind: int
              id: 1599
              value: 8
    depth: 2
  1603:
    kind: def
    id: 1602
    name: m
    qualifier: val
    expr:
      kind: app
      id: 1601
      opcode: Map
      args:
        - kind: app
          id: 1594
          opcode: Tup
          args:
            - kind: int
              id: 1592
              value: 3
            - kind: int
              id: 1593
              value: 4
        - kind: app
          id: 1597
          opcode: Tup
          args:
            - kind: int
              id: 1595
              value: 5
            - kind: int
              id: 1596
              value: 6
        - kind: app
          id: 1600
          opcode: Tup
          args:
            - kind: int
              id: 1598
              value: 7
            - kind: int
              id: 1599
              value: 8
    depth: 2
  1607:
    kind: def
    id: 1591
    name: mapRemoveAll
    qualifier: puredef
    expr:
      kind: lambda
      id: 1590
      params:
        - id: 1573
          name: m
        - id: 1576
          name: ks
      expr:
        kind: app
        id: 1589
        opcode: mapBy
        args:
          - kind: app
            id: 1583
            opcode: exclude
            args:
              - kind: app
                id: 1581
                opcode: keys
                args:
                  - kind: name
                    id: 1580
                    name: m
              - kind: name
                id: 1582
                name: ks
          - kind: lambda
            id: 1588
            params:
              - id: 1584
                name: k
            expr:
              kind: app
              id: 1587
              opcode: get
              args:
                - kind: name
                  id: 1585
                  name: m
                - kind: name
                  id: 1586
                  name: k
    depth: 0
  1614:
    kind: def
    id: 1602
    name: m
    qualifier: val
    expr:
      kind: app
      id: 1601
      opcode: Map
      args:
        - kind: app
          id: 1594
          opcode: Tup
          args:
            - kind: int
              id: 1592
              value: 3
            - kind: int
              id: 1593
              value: 4
        - kind: app
          id: 1597
          opcode: Tup
          args:
            - kind: int
              id: 1595
              value: 5
            - kind: int
              id: 1596
              value: 6
        - kind: app
          id: 1600
          opcode: Tup
          args:
            - kind: int
              id: 1598
              value: 7
            - kind: int
              id: 1599
              value: 8
    depth: 2
  1618:
    kind: def
    id: 1591
    name: mapRemoveAll
    qualifier: puredef
    expr:
      kind: lambda
      id: 1590
      params:
        - id: 1573
          name: m
        - id: 1576
          name: ks
      expr:
        kind: app
        id: 1589
        opcode: mapBy
        args:
          - kind: app
            id: 1583
            opcode: exclude
            args:
              - kind: app
                id: 1581
                opcode: keys
                args:
                  - kind: name
                    id: 1580
                    name: m
              - kind: name
                id: 1582
                name: ks
          - kind: lambda
            id: 1588
            params:
              - id: 1584
                name: k
            expr:
              kind: app
              id: 1587
              opcode: get
              args:
                - kind: name
                  id: 1585
                  name: m
                - kind: name
                  id: 1586
                  name: k
    depth: 0
  1630:
    kind: def
    id: 1630
    name: mapRemoveAllTest
    qualifier: run
    expr:
      kind: let
      id: 1629
      opdef:
        id: 1602
        name: m
        qualifier: val
        expr:
          kind: app
          id: 1601
          opcode: Map
          args:
            - kind: app
              id: 1594
              opcode: Tup
              args:
                - kind: int
                  id: 1592
                  value: 3
                - kind: int
                  id: 1593
                  value: 4
            - kind: app
              id: 1597
              opcode: Tup
              args:
                - kind: int
                  id: 1595
                  value: 5
                - kind: int
                  id: 1596
                  value: 6
            - kind: app
              id: 1600
              opcode: Tup
              args:
                - kind: int
                  id: 1598
                  value: 7
                - kind: int
                  id: 1599
                  value: 8
        depth: ~
      expr:
        kind: app
        id: 1628
        opcode: actionAll
        args:
          - kind: app
            id: 1613
            opcode: assert
            args:
              - kind: app
                id: 1612
                opcode: eq
                args:
                  - kind: app
                    id: 1607
                    opcode: mapRemoveAll
                    args:
                      - kind: name
                        id: 1603
                        name: m
                      - kind: app
                        id: 1606
                        opcode: Set
                        args:
                          - kind: int
                            id: 1604
                            value: 5
                          - kind: int
                            id: 1605
                            value: 7
                  - kind: app
                    id: 1611
                    opcode: Map
                    args:
                      - kind: app
                        id: 1610
                        opcode: Tup
                        args:
                          - kind: int
                            id: 1608
                            value: 3
                          - kind: int
                            id: 1609
                            value: 4
          - kind: app
            id: 1627
            opcode: assert
            args:
              - kind: app
                id: 1626
                opcode: eq
                args:
                  - kind: app
                    id: 1618
                    opcode: mapRemoveAll
                    args:
                      - kind: name
                        id: 1614
                        name: m
                      - kind: app
                        id: 1617
                        opcode: Set
                        args:
                          - kind: int
                            id: 1615
                            value: 5
                          - kind: int
                            id: 1616
                            value: 99999
                  - kind: app
                    id: 1625
                    opcode: Map
                    args:
                      - kind: app
                        id: 1621
                        opcode: Tup
                        args:
                          - kind: int
                            id: 1619
                            value: 3
                          - kind: int
                            id: 1620
                            value: 4
                      - kind: app
                        id: 1624
                        opcode: Tup
                        args:
                          - kind: int
                            id: 1622
                            value: 7
                          - kind: int
                            id: 1623
                            value: 8
    depth: 0
  1637:
    id: 1634
    name: m
  1640:
    id: 1634
    name: m
  1641:
    id: 1639
    name: k
  1646:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  1648:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  1659:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  1675:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  1682:
    kind: def
    id: 1682
    name: valuesTest
    qualifier: run
    expr:
      kind: app
      id: 1681
      opcode: actionAll
      args:
        - kind: app
          id: 1651
          opcode: assert
          args:
            - kind: app
              id: 1650
              opcode: eq
              args:
                - kind: app
                  id: 1648
                  opcode: values
                  args:
                    - kind: app
                      id: 1647
                      opcode: Map
                      args: []
                - kind: app
                  id: 1649
                  opcode: Set
                  args: []
        - kind: app
          id: 1664
          opcode: assert
          args:
            - kind: app
              id: 1663
              opcode: eq
              args:
                - kind: app
                  id: 1659
                  opcode: values
                  args:
                    - kind: app
                      id: 1658
                      opcode: Map
                      args:
                        - kind: app
                          id: 1654
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1652
                              value: 1
                            - kind: int
                              id: 1653
                              value: 2
                        - kind: app
                          id: 1657
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1655
                              value: 2
                            - kind: int
                              id: 1656
                              value: 3
                - kind: app
                  id: 1662
                  opcode: Set
                  args:
                    - kind: int
                      id: 1660
                      value: 2
                    - kind: int
                      id: 1661
                      value: 3
        - kind: app
          id: 1680
          opcode: assert
          args:
            - kind: app
              id: 1679
              opcode: eq
              args:
                - kind: app
                  id: 1675
                  opcode: values
                  args:
                    - kind: app
                      id: 1674
                      opcode: Map
                      args:
                        - kind: app
                          id: 1667
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1665
                              value: 1
                            - kind: int
                              id: 1666
                              value: 2
                        - kind: app
                          id: 1670
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1668
                              value: 2
                            - kind: int
                              id: 1669
                              value: 3
                        - kind: app
                          id: 1673
                          opcode: Tup
                          args:
                            - kind: int
                              id: 1671
                              value: 3
                            - kind: int
                              id: 1672
                              value: 2
                - kind: app
                  id: 1678
                  opcode: Set
                  args:
                    - kind: int
                      id: 1676
                      value: 2
                    - kind: int
                      id: 1677
                      value: 3
    depth: 0
  1687:
    id: 1685
    name: s
  1691:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  1693:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  1700:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  1706:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  1711:
    kind: def
    id: 1711
    name: emptyTest
    qualifier: run
    expr:
      kind: app
      id: 1710
      opcode: actionAll
      args:
        - kind: app
          id: 1696
          opcode: assert
          args:
            - kind: app
              id: 1695
              opcode: eq
              args:
                - kind: app
                  id: 1693
                  opcode: empty
                  args:
                    - kind: app
                      id: 1692
                      opcode: Set
                      args: []
                - kind: bool
                  id: 1694
                  value: true
        - kind: app
          id: 1703
          opcode: assert
          args:
            - kind: app
              id: 1702
              opcode: eq
              args:
                - kind: app
                  id: 1700
                  opcode: empty
                  args:
                    - kind: app
                      id: 1699
                      opcode: Set
                      args:
                        - kind: int
                          id: 1697
                          value: 1
                        - kind: int
                          id: 1698
                          value: 2
                - kind: bool
                  id: 1701
                  value: false
        - kind: app
          id: 1709
          opcode: assert
          args:
            - kind: app
              id: 1708
              opcode: eq
              args:
                - kind: app
                  id: 1706
                  opcode: empty
                  args:
                    - kind: app
                      id: 1705
                      opcode: Set
                      args:
                        - kind: app
                          id: 1704
                          opcode: Set
                          args: []
                - kind: bool
                  id: 1707
                  value: false
    depth: 0
  1730:
    id: 1724
    name: sortedList
  1734:
    id: 1724
    name: sortedList
  1735:
    id: 1733
    name: i
  1737:
    id: 1726
    name: num
  1738:
    id: 1719
    name: lt
  1741:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  1742:
    id: 1724
    name: sortedList
  1743:
    id: 1726
    name: num
  1745:
    id: 1724
    name: sortedList
  1747:
    id: 1763
    name: index
  1749:
    id: 1726
    name: num
  1751:
    id: 1724
    name: sortedList
  1752:
    id: 1763
    name: index
  1753:
    id: 1724
    name: sortedList
  1765:
    kind: def
    id: 1765
    name: insertInOrder
    qualifier: puredef
    expr:
      kind: lambda
      id: 1764
      params:
        - id: 1724
          name: sortedList
        - id: 1726
          name: num
      expr:
        kind: app
        id: 1757
        opcode: matchVariant
        args:
          - kind: app
            id: 1741
            opcode: findFirst
            args:
              - kind: app
                id: 1732
                opcode: range
                args:
                  - kind: int
                    id: 1729
                    value: 0
                  - kind: app
                    id: 1731
                    opcode: length
                    args:
                      - kind: name
                        id: 1730
                        name: sortedList
              - kind: lambda
                id: 1740
                params:
                  - id: 1733
                    name: i
                expr:
                  kind: app
                  id: 1739
                  opcode: not
                  args:
                    - kind: app
                      id: 1738
                      opcode: lt
                      args:
                        - kind: app
                          id: 1736
                          opcode: nth
                          args:
                            - kind: name
                              id: 1734
                              name: sortedList
                            - kind: name
                              id: 1735
                              name: i
                        - kind: name
                          id: 1737
                          name: num
          - kind: str
            id: 1758
            value: None
          - kind: lambda
            id: 1759
            params:
              - id: 1760
                name: _
            expr:
              kind: app
              id: 1744
              opcode: append
              args:
                - kind: name
                  id: 1742
                  name: sortedList
                - kind: name
                  id: 1743
                  name: num
          - kind: str
            id: 1761
            value: Some
          - kind: lambda
            id: 1762
            params:
              - id: 1763
                name: index
            expr:
              kind: app
              id: 1756
              opcode: concat
              args:
                - kind: app
                  id: 1750
                  opcode: append
                  args:
                    - kind: app
                      id: 1748
                      opcode: slice
                      args:
                        - kind: name
                          id: 1745
                          name: sortedList
                        - kind: int
                          id: 1746
                          value: 0
                        - kind: name
                          id: 1747
                          name: index
                    - kind: name
                      id: 1749
                      name: num
                - kind: app
                  id: 1755
                  opcode: slice
                  args:
                    - kind: name
                      id: 1751
                      name: sortedList
                    - kind: name
                      id: 1752
                      name: index
                    - kind: app
                      id: 1754
                      opcode: length
                      args:
                        - kind: name
                          id: 1753
                          name: sortedList
    depth: 3
  1766:
    id: 1714
    name: list
  1770:
    id: 1768
    name: sortedList
  1771:
    id: 1769
    name: num
  1772:
    kind: def
    id: 1765
    name: insertInOrder
    qualifier: puredef
    expr:
      kind: lambda
      id: 1764
      params:
        - id: 1724
          name: sortedList
        - id: 1726
          name: num
      expr:
        kind: app
        id: 1757
        opcode: matchVariant
        args:
          - kind: app
            id: 1741
            opcode: findFirst
            args:
              - kind: app
                id: 1732
                opcode: range
                args:
                  - kind: int
                    id: 1729
                    value: 0
                  - kind: app
                    id: 1731
                    opcode: length
                    args:
                      - kind: name
                        id: 1730
                        name: sortedList
              - kind: lambda
                id: 1740
                params:
                  - id: 1733
                    name: i
                expr:
                  kind: app
                  id: 1739
                  opcode: not
                  args:
                    - kind: app
                      id: 1738
                      opcode: lt
                      args:
                        - kind: app
                          id: 1736
                          opcode: nth
                          args:
                            - kind: name
                              id: 1734
                              name: sortedList
                            - kind: name
                              id: 1735
                              name: i
                        - kind: name
                          id: 1737
                          name: num
          - kind: str
            id: 1758
            value: None
          - kind: lambda
            id: 1759
            params:
              - id: 1760
                name: _
            expr:
              kind: app
              id: 1744
              opcode: append
              args:
                - kind: name
                  id: 1742
                  name: sortedList
                - kind: name
                  id: 1743
                  name: num
          - kind: str
            id: 1761
            value: Some
          - kind: lambda
            id: 1762
            params:
              - id: 1763
                name: index
            expr:
              kind: app
              id: 1756
              opcode: concat
              args:
                - kind: app
                  id: 1750
                  opcode: append
                  args:
                    - kind: app
                      id: 1748
                      opcode: slice
                      args:
                        - kind: name
                          id: 1745
                          name: sortedList
                        - kind: int
                          id: 1746
                          value: 0
                        - kind: name
                          id: 1747
                          name: index
                    - kind: name
                      id: 1749
                      name: num
                - kind: app
                  id: 1755
                  opcode: slice
                  args:
                    - kind: name
                      id: 1751
                      name: sortedList
                    - kind: name
                      id: 1752
                      name: index
                    - kind: app
                      id: 1754
                      opcode: length
                      args:
                        - kind: name
                          id: 1753
                          name: sortedList
    depth: 3
  1777:
    kind: def
    id: 1777
    name: sortList
    qualifier: puredef
    expr:
      kind: lambda
      id: 1776
      params:
        - id: 1714
          name: list
        - id: 1719
          name: lt
      expr:
        kind: let
        id: 1775
        opdef:
          id: 1765
          name: insertInOrder
          qualifier: puredef
          expr:
            kind: lambda
            id: 1764
            params:
              - id: 1724
                name: sortedList
              - id: 1726
                name: num
            expr:
              kind: app
              id: 1757
              opcode: matchVariant
              args:
                - kind: app
                  id: 1741
                  opcode: findFirst
                  args:
                    - kind: app
                      id: 1732
                      opcode: range
                      args:
                        - kind: int
                          id: 1729
                          value: 0
                        - kind: app
                          id: 1731
                          opcode: length
                          args:
                            - kind: name
                              id: 1730
                              name: sortedList
                    - kind: lambda
                      id: 1740
                      params:
                        - id: 1733
                          name: i
                      expr:
                        kind: app
                        id: 1739
                        opcode: not
                        args:
                          - kind: app
                            id: 1738
                            opcode: lt
                            args:
                              - kind: app
                                id: 1736
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 1734
                                    name: sortedList
                                  - kind: name
                                    id: 1735
                                    name: i
                              - kind: name
                                id: 1737
                                name: num
                - kind: str
                  id: 1758
                  value: None
                - kind: lambda
                  id: 1759
                  params:
                    - id: 1760
                      name: _
                  expr:
                    kind: app
                    id: 1744
                    opcode: append
                    args:
                      - kind: name
                        id: 1742
                        name: sortedList
                      - kind: name
                        id: 1743
                        name: num
                - kind: str
                  id: 1761
                  value: Some
                - kind: lambda
                  id: 1762
                  params:
                    - id: 1763
                      name: index
                  expr:
                    kind: app
                    id: 1756
                    opcode: concat
                    args:
                      - kind: app
                        id: 1750
                        opcode: append
                        args:
                          - kind: app
                            id: 1748
                            opcode: slice
                            args:
                              - kind: name
                                id: 1745
                                name: sortedList
                              - kind: int
                                id: 1746
                                value: 0
                              - kind: name
                                id: 1747
                                name: index
                          - kind: name
                            id: 1749
                            name: num
                      - kind: app
                        id: 1755
                        opcode: slice
                        args:
                          - kind: name
                            id: 1751
                            name: sortedList
                          - kind: name
                            id: 1752
                            name: index
                          - kind: app
                            id: 1754
                            opcode: length
                            args:
                              - kind: name
                                id: 1753
                                name: sortedList
          depth: ~
        expr:
          kind: app
          id: 1774
          opcode: foldl
          args:
            - kind: name
              id: 1766
              name: list
            - kind: app
              id: 1767
              opcode: List
              args: []
            - kind: lambda
              id: 1773
              params:
                - id: 1768
                  name: sortedList
                - id: 1769
                  name: num
              expr:
                kind: app
                id: 1772
                opcode: insertInOrder
                args:
                  - kind: name
                    id: 1770
                    name: sortedList
                  - kind: name
                    id: 1771
                    name: num
    depth: 0
  1788:
    id: 1786
    name: x
  1789:
    id: 1787
    name: y
  1792:
    kind: def
    id: 1777
    name: sortList
    qualifier: puredef
    expr:
      kind: lambda
      id: 1776
      params:
        - id: 1714
          name: list
        - id: 1719
          name: lt
      expr:
        kind: let
        id: 1775
        opdef:
          id: 1765
          name: insertInOrder
          qualifier: puredef
          expr:
            kind: lambda
            id: 1764
            params:
              - id: 1724
                name: sortedList
              - id: 1726
                name: num
            expr:
              kind: app
              id: 1757
              opcode: matchVariant
              args:
                - kind: app
                  id: 1741
                  opcode: findFirst
                  args:
                    - kind: app
                      id: 1732
                      opcode: range
                      args:
                        - kind: int
                          id: 1729
                          value: 0
                        - kind: app
                          id: 1731
                          opcode: length
                          args:
                            - kind: name
                              id: 1730
                              name: sortedList
                    - kind: lambda
                      id: 1740
                      params:
                        - id: 1733
                          name: i
                      expr:
                        kind: app
                        id: 1739
                        opcode: not
                        args:
                          - kind: app
                            id: 1738
                            opcode: lt
                            args:
                              - kind: app
                                id: 1736
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 1734
                                    name: sortedList
                                  - kind: name
                                    id: 1735
                                    name: i
                              - kind: name
                                id: 1737
                                name: num
                - kind: str
                  id: 1758
                  value: None
                - kind: lambda
                  id: 1759
                  params:
                    - id: 1760
                      name: _
                  expr:
                    kind: app
                    id: 1744
                    opcode: append
                    args:
                      - kind: name
                        id: 1742
                        name: sortedList
                      - kind: name
                        id: 1743
                        name: num
                - kind: str
                  id: 1761
                  value: Some
                - kind: lambda
                  id: 1762
                  params:
                    - id: 1763
                      name: index
                  expr:
                    kind: app
                    id: 1756
                    opcode: concat
                    args:
                      - kind: app
                        id: 1750
                        opcode: append
                        args:
                          - kind: app
                            id: 1748
                            opcode: slice
                            args:
                              - kind: name
                                id: 1745
                                name: sortedList
                              - kind: int
                                id: 1746
                                value: 0
                              - kind: name
                                id: 1747
                                name: index
                          - kind: name
                            id: 1749
                            name: num
                      - kind: app
                        id: 1755
                        opcode: slice
                        args:
                          - kind: name
                            id: 1751
                            name: sortedList
                          - kind: name
                            id: 1752
                            name: index
                          - kind: app
                            id: 1754
                            opcode: length
                            args:
                              - kind: name
                                id: 1753
                                name: sortedList
          depth: ~
        expr:
          kind: app
          id: 1774
          opcode: foldl
          args:
            - kind: name
              id: 1766
              name: list
            - kind: app
              id: 1767
              opcode: List
              args: []
            - kind: lambda
              id: 1773
              params:
                - id: 1768
                  name: sortedList
                - id: 1769
                  name: num
              expr:
                kind: app
                id: 1772
                opcode: insertInOrder
                args:
                  - kind: name
                    id: 1770
                    name: sortedList
                  - kind: name
                    id: 1771
                    name: num
    depth: 0
  1809:
    id: 1807
    name: x
  1810:
    id: 1808
    name: y
  1813:
    kind: def
    id: 1777
    name: sortList
    qualifier: puredef
    expr:
      kind: lambda
      id: 1776
      params:
        - id: 1714
          name: list
        - id: 1719
          name: lt
      expr:
        kind: let
        id: 1775
        opdef:
          id: 1765
          name: insertInOrder
          qualifier: puredef
          expr:
            kind: lambda
            id: 1764
            params:
              - id: 1724
                name: sortedList
              - id: 1726
                name: num
            expr:
              kind: app
              id: 1757
              opcode: matchVariant
              args:
                - kind: app
                  id: 1741
                  opcode: findFirst
                  args:
                    - kind: app
                      id: 1732
                      opcode: range
                      args:
                        - kind: int
                          id: 1729
                          value: 0
                        - kind: app
                          id: 1731
                          opcode: length
                          args:
                            - kind: name
                              id: 1730
                              name: sortedList
                    - kind: lambda
                      id: 1740
                      params:
                        - id: 1733
                          name: i
                      expr:
                        kind: app
                        id: 1739
                        opcode: not
                        args:
                          - kind: app
                            id: 1738
                            opcode: lt
                            args:
                              - kind: app
                                id: 1736
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 1734
                                    name: sortedList
                                  - kind: name
                                    id: 1735
                                    name: i
                              - kind: name
                                id: 1737
                                name: num
                - kind: str
                  id: 1758
                  value: None
                - kind: lambda
                  id: 1759
                  params:
                    - id: 1760
                      name: _
                  expr:
                    kind: app
                    id: 1744
                    opcode: append
                    args:
                      - kind: name
                        id: 1742
                        name: sortedList
                      - kind: name
                        id: 1743
                        name: num
                - kind: str
                  id: 1761
                  value: Some
                - kind: lambda
                  id: 1762
                  params:
                    - id: 1763
                      name: index
                  expr:
                    kind: app
                    id: 1756
                    opcode: concat
                    args:
                      - kind: app
                        id: 1750
                        opcode: append
                        args:
                          - kind: app
                            id: 1748
                            opcode: slice
                            args:
                              - kind: name
                                id: 1745
                                name: sortedList
                              - kind: int
                                id: 1746
                                value: 0
                              - kind: name
                                id: 1747
                                name: index
                          - kind: name
                            id: 1749
                            name: num
                      - kind: app
                        id: 1755
                        opcode: slice
                        args:
                          - kind: name
                            id: 1751
                            name: sortedList
                          - kind: name
                            id: 1752
                            name: index
                          - kind: app
                            id: 1754
                            opcode: length
                            args:
                              - kind: name
                                id: 1753
                                name: sortedList
          depth: ~
        expr:
          kind: app
          id: 1774
          opcode: foldl
          args:
            - kind: name
              id: 1766
              name: list
            - kind: app
              id: 1767
              opcode: List
              args: []
            - kind: lambda
              id: 1773
              params:
                - id: 1768
                  name: sortedList
                - id: 1769
                  name: num
              expr:
                kind: app
                id: 1772
                opcode: insertInOrder
                args:
                  - kind: name
                    id: 1770
                    name: sortedList
                  - kind: name
                    id: 1771
                    name: num
    depth: 0
  1817:
    kind: def
    id: 1817
    name: listSortedTest
    qualifier: run
    expr:
      kind: app
      id: 1816
      opcode: actionAll
      args:
        - kind: app
          id: 1794
          opcode: assert
          args:
            - kind: app
              id: 1793
              opcode: eq
              args:
                - kind: app
                  id: 1781
                  opcode: List
                  args:
                    - kind: int
                      id: 1778
                      value: 1
                    - kind: int
                      id: 1779
                      value: 3
                    - kind: int
                      id: 1780
                      value: 5
                - kind: app
                  id: 1792
                  opcode: sortList
                  args:
                    - kind: app
                      id: 1785
                      opcode: List
                      args:
                        - kind: int
                          id: 1782
                          value: 5
                        - kind: int
                          id: 1783
                          value: 1
                        - kind: int
                          id: 1784
                          value: 3
                    - kind: lambda
                      id: 1791
                      params:
                        - id: 1786
                          name: x
                        - id: 1787
                          name: y
                      expr:
                        kind: app
                        id: 1790
                        opcode: ilt
                        args:
                          - kind: name
                            id: 1788
                            name: x
                          - kind: name
                            id: 1789
                            name: y
        - kind: app
          id: 1815
          opcode: assert
          args:
            - kind: app
              id: 1814
              opcode: eq
              args:
                - kind: app
                  id: 1800
                  opcode: List
                  args:
                    - kind: int
                      id: 1795
                      value: 1
                    - kind: int
                      id: 1796
                      value: 1
                    - kind: int
                      id: 1797
                      value: 3
                    - kind: int
                      id: 1798
                      value: 5
                    - kind: int
                      id: 1799
                      value: 5
                - kind: app
                  id: 1813
                  opcode: sortList
                  args:
                    - kind: app
                      id: 1806
                      opcode: List
                      args:
                        - kind: int
                          id: 1801
                          value: 5
                        - kind: int
                          id: 1802
                          value: 1
                        - kind: int
                          id: 1803
                          value: 3
                        - kind: int
                          id: 1804
                          value: 1
                        - kind: int
                          id: 1805
                          value: 5
                    - kind: lambda
                      id: 1812
                      params:
                        - id: 1807
                          name: x
                        - id: 1808
                          name: y
                      expr:
                        kind: app
                        id: 1811
                        opcode: ilt
                        args:
                          - kind: name
                            id: 1809
                            name: x
                          - kind: name
                            id: 1810
                            name: y
    depth: 0
  1829:
    id: 1821
    name: m
  1832:
    id: 1821
    name: m
  1833:
    id: 1831
    name: k
  1835:
    id: 1825
    name: f
  1839:
    kind: def
    id: 1839
    name: transformValues
    qualifier: puredef
    expr:
      kind: lambda
      id: 1838
      params:
        - id: 1821
          name: m
        - id: 1825
          name: f
      expr:
        kind: app
        id: 1837
        opcode: mapBy
        args:
          - kind: app
            id: 1830
            opcode: keys
            args:
              - kind: name
                id: 1829
                name: m
          - kind: lambda
            id: 1836
            params:
              - id: 1831
                name: k
            expr:
              kind: app
              id: 1835
              opcode: f
              args:
                - kind: app
                  id: 1834
                  opcode: get
                  args:
                    - kind: name
                      id: 1832
                      name: m
                    - kind: name
                      id: 1833
                      name: k
    depth: 0
  1847:
    kind: def
    id: 1847
    name: m
    qualifier: pureval
    expr:
      kind: app
      id: 1846
      opcode: Map
      args:
        - kind: app
          id: 1842
          opcode: Tup
          args:
            - kind: str
              id: 1840
              value: a
            - kind: int
              id: 1841
              value: 1
        - kind: app
          id: 1845
          opcode: Tup
          args:
            - kind: str
              id: 1843
              value: b
            - kind: int
              id: 1844
              value: 2
    depth: 2
  1848:
    kind: def
    id: 1847
    name: m
    qualifier: pureval
    expr:
      kind: app
      id: 1846
      opcode: Map
      args:
        - kind: app
          id: 1842
          opcode: Tup
          args:
            - kind: str
              id: 1840
              value: a
            - kind: int
              id: 1841
              value: 1
        - kind: app
          id: 1845
          opcode: Tup
          args:
            - kind: str
              id: 1843
              value: b
            - kind: int
              id: 1844
              value: 2
    depth: 2
  1850:
    id: 1849
    name: x
  1854:
    kind: def
    id: 1839
    name: transformValues
    qualifier: puredef
    expr:
      kind: lambda
      id: 1838
      params:
        - id: 1821
          name: m
        - id: 1825
          name: f
      expr:
        kind: app
        id: 1837
        opcode: mapBy
        args:
          - kind: app
            id: 1830
            opcode: keys
            args:
              - kind: name
                id: 1829
                name: m
          - kind: lambda
            id: 1836
            params:
              - id: 1831
                name: k
            expr:
              kind: app
              id: 1835
              opcode: f
              args:
                - kind: app
                  id: 1834
                  opcode: get
                  args:
                    - kind: name
                      id: 1832
                      name: m
                    - kind: name
                      id: 1833
                      name: k
    depth: 0
  1865:
    kind: def
    id: 1865
    name: transformValuesTest
    qualifier: run
    expr:
      kind: let
      id: 1864
      opdef:
        id: 1847
        name: m
        qualifier: pureval
        expr:
          kind: app
          id: 1846
          opcode: Map
          args:
            - kind: app
              id: 1842
              opcode: Tup
              args:
                - kind: str
                  id: 1840
                  value: a
                - kind: int
                  id: 1841
                  value: 1
            - kind: app
              id: 1845
              opcode: Tup
              args:
                - kind: str
                  id: 1843
                  value: b
                - kind: int
                  id: 1844
                  value: 2
        depth: ~
      expr:
        kind: app
        id: 1863
        opcode: assert
        args:
          - kind: app
            id: 1862
            opcode: eq
            args:
              - kind: app
                id: 1854
                opcode: transformValues
                args:
                  - kind: name
                    id: 1848
                    name: m
                  - kind: lambda
                    id: 1853
                    params:
                      - id: 1849
                        name: x
                    expr:
                      kind: app
                      id: 1852
                      opcode: iadd
                      args:
                        - kind: name
                          id: 1850
                          name: x
                        - kind: int
                          id: 1851
                          value: 1
              - kind: app
                id: 1861
                opcode: Map
                args:
                  - kind: app
                    id: 1857
                    opcode: Tup
                    args:
                      - kind: str
                        id: 1855
                        value: a
                      - kind: int
                        id: 1856
                        value: 2
                  - kind: app
                    id: 1860
                    opcode: Tup
                    args:
                      - kind: str
                        id: 1858
                        value: b
                      - kind: int
                        id: 1859
                        value: 3
    depth: 0
  1876:
    id: 1868
    name: l
  1882:
    id: 1880
    name: acc
  1883:
    id: 1868
    name: l
  1884:
    id: 1881
    name: i
  1886:
    id: 1872
    name: f
  1891:
    kind: def
    id: 1891
    name: listMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 1890
      params:
        - id: 1868
          name: l
        - id: 1872
          name: f
      expr:
        kind: app
        id: 1889
        opcode: foldl
        args:
          - kind: app
            id: 1878
            opcode: range
            args:
              - kind: int
                id: 1875
                value: 0
              - kind: app
                id: 1877
                opcode: length
                args:
                  - kind: name
                    id: 1876
                    name: l
          - kind: app
            id: 1879
            opcode: List
            args: []
          - kind: lambda
            id: 1888
            params:
              - id: 1880
                name: acc
              - id: 1881
                name: i
            expr:
              kind: app
              id: 1887
              opcode: append
              args:
                - kind: name
                  id: 1882
                  name: acc
                - kind: app
                  id: 1886
                  opcode: f
                  args:
                    - kind: app
                      id: 1885
                      opcode: nth
                      args:
                        - kind: name
                          id: 1883
                          name: l
                        - kind: name
                          id: 1884
                          name: i
    depth: 0
  1897:
    id: 1896
    name: x
  1901:
    kind: def
    id: 1891
    name: listMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 1890
      params:
        - id: 1868
          name: l
        - id: 1872
          name: f
      expr:
        kind: app
        id: 1889
        opcode: foldl
        args:
          - kind: app
            id: 1878
            opcode: range
            args:
              - kind: int
                id: 1875
                value: 0
              - kind: app
                id: 1877
                opcode: length
                args:
                  - kind: name
                    id: 1876
                    name: l
          - kind: app
            id: 1879
            opcode: List
            args: []
          - kind: lambda
            id: 1888
            params:
              - id: 1880
                name: acc
              - id: 1881
                name: i
            expr:
              kind: app
              id: 1887
              opcode: append
              args:
                - kind: name
                  id: 1882
                  name: acc
                - kind: app
                  id: 1886
                  opcode: f
                  args:
                    - kind: app
                      id: 1885
                      opcode: nth
                      args:
                        - kind: name
                          id: 1883
                          name: l
                        - kind: name
                          id: 1884
                          name: i
    depth: 0
  1913:
    id: 1912
    name: x
  1917:
    kind: def
    id: 1891
    name: listMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 1890
      params:
        - id: 1868
          name: l
        - id: 1872
          name: f
      expr:
        kind: app
        id: 1889
        opcode: foldl
        args:
          - kind: app
            id: 1878
            opcode: range
            args:
              - kind: int
                id: 1875
                value: 0
              - kind: app
                id: 1877
                opcode: length
                args:
                  - kind: name
                    id: 1876
                    name: l
          - kind: app
            id: 1879
            opcode: List
            args: []
          - kind: lambda
            id: 1888
            params:
              - id: 1880
                name: acc
              - id: 1881
                name: i
            expr:
              kind: app
              id: 1887
              opcode: append
              args:
                - kind: name
                  id: 1882
                  name: acc
                - kind: app
                  id: 1886
                  opcode: f
                  args:
                    - kind: app
                      id: 1885
                      opcode: nth
                      args:
                        - kind: name
                          id: 1883
                          name: l
                        - kind: name
                          id: 1884
                          name: i
    depth: 0
  1925:
    kind: def
    id: 1925
    name: listMapTest
    qualifier: run
    expr:
      kind: app
      id: 1924
      opcode: actionAll
      args:
        - kind: app
          id: 1907
          opcode: assert
          args:
            - kind: app
              id: 1906
              opcode: eq
              args:
                - kind: app
                  id: 1901
                  opcode: listMap
                  args:
                    - kind: app
                      id: 1895
                      opcode: List
                      args:
                        - kind: int
                          id: 1892
                          value: 1
                        - kind: int
                          id: 1893
                          value: 2
                        - kind: int
                          id: 1894
                          value: 3
                    - kind: lambda
                      id: 1900
                      params:
                        - id: 1896
                          name: x
                      expr:
                        kind: app
                        id: 1899
                        opcode: iadd
                        args:
                          - kind: name
                            id: 1897
                            name: x
                          - kind: int
                            id: 1898
                            value: 1
                - kind: app
                  id: 1905
                  opcode: List
                  args:
                    - kind: int
                      id: 1902
                      value: 2
                    - kind: int
                      id: 1903
                      value: 3
                    - kind: int
                      id: 1904
                      value: 4
        - kind: app
          id: 1923
          opcode: assert
          args:
            - kind: app
              id: 1922
              opcode: eq
              args:
                - kind: app
                  id: 1917
                  opcode: listMap
                  args:
                    - kind: app
                      id: 1911
                      opcode: List
                      args:
                        - kind: int
                          id: 1908
                          value: 1
                        - kind: int
                          id: 1909
                          value: 2
                        - kind: int
                          id: 1910
                          value: 3
                    - kind: lambda
                      id: 1916
                      params:
                        - id: 1912
                          name: x
                      expr:
                        kind: app
                        id: 1915
                        opcode: igt
                        args:
                          - kind: name
                            id: 1913
                            name: x
                          - kind: int
                            id: 1914
                            value: 1
                - kind: app
                  id: 1921
                  opcode: List
                  args:
                    - kind: bool
                      id: 1918
                      value: false
                    - kind: bool
                      id: 1919
                      value: true
                    - kind: bool
                      id: 1920
                      value: true
    depth: 0
  1930:
    id: 1928
    name: v
  1931:
    id: 1928
    name: v
  1937:
    kind: def
    id: 1937
    name: last
    qualifier: puredef
    expr:
      kind: lambda
      id: 1936
      params:
        - id: 1928
          name: v
      expr:
        kind: app
        id: 1935
        opcode: nth
        args:
          - kind: name
            id: 1930
            name: v
          - kind: app
            id: 1934
            opcode: isub
            args:
              - kind: app
                id: 1932
                opcode: length
                args:
                  - kind: name
                    id: 1931
                    name: v
              - kind: int
                id: 1933
                value: 1
    depth: 0
  1942:
    kind: def
    id: 1937
    name: last
    qualifier: puredef
    expr:
      kind: lambda
      id: 1936
      params:
        - id: 1928
          name: v
      expr:
        kind: app
        id: 1935
        opcode: nth
        args:
          - kind: name
            id: 1930
            name: v
          - kind: app
            id: 1934
            opcode: isub
            args:
              - kind: app
                id: 1932
                opcode: length
                args:
                  - kind: name
                    id: 1931
                    name: v
              - kind: int
                id: 1933
                value: 1
    depth: 0
  1948:
    kind: def
    id: 1937
    name: last
    qualifier: puredef
    expr:
      kind: lambda
      id: 1936
      params:
        - id: 1928
          name: v
      expr:
        kind: app
        id: 1935
        opcode: nth
        args:
          - kind: name
            id: 1930
            name: v
          - kind: app
            id: 1934
            opcode: isub
            args:
              - kind: app
                id: 1932
                opcode: length
                args:
                  - kind: name
                    id: 1931
                    name: v
              - kind: int
                id: 1933
                value: 1
    depth: 0
  1953:
    kind: def
    id: 1953
    name: lastTest
    qualifier: run
    expr:
      kind: app
      id: 1952
      opcode: actionAll
      args:
        - kind: app
          id: 1945
          opcode: assert
          args:
            - kind: app
              id: 1944
              opcode: eq
              args:
                - kind: app
                  id: 1942
                  opcode: last
                  args:
                    - kind: app
                      id: 1941
                      opcode: List
                      args:
                        - kind: int
                          id: 1938
                          value: 1
                        - kind: int
                          id: 1939
                          value: 2
                        - kind: int
                          id: 1940
                          value: 3
                - kind: int
                  id: 1943
                  value: 3
        - kind: app
          id: 1951
          opcode: assert
          args:
            - kind: app
              id: 1950
              opcode: eq
              args:
                - kind: app
                  id: 1948
                  opcode: last
                  args:
                    - kind: app
                      id: 1947
                      opcode: List
                      args:
                        - kind: int
                          id: 1946
                          value: 1
                - kind: int
                  id: 1949
                  value: 1
    depth: 0
  1960:
    id: 1957
    name: end
  1961:
    id: 1955
    name: start
  1968:
    id: 1967
    name: i
  1970:
    id: 1966
    name: acc
  1975:
    kind: def
    id: 1975
    name: decreasingRange
    qualifier: puredef
    expr:
      kind: lambda
      id: 1974
      params:
        - id: 1955
          name: start
        - id: 1957
          name: end
      expr:
        kind: app
        id: 1973
        opcode: foldl
        args:
          - kind: app
            id: 1964
            opcode: range
            args:
              - kind: name
                id: 1960
                name: end
              - kind: app
                id: 1963
                opcode: iadd
                args:
                  - kind: name
                    id: 1961
                    name: start
                  - kind: int
                    id: 1962
                    value: 1
          - kind: app
            id: 1965
            opcode: List
            args: []
          - kind: lambda
            id: 1972
            params:
              - id: 1966
                name: acc
              - id: 1967
                name: i
            expr:
              kind: app
              id: 1971
              opcode: concat
              args:
                - kind: app
                  id: 1969
                  opcode: List
                  args:
                    - kind: name
                      id: 1968
                      name: i
                - kind: name
                  id: 1970
                  name: acc
    depth: 0
  1978:
    kind: def
    id: 1975
    name: decreasingRange
    qualifier: puredef
    expr:
      kind: lambda
      id: 1974
      params:
        - id: 1955
          name: start
        - id: 1957
          name: end
      expr:
        kind: app
        id: 1973
        opcode: foldl
        args:
          - kind: app
            id: 1964
            opcode: range
            args:
              - kind: name
                id: 1960
                name: end
              - kind: app
                id: 1963
                opcode: iadd
                args:
                  - kind: name
                    id: 1961
                    name: start
                  - kind: int
                    id: 1962
                    value: 1
          - kind: app
            id: 1965
            opcode: List
            args: []
          - kind: lambda
            id: 1972
            params:
              - id: 1966
                name: acc
              - id: 1967
                name: i
            expr:
              kind: app
              id: 1971
              opcode: concat
              args:
                - kind: app
                  id: 1969
                  opcode: List
                  args:
                    - kind: name
                      id: 1968
                      name: i
                - kind: name
                  id: 1970
                  name: acc
    depth: 0
  1988:
    kind: def
    id: 1988
    name: decreasingRangeTest
    qualifier: run
    expr:
      kind: app
      id: 1987
      opcode: actionAll
      args:
        - kind: app
          id: 1986
          opcode: assert
          args:
            - kind: app
              id: 1985
              opcode: eq
              args:
                - kind: app
                  id: 1978
                  opcode: decreasingRange
                  args:
                    - kind: int
                      id: 1976
                      value: 5
                    - kind: int
                      id: 1977
                      value: 1
                - kind: app
                  id: 1984
                  opcode: List
                  args:
                    - kind: int
                      id: 1979
                      value: 5
                    - kind: int
                      id: 1980
                      value: 4
                    - kind: int
                      id: 1981
                      value: 3
                    - kind: int
                      id: 1982
                      value: 2
                    - kind: int
                      id: 1983
                      value: 1
    depth: 0
  1998:
    id: 1991
    name: l
  2004:
    id: 2002
    name: acc
  2007:
    id: 2003
    name: e
  2008:
    id: 1995
    name: cond
  2010:
    id: 2002
    name: acc
  2013:
    id: 2003
    name: e
  2017:
    id: 2002
    name: acc
  2025:
    kind: def
    id: 2025
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 2024
      opcode: foldl
      args:
        - kind: name
          id: 1998
          name: l
        - kind: app
          id: 2001
          opcode: Tup
          args:
            - kind: app
              id: 1999
              opcode: List
              args: []
            - kind: bool
              id: 2000
              value: true
        - kind: lambda
          id: 2023
          params:
            - id: 2002
              name: acc
            - id: 2003
              name: e
          expr:
            kind: app
            id: 2022
            opcode: ite
            args:
              - kind: app
                id: 2009
                opcode: and
                args:
                  - kind: app
                    id: 2006
                    opcode: item
                    args:
                      - kind: name
                        id: 2004
                        name: acc
                      - kind: int
                        id: 2005
                        value: 2
                  - kind: app
                    id: 2008
                    opcode: cond
                    args:
                      - kind: name
                        id: 2007
                        name: e
              - kind: app
                id: 2016
                opcode: Tup
                args:
                  - kind: app
                    id: 2014
                    opcode: append
                    args:
                      - kind: app
                        id: 2012
                        opcode: item
                        args:
                          - kind: name
                            id: 2010
                            name: acc
                          - kind: int
                            id: 2011
                            value: 1
                      - kind: name
                        id: 2013
                        name: e
                  - kind: bool
                    id: 2015
                    value: true
              - kind: app
                id: 2021
                opcode: Tup
                args:
                  - kind: app
                    id: 2019
                    opcode: item
                    args:
                      - kind: name
                        id: 2017
                        name: acc
                      - kind: int
                        id: 2018
                        value: 1
                  - kind: bool
                    id: 2020
                    value: false
    depth: 3
  2026:
    kind: def
    id: 2025
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 2024
      opcode: foldl
      args:
        - kind: name
          id: 1998
          name: l
        - kind: app
          id: 2001
          opcode: Tup
          args:
            - kind: app
              id: 1999
              opcode: List
              args: []
            - kind: bool
              id: 2000
              value: true
        - kind: lambda
          id: 2023
          params:
            - id: 2002
              name: acc
            - id: 2003
              name: e
          expr:
            kind: app
            id: 2022
            opcode: ite
            args:
              - kind: app
                id: 2009
                opcode: and
                args:
                  - kind: app
                    id: 2006
                    opcode: item
                    args:
                      - kind: name
                        id: 2004
                        name: acc
                      - kind: int
                        id: 2005
                        value: 2
                  - kind: app
                    id: 2008
                    opcode: cond
                    args:
                      - kind: name
                        id: 2007
                        name: e
              - kind: app
                id: 2016
                opcode: Tup
                args:
                  - kind: app
                    id: 2014
                    opcode: append
                    args:
                      - kind: app
                        id: 2012
                        opcode: item
                        args:
                          - kind: name
                            id: 2010
                            name: acc
                          - kind: int
                            id: 2011
                            value: 1
                      - kind: name
                        id: 2013
                        name: e
                  - kind: bool
                    id: 2015
                    value: true
              - kind: app
                id: 2021
                opcode: Tup
                args:
                  - kind: app
                    id: 2019
                    opcode: item
                    args:
                      - kind: name
                        id: 2017
                        name: acc
                      - kind: int
                        id: 2018
                        value: 1
                  - kind: bool
                    id: 2020
                    value: false
    depth: 3
  2031:
    kind: def
    id: 2031
    name: takeWhile
    qualifier: puredef
    expr:
      kind: lambda
      id: 2030
      params:
        - id: 1991
          name: l
        - id: 1995
          name: cond
      expr:
        kind: let
        id: 2029
        opdef:
          id: 2025
          name: result
          qualifier: pureval
          expr:
            kind: app
            id: 2024
            opcode: foldl
            args:
              - kind: name
                id: 1998
                name: l
              - kind: app
                id: 2001
                opcode: Tup
                args:
                  - kind: app
                    id: 1999
                    opcode: List
                    args: []
                  - kind: bool
                    id: 2000
                    value: true
              - kind: lambda
                id: 2023
                params:
                  - id: 2002
                    name: acc
                  - id: 2003
                    name: e
                expr:
                  kind: app
                  id: 2022
                  opcode: ite
                  args:
                    - kind: app
                      id: 2009
                      opcode: and
                      args:
                        - kind: app
                          id: 2006
                          opcode: item
                          args:
                            - kind: name
                              id: 2004
                              name: acc
                            - kind: int
                              id: 2005
                              value: 2
                        - kind: app
                          id: 2008
                          opcode: cond
                          args:
                            - kind: name
                              id: 2007
                              name: e
                    - kind: app
                      id: 2016
                      opcode: Tup
                      args:
                        - kind: app
                          id: 2014
                          opcode: append
                          args:
                            - kind: app
                              id: 2012
                              opcode: item
                              args:
                                - kind: name
                                  id: 2010
                                  name: acc
                                - kind: int
                                  id: 2011
                                  value: 1
                            - kind: name
                              id: 2013
                              name: e
                        - kind: bool
                          id: 2015
                          value: true
                    - kind: app
                      id: 2021
                      opcode: Tup
                      args:
                        - kind: app
                          id: 2019
                          opcode: item
                          args:
                            - kind: name
                              id: 2017
                              name: acc
                            - kind: int
                              id: 2018
                              value: 1
                        - kind: bool
                          id: 2020
                          value: false
          depth: ~
        expr:
          kind: app
          id: 2028
          opcode: item
          args:
            - kind: name
              id: 2026
              name: result
            - kind: int
              id: 2027
              value: 1
    depth: 0
  2038:
    id: 2037
    name: x
  2044:
    kind: def
    id: 2031
    name: takeWhile
    qualifier: puredef
    expr:
      kind: lambda
      id: 2030
      params:
        - id: 1991
          name: l
        - id: 1995
          name: cond
      expr:
        kind: let
        id: 2029
        opdef:
          id: 2025
          name: result
          qualifier: pureval
          expr:
            kind: app
            id: 2024
            opcode: foldl
            args:
              - kind: name
                id: 1998
                name: l
              - kind: app
                id: 2001
                opcode: Tup
                args:
                  - kind: app
                    id: 1999
                    opcode: List
                    args: []
                  - kind: bool
                    id: 2000
                    value: true
              - kind: lambda
                id: 2023
                params:
                  - id: 2002
                    name: acc
                  - id: 2003
                    name: e
                expr:
                  kind: app
                  id: 2022
                  opcode: ite
                  args:
                    - kind: app
                      id: 2009
                      opcode: and
                      args:
                        - kind: app
                          id: 2006
                          opcode: item
                          args:
                            - kind: name
                              id: 2004
                              name: acc
                            - kind: int
                              id: 2005
                              value: 2
                        - kind: app
                          id: 2008
                          opcode: cond
                          args:
                            - kind: name
                              id: 2007
                              name: e
                    - kind: app
                      id: 2016
                      opcode: Tup
                      args:
                        - kind: app
                          id: 2014
                          opcode: append
                          args:
                            - kind: app
                              id: 2012
                              opcode: item
                              args:
                                - kind: name
                                  id: 2010
                                  name: acc
                                - kind: int
                                  id: 2011
                                  value: 1
                            - kind: name
                              id: 2013
                              name: e
                        - kind: bool
                          id: 2015
                          value: true
                    - kind: app
                      id: 2021
                      opcode: Tup
                      args:
                        - kind: app
                          id: 2019
                          opcode: item
                          args:
                            - kind: name
                              id: 2017
                              name: acc
                            - kind: int
                              id: 2018
                              value: 1
                        - kind: bool
                          id: 2020
                          value: false
          depth: ~
        expr:
          kind: app
          id: 2028
          opcode: item
          args:
            - kind: name
              id: 2026
              name: result
            - kind: int
              id: 2027
              value: 1
    depth: 0
  2051:
    kind: def
    id: 2051
    name: takeWhileTest
    qualifier: run
    expr:
      kind: app
      id: 2050
      opcode: actionAll
      args:
        - kind: app
          id: 2049
          opcode: assert
          args:
            - kind: app
              id: 2048
              opcode: eq
              args:
                - kind: app
                  id: 2044
                  opcode: takeWhile
                  args:
                    - kind: app
                      id: 2036
                      opcode: List
                      args:
                        - kind: int
                          id: 2032
                          value: 1
                        - kind: int
                          id: 2033
                          value: 5
                        - kind: int
                          id: 2034
                          value: 4
                        - kind: int
                          id: 2035
                          value: 3
                    - kind: lambda
                      id: 2043
                      params:
                        - id: 2037
                          name: x
                      expr:
                        kind: app
                        id: 2042
                        opcode: eq
                        args:
                          - kind: app
                            id: 2040
                            opcode: imod
                            args:
                              - kind: name
                                id: 2038
                                name: x
                              - kind: int
                                id: 2039
                                value: 2
                          - kind: int
                            id: 2041
                            value: 1
                - kind: app
                  id: 2047
                  opcode: List
                  args:
                    - kind: int
                      id: 2045
                      value: 1
                    - kind: int
                      id: 2046
                      value: 5
    depth: 0
  2059:
    id: 2054
    name: l1
  2061:
    id: 2057
    name: l2
  2065:
    id: 2054
    name: l1
  2068:
    id: 2054
    name: l1
  2069:
    id: 2067
    name: i
  2071:
    id: 2057
    name: l2
  2072:
    id: 2067
    name: i
  2079:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2087:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2096:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2104:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2111:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2115:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  2118:
    kind: def
    id: 2118
    name: isPrefixOfTest
    qualifier: run
    expr:
      kind: app
      id: 2117
      opcode: actionAll
      args:
        - kind: app
          id: 2088
          opcode: assert
          args:
            - kind: app
              id: 2087
              opcode: isPrefixOf
              args:
                - kind: app
                  id: 2082
                  opcode: List
                  args:
                    - kind: int
                      id: 2080
                      value: 1
                    - kind: int
                      id: 2081
                      value: 2
                - kind: app
                  id: 2086
                  opcode: List
                  args:
                    - kind: int
                      id: 2083
                      value: 1
                    - kind: int
                      id: 2084
                      value: 2
                    - kind: int
                      id: 2085
                      value: 3
        - kind: app
          id: 2098
          opcode: assert
          args:
            - kind: app
              id: 2097
              opcode: not
              args:
                - kind: app
                  id: 2096
                  opcode: isPrefixOf
                  args:
                    - kind: app
                      id: 2091
                      opcode: List
                      args:
                        - kind: int
                          id: 2089
                          value: 1
                        - kind: int
                          id: 2090
                          value: 2
                    - kind: app
                      id: 2095
                      opcode: List
                      args:
                        - kind: int
                          id: 2092
                          value: 1
                        - kind: int
                          id: 2093
                          value: 3
                        - kind: int
                          id: 2094
                          value: 2
        - kind: app
          id: 2106
          opcode: assert
          args:
            - kind: app
              id: 2105
              opcode: not
              args:
                - kind: app
                  id: 2104
                  opcode: isPrefixOf
                  args:
                    - kind: app
                      id: 2101
                      opcode: List
                      args:
                        - kind: int
                          id: 2099
                          value: 1
                        - kind: int
                          id: 2100
                          value: 2
                    - kind: app
                      id: 2103
                      opcode: List
                      args:
                        - kind: int
                          id: 2102
                          value: 1
        - kind: app
          id: 2112
          opcode: assert
          args:
            - kind: app
              id: 2111
              opcode: isPrefixOf
              args:
                - kind: app
                  id: 2107
                  opcode: List
                  args: []
                - kind: app
                  id: 2110
                  opcode: List
                  args:
                    - kind: int
                      id: 2108
                      value: 1
                    - kind: int
                      id: 2109
                      value: 2
        - kind: app
          id: 2116
          opcode: assert
          args:
            - kind: app
              id: 2115
              opcode: isPrefixOf
              args:
                - kind: app
                  id: 2113
                  opcode: List
                  args: []
                - kind: app
                  id: 2114
                  opcode: List
                  args: []
    depth: 0
  2121:
    id: 2119
    name: s
  2122:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2125:
    id: 2124
    name: i
  2126:
    id: 2120
    name: f
  2127:
    id: 2124
    name: i
  2128:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  2129:
    id: 2123
    name: a
  2134:
    kind: def
    id: 2134
    name: find
    qualifier: puredef
    expr:
      kind: lambda
      id: 2133
      params:
        - id: 2119
          name: s
        - id: 2120
          name: f
      expr:
        kind: app
        id: 2132
        opcode: fold
        args:
          - kind: name
            id: 2121
            name: s
          - kind: name
            id: 2122
            name: None
          - kind: lambda
            id: 2131
            params:
              - id: 2123
                name: a
              - id: 2124
                name: i
            expr:
              kind: app
              id: 2130
              opcode: ite
              args:
                - kind: app
                  id: 2126
                  opcode: f
                  args:
                    - kind: name
                      id: 2125
                      name: i
                - kind: app
                  id: 2128
                  opcode: Some
                  args:
                    - kind: name
                      id: 2127
                      name: i
                - kind: name
                  id: 2129
                  name: a
    depth: 0
  2140:
    id: 2139
    name: x
  2144:
    kind: def
    id: 2134
    name: find
    qualifier: puredef
    expr:
      kind: lambda
      id: 2133
      params:
        - id: 2119
          name: s
        - id: 2120
          name: f
      expr:
        kind: app
        id: 2132
        opcode: fold
        args:
          - kind: name
            id: 2121
            name: s
          - kind: name
            id: 2122
            name: None
          - kind: lambda
            id: 2131
            params:
              - id: 2123
                name: a
              - id: 2124
                name: i
            expr:
              kind: app
              id: 2130
              opcode: ite
              args:
                - kind: app
                  id: 2126
                  opcode: f
                  args:
                    - kind: name
                      id: 2125
                      name: i
                - kind: app
                  id: 2128
                  opcode: Some
                  args:
                    - kind: name
                      id: 2127
                      name: i
                - kind: name
                  id: 2129
                  name: a
    depth: 0
  2146:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  2154:
    id: 2153
    name: x
  2158:
    kind: def
    id: 2134
    name: find
    qualifier: puredef
    expr:
      kind: lambda
      id: 2133
      params:
        - id: 2119
          name: s
        - id: 2120
          name: f
      expr:
        kind: app
        id: 2132
        opcode: fold
        args:
          - kind: name
            id: 2121
            name: s
          - kind: name
            id: 2122
            name: None
          - kind: lambda
            id: 2131
            params:
              - id: 2123
                name: a
              - id: 2124
                name: i
            expr:
              kind: app
              id: 2130
              opcode: ite
              args:
                - kind: app
                  id: 2126
                  opcode: f
                  args:
                    - kind: name
                      id: 2125
                      name: i
                - kind: app
                  id: 2128
                  opcode: Some
                  args:
                    - kind: name
                      id: 2127
                      name: i
                - kind: name
                  id: 2129
                  name: a
    depth: 0
  2159:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2163:
    kind: def
    id: 2163
    name: findTest
    qualifier: run
    expr:
      kind: app
      id: 2162
      opcode: actionAll
      args:
        - kind: app
          id: 2148
          opcode: assert
          args:
            - kind: app
              id: 2147
              opcode: eq
              args:
                - kind: app
                  id: 2144
                  opcode: find
                  args:
                    - kind: app
                      id: 2138
                      opcode: Set
                      args:
                        - kind: int
                          id: 2135
                          value: 1
                        - kind: int
                          id: 2136
                          value: 2
                        - kind: int
                          id: 2137
                          value: 3
                    - kind: lambda
                      id: 2143
                      params:
                        - id: 2139
                          name: x
                      expr:
                        kind: app
                        id: 2142
                        opcode: eq
                        args:
                          - kind: name
                            id: 2140
                            name: x
                          - kind: int
                            id: 2141
                            value: 2
                - kind: app
                  id: 2146
                  opcode: Some
                  args:
                    - kind: int
                      id: 2145
                      value: 2
        - kind: app
          id: 2161
          opcode: assert
          args:
            - kind: app
              id: 2160
              opcode: eq
              args:
                - kind: app
                  id: 2158
                  opcode: find
                  args:
                    - kind: app
                      id: 2152
                      opcode: Set
                      args:
                        - kind: int
                          id: 2149
                          value: 1
                        - kind: int
                          id: 2150
                          value: 2
                        - kind: int
                          id: 2151
                          value: 3
                    - kind: lambda
                      id: 2157
                      params:
                        - id: 2153
                          name: x
                      expr:
                        kind: app
                        id: 2156
                        opcode: eq
                        args:
                          - kind: name
                            id: 2154
                            name: x
                          - kind: int
                            id: 2155
                            value: 4
                - kind: name
                  id: 2159
                  name: None
    depth: 0
  2166:
    id: 2164
    name: l
  2167:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2170:
    id: 2168
    name: a
  2171:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2173:
    id: 2169
    name: i
  2174:
    id: 2165
    name: f
  2176:
    id: 2169
    name: i
  2177:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  2178:
    id: 2168
    name: a
  2183:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  2186:
    id: 2184
    name: l
  2187:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2190:
    id: 2188
    name: a
  2191:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2193:
    id: 2189
    name: i
  2194:
    id: 2185
    name: f
  2196:
    id: 2189
    name: i
  2197:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  2198:
    id: 2188
    name: a
  2203:
    kind: def
    id: 2203
    name: find_first
    qualifier: puredef
    expr:
      kind: lambda
      id: 2202
      params:
        - id: 2184
          name: l
        - id: 2185
          name: f
      expr:
        kind: app
        id: 2201
        opcode: foldl
        args:
          - kind: name
            id: 2186
            name: l
          - kind: name
            id: 2187
            name: None
          - kind: lambda
            id: 2200
            params:
              - id: 2188
                name: a
              - id: 2189
                name: i
            expr:
              kind: app
              id: 2199
              opcode: ite
              args:
                - kind: app
                  id: 2195
                  opcode: and
                  args:
                    - kind: app
                      id: 2192
                      opcode: eq
                      args:
                        - kind: name
                          id: 2190
                          name: a
                        - kind: name
                          id: 2191
                          name: None
                    - kind: app
                      id: 2194
                      opcode: f
                      args:
                        - kind: name
                          id: 2193
                          name: i
                - kind: app
                  id: 2197
                  opcode: Some
                  args:
                    - kind: name
                      id: 2196
                      name: i
                - kind: name
                  id: 2198
                  name: a
    depth: 0
  2209:
    id: 2208
    name: x
  2213:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  2215:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  2223:
    id: 2222
    name: x
  2227:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  2228:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  2232:
    kind: def
    id: 2232
    name: findFirstTest
    qualifier: run
    expr:
      kind: app
      id: 2231
      opcode: actionAll
      args:
        - kind: app
          id: 2217
          opcode: assert
          args:
            - kind: app
              id: 2216
              opcode: eq
              args:
                - kind: app
                  id: 2213
                  opcode: findFirst
                  args:
                    - kind: app
                      id: 2207
                      opcode: List
                      args:
                        - kind: int
                          id: 2204
                          value: 1
                        - kind: int
                          id: 2205
                          value: 2
                        - kind: int
                          id: 2206
                          value: 3
                    - kind: lambda
                      id: 2212
                      params:
                        - id: 2208
                          name: x
                      expr:
                        kind: app
                        id: 2211
                        opcode: igt
                        args:
                          - kind: name
                            id: 2209
                            name: x
                          - kind: int
                            id: 2210
                            value: 1
                - kind: app
                  id: 2215
                  opcode: Some
                  args:
                    - kind: int
                      id: 2214
                      value: 2
        - kind: app
          id: 2230
          opcode: assert
          args:
            - kind: app
              id: 2229
              opcode: eq
              args:
                - kind: app
                  id: 2227
                  opcode: findFirst
                  args:
                    - kind: app
                      id: 2221
                      opcode: List
                      args:
                        - kind: int
                          id: 2218
                          value: 1
                        - kind: int
                          id: 2219
                          value: 2
                        - kind: int
                          id: 2220
                          value: 3
                    - kind: lambda
                      id: 2226
                      params:
                        - id: 2222
                          name: x
                      expr:
                        kind: app
                        id: 2225
                        opcode: eq
                        args:
                          - kind: name
                            id: 2223
                            name: x
                          - kind: int
                            id: 2224
                            value: 4
                - kind: name
                  id: 2228
                  name: None
    depth: 0
  2238:
    kind: typedef
    id: 2237
  2242:
    kind: def
    id: 2242
    name: EQ
    qualifier: val
    expr:
      kind: app
      id: 2241
      opcode: variant
      args:
        - kind: str
          id: 2239
          value: EQ
        - kind: app
          id: 2240
          opcode: Tup
          args: []
    depth: 0
  2246:
    kind: def
    id: 2246
    name: LT
    qualifier: val
    expr:
      kind: app
      id: 2245
      opcode: variant
      args:
        - kind: str
          id: 2243
          value: LT
        - kind: app
          id: 2244
          opcode: Tup
          args: []
    depth: 0
  2250:
    kind: def
    id: 2250
    name: GT
    qualifier: val
    expr:
      kind: app
      id: 2249
      opcode: variant
      args:
        - kind: str
          id: 2247
          value: GT
        - kind: app
          id: 2248
          opcode: Tup
          args: []
    depth: 0
  2255:
    kind: typedef
    id: 2237
  2256:
    id: 2252
    name: __a
  2257:
    id: 2254
    name: __b
  2259:
    kind: def
    id: 2246
    name: LT
    qualifier: val
    expr:
      kind: app
      id: 2245
      opcode: variant
      args:
        - kind: str
          id: 2243
          value: LT
        - kind: app
          id: 2244
          opcode: Tup
          args: []
    depth: 0
  2260:
    id: 2252
    name: __a
  2261:
    id: 2254
    name: __b
  2263:
    kind: def
    id: 2250
    name: GT
    qualifier: val
    expr:
      kind: app
      id: 2249
      opcode: variant
      args:
        - kind: str
          id: 2247
          value: GT
        - kind: app
          id: 2248
          opcode: Tup
          args: []
    depth: 0
  2264:
    kind: def
    id: 2242
    name: EQ
    qualifier: val
    expr:
      kind: app
      id: 2241
      opcode: variant
      args:
        - kind: str
          id: 2239
          value: EQ
        - kind: app
          id: 2240
          opcode: Tup
          args: []
    depth: 0
  2268:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2274:
    kind: typedef
    id: 2273
  2276:
    kind: typedef
    id: 2273
  2278:
    kind: typedef
    id: 2237
  2279:
    id: 2275
    name: __a
  2283:
    id: 2277
    name: __b
  2288:
    kind: def
    id: 2250
    name: GT
    qualifier: val
    expr:
      kind: app
      id: 2249
      opcode: variant
      args:
        - kind: str
          id: 2247
          value: GT
        - kind: app
          id: 2248
          opcode: Tup
          args: []
    depth: 0
  2289:
    id: 2275
    name: __a
  2293:
    id: 2277
    name: __b
  2298:
    kind: def
    id: 2246
    name: LT
    qualifier: val
    expr:
      kind: app
      id: 2245
      opcode: variant
      args:
        - kind: str
          id: 2243
          value: LT
        - kind: app
          id: 2244
          opcode: Tup
          args: []
    depth: 0
  2299:
    kind: def
    id: 2242
    name: EQ
    qualifier: val
    expr:
      kind: app
      id: 2241
      opcode: variant
      args:
        - kind: str
          id: 2239
          value: EQ
        - kind: app
          id: 2240
          opcode: Tup
          args: []
    depth: 0
  2303:
    kind: def
    id: 2303
    name: nodeCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2302
      params:
        - id: 2275
          name: __a
        - id: 2277
          name: __b
      expr:
        kind: app
        id: 2301
        opcode: ite
        args:
          - kind: app
            id: 2287
            opcode: ilt
            args:
              - kind: app
                id: 2282
                opcode: length
                args:
                  - kind: app
                    id: 2281
                    opcode: field
                    args:
                      - kind: name
                        id: 2279
                        name: __a
                      - kind: str
                        id: 2280
                        value: key_hash
              - kind: app
                id: 2286
                opcode: length
                args:
                  - kind: app
                    id: 2285
                    opcode: field
                    args:
                      - kind: name
                        id: 2283
                        name: __b
                      - kind: str
                        id: 2284
                        value: key_hash
          - kind: name
            id: 2288
            name: GT
          - kind: app
            id: 2300
            opcode: ite
            args:
              - kind: app
                id: 2297
                opcode: igt
                args:
                  - kind: app
                    id: 2292
                    opcode: length
                    args:
                      - kind: app
                        id: 2291
                        opcode: field
                        args:
                          - kind: name
                            id: 2289
                            name: __a
                          - kind: str
                            id: 2290
                            value: key_hash
                  - kind: app
                    id: 2296
                    opcode: length
                    args:
                      - kind: app
                        id: 2295
                        opcode: field
                        args:
                          - kind: name
                            id: 2293
                            name: __b
                          - kind: str
                            id: 2294
                            value: key_hash
              - kind: name
                id: 2298
                name: LT
              - kind: name
                id: 2299
                name: EQ
    depth: 0
  2310:
    kind: typedef
    id: 2237
  2311:
    id: 2306
    name: __a
  2313:
    id: 2309
    name: __b
  2316:
    kind: def
    id: 2250
    name: GT
    qualifier: val
    expr:
      kind: app
      id: 2249
      opcode: variant
      args:
        - kind: str
          id: 2247
          value: GT
        - kind: app
          id: 2248
          opcode: Tup
          args: []
    depth: 0
  2317:
    id: 2306
    name: __a
  2319:
    id: 2309
    name: __b
  2322:
    kind: def
    id: 2246
    name: LT
    qualifier: val
    expr:
      kind: app
      id: 2245
      opcode: variant
      args:
        - kind: str
          id: 2243
          value: LT
        - kind: app
          id: 2244
          opcode: Tup
          args: []
    depth: 0
  2323:
    kind: def
    id: 2242
    name: EQ
    qualifier: val
    expr:
      kind: app
      id: 2241
      opcode: variant
      args:
        - kind: str
          id: 2239
          value: EQ
        - kind: app
          id: 2240
          opcode: Tup
          args: []
    depth: 0
  2327:
    kind: def
    id: 2327
    name: listCompareAsc
    qualifier: puredef
    expr:
      kind: lambda
      id: 2326
      params:
        - id: 2306
          name: __a
        - id: 2309
          name: __b
      expr:
        kind: app
        id: 2325
        opcode: ite
        args:
          - kind: app
            id: 2315
            opcode: ilt
            args:
              - kind: app
                id: 2312
                opcode: length
                args:
                  - kind: name
                    id: 2311
                    name: __a
              - kind: app
                id: 2314
                opcode: length
                args:
                  - kind: name
                    id: 2313
                    name: __b
          - kind: name
            id: 2316
            name: GT
          - kind: app
            id: 2324
            opcode: ite
            args:
              - kind: app
                id: 2321
                opcode: igt
                args:
                  - kind: app
                    id: 2318
                    opcode: length
                    args:
                      - kind: name
                        id: 2317
                        name: __a
                  - kind: app
                    id: 2320
                    opcode: length
                    args:
                      - kind: name
                        id: 2319
                        name: __b
              - kind: name
                id: 2322
                name: LT
              - kind: name
                id: 2323
                name: EQ
    depth: 0
  2334:
    kind: typedef
    id: 2237
  2335:
    id: 2330
    name: __a
  2337:
    id: 2333
    name: __b
  2340:
    kind: def
    id: 2246
    name: LT
    qualifier: val
    expr:
      kind: app
      id: 2245
      opcode: variant
      args:
        - kind: str
          id: 2243
          value: LT
        - kind: app
          id: 2244
          opcode: Tup
          args: []
    depth: 0
  2341:
    id: 2330
    name: __a
  2343:
    id: 2333
    name: __b
  2346:
    kind: def
    id: 2250
    name: GT
    qualifier: val
    expr:
      kind: app
      id: 2249
      opcode: variant
      args:
        - kind: str
          id: 2247
          value: GT
        - kind: app
          id: 2248
          opcode: Tup
          args: []
    depth: 0
  2347:
    kind: def
    id: 2242
    name: EQ
    qualifier: val
    expr:
      kind: app
      id: 2241
      opcode: variant
      args:
        - kind: str
          id: 2239
          value: EQ
        - kind: app
          id: 2240
          opcode: Tup
          args: []
    depth: 0
  2351:
    kind: def
    id: 2351
    name: listCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2350
      params:
        - id: 2330
          name: __a
        - id: 2333
          name: __b
      expr:
        kind: app
        id: 2349
        opcode: ite
        args:
          - kind: app
            id: 2339
            opcode: ilt
            args:
              - kind: app
                id: 2336
                opcode: length
                args:
                  - kind: name
                    id: 2335
                    name: __a
              - kind: app
                id: 2338
                opcode: length
                args:
                  - kind: name
                    id: 2337
                    name: __b
          - kind: name
            id: 2340
            name: LT
          - kind: app
            id: 2348
            opcode: ite
            args:
              - kind: app
                id: 2345
                opcode: igt
                args:
                  - kind: app
                    id: 2342
                    opcode: length
                    args:
                      - kind: name
                        id: 2341
                        name: __a
                  - kind: app
                    id: 2344
                    opcode: length
                    args:
                      - kind: name
                        id: 2343
                        name: __b
              - kind: name
                id: 2346
                name: GT
              - kind: name
                id: 2347
                name: EQ
    depth: 0
  2357:
    id: 2355
    name: myMap
  2362:
    id: 2360
    name: sum
  2363:
    id: 2355
    name: myMap
  2364:
    id: 2361
    name: i
  2370:
    kind: def
    id: 2370
    name: mapValuesSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 2369
      params:
        - id: 2355
          name: myMap
      expr:
        kind: app
        id: 2368
        opcode: fold
        args:
          - kind: app
            id: 2358
            opcode: keys
            args:
              - kind: name
                id: 2357
                name: myMap
          - kind: int
            id: 2359
            value: 0
          - kind: lambda
            id: 2367
            params:
              - id: 2360
                name: sum
              - id: 2361
                name: i
            expr:
              kind: app
              id: 2366
              opcode: iadd
              args:
                - kind: name
                  id: 2362
                  name: sum
                - kind: app
                  id: 2365
                  opcode: get
                  args:
                    - kind: name
                      id: 2363
                      name: myMap
                    - kind: name
                      id: 2364
                      name: i
    depth: 0
  2372:
    kind: def
    id: 2370
    name: mapValuesSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 2369
      params:
        - id: 2355
          name: myMap
      expr:
        kind: app
        id: 2368
        opcode: fold
        args:
          - kind: app
            id: 2358
            opcode: keys
            args:
              - kind: name
                id: 2357
                name: myMap
          - kind: int
            id: 2359
            value: 0
          - kind: lambda
            id: 2367
            params:
              - id: 2360
                name: sum
              - id: 2361
                name: i
            expr:
              kind: app
              id: 2366
              opcode: iadd
              args:
                - kind: name
                  id: 2362
                  name: sum
                - kind: app
                  id: 2365
                  opcode: get
                  args:
                    - kind: name
                      id: 2363
                      name: myMap
                    - kind: name
                      id: 2364
                      name: i
    depth: 0
  2380:
    id: 2379
    name: i
  2385:
    kind: def
    id: 2370
    name: mapValuesSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 2369
      params:
        - id: 2355
          name: myMap
      expr:
        kind: app
        id: 2368
        opcode: fold
        args:
          - kind: app
            id: 2358
            opcode: keys
            args:
              - kind: name
                id: 2357
                name: myMap
          - kind: int
            id: 2359
            value: 0
          - kind: lambda
            id: 2367
            params:
              - id: 2360
                name: sum
              - id: 2361
                name: i
            expr:
              kind: app
              id: 2366
              opcode: iadd
              args:
                - kind: name
                  id: 2362
                  name: sum
                - kind: app
                  id: 2365
                  opcode: get
                  args:
                    - kind: name
                      id: 2363
                      name: myMap
                    - kind: name
                      id: 2364
                      name: i
    depth: 0
  2397:
    kind: def
    id: 2370
    name: mapValuesSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 2369
      params:
        - id: 2355
          name: myMap
      expr:
        kind: app
        id: 2368
        opcode: fold
        args:
          - kind: app
            id: 2358
            opcode: keys
            args:
              - kind: name
                id: 2357
                name: myMap
          - kind: int
            id: 2359
            value: 0
          - kind: lambda
            id: 2367
            params:
              - id: 2360
                name: sum
              - id: 2361
                name: i
            expr:
              kind: app
              id: 2366
              opcode: iadd
              args:
                - kind: name
                  id: 2362
                  name: sum
                - kind: app
                  id: 2365
                  opcode: get
                  args:
                    - kind: name
                      id: 2363
                      name: myMap
                    - kind: name
                      id: 2364
                      name: i
    depth: 0
  2403:
    kind: def
    id: 2403
    name: mapValuesSumTest
    qualifier: run
    expr:
      kind: app
      id: 2402
      opcode: actionAll
      args:
        - kind: app
          id: 2375
          opcode: assert
          args:
            - kind: app
              id: 2374
              opcode: eq
              args:
                - kind: app
                  id: 2372
                  opcode: mapValuesSum
                  args:
                    - kind: app
                      id: 2371
                      opcode: Map
                      args: []
                - kind: int
                  id: 2373
                  value: 0
        - kind: app
          id: 2388
          opcode: assert
          args:
            - kind: app
              id: 2387
              opcode: eq
              args:
                - kind: app
                  id: 2385
                  opcode: mapValuesSum
                  args:
                    - kind: app
                      id: 2384
                      opcode: mapBy
                      args:
                        - kind: app
                          id: 2378
                          opcode: to
                          args:
                            - kind: int
                              id: 2376
                              value: 2
                            - kind: int
                              id: 2377
                              value: 5
                        - kind: lambda
                          id: 2383
                          params:
                            - id: 2379
                              name: i
                          expr:
                            kind: app
                            id: 2382
                            opcode: imul
                            args:
                              - kind: name
                                id: 2380
                                name: i
                              - kind: int
                                id: 2381
                                value: 2
                - kind: int
                  id: 2386
                  value: 28
        - kind: app
          id: 2401
          opcode: assert
          args:
            - kind: app
              id: 2400
              opcode: eq
              args:
                - kind: app
                  id: 2397
                  opcode: mapValuesSum
                  args:
                    - kind: app
                      id: 2396
                      opcode: Map
                      args:
                        - kind: app
                          id: 2392
                          opcode: Tup
                          args:
                            - kind: int
                              id: 2389
                              value: 2
                            - kind: app
                              id: 2391
                              opcode: iuminus
                              args:
                                - kind: int
                                  id: 2390
                                  value: 4
                        - kind: app
                          id: 2395
                          opcode: Tup
                          args:
                            - kind: int
                              id: 2393
                              value: 4
                            - kind: int
                              id: 2394
                              value: 2
                - kind: app
                  id: 2399
                  opcode: iuminus
                  args:
                    - kind: int
                      id: 2398
                      value: 2
    depth: 0
  2411:
    kind: typedef
    id: 2237
  2421:
    kind: def
    id: 2421
    name: __init
    qualifier: val
    expr:
      kind: app
      id: 2420
      opcode: Rec
      args:
        - kind: str
          id: 2417
          value: is_inserted
        - kind: bool
          id: 2416
          value: false
        - kind: str
          id: 2419
          value: acc
        - kind: app
          id: 2418
          opcode: List
          args: []
    depth: 3
  2422:
    id: 2406
    name: __l
  2423:
    kind: def
    id: 2421
    name: __init
    qualifier: val
    expr:
      kind: app
      id: 2420
      opcode: Rec
      args:
        - kind: str
          id: 2417
          value: is_inserted
        - kind: bool
          id: 2416
          value: false
        - kind: str
          id: 2419
          value: acc
        - kind: app
          id: 2418
          opcode: List
          args: []
    depth: 3
  2426:
    id: 2424
    name: __state
  2429:
    id: 2424
    name: __state
  2430:
    id: 2424
    name: __state
  2433:
    id: 2425
    name: __y
  2437:
    id: 2408
    name: __x
  2438:
    id: 2425
    name: __y
  2439:
    id: 2413
    name: __cmp
  2440:
    id: 2424
    name: __state
  2441:
    id: 2424
    name: __state
  2444:
    id: 2425
    name: __y
  2450:
    id: 2424
    name: __state
  2453:
    id: 2408
    name: __x
  2455:
    id: 2425
    name: __y
  2469:
    kind: def
    id: 2469
    name: __result
    qualifier: val
    expr:
      kind: app
      id: 2468
      opcode: foldl
      args:
        - kind: name
          id: 2422
          name: __l
        - kind: name
          id: 2423
          name: __init
        - kind: lambda
          id: 2467
          params:
            - id: 2424
              name: __state
            - id: 2425
              name: __y
          expr:
            kind: app
            id: 2466
            opcode: ite
            args:
              - kind: app
                id: 2428
                opcode: field
                args:
                  - kind: name
                    id: 2426
                    name: __state
                  - kind: str
                    id: 2427
                    value: is_inserted
              - kind: app
                id: 2436
                opcode: with
                args:
                  - kind: name
                    id: 2429
                    name: __state
                  - kind: str
                    id: 2435
                    value: acc
                  - kind: app
                    id: 2434
                    opcode: append
                    args:
                      - kind: app
                        id: 2432
                        opcode: field
                        args:
                          - kind: name
                            id: 2430
                            name: __state
                          - kind: str
                            id: 2431
                            value: acc
                      - kind: name
                        id: 2433
                        name: __y
              - kind: app
                id: 2459
                opcode: matchVariant
                args:
                  - kind: app
                    id: 2439
                    opcode: __cmp
                    args:
                      - kind: name
                        id: 2437
                        name: __x
                      - kind: name
                        id: 2438
                        name: __y
                  - kind: str
                    id: 2460
                    value: GT
                  - kind: lambda
                    id: 2461
                    params:
                      - id: 2462
                        name: _
                    expr:
                      kind: app
                      id: 2447
                      opcode: with
                      args:
                        - kind: name
                          id: 2440
                          name: __state
                        - kind: str
                          id: 2446
                          value: acc
                        - kind: app
                          id: 2445
                          opcode: append
                          args:
                            - kind: app
                              id: 2443
                              opcode: field
                              args:
                                - kind: name
                                  id: 2441
                                  name: __state
                                - kind: str
                                  id: 2442
                                  value: acc
                            - kind: name
                              id: 2444
                              name: __y
                  - kind: str
                    id: 2463
                    value: _
                  - kind: lambda
                    id: 2464
                    params:
                      - id: 2465
                        name: _
                    expr:
                      kind: app
                      id: 2458
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2449
                          value: is_inserted
                        - kind: bool
                          id: 2448
                          value: true
                        - kind: str
                          id: 2457
                          value: acc
                        - kind: app
                          id: 2456
                          opcode: append
                          args:
                            - kind: app
                              id: 2454
                              opcode: append
                              args:
                                - kind: app
                                  id: 2452
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 2450
                                      name: __state
                                    - kind: str
                                      id: 2451
                                      value: acc
                                - kind: name
                                  id: 2453
                                  name: __x
                            - kind: name
                              id: 2455
                              name: __y
    depth: 4
  2470:
    kind: def
    id: 2469
    name: __result
    qualifier: val
    expr:
      kind: app
      id: 2468
      opcode: foldl
      args:
        - kind: name
          id: 2422
          name: __l
        - kind: name
          id: 2423
          name: __init
        - kind: lambda
          id: 2467
          params:
            - id: 2424
              name: __state
            - id: 2425
              name: __y
          expr:
            kind: app
            id: 2466
            opcode: ite
            args:
              - kind: app
                id: 2428
                opcode: field
                args:
                  - kind: name
                    id: 2426
                    name: __state
                  - kind: str
                    id: 2427
                    value: is_inserted
              - kind: app
                id: 2436
                opcode: with
                args:
                  - kind: name
                    id: 2429
                    name: __state
                  - kind: str
                    id: 2435
                    value: acc
                  - kind: app
                    id: 2434
                    opcode: append
                    args:
                      - kind: app
                        id: 2432
                        opcode: field
                        args:
                          - kind: name
                            id: 2430
                            name: __state
                          - kind: str
                            id: 2431
                            value: acc
                      - kind: name
                        id: 2433
                        name: __y
              - kind: app
                id: 2459
                opcode: matchVariant
                args:
                  - kind: app
                    id: 2439
                    opcode: __cmp
                    args:
                      - kind: name
                        id: 2437
                        name: __x
                      - kind: name
                        id: 2438
                        name: __y
                  - kind: str
                    id: 2460
                    value: GT
                  - kind: lambda
                    id: 2461
                    params:
                      - id: 2462
                        name: _
                    expr:
                      kind: app
                      id: 2447
                      opcode: with
                      args:
                        - kind: name
                          id: 2440
                          name: __state
                        - kind: str
                          id: 2446
                          value: acc
                        - kind: app
                          id: 2445
                          opcode: append
                          args:
                            - kind: app
                              id: 2443
                              opcode: field
                              args:
                                - kind: name
                                  id: 2441
                                  name: __state
                                - kind: str
                                  id: 2442
                                  value: acc
                            - kind: name
                              id: 2444
                              name: __y
                  - kind: str
                    id: 2463
                    value: _
                  - kind: lambda
                    id: 2464
                    params:
                      - id: 2465
                        name: _
                    expr:
                      kind: app
                      id: 2458
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2449
                          value: is_inserted
                        - kind: bool
                          id: 2448
                          value: true
                        - kind: str
                          id: 2457
                          value: acc
                        - kind: app
                          id: 2456
                          opcode: append
                          args:
                            - kind: app
                              id: 2454
                              opcode: append
                              args:
                                - kind: app
                                  id: 2452
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 2450
                                      name: __state
                                    - kind: str
                                      id: 2451
                                      value: acc
                                - kind: name
                                  id: 2453
                                  name: __x
                            - kind: name
                              id: 2455
                              name: __y
    depth: 4
  2474:
    kind: def
    id: 2469
    name: __result
    qualifier: val
    expr:
      kind: app
      id: 2468
      opcode: foldl
      args:
        - kind: name
          id: 2422
          name: __l
        - kind: name
          id: 2423
          name: __init
        - kind: lambda
          id: 2467
          params:
            - id: 2424
              name: __state
            - id: 2425
              name: __y
          expr:
            kind: app
            id: 2466
            opcode: ite
            args:
              - kind: app
                id: 2428
                opcode: field
                args:
                  - kind: name
                    id: 2426
                    name: __state
                  - kind: str
                    id: 2427
                    value: is_inserted
              - kind: app
                id: 2436
                opcode: with
                args:
                  - kind: name
                    id: 2429
                    name: __state
                  - kind: str
                    id: 2435
                    value: acc
                  - kind: app
                    id: 2434
                    opcode: append
                    args:
                      - kind: app
                        id: 2432
                        opcode: field
                        args:
                          - kind: name
                            id: 2430
                            name: __state
                          - kind: str
                            id: 2431
                            value: acc
                      - kind: name
                        id: 2433
                        name: __y
              - kind: app
                id: 2459
                opcode: matchVariant
                args:
                  - kind: app
                    id: 2439
                    opcode: __cmp
                    args:
                      - kind: name
                        id: 2437
                        name: __x
                      - kind: name
                        id: 2438
                        name: __y
                  - kind: str
                    id: 2460
                    value: GT
                  - kind: lambda
                    id: 2461
                    params:
                      - id: 2462
                        name: _
                    expr:
                      kind: app
                      id: 2447
                      opcode: with
                      args:
                        - kind: name
                          id: 2440
                          name: __state
                        - kind: str
                          id: 2446
                          value: acc
                        - kind: app
                          id: 2445
                          opcode: append
                          args:
                            - kind: app
                              id: 2443
                              opcode: field
                              args:
                                - kind: name
                                  id: 2441
                                  name: __state
                                - kind: str
                                  id: 2442
                                  value: acc
                            - kind: name
                              id: 2444
                              name: __y
                  - kind: str
                    id: 2463
                    value: _
                  - kind: lambda
                    id: 2464
                    params:
                      - id: 2465
                        name: _
                    expr:
                      kind: app
                      id: 2458
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2449
                          value: is_inserted
                        - kind: bool
                          id: 2448
                          value: true
                        - kind: str
                          id: 2457
                          value: acc
                        - kind: app
                          id: 2456
                          opcode: append
                          args:
                            - kind: app
                              id: 2454
                              opcode: append
                              args:
                                - kind: app
                                  id: 2452
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 2450
                                      name: __state
                                    - kind: str
                                      id: 2451
                                      value: acc
                                - kind: name
                                  id: 2453
                                  name: __x
                            - kind: name
                              id: 2455
                              name: __y
    depth: 4
  2477:
    id: 2408
    name: __x
  2479:
    kind: def
    id: 2469
    name: __result
    qualifier: val
    expr:
      kind: app
      id: 2468
      opcode: foldl
      args:
        - kind: name
          id: 2422
          name: __l
        - kind: name
          id: 2423
          name: __init
        - kind: lambda
          id: 2467
          params:
            - id: 2424
              name: __state
            - id: 2425
              name: __y
          expr:
            kind: app
            id: 2466
            opcode: ite
            args:
              - kind: app
                id: 2428
                opcode: field
                args:
                  - kind: name
                    id: 2426
                    name: __state
                  - kind: str
                    id: 2427
                    value: is_inserted
              - kind: app
                id: 2436
                opcode: with
                args:
                  - kind: name
                    id: 2429
                    name: __state
                  - kind: str
                    id: 2435
                    value: acc
                  - kind: app
                    id: 2434
                    opcode: append
                    args:
                      - kind: app
                        id: 2432
                        opcode: field
                        args:
                          - kind: name
                            id: 2430
                            name: __state
                          - kind: str
                            id: 2431
                            value: acc
                      - kind: name
                        id: 2433
                        name: __y
              - kind: app
                id: 2459
                opcode: matchVariant
                args:
                  - kind: app
                    id: 2439
                    opcode: __cmp
                    args:
                      - kind: name
                        id: 2437
                        name: __x
                      - kind: name
                        id: 2438
                        name: __y
                  - kind: str
                    id: 2460
                    value: GT
                  - kind: lambda
                    id: 2461
                    params:
                      - id: 2462
                        name: _
                    expr:
                      kind: app
                      id: 2447
                      opcode: with
                      args:
                        - kind: name
                          id: 2440
                          name: __state
                        - kind: str
                          id: 2446
                          value: acc
                        - kind: app
                          id: 2445
                          opcode: append
                          args:
                            - kind: app
                              id: 2443
                              opcode: field
                              args:
                                - kind: name
                                  id: 2441
                                  name: __state
                                - kind: str
                                  id: 2442
                                  value: acc
                            - kind: name
                              id: 2444
                              name: __y
                  - kind: str
                    id: 2463
                    value: _
                  - kind: lambda
                    id: 2464
                    params:
                      - id: 2465
                        name: _
                    expr:
                      kind: app
                      id: 2458
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2449
                          value: is_inserted
                        - kind: bool
                          id: 2448
                          value: true
                        - kind: str
                          id: 2457
                          value: acc
                        - kind: app
                          id: 2456
                          opcode: append
                          args:
                            - kind: app
                              id: 2454
                              opcode: append
                              args:
                                - kind: app
                                  id: 2452
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 2450
                                      name: __state
                                    - kind: str
                                      id: 2451
                                      value: acc
                                - kind: name
                                  id: 2453
                                  name: __x
                            - kind: name
                              id: 2455
                              name: __y
    depth: 4
  2486:
    kind: def
    id: 2486
    name: sortedListInsert
    qualifier: puredef
    expr:
      kind: lambda
      id: 2485
      params:
        - id: 2406
          name: __l
        - id: 2408
          name: __x
        - id: 2413
          name: __cmp
      expr:
        kind: let
        id: 2484
        opdef:
          id: 2421
          name: __init
          qualifier: val
          expr:
            kind: app
            id: 2420
            opcode: Rec
            args:
              - kind: str
                id: 2417
                value: is_inserted
              - kind: bool
                id: 2416
                value: false
              - kind: str
                id: 2419
                value: acc
              - kind: app
                id: 2418
                opcode: List
                args: []
          depth: ~
        expr:
          kind: let
          id: 2483
          opdef:
            id: 2469
            name: __result
            qualifier: val
            expr:
              kind: app
              id: 2468
              opcode: foldl
              args:
                - kind: name
                  id: 2422
                  name: __l
                - kind: name
                  id: 2423
                  name: __init
                - kind: lambda
                  id: 2467
                  params:
                    - id: 2424
                      name: __state
                    - id: 2425
                      name: __y
                  expr:
                    kind: app
                    id: 2466
                    opcode: ite
                    args:
                      - kind: app
                        id: 2428
                        opcode: field
                        args:
                          - kind: name
                            id: 2426
                            name: __state
                          - kind: str
                            id: 2427
                            value: is_inserted
                      - kind: app
                        id: 2436
                        opcode: with
                        args:
                          - kind: name
                            id: 2429
                            name: __state
                          - kind: str
                            id: 2435
                            value: acc
                          - kind: app
                            id: 2434
                            opcode: append
                            args:
                              - kind: app
                                id: 2432
                                opcode: field
                                args:
                                  - kind: name
                                    id: 2430
                                    name: __state
                                  - kind: str
                                    id: 2431
                                    value: acc
                              - kind: name
                                id: 2433
                                name: __y
                      - kind: app
                        id: 2459
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 2439
                            opcode: __cmp
                            args:
                              - kind: name
                                id: 2437
                                name: __x
                              - kind: name
                                id: 2438
                                name: __y
                          - kind: str
                            id: 2460
                            value: GT
                          - kind: lambda
                            id: 2461
                            params:
                              - id: 2462
                                name: _
                            expr:
                              kind: app
                              id: 2447
                              opcode: with
                              args:
                                - kind: name
                                  id: 2440
                                  name: __state
                                - kind: str
                                  id: 2446
                                  value: acc
                                - kind: app
                                  id: 2445
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2443
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 2441
                                          name: __state
                                        - kind: str
                                          id: 2442
                                          value: acc
                                    - kind: name
                                      id: 2444
                                      name: __y
                          - kind: str
                            id: 2463
                            value: _
                          - kind: lambda
                            id: 2464
                            params:
                              - id: 2465
                                name: _
                            expr:
                              kind: app
                              id: 2458
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 2449
                                  value: is_inserted
                                - kind: bool
                                  id: 2448
                                  value: true
                                - kind: str
                                  id: 2457
                                  value: acc
                                - kind: app
                                  id: 2456
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2454
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 2452
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 2450
                                              name: __state
                                            - kind: str
                                              id: 2451
                                              value: acc
                                        - kind: name
                                          id: 2453
                                          name: __x
                                    - kind: name
                                      id: 2455
                                      name: __y
            depth: ~
          expr:
            kind: app
            id: 2482
            opcode: ite
            args:
              - kind: app
                id: 2473
                opcode: not
                args:
                  - kind: app
                    id: 2472
                    opcode: field
                    args:
                      - kind: name
                        id: 2470
                        name: __result
                      - kind: str
                        id: 2471
                        value: is_inserted
              - kind: app
                id: 2478
                opcode: append
                args:
                  - kind: app
                    id: 2476
                    opcode: field
                    args:
                      - kind: name
                        id: 2474
                        name: __result
                      - kind: str
                        id: 2475
                        value: acc
                  - kind: name
                    id: 2477
                    name: __x
              - kind: app
                id: 2481
                opcode: field
                args:
                  - kind: name
                    id: 2479
                    name: __result
                  - kind: str
                    id: 2480
                    value: acc
    depth: 0
  2489:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2490:
    kind: def
    id: 2486
    name: sortedListInsert
    qualifier: puredef
    expr:
      kind: lambda
      id: 2485
      params:
        - id: 2406
          name: __l
        - id: 2408
          name: __x
        - id: 2413
          name: __cmp
      expr:
        kind: let
        id: 2484
        opdef:
          id: 2421
          name: __init
          qualifier: val
          expr:
            kind: app
            id: 2420
            opcode: Rec
            args:
              - kind: str
                id: 2417
                value: is_inserted
              - kind: bool
                id: 2416
                value: false
              - kind: str
                id: 2419
                value: acc
              - kind: app
                id: 2418
                opcode: List
                args: []
          depth: ~
        expr:
          kind: let
          id: 2483
          opdef:
            id: 2469
            name: __result
            qualifier: val
            expr:
              kind: app
              id: 2468
              opcode: foldl
              args:
                - kind: name
                  id: 2422
                  name: __l
                - kind: name
                  id: 2423
                  name: __init
                - kind: lambda
                  id: 2467
                  params:
                    - id: 2424
                      name: __state
                    - id: 2425
                      name: __y
                  expr:
                    kind: app
                    id: 2466
                    opcode: ite
                    args:
                      - kind: app
                        id: 2428
                        opcode: field
                        args:
                          - kind: name
                            id: 2426
                            name: __state
                          - kind: str
                            id: 2427
                            value: is_inserted
                      - kind: app
                        id: 2436
                        opcode: with
                        args:
                          - kind: name
                            id: 2429
                            name: __state
                          - kind: str
                            id: 2435
                            value: acc
                          - kind: app
                            id: 2434
                            opcode: append
                            args:
                              - kind: app
                                id: 2432
                                opcode: field
                                args:
                                  - kind: name
                                    id: 2430
                                    name: __state
                                  - kind: str
                                    id: 2431
                                    value: acc
                              - kind: name
                                id: 2433
                                name: __y
                      - kind: app
                        id: 2459
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 2439
                            opcode: __cmp
                            args:
                              - kind: name
                                id: 2437
                                name: __x
                              - kind: name
                                id: 2438
                                name: __y
                          - kind: str
                            id: 2460
                            value: GT
                          - kind: lambda
                            id: 2461
                            params:
                              - id: 2462
                                name: _
                            expr:
                              kind: app
                              id: 2447
                              opcode: with
                              args:
                                - kind: name
                                  id: 2440
                                  name: __state
                                - kind: str
                                  id: 2446
                                  value: acc
                                - kind: app
                                  id: 2445
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2443
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 2441
                                          name: __state
                                        - kind: str
                                          id: 2442
                                          value: acc
                                    - kind: name
                                      id: 2444
                                      name: __y
                          - kind: str
                            id: 2463
                            value: _
                          - kind: lambda
                            id: 2464
                            params:
                              - id: 2465
                                name: _
                            expr:
                              kind: app
                              id: 2458
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 2449
                                  value: is_inserted
                                - kind: bool
                                  id: 2448
                                  value: true
                                - kind: str
                                  id: 2457
                                  value: acc
                                - kind: app
                                  id: 2456
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2454
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 2452
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 2450
                                              name: __state
                                            - kind: str
                                              id: 2451
                                              value: acc
                                        - kind: name
                                          id: 2453
                                          name: __x
                                    - kind: name
                                      id: 2455
                                      name: __y
            depth: ~
          expr:
            kind: app
            id: 2482
            opcode: ite
            args:
              - kind: app
                id: 2473
                opcode: not
                args:
                  - kind: app
                    id: 2472
                    opcode: field
                    args:
                      - kind: name
                        id: 2470
                        name: __result
                      - kind: str
                        id: 2471
                        value: is_inserted
              - kind: app
                id: 2478
                opcode: append
                args:
                  - kind: app
                    id: 2476
                    opcode: field
                    args:
                      - kind: name
                        id: 2474
                        name: __result
                      - kind: str
                        id: 2475
                        value: acc
                  - kind: name
                    id: 2477
                    name: __x
              - kind: app
                id: 2481
                opcode: field
                args:
                  - kind: name
                    id: 2479
                    name: __result
                  - kind: str
                    id: 2480
                    value: acc
    depth: 0
  2500:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2501:
    kind: def
    id: 2486
    name: sortedListInsert
    qualifier: puredef
    expr:
      kind: lambda
      id: 2485
      params:
        - id: 2406
          name: __l
        - id: 2408
          name: __x
        - id: 2413
          name: __cmp
      expr:
        kind: let
        id: 2484
        opdef:
          id: 2421
          name: __init
          qualifier: val
          expr:
            kind: app
            id: 2420
            opcode: Rec
            args:
              - kind: str
                id: 2417
                value: is_inserted
              - kind: bool
                id: 2416
                value: false
              - kind: str
                id: 2419
                value: acc
              - kind: app
                id: 2418
                opcode: List
                args: []
          depth: ~
        expr:
          kind: let
          id: 2483
          opdef:
            id: 2469
            name: __result
            qualifier: val
            expr:
              kind: app
              id: 2468
              opcode: foldl
              args:
                - kind: name
                  id: 2422
                  name: __l
                - kind: name
                  id: 2423
                  name: __init
                - kind: lambda
                  id: 2467
                  params:
                    - id: 2424
                      name: __state
                    - id: 2425
                      name: __y
                  expr:
                    kind: app
                    id: 2466
                    opcode: ite
                    args:
                      - kind: app
                        id: 2428
                        opcode: field
                        args:
                          - kind: name
                            id: 2426
                            name: __state
                          - kind: str
                            id: 2427
                            value: is_inserted
                      - kind: app
                        id: 2436
                        opcode: with
                        args:
                          - kind: name
                            id: 2429
                            name: __state
                          - kind: str
                            id: 2435
                            value: acc
                          - kind: app
                            id: 2434
                            opcode: append
                            args:
                              - kind: app
                                id: 2432
                                opcode: field
                                args:
                                  - kind: name
                                    id: 2430
                                    name: __state
                                  - kind: str
                                    id: 2431
                                    value: acc
                              - kind: name
                                id: 2433
                                name: __y
                      - kind: app
                        id: 2459
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 2439
                            opcode: __cmp
                            args:
                              - kind: name
                                id: 2437
                                name: __x
                              - kind: name
                                id: 2438
                                name: __y
                          - kind: str
                            id: 2460
                            value: GT
                          - kind: lambda
                            id: 2461
                            params:
                              - id: 2462
                                name: _
                            expr:
                              kind: app
                              id: 2447
                              opcode: with
                              args:
                                - kind: name
                                  id: 2440
                                  name: __state
                                - kind: str
                                  id: 2446
                                  value: acc
                                - kind: app
                                  id: 2445
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2443
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 2441
                                          name: __state
                                        - kind: str
                                          id: 2442
                                          value: acc
                                    - kind: name
                                      id: 2444
                                      name: __y
                          - kind: str
                            id: 2463
                            value: _
                          - kind: lambda
                            id: 2464
                            params:
                              - id: 2465
                                name: _
                            expr:
                              kind: app
                              id: 2458
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 2449
                                  value: is_inserted
                                - kind: bool
                                  id: 2448
                                  value: true
                                - kind: str
                                  id: 2457
                                  value: acc
                                - kind: app
                                  id: 2456
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2454
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 2452
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 2450
                                              name: __state
                                            - kind: str
                                              id: 2451
                                              value: acc
                                        - kind: name
                                          id: 2453
                                          name: __x
                                    - kind: name
                                      id: 2455
                                      name: __y
            depth: ~
          expr:
            kind: app
            id: 2482
            opcode: ite
            args:
              - kind: app
                id: 2473
                opcode: not
                args:
                  - kind: app
                    id: 2472
                    opcode: field
                    args:
                      - kind: name
                        id: 2470
                        name: __result
                      - kind: str
                        id: 2471
                        value: is_inserted
              - kind: app
                id: 2478
                opcode: append
                args:
                  - kind: app
                    id: 2476
                    opcode: field
                    args:
                      - kind: name
                        id: 2474
                        name: __result
                      - kind: str
                        id: 2475
                        value: acc
                  - kind: name
                    id: 2477
                    name: __x
              - kind: app
                id: 2481
                opcode: field
                args:
                  - kind: name
                    id: 2479
                    name: __result
                  - kind: str
                    id: 2480
                    value: acc
    depth: 0
  2514:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2515:
    kind: def
    id: 2486
    name: sortedListInsert
    qualifier: puredef
    expr:
      kind: lambda
      id: 2485
      params:
        - id: 2406
          name: __l
        - id: 2408
          name: __x
        - id: 2413
          name: __cmp
      expr:
        kind: let
        id: 2484
        opdef:
          id: 2421
          name: __init
          qualifier: val
          expr:
            kind: app
            id: 2420
            opcode: Rec
            args:
              - kind: str
                id: 2417
                value: is_inserted
              - kind: bool
                id: 2416
                value: false
              - kind: str
                id: 2419
                value: acc
              - kind: app
                id: 2418
                opcode: List
                args: []
          depth: ~
        expr:
          kind: let
          id: 2483
          opdef:
            id: 2469
            name: __result
            qualifier: val
            expr:
              kind: app
              id: 2468
              opcode: foldl
              args:
                - kind: name
                  id: 2422
                  name: __l
                - kind: name
                  id: 2423
                  name: __init
                - kind: lambda
                  id: 2467
                  params:
                    - id: 2424
                      name: __state
                    - id: 2425
                      name: __y
                  expr:
                    kind: app
                    id: 2466
                    opcode: ite
                    args:
                      - kind: app
                        id: 2428
                        opcode: field
                        args:
                          - kind: name
                            id: 2426
                            name: __state
                          - kind: str
                            id: 2427
                            value: is_inserted
                      - kind: app
                        id: 2436
                        opcode: with
                        args:
                          - kind: name
                            id: 2429
                            name: __state
                          - kind: str
                            id: 2435
                            value: acc
                          - kind: app
                            id: 2434
                            opcode: append
                            args:
                              - kind: app
                                id: 2432
                                opcode: field
                                args:
                                  - kind: name
                                    id: 2430
                                    name: __state
                                  - kind: str
                                    id: 2431
                                    value: acc
                              - kind: name
                                id: 2433
                                name: __y
                      - kind: app
                        id: 2459
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 2439
                            opcode: __cmp
                            args:
                              - kind: name
                                id: 2437
                                name: __x
                              - kind: name
                                id: 2438
                                name: __y
                          - kind: str
                            id: 2460
                            value: GT
                          - kind: lambda
                            id: 2461
                            params:
                              - id: 2462
                                name: _
                            expr:
                              kind: app
                              id: 2447
                              opcode: with
                              args:
                                - kind: name
                                  id: 2440
                                  name: __state
                                - kind: str
                                  id: 2446
                                  value: acc
                                - kind: app
                                  id: 2445
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2443
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 2441
                                          name: __state
                                        - kind: str
                                          id: 2442
                                          value: acc
                                    - kind: name
                                      id: 2444
                                      name: __y
                          - kind: str
                            id: 2463
                            value: _
                          - kind: lambda
                            id: 2464
                            params:
                              - id: 2465
                                name: _
                            expr:
                              kind: app
                              id: 2458
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 2449
                                  value: is_inserted
                                - kind: bool
                                  id: 2448
                                  value: true
                                - kind: str
                                  id: 2457
                                  value: acc
                                - kind: app
                                  id: 2456
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2454
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 2452
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 2450
                                              name: __state
                                            - kind: str
                                              id: 2451
                                              value: acc
                                        - kind: name
                                          id: 2453
                                          name: __x
                                    - kind: name
                                      id: 2455
                                      name: __y
            depth: ~
          expr:
            kind: app
            id: 2482
            opcode: ite
            args:
              - kind: app
                id: 2473
                opcode: not
                args:
                  - kind: app
                    id: 2472
                    opcode: field
                    args:
                      - kind: name
                        id: 2470
                        name: __result
                      - kind: str
                        id: 2471
                        value: is_inserted
              - kind: app
                id: 2478
                opcode: append
                args:
                  - kind: app
                    id: 2476
                    opcode: field
                    args:
                      - kind: name
                        id: 2474
                        name: __result
                      - kind: str
                        id: 2475
                        value: acc
                  - kind: name
                    id: 2477
                    name: __x
              - kind: app
                id: 2481
                opcode: field
                args:
                  - kind: name
                    id: 2479
                    name: __result
                  - kind: str
                    id: 2480
                    value: acc
    depth: 0
  2524:
    kind: def
    id: 2524
    name: sortedListInsertTest
    qualifier: run
    expr:
      kind: app
      id: 2523
      opcode: actionAll
      args:
        - kind: app
          id: 2494
          opcode: assert
          args:
            - kind: app
              id: 2493
              opcode: eq
              args:
                - kind: app
                  id: 2490
                  opcode: sortedListInsert
                  args:
                    - kind: app
                      id: 2487
                      opcode: List
                      args: []
                    - kind: int
                      id: 2488
                      value: 3
                    - kind: name
                      id: 2489
                      name: intCompare
                - kind: app
                  id: 2492
                  opcode: List
                  args:
                    - kind: int
                      id: 2491
                      value: 3
        - kind: app
          id: 2508
          opcode: assert
          args:
            - kind: app
              id: 2507
              opcode: eq
              args:
                - kind: app
                  id: 2501
                  opcode: sortedListInsert
                  args:
                    - kind: app
                      id: 2498
                      opcode: List
                      args:
                        - kind: int
                          id: 2495
                          value: 1
                        - kind: int
                          id: 2496
                          value: 2
                        - kind: int
                          id: 2497
                          value: 4
                    - kind: int
                      id: 2499
                      value: 3
                    - kind: name
                      id: 2500
                      name: intCompare
                - kind: app
                  id: 2506
                  opcode: List
                  args:
                    - kind: int
                      id: 2502
                      value: 1
                    - kind: int
                      id: 2503
                      value: 2
                    - kind: int
                      id: 2504
                      value: 3
                    - kind: int
                      id: 2505
                      value: 4
        - kind: app
          id: 2522
          opcode: assert
          args:
            - kind: app
              id: 2521
              opcode: eq
              args:
                - kind: app
                  id: 2515
                  opcode: sortedListInsert
                  args:
                    - kind: app
                      id: 2512
                      opcode: List
                      args:
                        - kind: int
                          id: 2509
                          value: 4
                        - kind: int
                          id: 2510
                          value: 1
                        - kind: int
                          id: 2511
                          value: 2
                    - kind: int
                      id: 2513
                      value: 3
                    - kind: name
                      id: 2514
                      name: intCompare
                - kind: app
                  id: 2520
                  opcode: List
                  args:
                    - kind: int
                      id: 2516
                      value: 3
                    - kind: int
                      id: 2517
                      value: 4
                    - kind: int
                      id: 2518
                      value: 1
                    - kind: int
                      id: 2519
                      value: 2
    depth: 0
  2530:
    kind: typedef
    id: 2237
  2535:
    id: 2527
    name: __set
  2539:
    id: 2537
    name: __l
  2540:
    id: 2538
    name: __e
  2541:
    id: 2532
    name: __cmp
  2542:
    kind: def
    id: 2486
    name: sortedListInsert
    qualifier: puredef
    expr:
      kind: lambda
      id: 2485
      params:
        - id: 2406
          name: __l
        - id: 2408
          name: __x
        - id: 2413
          name: __cmp
      expr:
        kind: let
        id: 2484
        opdef:
          id: 2421
          name: __init
          qualifier: val
          expr:
            kind: app
            id: 2420
            opcode: Rec
            args:
              - kind: str
                id: 2417
                value: is_inserted
              - kind: bool
                id: 2416
                value: false
              - kind: str
                id: 2419
                value: acc
              - kind: app
                id: 2418
                opcode: List
                args: []
          depth: ~
        expr:
          kind: let
          id: 2483
          opdef:
            id: 2469
            name: __result
            qualifier: val
            expr:
              kind: app
              id: 2468
              opcode: foldl
              args:
                - kind: name
                  id: 2422
                  name: __l
                - kind: name
                  id: 2423
                  name: __init
                - kind: lambda
                  id: 2467
                  params:
                    - id: 2424
                      name: __state
                    - id: 2425
                      name: __y
                  expr:
                    kind: app
                    id: 2466
                    opcode: ite
                    args:
                      - kind: app
                        id: 2428
                        opcode: field
                        args:
                          - kind: name
                            id: 2426
                            name: __state
                          - kind: str
                            id: 2427
                            value: is_inserted
                      - kind: app
                        id: 2436
                        opcode: with
                        args:
                          - kind: name
                            id: 2429
                            name: __state
                          - kind: str
                            id: 2435
                            value: acc
                          - kind: app
                            id: 2434
                            opcode: append
                            args:
                              - kind: app
                                id: 2432
                                opcode: field
                                args:
                                  - kind: name
                                    id: 2430
                                    name: __state
                                  - kind: str
                                    id: 2431
                                    value: acc
                              - kind: name
                                id: 2433
                                name: __y
                      - kind: app
                        id: 2459
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 2439
                            opcode: __cmp
                            args:
                              - kind: name
                                id: 2437
                                name: __x
                              - kind: name
                                id: 2438
                                name: __y
                          - kind: str
                            id: 2460
                            value: GT
                          - kind: lambda
                            id: 2461
                            params:
                              - id: 2462
                                name: _
                            expr:
                              kind: app
                              id: 2447
                              opcode: with
                              args:
                                - kind: name
                                  id: 2440
                                  name: __state
                                - kind: str
                                  id: 2446
                                  value: acc
                                - kind: app
                                  id: 2445
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2443
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 2441
                                          name: __state
                                        - kind: str
                                          id: 2442
                                          value: acc
                                    - kind: name
                                      id: 2444
                                      name: __y
                          - kind: str
                            id: 2463
                            value: _
                          - kind: lambda
                            id: 2464
                            params:
                              - id: 2465
                                name: _
                            expr:
                              kind: app
                              id: 2458
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 2449
                                  value: is_inserted
                                - kind: bool
                                  id: 2448
                                  value: true
                                - kind: str
                                  id: 2457
                                  value: acc
                                - kind: app
                                  id: 2456
                                  opcode: append
                                  args:
                                    - kind: app
                                      id: 2454
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 2452
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 2450
                                              name: __state
                                            - kind: str
                                              id: 2451
                                              value: acc
                                        - kind: name
                                          id: 2453
                                          name: __x
                                    - kind: name
                                      id: 2455
                                      name: __y
            depth: ~
          expr:
            kind: app
            id: 2482
            opcode: ite
            args:
              - kind: app
                id: 2473
                opcode: not
                args:
                  - kind: app
                    id: 2472
                    opcode: field
                    args:
                      - kind: name
                        id: 2470
                        name: __result
                      - kind: str
                        id: 2471
                        value: is_inserted
              - kind: app
                id: 2478
                opcode: append
                args:
                  - kind: app
                    id: 2476
                    opcode: field
                    args:
                      - kind: name
                        id: 2474
                        name: __result
                      - kind: str
                        id: 2475
                        value: acc
                  - kind: name
                    id: 2477
                    name: __x
              - kind: app
                id: 2481
                opcode: field
                args:
                  - kind: name
                    id: 2479
                    name: __result
                  - kind: str
                    id: 2480
                    value: acc
    depth: 0
  2546:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2552:
    id: 2549
    name: __list
  2556:
    id: 2554
    name: __s
  2557:
    id: 2555
    name: __e
  2563:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2571:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2572:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2573:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2619:
    kind: def
    id: 2303
    name: nodeCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2302
      params:
        - id: 2275
          name: __a
        - id: 2277
          name: __b
      expr:
        kind: app
        id: 2301
        opcode: ite
        args:
          - kind: app
            id: 2287
            opcode: ilt
            args:
              - kind: app
                id: 2282
                opcode: length
                args:
                  - kind: app
                    id: 2281
                    opcode: field
                    args:
                      - kind: name
                        id: 2279
                        name: __a
                      - kind: str
                        id: 2280
                        value: key_hash
              - kind: app
                id: 2286
                opcode: length
                args:
                  - kind: app
                    id: 2285
                    opcode: field
                    args:
                      - kind: name
                        id: 2283
                        name: __b
                      - kind: str
                        id: 2284
                        value: key_hash
          - kind: name
            id: 2288
            name: GT
          - kind: app
            id: 2300
            opcode: ite
            args:
              - kind: app
                id: 2297
                opcode: igt
                args:
                  - kind: app
                    id: 2292
                    opcode: length
                    args:
                      - kind: app
                        id: 2291
                        opcode: field
                        args:
                          - kind: name
                            id: 2289
                            name: __a
                          - kind: str
                            id: 2290
                            value: key_hash
                  - kind: app
                    id: 2296
                    opcode: length
                    args:
                      - kind: app
                        id: 2295
                        opcode: field
                        args:
                          - kind: name
                            id: 2293
                            name: __b
                          - kind: str
                            id: 2294
                            value: key_hash
              - kind: name
                id: 2298
                name: LT
              - kind: name
                id: 2299
                name: EQ
    depth: 0
  2620:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2663:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2674:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2679:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2686:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2687:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2692:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2693:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2697:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  2698:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  2703:
    kind: def
    id: 2563
    name: toSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 2562
      params:
        - id: 2549
          name: __list
      expr:
        kind: app
        id: 2561
        opcode: foldl
        args:
          - kind: name
            id: 2552
            name: __list
          - kind: app
            id: 2553
            opcode: Set
            args: []
          - kind: lambda
            id: 2560
            params:
              - id: 2554
                name: __s
              - id: 2555
                name: __e
            expr:
              kind: app
              id: 2559
              opcode: union
              args:
                - kind: name
                  id: 2556
                  name: __s
                - kind: app
                  id: 2558
                  opcode: Set
                  args:
                    - kind: name
                      id: 2557
                      name: __e
    depth: 0
  2708:
    kind: def
    id: 2708
    name: toListAndSetTest
    qualifier: run
    expr:
      kind: app
      id: 2707
      opcode: actionAll
      args:
        - kind: app
          id: 2582
          opcode: assert
          args:
            - kind: app
              id: 2581
              opcode: eq
              args:
                - kind: app
                  id: 2573
                  opcode: toSet
                  args:
                    - kind: app
                      id: 2572
                      opcode: toList
                      args:
                        - kind: app
                          id: 2570
                          opcode: Set
                          args:
                            - kind: int
                              id: 2564
                              value: 4
                            - kind: int
                              id: 2565
                              value: 2
                            - kind: int
                              id: 2566
                              value: 1
                            - kind: int
                              id: 2567
                              value: 55
                            - kind: int
                              id: 2568
                              value: 23
                            - kind: int
                              id: 2569
                              value: 3
                        - kind: name
                          id: 2571
                          name: intCompare
                - kind: app
                  id: 2580
                  opcode: Set
                  args:
                    - kind: int
                      id: 2574
                      value: 1
                    - kind: int
                      id: 2575
                      value: 2
                    - kind: int
                      id: 2576
                      value: 3
                    - kind: int
                      id: 2577
                      value: 4
                    - kind: int
                      id: 2578
                      value: 23
                    - kind: int
                      id: 2579
                      value: 55
        - kind: app
          id: 2658
          opcode: assert
          args:
            - kind: app
              id: 2657
              opcode: eq
              args:
                - kind: app
                  id: 2620
                  opcode: toList
                  args:
                    - kind: app
                      id: 2618
                      opcode: Set
                      args:
                        - kind: app
                          id: 2587
                          opcode: Rec
                          args:
                            - kind: str
                              id: 2584
                              value: version
                            - kind: int
                              id: 2583
                              value: 0
                            - kind: str
                              id: 2586
                              value: key_hash
                            - kind: app
                              id: 2585
                              opcode: List
                              args: []
                        - kind: app
                          id: 2595
                          opcode: Rec
                          args:
                            - kind: str
                              id: 2589
                              value: version
                            - kind: int
                              id: 2588
                              value: 0
                            - kind: str
                              id: 2594
                              value: key_hash
                            - kind: app
                              id: 2593
                              opcode: List
                              args:
                                - kind: int
                                  id: 2590
                                  value: 1
                                - kind: int
                                  id: 2591
                                  value: 0
                                - kind: int
                                  id: 2592
                                  value: 1
                        - kind: app
                          id: 2604
                          opcode: Rec
                          args:
                            - kind: str
                              id: 2597
                              value: version
                            - kind: int
                              id: 2596
                              value: 0
                            - kind: str
                              id: 2603
                              value: key_hash
                            - kind: app
                              id: 2602
                              opcode: List
                              args:
                                - kind: int
                                  id: 2598
                                  value: 1
                                - kind: int
                                  id: 2599
                                  value: 0
                                - kind: int
                                  id: 2600
                                  value: 1
                                - kind: int
                                  id: 2601
                                  value: 1
                        - kind: app
                          id: 2611
                          opcode: Rec
                          args:
                            - kind: str
                              id: 2606
                              value: version
                            - kind: int
                              id: 2605
                              value: 0
                            - kind: str
                              id: 2610
                              value: key_hash
                            - kind: app
                              id: 2609
                              opcode: List
                              args:
                                - kind: int
                                  id: 2607
                                  value: 1
                                - kind: int
                                  id: 2608
                                  value: 0
                        - kind: app
                          id: 2617
                          opcode: Rec
                          args:
                            - kind: str
                              id: 2613
                              value: version
                            - kind: int
                              id: 2612
                              value: 0
                            - kind: str
                              id: 2616
                              value: key_hash
                            - kind: app
                              id: 2615
                              opcode: List
                              args:
                                - kind: int
                                  id: 2614
                                  value: 1
                    - kind: name
                      id: 2619
                      name: nodeCompare
                - kind: app
                  id: 2656
                  opcode: List
                  args:
                    - kind: app
                      id: 2629
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2622
                          value: version
                        - kind: int
                          id: 2621
                          value: 0
                        - kind: str
                          id: 2628
                          value: key_hash
                        - kind: app
                          id: 2627
                          opcode: List
                          args:
                            - kind: int
                              id: 2623
                              value: 1
                            - kind: int
                              id: 2624
                              value: 0
                            - kind: int
                              id: 2625
                              value: 1
                            - kind: int
                              id: 2626
                              value: 1
                    - kind: app
                      id: 2637
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2631
                          value: version
                        - kind: int
                          id: 2630
                          value: 0
                        - kind: str
                          id: 2636
                          value: key_hash
                        - kind: app
                          id: 2635
                          opcode: List
                          args:
                            - kind: int
                              id: 2632
                              value: 1
                            - kind: int
                              id: 2633
                              value: 0
                            - kind: int
                              id: 2634
                              value: 1
                    - kind: app
                      id: 2644
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2639
                          value: version
                        - kind: int
                          id: 2638
                          value: 0
                        - kind: str
                          id: 2643
                          value: key_hash
                        - kind: app
                          id: 2642
                          opcode: List
                          args:
                            - kind: int
                              id: 2640
                              value: 1
                            - kind: int
                              id: 2641
                              value: 0
                    - kind: app
                      id: 2650
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2646
                          value: version
                        - kind: int
                          id: 2645
                          value: 0
                        - kind: str
                          id: 2649
                          value: key_hash
                        - kind: app
                          id: 2648
                          opcode: List
                          args:
                            - kind: int
                              id: 2647
                              value: 1
                    - kind: app
                      id: 2655
                      opcode: Rec
                      args:
                        - kind: str
                          id: 2652
                          value: version
                        - kind: int
                          id: 2651
                          value: 0
                        - kind: str
                          id: 2654
                          value: key_hash
                        - kind: app
                          id: 2653
                          opcode: List
                          args: []
        - kind: app
          id: 2669
          opcode: assert
          args:
            - kind: app
              id: 2668
              opcode: eq
              args:
                - kind: app
                  id: 2663
                  opcode: toSet
                  args:
                    - kind: app
                      id: 2662
                      opcode: List
                      args:
                        - kind: int
                          id: 2659
                          value: 2
                        - kind: int
                          id: 2660
                          value: 3
                        - kind: int
                          id: 2661
                          value: 1
                - kind: app
                  id: 2667
                  opcode: Set
                  args:
                    - kind: int
                      id: 2664
                      value: 1
                    - kind: int
                      id: 2665
                      value: 2
                    - kind: int
                      id: 2666
                      value: 3
        - kind: app
          id: 2681
          opcode: assert
          args:
            - kind: app
              id: 2680
              opcode: eq
              args:
                - kind: app
                  id: 2674
                  opcode: toSet
                  args:
                    - kind: app
                      id: 2673
                      opcode: List
                      args:
                        - kind: int
                          id: 2670
                          value: 2
                        - kind: int
                          id: 2671
                          value: 3
                        - kind: int
                          id: 2672
                          value: 1
                - kind: app
                  id: 2679
                  opcode: toSet
                  args:
                    - kind: app
                      id: 2678
                      opcode: List
                      args:
                        - kind: int
                          id: 2675
                          value: 3
                        - kind: int
                          id: 2676
                          value: 2
                        - kind: int
                          id: 2677
                          value: 1
        - kind: app
          id: 2695
          opcode: assert
          args:
            - kind: app
              id: 2694
              opcode: eq
              args:
                - kind: app
                  id: 2687
                  opcode: toList
                  args:
                    - kind: app
                      id: 2685
                      opcode: Set
                      args:
                        - kind: int
                          id: 2682
                          value: 2
                        - kind: int
                          id: 2683
                          value: 3
                        - kind: int
                          id: 2684
                          value: 1
                    - kind: name
                      id: 2686
                      name: intCompare
                - kind: app
                  id: 2693
                  opcode: toList
                  args:
                    - kind: app
                      id: 2691
                      opcode: Set
                      args:
                        - kind: int
                          id: 2688
                          value: 3
                        - kind: int
                          id: 2689
                          value: 1
                        - kind: int
                          id: 2690
                          value: 2
                    - kind: name
                      id: 2692
                      name: intCompare
        - kind: app
          id: 2701
          opcode: assert
          args:
            - kind: app
              id: 2700
              opcode: eq
              args:
                - kind: app
                  id: 2698
                  opcode: toList
                  args:
                    - kind: app
                      id: 2696
                      opcode: Set
                      args: []
                    - kind: name
                      id: 2697
                      name: intCompare
                - kind: app
                  id: 2699
                  opcode: List
                  args: []
        - kind: app
          id: 2706
          opcode: assert
          args:
            - kind: app
              id: 2705
              opcode: eq
              args:
                - kind: app
                  id: 2703
                  opcode: toSet
                  args:
                    - kind: app
                      id: 2702
                      opcode: List
                      args: []
                - kind: app
                  id: 2704
                  opcode: Set
                  args: []
    depth: 0
  2714:
    id: 2711
    name: __list
  2718:
    id: 2717
    name: rev_list
  2719:
    id: 2716
    name: el
  2724:
    kind: def
    id: 2724
    name: reverse
    qualifier: puredef
    expr:
      kind: lambda
      id: 2723
      params:
        - id: 2711
          name: __list
      expr:
        kind: app
        id: 2722
        opcode: foldr
        args:
          - kind: name
            id: 2714
            name: __list
          - kind: app
            id: 2715
            opcode: List
            args: []
          - kind: lambda
            id: 2721
            params:
              - id: 2716
                name: el
              - id: 2717
                name: rev_list
            expr:
              kind: app
              id: 2720
              opcode: append
              args:
                - kind: name
                  id: 2718
                  name: rev_list
                - kind: name
                  id: 2719
                  name: el
    depth: 0
  2730:
    kind: def
    id: 2724
    name: reverse
    qualifier: puredef
    expr:
      kind: lambda
      id: 2723
      params:
        - id: 2711
          name: __list
      expr:
        kind: app
        id: 2722
        opcode: foldr
        args:
          - kind: name
            id: 2714
            name: __list
          - kind: app
            id: 2715
            opcode: List
            args: []
          - kind: lambda
            id: 2721
            params:
              - id: 2716
                name: el
              - id: 2717
                name: rev_list
            expr:
              kind: app
              id: 2720
              opcode: append
              args:
                - kind: name
                  id: 2718
                  name: rev_list
                - kind: name
                  id: 2719
                  name: el
    depth: 0
  2739:
    kind: def
    id: 2724
    name: reverse
    qualifier: puredef
    expr:
      kind: lambda
      id: 2723
      params:
        - id: 2711
          name: __list
      expr:
        kind: app
        id: 2722
        opcode: foldr
        args:
          - kind: name
            id: 2714
            name: __list
          - kind: app
            id: 2715
            opcode: List
            args: []
          - kind: lambda
            id: 2721
            params:
              - id: 2716
                name: el
              - id: 2717
                name: rev_list
            expr:
              kind: app
              id: 2720
              opcode: append
              args:
                - kind: name
                  id: 2718
                  name: rev_list
                - kind: name
                  id: 2719
                  name: el
    depth: 0
  2745:
    kind: def
    id: 2724
    name: reverse
    qualifier: puredef
    expr:
      kind: lambda
      id: 2723
      params:
        - id: 2711
          name: __list
      expr:
        kind: app
        id: 2722
        opcode: foldr
        args:
          - kind: name
            id: 2714
            name: __list
          - kind: app
            id: 2715
            opcode: List
            args: []
          - kind: lambda
            id: 2721
            params:
              - id: 2716
                name: el
              - id: 2717
                name: rev_list
            expr:
              kind: app
              id: 2720
              opcode: append
              args:
                - kind: name
                  id: 2718
                  name: rev_list
                - kind: name
                  id: 2719
                  name: el
    depth: 0
  2751:
    kind: def
    id: 2751
    name: reverseListTest
    qualifier: run
    expr:
      kind: app
      id: 2750
      opcode: actionAll
      args:
        - kind: app
          id: 2737
          opcode: assert
          args:
            - kind: app
              id: 2736
              opcode: eq
              args:
                - kind: app
                  id: 2730
                  opcode: reverse
                  args:
                    - kind: app
                      id: 2729
                      opcode: List
                      args:
                        - kind: int
                          id: 2725
                          value: 1
                        - kind: int
                          id: 2726
                          value: 2
                        - kind: int
                          id: 2727
                          value: 3
                        - kind: int
                          id: 2728
                          value: 4
                - kind: app
                  id: 2735
                  opcode: List
                  args:
                    - kind: int
                      id: 2731
                      value: 4
                    - kind: int
                      id: 2732
                      value: 3
                    - kind: int
                      id: 2733
                      value: 2
                    - kind: int
                      id: 2734
                      value: 1
        - kind: app
          id: 2742
          opcode: assert
          args:
            - kind: app
              id: 2741
              opcode: eq
              args:
                - kind: app
                  id: 2739
                  opcode: reverse
                  args:
                    - kind: app
                      id: 2738
                      opcode: List
                      args: []
                - kind: app
                  id: 2740
                  opcode: List
                  args: []
        - kind: app
          id: 2749
          opcode: assert
          args:
            - kind: app
              id: 2748
              opcode: eq
              args:
                - kind: app
                  id: 2745
                  opcode: reverse
                  args:
                    - kind: app
                      id: 2744
                      opcode: List
                      args:
                        - kind: int
                          id: 2743
                          value: 1
                - kind: app
                  id: 2747
                  opcode: List
                  args:
                    - kind: int
                      id: 2746
                      value: 1
    depth: 0
  2790:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  2791:
    kind: def
    id: 2791
    name: Hash256_ZERO
    qualifier: val
    expr:
      kind: app
      id: 2790
      opcode: raw
      args:
        - kind: app
          id: 2789
          opcode: List
          args:
            - kind: int
              id: 2757
              value: 0
            - kind: int
              id: 2758
              value: 0
            - kind: int
              id: 2759
              value: 0
            - kind: int
              id: 2760
              value: 0
            - kind: int
              id: 2761
              value: 0
            - kind: int
              id: 2762
              value: 0
            - kind: int
              id: 2763
              value: 0
            - kind: int
              id: 2764
              value: 0
            - kind: int
              id: 2765
              value: 0
            - kind: int
              id: 2766
              value: 0
            - kind: int
              id: 2767
              value: 0
            - kind: int
              id: 2768
              value: 0
            - kind: int
              id: 2769
              value: 0
            - kind: int
              id: 2770
              value: 0
            - kind: int
              id: 2771
              value: 0
            - kind: int
              id: 2772
              value: 0
            - kind: int
              id: 2773
              value: 0
            - kind: int
              id: 2774
              value: 0
            - kind: int
              id: 2775
              value: 0
            - kind: int
              id: 2776
              value: 0
            - kind: int
              id: 2777
              value: 0
            - kind: int
              id: 2778
              value: 0
            - kind: int
              id: 2779
              value: 0
            - kind: int
              id: 2780
              value: 0
            - kind: int
              id: 2781
              value: 0
            - kind: int
              id: 2782
              value: 0
            - kind: int
              id: 2783
              value: 0
            - kind: int
              id: 2784
              value: 0
            - kind: int
              id: 2785
              value: 0
            - kind: int
              id: 2786
              value: 0
            - kind: int
              id: 2787
              value: 0
            - kind: int
              id: 2788
              value: 0
    depth: 0
  2792:
    kind: typedef
    id: 2756
  2794:
    kind: typedef
    id: 2756
  2797:
    id: 2793
    name: w1
  2799:
    kind: def
    id: 2799
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2798
      opcode: length
      args:
        - kind: name
          id: 2797
          name: w1
    depth: 3
  2800:
    id: 2795
    name: w2
  2802:
    kind: def
    id: 2802
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2801
      opcode: length
      args:
        - kind: name
          id: 2800
          name: w2
    depth: 4
  2803:
    kind: def
    id: 2799
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2798
      opcode: length
      args:
        - kind: name
          id: 2797
          name: w1
    depth: 3
  2804:
    kind: def
    id: 2802
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2801
      opcode: length
      args:
        - kind: name
          id: 2800
          name: w2
    depth: 4
  2806:
    id: 2793
    name: w1
  2809:
    id: 2793
    name: w1
  2810:
    id: 2808
    name: i
  2812:
    id: 2795
    name: w2
  2813:
    id: 2808
    name: i
  2819:
    kind: def
    id: 2799
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2798
      opcode: length
      args:
        - kind: name
          id: 2797
          name: w1
    depth: 3
  2820:
    kind: def
    id: 2802
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2801
      opcode: length
      args:
        - kind: name
          id: 2800
          name: w2
    depth: 4
  2822:
    id: 2793
    name: w1
  2825:
    id: 2793
    name: w1
  2826:
    id: 2824
    name: i
  2828:
    id: 2795
    name: w2
  2829:
    id: 2824
    name: i
  2832:
    id: 2793
    name: w1
  2835:
    id: 2834
    name: j
  2836:
    id: 2824
    name: i
  2838:
    id: 2793
    name: w1
  2839:
    id: 2834
    name: j
  2841:
    id: 2795
    name: w2
  2842:
    id: 2834
    name: j
  2856:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  2857:
    kind: typedef
    id: 2756
  2859:
    kind: typedef
    id: 2756
  2862:
    id: 2858
    name: w1
  2864:
    kind: def
    id: 2864
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2863
      opcode: length
      args:
        - kind: name
          id: 2862
          name: w1
    depth: 3
  2865:
    id: 2860
    name: w2
  2867:
    kind: def
    id: 2867
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2866
      opcode: length
      args:
        - kind: name
          id: 2865
          name: w2
    depth: 4
  2868:
    kind: def
    id: 2864
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2863
      opcode: length
      args:
        - kind: name
          id: 2862
          name: w1
    depth: 3
  2869:
    kind: def
    id: 2867
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2866
      opcode: length
      args:
        - kind: name
          id: 2865
          name: w2
    depth: 4
  2871:
    id: 2858
    name: w1
  2874:
    id: 2858
    name: w1
  2875:
    id: 2873
    name: i
  2877:
    id: 2860
    name: w2
  2878:
    id: 2873
    name: i
  2884:
    kind: def
    id: 2864
    name: len1
    qualifier: pureval
    expr:
      kind: app
      id: 2863
      opcode: length
      args:
        - kind: name
          id: 2862
          name: w1
    depth: 3
  2885:
    kind: def
    id: 2867
    name: len2
    qualifier: pureval
    expr:
      kind: app
      id: 2866
      opcode: length
      args:
        - kind: name
          id: 2865
          name: w2
    depth: 4
  2887:
    id: 2858
    name: w1
  2890:
    id: 2858
    name: w1
  2891:
    id: 2889
    name: i
  2893:
    id: 2860
    name: w2
  2894:
    id: 2889
    name: i
  2897:
    id: 2858
    name: w1
  2900:
    id: 2899
    name: j
  2901:
    id: 2889
    name: i
  2903:
    id: 2858
    name: w1
  2904:
    id: 2899
    name: j
  2906:
    id: 2860
    name: w2
  2907:
    id: 2899
    name: j
  2921:
    kind: def
    id: 2921
    name: greater_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2920
      params:
        - id: 2858
          name: w1
        - id: 2860
          name: w2
      expr:
        kind: let
        id: 2919
        opdef:
          id: 2864
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2863
            opcode: length
            args:
              - kind: name
                id: 2862
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2918
          opdef:
            id: 2867
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2866
              opcode: length
              args:
                - kind: name
                  id: 2865
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2917
            opcode: or
            args:
              - kind: app
                id: 2883
                opcode: and
                args:
                  - kind: app
                    id: 2870
                    opcode: igt
                    args:
                      - kind: name
                        id: 2868
                        name: len1
                      - kind: name
                        id: 2869
                        name: len2
                  - kind: app
                    id: 2882
                    opcode: forall
                    args:
                      - kind: app
                        id: 2872
                        opcode: indices
                        args:
                          - kind: name
                            id: 2871
                            name: w1
                      - kind: lambda
                        id: 2881
                        params:
                          - id: 2873
                            name: i
                        expr:
                          kind: app
                          id: 2880
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2876
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2874
                                  name: w1
                                - kind: name
                                  id: 2875
                                  name: i
                            - kind: app
                              id: 2879
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2877
                                  name: w2
                                - kind: name
                                  id: 2878
                                  name: i
              - kind: app
                id: 2916
                opcode: and
                args:
                  - kind: app
                    id: 2886
                    opcode: eq
                    args:
                      - kind: name
                        id: 2884
                        name: len1
                      - kind: name
                        id: 2885
                        name: len2
                  - kind: app
                    id: 2915
                    opcode: exists
                    args:
                      - kind: app
                        id: 2888
                        opcode: indices
                        args:
                          - kind: name
                            id: 2887
                            name: w1
                      - kind: lambda
                        id: 2914
                        params:
                          - id: 2889
                            name: i
                        expr:
                          kind: app
                          id: 2913
                          opcode: and
                          args:
                            - kind: app
                              id: 2896
                              opcode: igt
                              args:
                                - kind: app
                                  id: 2892
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2890
                                      name: w1
                                    - kind: name
                                      id: 2891
                                      name: i
                                - kind: app
                                  id: 2895
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2893
                                      name: w2
                                    - kind: name
                                      id: 2894
                                      name: i
                            - kind: app
                              id: 2912
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2898
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2897
                                      name: w1
                                - kind: lambda
                                  id: 2911
                                  params:
                                    - id: 2899
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2910
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2902
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2900
                                            name: j
                                          - kind: name
                                            id: 2901
                                            name: i
                                      - kind: app
                                        id: 2909
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2905
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2903
                                                name: w1
                                              - kind: name
                                                id: 2904
                                                name: j
                                          - kind: app
                                            id: 2908
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2906
                                                name: w2
                                              - kind: name
                                                id: 2907
                                                name: j
    depth: 0
  2922:
    kind: typedef
    id: 2756
  2925:
    id: 2923
    name: w
  2929:
    kind: def
    id: 2929
    name: isNil
    qualifier: puredef
    expr:
      kind: lambda
      id: 2928
      params:
        - id: 2923
          name: w
      expr:
        kind: app
        id: 2927
        opcode: eq
        args:
          - kind: name
            id: 2925
            name: w
          - kind: app
            id: 2926
            opcode: List
            args: []
    depth: 0
  2931:
    kind: typedef
    id: 2756
  2933:
    kind: typedef
    id: 2932
  2937:
    kind: def
    id: 2937
    name: Hash
    qualifier: val
    expr:
      kind: app
      id: 2936
      opcode: variant
      args:
        - kind: str
          id: 2934
          value: Hash
        - kind: app
          id: 2935
          opcode: Tup
          args: []
    depth: 0
  2940:
    id: 2939
    name: __RawParam
  2943:
    kind: def
    id: 2943
    name: Raw
    qualifier: def
    expr:
      kind: lambda
      id: 2942
      params:
        - id: 2939
          name: __RawParam
      expr:
        kind: app
        id: 2941
        opcode: variant
        args:
          - kind: str
            id: 2938
            value: Raw
          - kind: name
            id: 2940
            name: __RawParam
    depth: 0
  2944:
    kind: typedef
    id: 2756
  2945:
    kind: typedef
    id: 2932
  2948:
    kind: typedef
    id: 2947
  2951:
    id: 2949
    name: term
  2954:
    id: 2953
    name: p
  2961:
    id: 2949
    name: term
  2962:
    id: 2960
    name: p
  2966:
    kind: def
    id: 2966
    name: top
    qualifier: pureval
    expr:
      kind: app
      id: 2965
      opcode: map
      args:
        - kind: app
          id: 2959
          opcode: filter
          args:
            - kind: app
              id: 2952
              opcode: keys
              args:
                - kind: name
                  id: 2951
                  name: term
            - kind: lambda
              id: 2958
              params:
                - id: 2953
                  name: p
              expr:
                kind: app
                id: 2957
                opcode: eq
                args:
                  - kind: app
                    id: 2955
                    opcode: length
                    args:
                      - kind: name
                        id: 2954
                        name: p
                  - kind: int
                    id: 2956
                    value: 1
        - kind: lambda
          id: 2964
          params:
            - id: 2960
              name: p
          expr:
            kind: app
            id: 2963
            opcode: get
            args:
              - kind: name
                id: 2961
                name: term
              - kind: name
                id: 2962
                name: p
    depth: 3
  2967:
    kind: def
    id: 2966
    name: top
    qualifier: pureval
    expr:
      kind: app
      id: 2965
      opcode: map
      args:
        - kind: app
          id: 2959
          opcode: filter
          args:
            - kind: app
              id: 2952
              opcode: keys
              args:
                - kind: name
                  id: 2951
                  name: term
            - kind: lambda
              id: 2958
              params:
                - id: 2953
                  name: p
              expr:
                kind: app
                id: 2957
                opcode: eq
                args:
                  - kind: app
                    id: 2955
                    opcode: length
                    args:
                      - kind: name
                        id: 2954
                        name: p
                  - kind: int
                    id: 2956
                    value: 1
        - kind: lambda
          id: 2964
          params:
            - id: 2960
              name: p
          expr:
            kind: app
            id: 2963
            opcode: get
            args:
              - kind: name
                id: 2961
                name: term
              - kind: name
                id: 2962
                name: p
    depth: 3
  2971:
    id: 2970
    name: t
  2972:
    id: 2969
    name: s
  2975:
    id: 2969
    name: s
  2976:
    id: 2985
    name: bytes
  2990:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  2991:
    kind: typedef
    id: 2756
  2993:
    kind: typedef
    id: 2947
  2996:
    id: 2992
    name: bytes
  2997:
    kind: def
    id: 2943
    name: Raw
    qualifier: def
    expr:
      kind: lambda
      id: 2942
      params:
        - id: 2939
          name: __RawParam
      expr:
        kind: app
        id: 2941
        opcode: variant
        args:
          - kind: str
            id: 2938
            value: Raw
          - kind: name
            id: 2940
            name: __RawParam
    depth: 0
  3001:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3002:
    kind: typedef
    id: 2947
  3005:
    id: 3003
    name: term
  3010:
    id: 3003
    name: term
  3014:
    kind: def
    id: 2937
    name: Hash
    qualifier: val
    expr:
      kind: app
      id: 2936
      opcode: variant
      args:
        - kind: str
          id: 2934
          value: Hash
        - kind: app
          id: 2935
          opcode: Tup
          args: []
    depth: 0
  3018:
    kind: def
    id: 3018
    name: isRaw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3017
      params:
        - id: 3003
          name: term
      expr:
        kind: app
        id: 3016
        opcode: and
        args:
          - kind: app
            id: 3009
            opcode: eq
            args:
              - kind: app
                id: 3007
                opcode: size
                args:
                  - kind: app
                    id: 3006
                    opcode: keys
                    args:
                      - kind: name
                        id: 3005
                        name: term
              - kind: int
                id: 3008
                value: 1
          - kind: app
            id: 3015
            opcode: neq
            args:
              - kind: app
                id: 3013
                opcode: get
                args:
                  - kind: name
                    id: 3010
                    name: term
                  - kind: app
                    id: 3012
                    opcode: List
                    args:
                      - kind: int
                        id: 3011
                        value: 0
              - kind: name
                id: 3014
                name: Hash
    depth: 0
  3019:
    kind: typedef
    id: 2947
  3021:
    kind: typedef
    id: 2947
  3025:
    id: 3020
    name: term
  3030:
    id: 3027
    name: p
  3035:
    kind: def
    id: 3035
    name: paths
    qualifier: pureval
    expr:
      kind: app
      id: 3034
      opcode: union
      args:
        - kind: app
          id: 3024
          opcode: Set
          args:
            - kind: app
              id: 3023
              opcode: List
              args:
                - kind: int
                  id: 3022
                  value: 0
        - kind: app
          id: 3033
          opcode: map
          args:
            - kind: app
              id: 3026
              opcode: keys
              args:
                - kind: name
                  id: 3025
                  name: term
            - kind: lambda
              id: 3032
              params:
                - id: 3027
                  name: p
              expr:
                kind: app
                id: 3031
                opcode: concat
                args:
                  - kind: app
                    id: 3029
                    opcode: List
                    args:
                      - kind: int
                        id: 3028
                        value: 0
                  - kind: name
                    id: 3030
                    name: p
    depth: 3
  3036:
    kind: def
    id: 3035
    name: paths
    qualifier: pureval
    expr:
      kind: app
      id: 3034
      opcode: union
      args:
        - kind: app
          id: 3024
          opcode: Set
          args:
            - kind: app
              id: 3023
              opcode: List
              args:
                - kind: int
                  id: 3022
                  value: 0
        - kind: app
          id: 3033
          opcode: map
          args:
            - kind: app
              id: 3026
              opcode: keys
              args:
                - kind: name
                  id: 3025
                  name: term
            - kind: lambda
              id: 3032
              params:
                - id: 3027
                  name: p
              expr:
                kind: app
                id: 3031
                opcode: concat
                args:
                  - kind: app
                    id: 3029
                    opcode: List
                    args:
                      - kind: int
                        id: 3028
                        value: 0
                  - kind: name
                    id: 3030
                    name: p
    depth: 3
  3038:
    id: 3037
    name: p
  3042:
    kind: def
    id: 2937
    name: Hash
    qualifier: val
    expr:
      kind: app
      id: 2936
      opcode: variant
      args:
        - kind: str
          id: 2934
          value: Hash
        - kind: app
          id: 2935
          opcode: Tup
          args: []
    depth: 0
  3043:
    id: 3020
    name: term
  3044:
    id: 3037
    name: p
  3046:
    id: 3037
    name: p
  3055:
    kind: def
    id: 3055
    name: termHash
    qualifier: puredef
    expr:
      kind: lambda
      id: 3054
      params:
        - id: 3020
          name: term
      expr:
        kind: let
        id: 3053
        opdef:
          id: 3035
          name: paths
          qualifier: pureval
          expr:
            kind: app
            id: 3034
            opcode: union
            args:
              - kind: app
                id: 3024
                opcode: Set
                args:
                  - kind: app
                    id: 3023
                    opcode: List
                    args:
                      - kind: int
                        id: 3022
                        value: 0
              - kind: app
                id: 3033
                opcode: map
                args:
                  - kind: app
                    id: 3026
                    opcode: keys
                    args:
                      - kind: name
                        id: 3025
                        name: term
                  - kind: lambda
                    id: 3032
                    params:
                      - id: 3027
                        name: p
                    expr:
                      kind: app
                      id: 3031
                      opcode: concat
                      args:
                        - kind: app
                          id: 3029
                          opcode: List
                          args:
                            - kind: int
                              id: 3028
                              value: 0
                        - kind: name
                          id: 3030
                          name: p
          depth: ~
        expr:
          kind: app
          id: 3052
          opcode: mapBy
          args:
            - kind: name
              id: 3036
              name: paths
            - kind: lambda
              id: 3051
              params:
                - id: 3037
                  name: p
              expr:
                kind: app
                id: 3050
                opcode: ite
                args:
                  - kind: app
                    id: 3041
                    opcode: eq
                    args:
                      - kind: name
                        id: 3038
                        name: p
                      - kind: app
                        id: 3040
                        opcode: List
                        args:
                          - kind: int
                            id: 3039
                            value: 0
                  - kind: name
                    id: 3042
                    name: Hash
                  - kind: app
                    id: 3049
                    opcode: get
                    args:
                      - kind: name
                        id: 3043
                        name: term
                      - kind: app
                        id: 3048
                        opcode: slice
                        args:
                          - kind: name
                            id: 3044
                            name: p
                          - kind: int
                            id: 3045
                            value: 1
                          - kind: app
                            id: 3047
                            opcode: length
                            args:
                              - kind: name
                                id: 3046
                                name: p
    depth: 0
  3056:
    kind: typedef
    id: 2947
  3058:
    kind: typedef
    id: 2947
  3060:
    kind: typedef
    id: 2947
  3061:
    id: 3057
    name: left
  3062:
    kind: def
    id: 3018
    name: isRaw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3017
      params:
        - id: 3003
          name: term
      expr:
        kind: app
        id: 3016
        opcode: and
        args:
          - kind: app
            id: 3009
            opcode: eq
            args:
              - kind: app
                id: 3007
                opcode: size
                args:
                  - kind: app
                    id: 3006
                    opcode: keys
                    args:
                      - kind: name
                        id: 3005
                        name: term
              - kind: int
                id: 3008
                value: 1
          - kind: app
            id: 3015
            opcode: neq
            args:
              - kind: app
                id: 3013
                opcode: get
                args:
                  - kind: name
                    id: 3010
                    name: term
                  - kind: app
                    id: 3012
                    opcode: List
                    args:
                      - kind: int
                        id: 3011
                        value: 0
              - kind: name
                id: 3014
                name: Hash
    depth: 0
  3063:
    id: 3057
    name: left
  3067:
    kind: def
    id: 2937
    name: Hash
    qualifier: val
    expr:
      kind: app
      id: 2936
      opcode: variant
      args:
        - kind: str
          id: 2934
          value: Hash
        - kind: app
          id: 2935
          opcode: Tup
          args: []
    depth: 0
  3069:
    kind: def
    id: 3069
    name: l
    qualifier: pureval
    expr:
      kind: app
      id: 3068
      opcode: ite
      args:
        - kind: app
          id: 3062
          opcode: isRaw
          args:
            - kind: name
              id: 3061
              name: left
        - kind: app
          id: 3066
          opcode: get
          args:
            - kind: name
              id: 3063
              name: left
            - kind: app
              id: 3065
              opcode: List
              args:
                - kind: int
                  id: 3064
                  value: 0
        - kind: name
          id: 3067
          name: Hash
    depth: 3
  3070:
    id: 3059
    name: right
  3071:
    kind: def
    id: 3018
    name: isRaw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3017
      params:
        - id: 3003
          name: term
      expr:
        kind: app
        id: 3016
        opcode: and
        args:
          - kind: app
            id: 3009
            opcode: eq
            args:
              - kind: app
                id: 3007
                opcode: size
                args:
                  - kind: app
                    id: 3006
                    opcode: keys
                    args:
                      - kind: name
                        id: 3005
                        name: term
              - kind: int
                id: 3008
                value: 1
          - kind: app
            id: 3015
            opcode: neq
            args:
              - kind: app
                id: 3013
                opcode: get
                args:
                  - kind: name
                    id: 3010
                    name: term
                  - kind: app
                    id: 3012
                    opcode: List
                    args:
                      - kind: int
                        id: 3011
                        value: 0
              - kind: name
                id: 3014
                name: Hash
    depth: 0
  3072:
    id: 3059
    name: right
  3076:
    kind: def
    id: 2937
    name: Hash
    qualifier: val
    expr:
      kind: app
      id: 2936
      opcode: variant
      args:
        - kind: str
          id: 2934
          value: Hash
        - kind: app
          id: 2935
          opcode: Tup
          args: []
    depth: 0
  3078:
    kind: def
    id: 3078
    name: r
    qualifier: pureval
    expr:
      kind: app
      id: 3077
      opcode: ite
      args:
        - kind: app
          id: 3071
          opcode: isRaw
          args:
            - kind: name
              id: 3070
              name: right
        - kind: app
          id: 3075
          opcode: get
          args:
            - kind: name
              id: 3072
              name: right
            - kind: app
              id: 3074
              opcode: List
              args:
                - kind: int
                  id: 3073
                  value: 0
        - kind: name
          id: 3076
          name: Hash
    depth: 4
  3079:
    kind: typedef
    id: 2947
  3081:
    kind: typedef
    id: 2947
  3083:
    kind: typedef
    id: 2947
  3084:
    id: 3080
    name: left
  3087:
    id: 3086
    name: p
  3094:
    kind: def
    id: 3094
    name: lwidth
    qualifier: pureval
    expr:
      kind: app
      id: 3093
      opcode: size
      args:
        - kind: app
          id: 3092
          opcode: filter
          args:
            - kind: app
              id: 3085
              opcode: keys
              args:
                - kind: name
                  id: 3084
                  name: left
            - kind: lambda
              id: 3091
              params:
                - id: 3086
                  name: p
              expr:
                kind: app
                id: 3090
                opcode: eq
                args:
                  - kind: app
                    id: 3088
                    opcode: length
                    args:
                      - kind: name
                        id: 3087
                        name: p
                  - kind: int
                    id: 3089
                    value: 1
    depth: 8
  3095:
    id: 3082
    name: right
  3098:
    kind: def
    id: 3094
    name: lwidth
    qualifier: pureval
    expr:
      kind: app
      id: 3093
      opcode: size
      args:
        - kind: app
          id: 3092
          opcode: filter
          args:
            - kind: app
              id: 3085
              opcode: keys
              args:
                - kind: name
                  id: 3084
                  name: left
            - kind: lambda
              id: 3091
              params:
                - id: 3086
                  name: p
              expr:
                kind: app
                id: 3090
                opcode: eq
                args:
                  - kind: app
                    id: 3088
                    opcode: length
                    args:
                      - kind: name
                        id: 3087
                        name: p
                  - kind: int
                    id: 3089
                    value: 1
    depth: 8
  3099:
    id: 3097
    name: p
  3104:
    id: 3097
    name: p
  3106:
    id: 3097
    name: p
  3112:
    kind: def
    id: 3112
    name: rshifted
    qualifier: pureval
    expr:
      kind: app
      id: 3111
      opcode: map
      args:
        - kind: app
          id: 3096
          opcode: keys
          args:
            - kind: name
              id: 3095
              name: right
        - kind: lambda
          id: 3110
          params:
            - id: 3097
              name: p
          expr:
            kind: app
            id: 3109
            opcode: concat
            args:
              - kind: app
                id: 3103
                opcode: List
                args:
                  - kind: app
                    id: 3102
                    opcode: iadd
                    args:
                      - kind: name
                        id: 3098
                        name: lwidth
                      - kind: app
                        id: 3101
                        opcode: nth
                        args:
                          - kind: name
                            id: 3099
                            name: p
                          - kind: int
                            id: 3100
                            value: 0
              - kind: app
                id: 3108
                opcode: slice
                args:
                  - kind: name
                    id: 3104
                    name: p
                  - kind: int
                    id: 3105
                    value: 1
                  - kind: app
                    id: 3107
                    opcode: length
                    args:
                      - kind: name
                        id: 3106
                        name: p
    depth: 9
  3113:
    id: 3080
    name: left
  3115:
    kind: def
    id: 3112
    name: rshifted
    qualifier: pureval
    expr:
      kind: app
      id: 3111
      opcode: map
      args:
        - kind: app
          id: 3096
          opcode: keys
          args:
            - kind: name
              id: 3095
              name: right
        - kind: lambda
          id: 3110
          params:
            - id: 3097
              name: p
          expr:
            kind: app
            id: 3109
            opcode: concat
            args:
              - kind: app
                id: 3103
                opcode: List
                args:
                  - kind: app
                    id: 3102
                    opcode: iadd
                    args:
                      - kind: name
                        id: 3098
                        name: lwidth
                      - kind: app
                        id: 3101
                        opcode: nth
                        args:
                          - kind: name
                            id: 3099
                            name: p
                          - kind: int
                            id: 3100
                            value: 0
              - kind: app
                id: 3108
                opcode: slice
                args:
                  - kind: name
                    id: 3104
                    name: p
                  - kind: int
                    id: 3105
                    value: 1
                  - kind: app
                    id: 3107
                    opcode: length
                    args:
                      - kind: name
                        id: 3106
                        name: p
    depth: 9
  3117:
    kind: def
    id: 3117
    name: paths
    qualifier: pureval
    expr:
      kind: app
      id: 3116
      opcode: union
      args:
        - kind: app
          id: 3114
          opcode: keys
          args:
            - kind: name
              id: 3113
              name: left
        - kind: name
          id: 3115
          name: rshifted
    depth: 10
  3118:
    kind: def
    id: 3117
    name: paths
    qualifier: pureval
    expr:
      kind: app
      id: 3116
      opcode: union
      args:
        - kind: app
          id: 3114
          opcode: keys
          args:
            - kind: name
              id: 3113
              name: left
        - kind: name
          id: 3115
          name: rshifted
    depth: 10
  3120:
    id: 3119
    name: p
  3123:
    kind: def
    id: 3094
    name: lwidth
    qualifier: pureval
    expr:
      kind: app
      id: 3093
      opcode: size
      args:
        - kind: app
          id: 3092
          opcode: filter
          args:
            - kind: app
              id: 3085
              opcode: keys
              args:
                - kind: name
                  id: 3084
                  name: left
            - kind: lambda
              id: 3091
              params:
                - id: 3086
                  name: p
              expr:
                kind: app
                id: 3090
                opcode: eq
                args:
                  - kind: app
                    id: 3088
                    opcode: length
                    args:
                      - kind: name
                        id: 3087
                        name: p
                  - kind: int
                    id: 3089
                    value: 1
    depth: 8
  3125:
    id: 3080
    name: left
  3126:
    id: 3119
    name: p
  3128:
    id: 3082
    name: right
  3129:
    id: 3119
    name: p
  3132:
    kind: def
    id: 3094
    name: lwidth
    qualifier: pureval
    expr:
      kind: app
      id: 3093
      opcode: size
      args:
        - kind: app
          id: 3092
          opcode: filter
          args:
            - kind: app
              id: 3085
              opcode: keys
              args:
                - kind: name
                  id: 3084
                  name: left
            - kind: lambda
              id: 3091
              params:
                - id: 3086
                  name: p
              expr:
                kind: app
                id: 3090
                opcode: eq
                args:
                  - kind: app
                    id: 3088
                    opcode: length
                    args:
                      - kind: name
                        id: 3087
                        name: p
                  - kind: int
                    id: 3089
                    value: 1
    depth: 8
  3135:
    id: 3119
    name: p
  3137:
    id: 3119
    name: p
  3149:
    kind: def
    id: 3149
    name: mergeTerms
    qualifier: puredef
    expr:
      kind: lambda
      id: 3148
      params:
        - id: 3080
          name: left
        - id: 3082
          name: right
      expr:
        kind: let
        id: 3147
        opdef:
          id: 3094
          name: lwidth
          qualifier: pureval
          expr:
            kind: app
            id: 3093
            opcode: size
            args:
              - kind: app
                id: 3092
                opcode: filter
                args:
                  - kind: app
                    id: 3085
                    opcode: keys
                    args:
                      - kind: name
                        id: 3084
                        name: left
                  - kind: lambda
                    id: 3091
                    params:
                      - id: 3086
                        name: p
                    expr:
                      kind: app
                      id: 3090
                      opcode: eq
                      args:
                        - kind: app
                          id: 3088
                          opcode: length
                          args:
                            - kind: name
                              id: 3087
                              name: p
                        - kind: int
                          id: 3089
                          value: 1
          depth: ~
        expr:
          kind: let
          id: 3146
          opdef:
            id: 3112
            name: rshifted
            qualifier: pureval
            expr:
              kind: app
              id: 3111
              opcode: map
              args:
                - kind: app
                  id: 3096
                  opcode: keys
                  args:
                    - kind: name
                      id: 3095
                      name: right
                - kind: lambda
                  id: 3110
                  params:
                    - id: 3097
                      name: p
                  expr:
                    kind: app
                    id: 3109
                    opcode: concat
                    args:
                      - kind: app
                        id: 3103
                        opcode: List
                        args:
                          - kind: app
                            id: 3102
                            opcode: iadd
                            args:
                              - kind: name
                                id: 3098
                                name: lwidth
                              - kind: app
                                id: 3101
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 3099
                                    name: p
                                  - kind: int
                                    id: 3100
                                    value: 0
                      - kind: app
                        id: 3108
                        opcode: slice
                        args:
                          - kind: name
                            id: 3104
                            name: p
                          - kind: int
                            id: 3105
                            value: 1
                          - kind: app
                            id: 3107
                            opcode: length
                            args:
                              - kind: name
                                id: 3106
                                name: p
            depth: ~
          expr:
            kind: let
            id: 3145
            opdef:
              id: 3117
              name: paths
              qualifier: pureval
              expr:
                kind: app
                id: 3116
                opcode: union
                args:
                  - kind: app
                    id: 3114
                    opcode: keys
                    args:
                      - kind: name
                        id: 3113
                        name: left
                  - kind: name
                    id: 3115
                    name: rshifted
              depth: ~
            expr:
              kind: app
              id: 3144
              opcode: mapBy
              args:
                - kind: name
                  id: 3118
                  name: paths
                - kind: lambda
                  id: 3143
                  params:
                    - id: 3119
                      name: p
                  expr:
                    kind: app
                    id: 3142
                    opcode: ite
                    args:
                      - kind: app
                        id: 3124
                        opcode: ilt
                        args:
                          - kind: app
                            id: 3122
                            opcode: nth
                            args:
                              - kind: name
                                id: 3120
                                name: p
                              - kind: int
                                id: 3121
                                value: 0
                          - kind: name
                            id: 3123
                            name: lwidth
                      - kind: app
                        id: 3127
                        opcode: get
                        args:
                          - kind: name
                            id: 3125
                            name: left
                          - kind: name
                            id: 3126
                            name: p
                      - kind: app
                        id: 3141
                        opcode: get
                        args:
                          - kind: name
                            id: 3128
                            name: right
                          - kind: app
                            id: 3140
                            opcode: concat
                            args:
                              - kind: app
                                id: 3134
                                opcode: List
                                args:
                                  - kind: app
                                    id: 3133
                                    opcode: isub
                                    args:
                                      - kind: app
                                        id: 3131
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 3129
                                            name: p
                                          - kind: int
                                            id: 3130
                                            value: 0
                                      - kind: name
                                        id: 3132
                                        name: lwidth
                              - kind: app
                                id: 3139
                                opcode: slice
                                args:
                                  - kind: name
                                    id: 3135
                                    name: p
                                  - kind: int
                                    id: 3136
                                    value: 1
                                  - kind: app
                                    id: 3138
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3137
                                        name: p
    depth: 5
  3150:
    kind: def
    id: 3069
    name: l
    qualifier: pureval
    expr:
      kind: app
      id: 3068
      opcode: ite
      args:
        - kind: app
          id: 3062
          opcode: isRaw
          args:
            - kind: name
              id: 3061
              name: left
        - kind: app
          id: 3066
          opcode: get
          args:
            - kind: name
              id: 3063
              name: left
            - kind: app
              id: 3065
              opcode: List
              args:
                - kind: int
                  id: 3064
                  value: 0
        - kind: name
          id: 3067
          name: Hash
    depth: 3
  3151:
    kind: def
    id: 3078
    name: r
    qualifier: pureval
    expr:
      kind: app
      id: 3077
      opcode: ite
      args:
        - kind: app
          id: 3071
          opcode: isRaw
          args:
            - kind: name
              id: 3070
              name: right
        - kind: app
          id: 3075
          opcode: get
          args:
            - kind: name
              id: 3072
              name: right
            - kind: app
              id: 3074
              opcode: List
              args:
                - kind: int
                  id: 3073
                  value: 0
        - kind: name
          id: 3076
          name: Hash
    depth: 4
  3152:
    id: 3193
    name: lBytes
  3153:
    id: 3167
    name: rBytes
  3155:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3156:
    id: 3193
    name: lBytes
  3159:
    id: 3059
    name: right
  3160:
    id: 3057
    name: left
  3161:
    id: 3059
    name: right
  3162:
    kind: def
    id: 3149
    name: mergeTerms
    qualifier: puredef
    expr:
      kind: lambda
      id: 3148
      params:
        - id: 3080
          name: left
        - id: 3082
          name: right
      expr:
        kind: let
        id: 3147
        opdef:
          id: 3094
          name: lwidth
          qualifier: pureval
          expr:
            kind: app
            id: 3093
            opcode: size
            args:
              - kind: app
                id: 3092
                opcode: filter
                args:
                  - kind: app
                    id: 3085
                    opcode: keys
                    args:
                      - kind: name
                        id: 3084
                        name: left
                  - kind: lambda
                    id: 3091
                    params:
                      - id: 3086
                        name: p
                    expr:
                      kind: app
                      id: 3090
                      opcode: eq
                      args:
                        - kind: app
                          id: 3088
                          opcode: length
                          args:
                            - kind: name
                              id: 3087
                              name: p
                        - kind: int
                          id: 3089
                          value: 1
          depth: ~
        expr:
          kind: let
          id: 3146
          opdef:
            id: 3112
            name: rshifted
            qualifier: pureval
            expr:
              kind: app
              id: 3111
              opcode: map
              args:
                - kind: app
                  id: 3096
                  opcode: keys
                  args:
                    - kind: name
                      id: 3095
                      name: right
                - kind: lambda
                  id: 3110
                  params:
                    - id: 3097
                      name: p
                  expr:
                    kind: app
                    id: 3109
                    opcode: concat
                    args:
                      - kind: app
                        id: 3103
                        opcode: List
                        args:
                          - kind: app
                            id: 3102
                            opcode: iadd
                            args:
                              - kind: name
                                id: 3098
                                name: lwidth
                              - kind: app
                                id: 3101
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 3099
                                    name: p
                                  - kind: int
                                    id: 3100
                                    value: 0
                      - kind: app
                        id: 3108
                        opcode: slice
                        args:
                          - kind: name
                            id: 3104
                            name: p
                          - kind: int
                            id: 3105
                            value: 1
                          - kind: app
                            id: 3107
                            opcode: length
                            args:
                              - kind: name
                                id: 3106
                                name: p
            depth: ~
          expr:
            kind: let
            id: 3145
            opdef:
              id: 3117
              name: paths
              qualifier: pureval
              expr:
                kind: app
                id: 3116
                opcode: union
                args:
                  - kind: app
                    id: 3114
                    opcode: keys
                    args:
                      - kind: name
                        id: 3113
                        name: left
                  - kind: name
                    id: 3115
                    name: rshifted
              depth: ~
            expr:
              kind: app
              id: 3144
              opcode: mapBy
              args:
                - kind: name
                  id: 3118
                  name: paths
                - kind: lambda
                  id: 3143
                  params:
                    - id: 3119
                      name: p
                  expr:
                    kind: app
                    id: 3142
                    opcode: ite
                    args:
                      - kind: app
                        id: 3124
                        opcode: ilt
                        args:
                          - kind: app
                            id: 3122
                            opcode: nth
                            args:
                              - kind: name
                                id: 3120
                                name: p
                              - kind: int
                                id: 3121
                                value: 0
                          - kind: name
                            id: 3123
                            name: lwidth
                      - kind: app
                        id: 3127
                        opcode: get
                        args:
                          - kind: name
                            id: 3125
                            name: left
                          - kind: name
                            id: 3126
                            name: p
                      - kind: app
                        id: 3141
                        opcode: get
                        args:
                          - kind: name
                            id: 3128
                            name: right
                          - kind: app
                            id: 3140
                            opcode: concat
                            args:
                              - kind: app
                                id: 3134
                                opcode: List
                                args:
                                  - kind: app
                                    id: 3133
                                    opcode: isub
                                    args:
                                      - kind: app
                                        id: 3131
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 3129
                                            name: p
                                          - kind: int
                                            id: 3130
                                            value: 0
                                      - kind: name
                                        id: 3132
                                        name: lwidth
                              - kind: app
                                id: 3139
                                opcode: slice
                                args:
                                  - kind: name
                                    id: 3135
                                    name: p
                                  - kind: int
                                    id: 3136
                                    value: 1
                                  - kind: app
                                    id: 3138
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3137
                                        name: p
    depth: 5
  3171:
    kind: def
    id: 3078
    name: r
    qualifier: pureval
    expr:
      kind: app
      id: 3077
      opcode: ite
      args:
        - kind: app
          id: 3071
          opcode: isRaw
          args:
            - kind: name
              id: 3070
              name: right
        - kind: app
          id: 3075
          opcode: get
          args:
            - kind: name
              id: 3072
              name: right
            - kind: app
              id: 3074
              opcode: List
              args:
                - kind: int
                  id: 3073
                  value: 0
        - kind: name
          id: 3076
          name: Hash
    depth: 4
  3172:
    id: 3186
    name: rBytes
  3175:
    id: 3057
    name: left
  3176:
    id: 3057
    name: left
  3177:
    id: 3059
    name: right
  3178:
    kind: def
    id: 3149
    name: mergeTerms
    qualifier: puredef
    expr:
      kind: lambda
      id: 3148
      params:
        - id: 3080
          name: left
        - id: 3082
          name: right
      expr:
        kind: let
        id: 3147
        opdef:
          id: 3094
          name: lwidth
          qualifier: pureval
          expr:
            kind: app
            id: 3093
            opcode: size
            args:
              - kind: app
                id: 3092
                opcode: filter
                args:
                  - kind: app
                    id: 3085
                    opcode: keys
                    args:
                      - kind: name
                        id: 3084
                        name: left
                  - kind: lambda
                    id: 3091
                    params:
                      - id: 3086
                        name: p
                    expr:
                      kind: app
                      id: 3090
                      opcode: eq
                      args:
                        - kind: app
                          id: 3088
                          opcode: length
                          args:
                            - kind: name
                              id: 3087
                              name: p
                        - kind: int
                          id: 3089
                          value: 1
          depth: ~
        expr:
          kind: let
          id: 3146
          opdef:
            id: 3112
            name: rshifted
            qualifier: pureval
            expr:
              kind: app
              id: 3111
              opcode: map
              args:
                - kind: app
                  id: 3096
                  opcode: keys
                  args:
                    - kind: name
                      id: 3095
                      name: right
                - kind: lambda
                  id: 3110
                  params:
                    - id: 3097
                      name: p
                  expr:
                    kind: app
                    id: 3109
                    opcode: concat
                    args:
                      - kind: app
                        id: 3103
                        opcode: List
                        args:
                          - kind: app
                            id: 3102
                            opcode: iadd
                            args:
                              - kind: name
                                id: 3098
                                name: lwidth
                              - kind: app
                                id: 3101
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 3099
                                    name: p
                                  - kind: int
                                    id: 3100
                                    value: 0
                      - kind: app
                        id: 3108
                        opcode: slice
                        args:
                          - kind: name
                            id: 3104
                            name: p
                          - kind: int
                            id: 3105
                            value: 1
                          - kind: app
                            id: 3107
                            opcode: length
                            args:
                              - kind: name
                                id: 3106
                                name: p
            depth: ~
          expr:
            kind: let
            id: 3145
            opdef:
              id: 3117
              name: paths
              qualifier: pureval
              expr:
                kind: app
                id: 3116
                opcode: union
                args:
                  - kind: app
                    id: 3114
                    opcode: keys
                    args:
                      - kind: name
                        id: 3113
                        name: left
                  - kind: name
                    id: 3115
                    name: rshifted
              depth: ~
            expr:
              kind: app
              id: 3144
              opcode: mapBy
              args:
                - kind: name
                  id: 3118
                  name: paths
                - kind: lambda
                  id: 3143
                  params:
                    - id: 3119
                      name: p
                  expr:
                    kind: app
                    id: 3142
                    opcode: ite
                    args:
                      - kind: app
                        id: 3124
                        opcode: ilt
                        args:
                          - kind: app
                            id: 3122
                            opcode: nth
                            args:
                              - kind: name
                                id: 3120
                                name: p
                              - kind: int
                                id: 3121
                                value: 0
                          - kind: name
                            id: 3123
                            name: lwidth
                      - kind: app
                        id: 3127
                        opcode: get
                        args:
                          - kind: name
                            id: 3125
                            name: left
                          - kind: name
                            id: 3126
                            name: p
                      - kind: app
                        id: 3141
                        opcode: get
                        args:
                          - kind: name
                            id: 3128
                            name: right
                          - kind: app
                            id: 3140
                            opcode: concat
                            args:
                              - kind: app
                                id: 3134
                                opcode: List
                                args:
                                  - kind: app
                                    id: 3133
                                    opcode: isub
                                    args:
                                      - kind: app
                                        id: 3131
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 3129
                                            name: p
                                          - kind: int
                                            id: 3130
                                            value: 0
                                      - kind: name
                                        id: 3132
                                        name: lwidth
                              - kind: app
                                id: 3139
                                opcode: slice
                                args:
                                  - kind: name
                                    id: 3135
                                    name: p
                                  - kind: int
                                    id: 3136
                                    value: 1
                                  - kind: app
                                    id: 3138
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3137
                                        name: p
    depth: 5
  3180:
    id: 3057
    name: left
  3181:
    id: 3059
    name: right
  3182:
    kind: def
    id: 3149
    name: mergeTerms
    qualifier: puredef
    expr:
      kind: lambda
      id: 3148
      params:
        - id: 3080
          name: left
        - id: 3082
          name: right
      expr:
        kind: let
        id: 3147
        opdef:
          id: 3094
          name: lwidth
          qualifier: pureval
          expr:
            kind: app
            id: 3093
            opcode: size
            args:
              - kind: app
                id: 3092
                opcode: filter
                args:
                  - kind: app
                    id: 3085
                    opcode: keys
                    args:
                      - kind: name
                        id: 3084
                        name: left
                  - kind: lambda
                    id: 3091
                    params:
                      - id: 3086
                        name: p
                    expr:
                      kind: app
                      id: 3090
                      opcode: eq
                      args:
                        - kind: app
                          id: 3088
                          opcode: length
                          args:
                            - kind: name
                              id: 3087
                              name: p
                        - kind: int
                          id: 3089
                          value: 1
          depth: ~
        expr:
          kind: let
          id: 3146
          opdef:
            id: 3112
            name: rshifted
            qualifier: pureval
            expr:
              kind: app
              id: 3111
              opcode: map
              args:
                - kind: app
                  id: 3096
                  opcode: keys
                  args:
                    - kind: name
                      id: 3095
                      name: right
                - kind: lambda
                  id: 3110
                  params:
                    - id: 3097
                      name: p
                  expr:
                    kind: app
                    id: 3109
                    opcode: concat
                    args:
                      - kind: app
                        id: 3103
                        opcode: List
                        args:
                          - kind: app
                            id: 3102
                            opcode: iadd
                            args:
                              - kind: name
                                id: 3098
                                name: lwidth
                              - kind: app
                                id: 3101
                                opcode: nth
                                args:
                                  - kind: name
                                    id: 3099
                                    name: p
                                  - kind: int
                                    id: 3100
                                    value: 0
                      - kind: app
                        id: 3108
                        opcode: slice
                        args:
                          - kind: name
                            id: 3104
                            name: p
                          - kind: int
                            id: 3105
                            value: 1
                          - kind: app
                            id: 3107
                            opcode: length
                            args:
                              - kind: name
                                id: 3106
                                name: p
            depth: ~
          expr:
            kind: let
            id: 3145
            opdef:
              id: 3117
              name: paths
              qualifier: pureval
              expr:
                kind: app
                id: 3116
                opcode: union
                args:
                  - kind: app
                    id: 3114
                    opcode: keys
                    args:
                      - kind: name
                        id: 3113
                        name: left
                  - kind: name
                    id: 3115
                    name: rshifted
              depth: ~
            expr:
              kind: app
              id: 3144
              opcode: mapBy
              args:
                - kind: name
                  id: 3118
                  name: paths
                - kind: lambda
                  id: 3143
                  params:
                    - id: 3119
                      name: p
                  expr:
                    kind: app
                    id: 3142
                    opcode: ite
                    args:
                      - kind: app
                        id: 3124
                        opcode: ilt
                        args:
                          - kind: app
                            id: 3122
                            opcode: nth
                            args:
                              - kind: name
                                id: 3120
                                name: p
                              - kind: int
                                id: 3121
                                value: 0
                          - kind: name
                            id: 3123
                            name: lwidth
                      - kind: app
                        id: 3127
                        opcode: get
                        args:
                          - kind: name
                            id: 3125
                            name: left
                          - kind: name
                            id: 3126
                            name: p
                      - kind: app
                        id: 3141
                        opcode: get
                        args:
                          - kind: name
                            id: 3128
                            name: right
                          - kind: app
                            id: 3140
                            opcode: concat
                            args:
                              - kind: app
                                id: 3134
                                opcode: List
                                args:
                                  - kind: app
                                    id: 3133
                                    opcode: isub
                                    args:
                                      - kind: app
                                        id: 3131
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 3129
                                            name: p
                                          - kind: int
                                            id: 3130
                                            value: 0
                                      - kind: name
                                        id: 3132
                                        name: lwidth
                              - kind: app
                                id: 3139
                                opcode: slice
                                args:
                                  - kind: name
                                    id: 3135
                                    name: p
                                  - kind: int
                                    id: 3136
                                    value: 1
                                  - kind: app
                                    id: 3138
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3137
                                        name: p
    depth: 5
  3201:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  3202:
    kind: typedef
    id: 2947
  3208:
    kind: typedef
    id: 2947
  3209:
    id: 3203
    name: term
  3214:
    id: 3203
    name: term
  3215:
    id: 3203
    name: term
  3219:
    kind: def
    id: 3219
    name: first
    qualifier: pureval
    expr:
      kind: app
      id: 3218
      opcode: get
      args:
        - kind: name
          id: 3215
          name: term
        - kind: app
          id: 3217
          opcode: List
          args:
            - kind: int
              id: 3216
              value: 0
    depth: 3
  3220:
    kind: def
    id: 3219
    name: first
    qualifier: pureval
    expr:
      kind: app
      id: 3218
      opcode: get
      args:
        - kind: name
          id: 3215
          name: term
        - kind: app
          id: 3217
          opcode: List
          args:
            - kind: int
              id: 3216
              value: 0
    depth: 3
  3221:
    id: 3230
    name: bytes
  3222:
    id: 3205
    name: start
  3223:
    id: 3207
    name: end
  3225:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3226:
    id: 3203
    name: term
  3237:
    kind: def
    id: 3237
    name: termSlice
    qualifier: puredef
    expr:
      kind: lambda
      id: 3236
      params:
        - id: 3203
          name: term
        - id: 3205
          name: start
        - id: 3207
          name: end
      expr:
        kind: app
        id: 3235
        opcode: ite
        args:
          - kind: app
            id: 3213
            opcode: neq
            args:
              - kind: app
                id: 3211
                opcode: size
                args:
                  - kind: app
                    id: 3210
                    opcode: keys
                    args:
                      - kind: name
                        id: 3209
                        name: term
              - kind: int
                id: 3212
                value: 1
          - kind: name
            id: 3214
            name: term
          - kind: let
            id: 3234
            opdef:
              id: 3219
              name: first
              qualifier: pureval
              expr:
                kind: app
                id: 3218
                opcode: get
                args:
                  - kind: name
                    id: 3215
                    name: term
                  - kind: app
                    id: 3217
                    opcode: List
                    args:
                      - kind: int
                        id: 3216
                        value: 0
              depth: ~
            expr:
              kind: app
              id: 3227
              opcode: matchVariant
              args:
                - kind: name
                  id: 3220
                  name: first
                - kind: str
                  id: 3228
                  value: Raw
                - kind: lambda
                  id: 3229
                  params:
                    - id: 3230
                      name: bytes
                  expr:
                    kind: app
                    id: 3225
                    opcode: raw
                    args:
                      - kind: app
                        id: 3224
                        opcode: slice
                        args:
                          - kind: name
                            id: 3221
                            name: bytes
                          - kind: name
                            id: 3222
                            name: start
                          - kind: name
                            id: 3223
                            name: end
                - kind: str
                  id: 3231
                  value: _
                - kind: lambda
                  id: 3232
                  params:
                    - id: 3233
                      name: _
                  expr:
                    kind: name
                    id: 3226
                    name: term
    depth: 0
  3247:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  3248:
    kind: typedef
    id: 3258
  3249:
    kind: typedef
    id: 3939
  3252:
    kind: typedef
    id: 3258
  3253:
    kind: typedef
    id: 2756
  3261:
    kind: typedef
    id: 3260
  3262:
    kind: typedef
    id: 3258
  3265:
    kind: typedef
    id: 3260
  3266:
    kind: typedef
    id: 3260
  3267:
    kind: typedef
    id: 3258
  3270:
    kind: typedef
    id: 3264
  3271:
    kind: typedef
    id: 3900
  3274:
    kind: typedef
    id: 3273
  3275:
    kind: typedef
    id: 3269
  3279:
    kind: typedef
    id: 3258
  3281:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  3282:
    kind: typedef
    id: 3278
  3284:
    kind: typedef
    id: 3260
  3286:
    kind: typedef
    id: 3260
  3288:
    kind: typedef
    id: 3258
  3290:
    kind: typedef
    id: 3278
  3291:
    id: 3285
    name: orphaned_since_version
  3293:
    id: 3287
    name: version
  3295:
    id: 3289
    name: key_hash
  3298:
    kind: def
    id: 3298
    name: orphan
    qualifier: pureval
    expr:
      kind: app
      id: 3297
      opcode: Rec
      args:
        - kind: str
          id: 3292
          value: orphaned_since_version
        - kind: name
          id: 3291
          name: orphaned_since_version
        - kind: str
          id: 3294
          value: version
        - kind: name
          id: 3293
          name: version
        - kind: str
          id: 3296
          value: key_hash
        - kind: name
          id: 3295
          name: key_hash
    depth: 3
  3299:
    id: 3283
    name: tree
  3300:
    id: 3283
    name: tree
  3303:
    kind: def
    id: 3298
    name: orphan
    qualifier: pureval
    expr:
      kind: app
      id: 3297
      opcode: Rec
      args:
        - kind: str
          id: 3292
          value: orphaned_since_version
        - kind: name
          id: 3291
          name: orphaned_since_version
        - kind: str
          id: 3294
          value: version
        - kind: name
          id: 3293
          name: version
        - kind: str
          id: 3296
          value: key_hash
        - kind: name
          id: 3295
          name: key_hash
    depth: 3
  3310:
    kind: def
    id: 3310
    name: mark_node_as_orphaned
    qualifier: puredef
    expr:
      kind: lambda
      id: 3309
      params:
        - id: 3283
          name: tree
        - id: 3285
          name: orphaned_since_version
        - id: 3287
          name: version
        - id: 3289
          name: key_hash
      expr:
        kind: let
        id: 3308
        opdef:
          id: 3298
          name: orphan
          qualifier: pureval
          expr:
            kind: app
            id: 3297
            opcode: Rec
            args:
              - kind: str
                id: 3292
                value: orphaned_since_version
              - kind: name
                id: 3291
                name: orphaned_since_version
              - kind: str
                id: 3294
                value: version
              - kind: name
                id: 3293
                name: version
              - kind: str
                id: 3296
                value: key_hash
              - kind: name
                id: 3295
                name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3307
          opcode: with
          args:
            - kind: name
              id: 3299
              name: tree
            - kind: str
              id: 3306
              value: orphans
            - kind: app
              id: 3305
              opcode: union
              args:
                - kind: app
                  id: 3302
                  opcode: field
                  args:
                    - kind: name
                      id: 3300
                      name: tree
                    - kind: str
                      id: 3301
                      value: orphans
                - kind: app
                  id: 3304
                  opcode: Set
                  args:
                    - kind: name
                      id: 3303
                      name: orphan
    depth: 0
  3311:
    kind: typedef
    id: 3264
  3313:
    kind: typedef
    id: 3269
  3317:
    id: 3315
    name: orphans
  3319:
    id: 3318
    name: el
  3322:
    id: 3312
    name: nodeId
  3326:
    id: 3318
    name: el
  3329:
    id: 3312
    name: nodeId
  3337:
    kind: def
    id: 3337
    name: is_node_orphaned
    qualifier: puredef
    expr:
      kind: lambda
      id: 3336
      params:
        - id: 3312
          name: nodeId
        - id: 3315
          name: orphans
      expr:
        kind: app
        id: 3335
        opcode: exists
        args:
          - kind: name
            id: 3317
            name: orphans
          - kind: lambda
            id: 3334
            params:
              - id: 3318
                name: el
            expr:
              kind: app
              id: 3333
              opcode: and
              args:
                - kind: app
                  id: 3325
                  opcode: eq
                  args:
                    - kind: app
                      id: 3321
                      opcode: field
                      args:
                        - kind: name
                          id: 3319
                          name: el
                        - kind: str
                          id: 3320
                          value: version
                    - kind: app
                      id: 3324
                      opcode: field
                      args:
                        - kind: name
                          id: 3322
                          name: nodeId
                        - kind: str
                          id: 3323
                          value: version
                - kind: app
                  id: 3332
                  opcode: eq
                  args:
                    - kind: app
                      id: 3328
                      opcode: field
                      args:
                        - kind: name
                          id: 3326
                          name: el
                        - kind: str
                          id: 3327
                          value: key_hash
                    - kind: app
                      id: 3331
                      opcode: field
                      args:
                        - kind: name
                          id: 3329
                          name: nodeId
                        - kind: str
                          id: 3330
                          value: key_hash
    depth: 0
  3338:
    kind: typedef
    id: 3264
  3341:
    id: 3339
    name: key
  3344:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  3347:
    kind: def
    id: 3347
    name: isRoot
    qualifier: puredef
    expr:
      kind: lambda
      id: 3346
      params:
        - id: 3339
          name: key
      expr:
        kind: app
        id: 3345
        opcode: eq
        args:
          - kind: app
            id: 3343
            opcode: field
            args:
              - kind: name
                id: 3341
                name: key
              - kind: str
                id: 3342
                value: key_hash
          - kind: name
            id: 3344
            name: ROOT_BITS
    depth: 0
  3348:
    kind: typedef
    id: 3278
  3350:
    kind: typedef
    id: 3260
  3352:
    kind: typedef
    id: 3278
  3353:
    id: 3349
    name: tree
  3357:
    id: 3356
    name: orphan
  3360:
    id: 3351
    name: up_to_version
  3364:
    kind: def
    id: 3364
    name: orphans_to_be_removed
    qualifier: pureval
    expr:
      kind: app
      id: 3363
      opcode: filter
      args:
        - kind: app
          id: 3355
          opcode: field
          args:
            - kind: name
              id: 3353
              name: tree
            - kind: str
              id: 3354
              value: orphans
        - kind: lambda
          id: 3362
          params:
            - id: 3356
              name: orphan
          expr:
            kind: app
            id: 3361
            opcode: ilte
            args:
              - kind: app
                id: 3359
                opcode: field
                args:
                  - kind: name
                    id: 3357
                    name: orphan
                  - kind: str
                    id: 3358
                    value: orphaned_since_version
              - kind: name
                id: 3360
                name: up_to_version
    depth: 3
  3365:
    id: 3349
    name: tree
  3369:
    id: 3368
    name: orphan
  3372:
    id: 3351
    name: up_to_version
  3376:
    kind: def
    id: 3376
    name: prunned_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 3375
      opcode: filter
      args:
        - kind: app
          id: 3367
          opcode: field
          args:
            - kind: name
              id: 3365
              name: tree
            - kind: str
              id: 3366
              value: orphans
        - kind: lambda
          id: 3374
          params:
            - id: 3368
              name: orphan
          expr:
            kind: app
            id: 3373
            opcode: igt
            args:
              - kind: app
                id: 3371
                opcode: field
                args:
                  - kind: name
                    id: 3369
                    name: orphan
                  - kind: str
                    id: 3370
                    value: orphaned_since_version
              - kind: name
                id: 3372
                name: up_to_version
    depth: 4
  3377:
    id: 3349
    name: tree
  3382:
    id: 3381
    name: nodeId
  3383:
    kind: def
    id: 3364
    name: orphans_to_be_removed
    qualifier: pureval
    expr:
      kind: app
      id: 3363
      opcode: filter
      args:
        - kind: app
          id: 3355
          opcode: field
          args:
            - kind: name
              id: 3353
              name: tree
            - kind: str
              id: 3354
              value: orphans
        - kind: lambda
          id: 3362
          params:
            - id: 3356
              name: orphan
          expr:
            kind: app
            id: 3361
            opcode: ilte
            args:
              - kind: app
                id: 3359
                opcode: field
                args:
                  - kind: name
                    id: 3357
                    name: orphan
                  - kind: str
                    id: 3358
                    value: orphaned_since_version
              - kind: name
                id: 3360
                name: up_to_version
    depth: 3
  3384:
    kind: def
    id: 3337
    name: is_node_orphaned
    qualifier: puredef
    expr:
      kind: lambda
      id: 3336
      params:
        - id: 3312
          name: nodeId
        - id: 3315
          name: orphans
      expr:
        kind: app
        id: 3335
        opcode: exists
        args:
          - kind: name
            id: 3317
            name: orphans
          - kind: lambda
            id: 3334
            params:
              - id: 3318
                name: el
            expr:
              kind: app
              id: 3333
              opcode: and
              args:
                - kind: app
                  id: 3325
                  opcode: eq
                  args:
                    - kind: app
                      id: 3321
                      opcode: field
                      args:
                        - kind: name
                          id: 3319
                          name: el
                        - kind: str
                          id: 3320
                          value: version
                    - kind: app
                      id: 3324
                      opcode: field
                      args:
                        - kind: name
                          id: 3322
                          name: nodeId
                        - kind: str
                          id: 3323
                          value: version
                - kind: app
                  id: 3332
                  opcode: eq
                  args:
                    - kind: app
                      id: 3328
                      opcode: field
                      args:
                        - kind: name
                          id: 3326
                          name: el
                        - kind: str
                          id: 3327
                          value: key_hash
                    - kind: app
                      id: 3331
                      opcode: field
                      args:
                        - kind: name
                          id: 3329
                          name: nodeId
                        - kind: str
                          id: 3330
                          value: key_hash
    depth: 0
  3388:
    kind: def
    id: 3388
    name: keys_of_non_orphanes
    qualifier: pureval
    expr:
      kind: app
      id: 3387
      opcode: filter
      args:
        - kind: app
          id: 3380
          opcode: keys
          args:
            - kind: app
              id: 3379
              opcode: field
              args:
                - kind: name
                  id: 3377
                  name: tree
                - kind: str
                  id: 3378
                  value: nodes
        - kind: lambda
          id: 3386
          params:
            - id: 3381
              name: nodeId
          expr:
            kind: app
            id: 3385
            opcode: not
            args:
              - kind: app
                id: 3384
                opcode: is_node_orphaned
                args:
                  - kind: name
                    id: 3382
                    name: nodeId
                  - kind: name
                    id: 3383
                    name: orphans_to_be_removed
    depth: 5
  3389:
    kind: def
    id: 3388
    name: keys_of_non_orphanes
    qualifier: pureval
    expr:
      kind: app
      id: 3387
      opcode: filter
      args:
        - kind: app
          id: 3380
          opcode: keys
          args:
            - kind: app
              id: 3379
              opcode: field
              args:
                - kind: name
                  id: 3377
                  name: tree
                - kind: str
                  id: 3378
                  value: nodes
        - kind: lambda
          id: 3386
          params:
            - id: 3381
              name: nodeId
          expr:
            kind: app
            id: 3385
            opcode: not
            args:
              - kind: app
                id: 3384
                opcode: is_node_orphaned
                args:
                  - kind: name
                    id: 3382
                    name: nodeId
                  - kind: name
                    id: 3383
                    name: orphans_to_be_removed
    depth: 5
  3391:
    id: 3349
    name: tree
  3394:
    id: 3390
    name: x
  3398:
    kind: def
    id: 3398
    name: updated_nodes
    qualifier: pureval
    expr:
      kind: app
      id: 3397
      opcode: mapBy
      args:
        - kind: name
          id: 3389
          name: keys_of_non_orphanes
        - kind: lambda
          id: 3396
          params:
            - id: 3390
              name: x
          expr:
            kind: app
            id: 3395
            opcode: get
            args:
              - kind: app
                id: 3393
                opcode: field
                args:
                  - kind: name
                    id: 3391
                    name: tree
                  - kind: str
                    id: 3392
                    value: nodes
              - kind: name
                id: 3394
                name: x
    depth: 6
  3399:
    kind: def
    id: 3398
    name: updated_nodes
    qualifier: pureval
    expr:
      kind: app
      id: 3397
      opcode: mapBy
      args:
        - kind: name
          id: 3389
          name: keys_of_non_orphanes
        - kind: lambda
          id: 3396
          params:
            - id: 3390
              name: x
          expr:
            kind: app
            id: 3395
            opcode: get
            args:
              - kind: app
                id: 3393
                opcode: field
                args:
                  - kind: name
                    id: 3391
                    name: tree
                  - kind: str
                    id: 3392
                    value: nodes
              - kind: name
                id: 3394
                name: x
    depth: 6
  3401:
    kind: def
    id: 3376
    name: prunned_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 3375
      opcode: filter
      args:
        - kind: app
          id: 3367
          opcode: field
          args:
            - kind: name
              id: 3365
              name: tree
            - kind: str
              id: 3366
              value: orphans
        - kind: lambda
          id: 3374
          params:
            - id: 3368
              name: orphan
          expr:
            kind: app
            id: 3373
            opcode: igt
            args:
              - kind: app
                id: 3371
                opcode: field
                args:
                  - kind: name
                    id: 3369
                    name: orphan
                  - kind: str
                    id: 3370
                    value: orphaned_since_version
              - kind: name
                id: 3372
                name: up_to_version
    depth: 4
  3409:
    kind: def
    id: 3409
    name: prune
    qualifier: puredef
    expr:
      kind: lambda
      id: 3408
      params:
        - id: 3349
          name: tree
        - id: 3351
          name: up_to_version
      expr:
        kind: let
        id: 3407
        opdef:
          id: 3364
          name: orphans_to_be_removed
          qualifier: pureval
          expr:
            kind: app
            id: 3363
            opcode: filter
            args:
              - kind: app
                id: 3355
                opcode: field
                args:
                  - kind: name
                    id: 3353
                    name: tree
                  - kind: str
                    id: 3354
                    value: orphans
              - kind: lambda
                id: 3362
                params:
                  - id: 3356
                    name: orphan
                expr:
                  kind: app
                  id: 3361
                  opcode: ilte
                  args:
                    - kind: app
                      id: 3359
                      opcode: field
                      args:
                        - kind: name
                          id: 3357
                          name: orphan
                        - kind: str
                          id: 3358
                          value: orphaned_since_version
                    - kind: name
                      id: 3360
                      name: up_to_version
          depth: ~
        expr:
          kind: let
          id: 3406
          opdef:
            id: 3376
            name: prunned_orphans
            qualifier: pureval
            expr:
              kind: app
              id: 3375
              opcode: filter
              args:
                - kind: app
                  id: 3367
                  opcode: field
                  args:
                    - kind: name
                      id: 3365
                      name: tree
                    - kind: str
                      id: 3366
                      value: orphans
                - kind: lambda
                  id: 3374
                  params:
                    - id: 3368
                      name: orphan
                  expr:
                    kind: app
                    id: 3373
                    opcode: igt
                    args:
                      - kind: app
                        id: 3371
                        opcode: field
                        args:
                          - kind: name
                            id: 3369
                            name: orphan
                          - kind: str
                            id: 3370
                            value: orphaned_since_version
                      - kind: name
                        id: 3372
                        name: up_to_version
            depth: ~
          expr:
            kind: let
            id: 3405
            opdef:
              id: 3388
              name: keys_of_non_orphanes
              qualifier: pureval
              expr:
                kind: app
                id: 3387
                opcode: filter
                args:
                  - kind: app
                    id: 3380
                    opcode: keys
                    args:
                      - kind: app
                        id: 3379
                        opcode: field
                        args:
                          - kind: name
                            id: 3377
                            name: tree
                          - kind: str
                            id: 3378
                            value: nodes
                  - kind: lambda
                    id: 3386
                    params:
                      - id: 3381
                        name: nodeId
                    expr:
                      kind: app
                      id: 3385
                      opcode: not
                      args:
                        - kind: app
                          id: 3384
                          opcode: is_node_orphaned
                          args:
                            - kind: name
                              id: 3382
                              name: nodeId
                            - kind: name
                              id: 3383
                              name: orphans_to_be_removed
              depth: ~
            expr:
              kind: let
              id: 3404
              opdef:
                id: 3398
                name: updated_nodes
                qualifier: pureval
                expr:
                  kind: app
                  id: 3397
                  opcode: mapBy
                  args:
                    - kind: name
                      id: 3389
                      name: keys_of_non_orphanes
                    - kind: lambda
                      id: 3396
                      params:
                        - id: 3390
                          name: x
                      expr:
                        kind: app
                        id: 3395
                        opcode: get
                        args:
                          - kind: app
                            id: 3393
                            opcode: field
                            args:
                              - kind: name
                                id: 3391
                                name: tree
                              - kind: str
                                id: 3392
                                value: nodes
                          - kind: name
                            id: 3394
                            name: x
                depth: ~
              expr:
                kind: app
                id: 3403
                opcode: Rec
                args:
                  - kind: str
                    id: 3400
                    value: nodes
                  - kind: name
                    id: 3399
                    name: updated_nodes
                  - kind: str
                    id: 3402
                    value: orphans
                  - kind: name
                    id: 3401
                    name: prunned_orphans
    depth: 0
  3410:
    kind: typedef
    id: 3273
  3412:
    kind: typedef
    id: 3897
  3414:
    id: 3411
    name: t
  3419:
    id: 3417
    name: s
  3420:
    id: 3411
    name: t
  3421:
    id: 3418
    name: x
  3427:
    kind: def
    id: 3427
    name: allNodes
    qualifier: val
    expr:
      kind: app
      id: 3426
      opcode: fold
      args:
        - kind: app
          id: 3415
          opcode: keys
          args:
            - kind: name
              id: 3414
              name: t
        - kind: app
          id: 3416
          opcode: Set
          args: []
        - kind: lambda
          id: 3425
          params:
            - id: 3417
              name: s
            - id: 3418
              name: x
          expr:
            kind: app
            id: 3424
            opcode: union
            args:
              - kind: name
                id: 3419
                name: s
              - kind: app
                id: 3423
                opcode: Set
                args:
                  - kind: app
                    id: 3422
                    opcode: get
                    args:
                      - kind: name
                        id: 3420
                        name: t
                      - kind: name
                        id: 3421
                        name: x
    depth: 3
  3428:
    kind: def
    id: 3427
    name: allNodes
    qualifier: val
    expr:
      kind: app
      id: 3426
      opcode: fold
      args:
        - kind: app
          id: 3415
          opcode: keys
          args:
            - kind: name
              id: 3414
              name: t
        - kind: app
          id: 3416
          opcode: Set
          args: []
        - kind: lambda
          id: 3425
          params:
            - id: 3417
              name: s
            - id: 3418
              name: x
          expr:
            kind: app
            id: 3424
            opcode: union
            args:
              - kind: name
                id: 3419
                name: s
              - kind: app
                id: 3423
                opcode: Set
                args:
                  - kind: app
                    id: 3422
                    opcode: get
                    args:
                      - kind: name
                        id: 3420
                        name: t
                      - kind: name
                        id: 3421
                        name: x
    depth: 3
  3432:
    id: 3431
    name: x
  3433:
    id: 3430
    name: s
  3434:
    id: 3430
    name: s
  3435:
    id: 3444
    name: x
  3449:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  3450:
    kind: typedef
    id: 3273
  3452:
    kind: typedef
    id: 3264
  3453:
    kind: typedef
    id: 3893
  3455:
    id: 3451
    name: t
  3460:
    id: 3451
    name: t
  3461:
    id: 3459
    name: key
  3463:
    id: 3458
    name: internals
  3464:
    id: 3459
    name: key
  3465:
    id: 3471
    name: x
  3467:
    id: 3458
    name: internals
  3478:
    kind: def
    id: 3478
    name: allInternals
    qualifier: puredef
    expr:
      kind: lambda
      id: 3477
      params:
        - id: 3451
          name: t
      expr:
        kind: app
        id: 3476
        opcode: fold
        args:
          - kind: app
            id: 3456
            opcode: keys
            args:
              - kind: name
                id: 3455
                name: t
          - kind: app
            id: 3457
            opcode: Map
            args: []
          - kind: lambda
            id: 3475
            params:
              - id: 3458
                name: internals
              - id: 3459
                name: key
            expr:
              kind: app
              id: 3468
              opcode: matchVariant
              args:
                - kind: app
                  id: 3462
                  opcode: get
                  args:
                    - kind: name
                      id: 3460
                      name: t
                    - kind: name
                      id: 3461
                      name: key
                - kind: str
                  id: 3469
                  value: Internal
                - kind: lambda
                  id: 3470
                  params:
                    - id: 3471
                      name: x
                  expr:
                    kind: app
                    id: 3466
                    opcode: put
                    args:
                      - kind: name
                        id: 3463
                        name: internals
                      - kind: name
                        id: 3464
                        name: key
                      - kind: name
                        id: 3465
                        name: x
                - kind: str
                  id: 3472
                  value: Leaf
                - kind: lambda
                  id: 3473
                  params:
                    - id: 3474
                      name: _
                  expr:
                    kind: name
                    id: 3467
                    name: internals
    depth: 0
  3479:
    kind: typedef
    id: 3278
  3482:
    id: 3480
    name: t
  3487:
    id: 3486
    name: nId
  3498:
    id: 3497
    name: x
  3501:
    id: 3496
    name: s
  3503:
    id: 3497
    name: x
  3506:
    id: 3496
    name: s
  3511:
    kind: def
    id: 3511
    name: treeVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3510
      params:
        - id: 3480
          name: t
      expr:
        kind: app
        id: 3509
        opcode: fold
        args:
          - kind: app
            id: 3493
            opcode: filter
            args:
              - kind: app
                id: 3485
                opcode: keys
                args:
                  - kind: app
                    id: 3484
                    opcode: field
                    args:
                      - kind: name
                        id: 3482
                        name: t
                      - kind: str
                        id: 3483
                        value: nodes
              - kind: lambda
                id: 3492
                params:
                  - id: 3486
                    name: nId
                expr:
                  kind: app
                  id: 3491
                  opcode: eq
                  args:
                    - kind: app
                      id: 3489
                      opcode: field
                      args:
                        - kind: name
                          id: 3487
                          name: nId
                        - kind: str
                          id: 3488
                          value: key_hash
                    - kind: app
                      id: 3490
                      opcode: List
                      args: []
          - kind: app
            id: 3495
            opcode: iuminus
            args:
              - kind: int
                id: 3494
                value: 1
          - kind: lambda
            id: 3508
            params:
              - id: 3496
                name: s
              - id: 3497
                name: x
            expr:
              kind: app
              id: 3507
              opcode: ite
              args:
                - kind: app
                  id: 3502
                  opcode: igt
                  args:
                    - kind: app
                      id: 3500
                      opcode: field
                      args:
                        - kind: name
                          id: 3498
                          name: x
                        - kind: str
                          id: 3499
                          value: version
                    - kind: name
                      id: 3501
                      name: s
                - kind: app
                  id: 3505
                  opcode: field
                  args:
                    - kind: name
                      id: 3503
                      name: x
                    - kind: str
                      id: 3504
                      value: version
                - kind: name
                  id: 3506
                  name: s
    depth: 0
  3512:
    kind: typedef
    id: 3273
  3514:
    kind: typedef
    id: 3258
  3516:
    id: 3513
    name: nodes
  3521:
    id: 3513
    name: nodes
  3522:
    id: 3520
    name: x
  3524:
    id: 3563
    name: n
  3527:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  3529:
    id: 3520
    name: x
  3537:
    kind: def
    id: 3537
    name: lc
    qualifier: val
    expr:
      kind: app
      id: 3536
      opcode: ite
      args:
        - kind: app
          id: 3528
          opcode: neq
          args:
            - kind: app
              id: 3526
              opcode: field
              args:
                - kind: name
                  id: 3524
                  name: n
                - kind: str
                  id: 3525
                  value: left_child
            - kind: name
              id: 3527
              name: None
        - kind: app
          id: 3534
          opcode: Set
          args:
            - kind: app
              id: 3533
              opcode: append
              args:
                - kind: app
                  id: 3531
                  opcode: field
                  args:
                    - kind: name
                      id: 3529
                      name: x
                    - kind: str
                      id: 3530
                      value: key_hash
                - kind: int
                  id: 3532
                  value: 0
        - kind: app
          id: 3535
          opcode: Set
          args: []
    depth: 7
  3538:
    id: 3563
    name: n
  3541:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  3543:
    id: 3520
    name: x
  3551:
    kind: def
    id: 3551
    name: rc
    qualifier: val
    expr:
      kind: app
      id: 3550
      opcode: ite
      args:
        - kind: app
          id: 3542
          opcode: neq
          args:
            - kind: app
              id: 3540
              opcode: field
              args:
                - kind: name
                  id: 3538
                  name: n
                - kind: str
                  id: 3539
                  value: right_child
            - kind: name
              id: 3541
              name: None
        - kind: app
          id: 3548
          opcode: Set
          args:
            - kind: app
              id: 3547
              opcode: append
              args:
                - kind: app
                  id: 3545
                  opcode: field
                  args:
                    - kind: name
                      id: 3543
                      name: x
                    - kind: str
                      id: 3544
                      value: key_hash
                - kind: int
                  id: 3546
                  value: 1
        - kind: app
          id: 3549
          opcode: Set
          args: []
    depth: 8
  3552:
    id: 3519
    name: s
  3553:
    kind: def
    id: 3537
    name: lc
    qualifier: val
    expr:
      kind: app
      id: 3536
      opcode: ite
      args:
        - kind: app
          id: 3528
          opcode: neq
          args:
            - kind: app
              id: 3526
              opcode: field
              args:
                - kind: name
                  id: 3524
                  name: n
                - kind: str
                  id: 3525
                  value: left_child
            - kind: name
              id: 3527
              name: None
        - kind: app
          id: 3534
          opcode: Set
          args:
            - kind: app
              id: 3533
              opcode: append
              args:
                - kind: app
                  id: 3531
                  opcode: field
                  args:
                    - kind: name
                      id: 3529
                      name: x
                    - kind: str
                      id: 3530
                      value: key_hash
                - kind: int
                  id: 3532
                  value: 0
        - kind: app
          id: 3535
          opcode: Set
          args: []
    depth: 7
  3555:
    kind: def
    id: 3551
    name: rc
    qualifier: val
    expr:
      kind: app
      id: 3550
      opcode: ite
      args:
        - kind: app
          id: 3542
          opcode: neq
          args:
            - kind: app
              id: 3540
              opcode: field
              args:
                - kind: name
                  id: 3538
                  name: n
                - kind: str
                  id: 3539
                  value: right_child
            - kind: name
              id: 3541
              name: None
        - kind: app
          id: 3548
          opcode: Set
          args:
            - kind: app
              id: 3547
              opcode: append
              args:
                - kind: app
                  id: 3545
                  opcode: field
                  args:
                    - kind: name
                      id: 3543
                      name: x
                    - kind: str
                      id: 3544
                      value: key_hash
                - kind: int
                  id: 3546
                  value: 1
        - kind: app
          id: 3549
          opcode: Set
          args: []
    depth: 8
  3559:
    id: 3519
    name: s
  3569:
    kind: def
    id: 3569
    name: allChildren
    qualifier: val
    expr:
      kind: app
      id: 3568
      opcode: fold
      args:
        - kind: app
          id: 3517
          opcode: keys
          args:
            - kind: name
              id: 3516
              name: nodes
        - kind: app
          id: 3518
          opcode: Set
          args: []
        - kind: lambda
          id: 3567
          params:
            - id: 3519
              name: s
            - id: 3520
              name: x
          expr:
            kind: app
            id: 3560
            opcode: matchVariant
            args:
              - kind: app
                id: 3523
                opcode: get
                args:
                  - kind: name
                    id: 3521
                    name: nodes
                  - kind: name
                    id: 3522
                    name: x
              - kind: str
                id: 3561
                value: Internal
              - kind: lambda
                id: 3562
                params:
                  - id: 3563
                    name: n
                expr:
                  kind: let
                  id: 3558
                  opdef:
                    id: 3537
                    name: lc
                    qualifier: val
                    expr:
                      kind: app
                      id: 3536
                      opcode: ite
                      args:
                        - kind: app
                          id: 3528
                          opcode: neq
                          args:
                            - kind: app
                              id: 3526
                              opcode: field
                              args:
                                - kind: name
                                  id: 3524
                                  name: n
                                - kind: str
                                  id: 3525
                                  value: left_child
                            - kind: name
                              id: 3527
                              name: None
                        - kind: app
                          id: 3534
                          opcode: Set
                          args:
                            - kind: app
                              id: 3533
                              opcode: append
                              args:
                                - kind: app
                                  id: 3531
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 3529
                                      name: x
                                    - kind: str
                                      id: 3530
                                      value: key_hash
                                - kind: int
                                  id: 3532
                                  value: 0
                        - kind: app
                          id: 3535
                          opcode: Set
                          args: []
                    depth: ~
                  expr:
                    kind: let
                    id: 3557
                    opdef:
                      id: 3551
                      name: rc
                      qualifier: val
                      expr:
                        kind: app
                        id: 3550
                        opcode: ite
                        args:
                          - kind: app
                            id: 3542
                            opcode: neq
                            args:
                              - kind: app
                                id: 3540
                                opcode: field
                                args:
                                  - kind: name
                                    id: 3538
                                    name: n
                                  - kind: str
                                    id: 3539
                                    value: right_child
                              - kind: name
                                id: 3541
                                name: None
                          - kind: app
                            id: 3548
                            opcode: Set
                            args:
                              - kind: app
                                id: 3547
                                opcode: append
                                args:
                                  - kind: app
                                    id: 3545
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 3543
                                        name: x
                                      - kind: str
                                        id: 3544
                                        value: key_hash
                                  - kind: int
                                    id: 3546
                                    value: 1
                          - kind: app
                            id: 3549
                            opcode: Set
                            args: []
                      depth: ~
                    expr:
                      kind: app
                      id: 3556
                      opcode: union
                      args:
                        - kind: app
                          id: 3554
                          opcode: union
                          args:
                            - kind: name
                              id: 3552
                              name: s
                            - kind: name
                              id: 3553
                              name: lc
                        - kind: name
                          id: 3555
                          name: rc
              - kind: str
                id: 3564
                value: Leaf
              - kind: lambda
                id: 3565
                params:
                  - id: 3566
                    name: _
                expr:
                  kind: name
                  id: 3559
                  name: s
    depth: 3
  3570:
    kind: def
    id: 3569
    name: allChildren
    qualifier: val
    expr:
      kind: app
      id: 3568
      opcode: fold
      args:
        - kind: app
          id: 3517
          opcode: keys
          args:
            - kind: name
              id: 3516
              name: nodes
        - kind: app
          id: 3518
          opcode: Set
          args: []
        - kind: lambda
          id: 3567
          params:
            - id: 3519
              name: s
            - id: 3520
              name: x
          expr:
            kind: app
            id: 3560
            opcode: matchVariant
            args:
              - kind: app
                id: 3523
                opcode: get
                args:
                  - kind: name
                    id: 3521
                    name: nodes
                  - kind: name
                    id: 3522
                    name: x
              - kind: str
                id: 3561
                value: Internal
              - kind: lambda
                id: 3562
                params:
                  - id: 3563
                    name: n
                expr:
                  kind: let
                  id: 3558
                  opdef:
                    id: 3537
                    name: lc
                    qualifier: val
                    expr:
                      kind: app
                      id: 3536
                      opcode: ite
                      args:
                        - kind: app
                          id: 3528
                          opcode: neq
                          args:
                            - kind: app
                              id: 3526
                              opcode: field
                              args:
                                - kind: name
                                  id: 3524
                                  name: n
                                - kind: str
                                  id: 3525
                                  value: left_child
                            - kind: name
                              id: 3527
                              name: None
                        - kind: app
                          id: 3534
                          opcode: Set
                          args:
                            - kind: app
                              id: 3533
                              opcode: append
                              args:
                                - kind: app
                                  id: 3531
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 3529
                                      name: x
                                    - kind: str
                                      id: 3530
                                      value: key_hash
                                - kind: int
                                  id: 3532
                                  value: 0
                        - kind: app
                          id: 3535
                          opcode: Set
                          args: []
                    depth: ~
                  expr:
                    kind: let
                    id: 3557
                    opdef:
                      id: 3551
                      name: rc
                      qualifier: val
                      expr:
                        kind: app
                        id: 3550
                        opcode: ite
                        args:
                          - kind: app
                            id: 3542
                            opcode: neq
                            args:
                              - kind: app
                                id: 3540
                                opcode: field
                                args:
                                  - kind: name
                                    id: 3538
                                    name: n
                                  - kind: str
                                    id: 3539
                                    value: right_child
                              - kind: name
                                id: 3541
                                name: None
                          - kind: app
                            id: 3548
                            opcode: Set
                            args:
                              - kind: app
                                id: 3547
                                opcode: append
                                args:
                                  - kind: app
                                    id: 3545
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 3543
                                        name: x
                                      - kind: str
                                        id: 3544
                                        value: key_hash
                                  - kind: int
                                    id: 3546
                                    value: 1
                          - kind: app
                            id: 3549
                            opcode: Set
                            args: []
                      depth: ~
                    expr:
                      kind: app
                      id: 3556
                      opcode: union
                      args:
                        - kind: app
                          id: 3554
                          opcode: union
                          args:
                            - kind: name
                              id: 3552
                              name: s
                            - kind: name
                              id: 3553
                              name: lc
                        - kind: name
                          id: 3555
                          name: rc
              - kind: str
                id: 3564
                value: Leaf
              - kind: lambda
                id: 3565
                params:
                  - id: 3566
                    name: _
                expr:
                  kind: name
                  id: 3559
                  name: s
    depth: 3
  3571:
    id: 3513
    name: nodes
  3574:
    id: 3573
    name: nId
  3582:
    kind: def
    id: 3582
    name: childrenPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 3581
      params:
        - id: 3513
          name: nodes
      expr:
        kind: let
        id: 3580
        opdef:
          id: 3569
          name: allChildren
          qualifier: val
          expr:
            kind: app
            id: 3568
            opcode: fold
            args:
              - kind: app
                id: 3517
                opcode: keys
                args:
                  - kind: name
                    id: 3516
                    name: nodes
              - kind: app
                id: 3518
                opcode: Set
                args: []
              - kind: lambda
                id: 3567
                params:
                  - id: 3519
                    name: s
                  - id: 3520
                    name: x
                expr:
                  kind: app
                  id: 3560
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 3523
                      opcode: get
                      args:
                        - kind: name
                          id: 3521
                          name: nodes
                        - kind: name
                          id: 3522
                          name: x
                    - kind: str
                      id: 3561
                      value: Internal
                    - kind: lambda
                      id: 3562
                      params:
                        - id: 3563
                          name: n
                      expr:
                        kind: let
                        id: 3558
                        opdef:
                          id: 3537
                          name: lc
                          qualifier: val
                          expr:
                            kind: app
                            id: 3536
                            opcode: ite
                            args:
                              - kind: app
                                id: 3528
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 3526
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 3524
                                        name: n
                                      - kind: str
                                        id: 3525
                                        value: left_child
                                  - kind: name
                                    id: 3527
                                    name: None
                              - kind: app
                                id: 3534
                                opcode: Set
                                args:
                                  - kind: app
                                    id: 3533
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 3531
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 3529
                                            name: x
                                          - kind: str
                                            id: 3530
                                            value: key_hash
                                      - kind: int
                                        id: 3532
                                        value: 0
                              - kind: app
                                id: 3535
                                opcode: Set
                                args: []
                          depth: ~
                        expr:
                          kind: let
                          id: 3557
                          opdef:
                            id: 3551
                            name: rc
                            qualifier: val
                            expr:
                              kind: app
                              id: 3550
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3542
                                  opcode: neq
                                  args:
                                    - kind: app
                                      id: 3540
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 3538
                                          name: n
                                        - kind: str
                                          id: 3539
                                          value: right_child
                                    - kind: name
                                      id: 3541
                                      name: None
                                - kind: app
                                  id: 3548
                                  opcode: Set
                                  args:
                                    - kind: app
                                      id: 3547
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 3545
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 3543
                                              name: x
                                            - kind: str
                                              id: 3544
                                              value: key_hash
                                        - kind: int
                                          id: 3546
                                          value: 1
                                - kind: app
                                  id: 3549
                                  opcode: Set
                                  args: []
                            depth: ~
                          expr:
                            kind: app
                            id: 3556
                            opcode: union
                            args:
                              - kind: app
                                id: 3554
                                opcode: union
                                args:
                                  - kind: name
                                    id: 3552
                                    name: s
                                  - kind: name
                                    id: 3553
                                    name: lc
                              - kind: name
                                id: 3555
                                name: rc
                    - kind: str
                      id: 3564
                      value: Leaf
                    - kind: lambda
                      id: 3565
                      params:
                        - id: 3566
                          name: _
                      expr:
                        kind: name
                        id: 3559
                        name: s
          depth: ~
        expr:
          kind: app
          id: 3579
          opcode: exclude
          args:
            - kind: name
              id: 3570
              name: allChildren
            - kind: app
              id: 3578
              opcode: map
              args:
                - kind: app
                  id: 3572
                  opcode: keys
                  args:
                    - kind: name
                      id: 3571
                      name: nodes
                - kind: lambda
                  id: 3577
                  params:
                    - id: 3573
                      name: nId
                  expr:
                    kind: app
                    id: 3576
                    opcode: field
                    args:
                      - kind: name
                        id: 3574
                        name: nId
                      - kind: str
                        id: 3575
                        value: key_hash
    depth: 0
  3583:
    kind: typedef
    id: 3273
  3585:
    kind: typedef
    id: 3258
  3587:
    kind: typedef
    id: 3264
  3593:
    id: 3586
    name: key
  3596:
    kind: def
    id: 3596
    name: default
    qualifier: val
    expr:
      kind: app
      id: 3595
      opcode: Rec
      args:
        - kind: str
          id: 3592
          value: version
        - kind: app
          id: 3591
          opcode: iuminus
          args:
            - kind: int
              id: 3590
              value: 1
        - kind: str
          id: 3594
          value: key_hash
        - kind: name
          id: 3593
          name: key
    depth: 3
  3597:
    id: 3584
    name: nodes
  3600:
    id: 3599
    name: nId
  3603:
    id: 3586
    name: key
  3607:
    kind: def
    id: 3596
    name: default
    qualifier: val
    expr:
      kind: app
      id: 3595
      opcode: Rec
      args:
        - kind: str
          id: 3592
          value: version
        - kind: app
          id: 3591
          opcode: iuminus
          args:
            - kind: int
              id: 3590
              value: 1
        - kind: str
          id: 3594
          value: key_hash
        - kind: name
          id: 3593
          name: key
    depth: 3
  3610:
    id: 3609
    name: e
  3613:
    id: 3608
    name: acc
  3617:
    id: 3609
    name: e
  3618:
    id: 3608
    name: acc
  3622:
    kind: def
    id: 3622
    name: result
    qualifier: val
    expr:
      kind: app
      id: 3621
      opcode: fold
      args:
        - kind: app
          id: 3606
          opcode: filter
          args:
            - kind: app
              id: 3598
              opcode: keys
              args:
                - kind: name
                  id: 3597
                  name: nodes
            - kind: lambda
              id: 3605
              params:
                - id: 3599
                  name: nId
              expr:
                kind: app
                id: 3604
                opcode: eq
                args:
                  - kind: app
                    id: 3602
                    opcode: field
                    args:
                      - kind: name
                        id: 3600
                        name: nId
                      - kind: str
                        id: 3601
                        value: key_hash
                  - kind: name
                    id: 3603
                    name: key
        - kind: name
          id: 3607
          name: default
        - kind: lambda
          id: 3620
          params:
            - id: 3608
              name: acc
            - id: 3609
              name: e
          expr:
            kind: app
            id: 3619
            opcode: ite
            args:
              - kind: app
                id: 3616
                opcode: igt
                args:
                  - kind: app
                    id: 3612
                    opcode: field
                    args:
                      - kind: name
                        id: 3610
                        name: e
                      - kind: str
                        id: 3611
                        value: version
                  - kind: app
                    id: 3615
                    opcode: field
                    args:
                      - kind: name
                        id: 3613
                        name: acc
                      - kind: str
                        id: 3614
                        value: version
              - kind: name
                id: 3617
                name: e
              - kind: name
                id: 3618
                name: acc
    depth: 4
  3623:
    kind: def
    id: 3622
    name: result
    qualifier: val
    expr:
      kind: app
      id: 3621
      opcode: fold
      args:
        - kind: app
          id: 3606
          opcode: filter
          args:
            - kind: app
              id: 3598
              opcode: keys
              args:
                - kind: name
                  id: 3597
                  name: nodes
            - kind: lambda
              id: 3605
              params:
                - id: 3599
                  name: nId
              expr:
                kind: app
                id: 3604
                opcode: eq
                args:
                  - kind: app
                    id: 3602
                    opcode: field
                    args:
                      - kind: name
                        id: 3600
                        name: nId
                      - kind: str
                        id: 3601
                        value: key_hash
                  - kind: name
                    id: 3603
                    name: key
        - kind: name
          id: 3607
          name: default
        - kind: lambda
          id: 3620
          params:
            - id: 3608
              name: acc
            - id: 3609
              name: e
          expr:
            kind: app
            id: 3619
            opcode: ite
            args:
              - kind: app
                id: 3616
                opcode: igt
                args:
                  - kind: app
                    id: 3612
                    opcode: field
                    args:
                      - kind: name
                        id: 3610
                        name: e
                      - kind: str
                        id: 3611
                        value: version
                  - kind: app
                    id: 3615
                    opcode: field
                    args:
                      - kind: name
                        id: 3613
                        name: acc
                      - kind: str
                        id: 3614
                        value: version
              - kind: name
                id: 3617
                name: e
              - kind: name
                id: 3618
                name: acc
    depth: 4
  3624:
    kind: def
    id: 3596
    name: default
    qualifier: val
    expr:
      kind: app
      id: 3595
      opcode: Rec
      args:
        - kind: str
          id: 3592
          value: version
        - kind: app
          id: 3591
          opcode: iuminus
          args:
            - kind: int
              id: 3590
              value: 1
        - kind: str
          id: 3594
          value: key_hash
        - kind: name
          id: 3593
          name: key
    depth: 3
  3626:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  3627:
    kind: def
    id: 3622
    name: result
    qualifier: val
    expr:
      kind: app
      id: 3621
      opcode: fold
      args:
        - kind: app
          id: 3606
          opcode: filter
          args:
            - kind: app
              id: 3598
              opcode: keys
              args:
                - kind: name
                  id: 3597
                  name: nodes
            - kind: lambda
              id: 3605
              params:
                - id: 3599
                  name: nId
              expr:
                kind: app
                id: 3604
                opcode: eq
                args:
                  - kind: app
                    id: 3602
                    opcode: field
                    args:
                      - kind: name
                        id: 3600
                        name: nId
                      - kind: str
                        id: 3601
                        value: key_hash
                  - kind: name
                    id: 3603
                    name: key
        - kind: name
          id: 3607
          name: default
        - kind: lambda
          id: 3620
          params:
            - id: 3608
              name: acc
            - id: 3609
              name: e
          expr:
            kind: app
            id: 3619
            opcode: ite
            args:
              - kind: app
                id: 3616
                opcode: igt
                args:
                  - kind: app
                    id: 3612
                    opcode: field
                    args:
                      - kind: name
                        id: 3610
                        name: e
                      - kind: str
                        id: 3611
                        value: version
                  - kind: app
                    id: 3615
                    opcode: field
                    args:
                      - kind: name
                        id: 3613
                        name: acc
                      - kind: str
                        id: 3614
                        value: version
              - kind: name
                id: 3617
                name: e
              - kind: name
                id: 3618
                name: acc
    depth: 4
  3628:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  3633:
    kind: def
    id: 3633
    name: mostRecentNodeId
    qualifier: puredef
    expr:
      kind: lambda
      id: 3632
      params:
        - id: 3584
          name: nodes
        - id: 3586
          name: key
      expr:
        kind: let
        id: 3631
        opdef:
          id: 3596
          name: default
          qualifier: val
          expr:
            kind: app
            id: 3595
            opcode: Rec
            args:
              - kind: str
                id: 3592
                value: version
              - kind: app
                id: 3591
                opcode: iuminus
                args:
                  - kind: int
                    id: 3590
                    value: 1
              - kind: str
                id: 3594
                value: key_hash
              - kind: name
                id: 3593
                name: key
          depth: ~
        expr:
          kind: let
          id: 3630
          opdef:
            id: 3622
            name: result
            qualifier: val
            expr:
              kind: app
              id: 3621
              opcode: fold
              args:
                - kind: app
                  id: 3606
                  opcode: filter
                  args:
                    - kind: app
                      id: 3598
                      opcode: keys
                      args:
                        - kind: name
                          id: 3597
                          name: nodes
                    - kind: lambda
                      id: 3605
                      params:
                        - id: 3599
                          name: nId
                      expr:
                        kind: app
                        id: 3604
                        opcode: eq
                        args:
                          - kind: app
                            id: 3602
                            opcode: field
                            args:
                              - kind: name
                                id: 3600
                                name: nId
                              - kind: str
                                id: 3601
                                value: key_hash
                          - kind: name
                            id: 3603
                            name: key
                - kind: name
                  id: 3607
                  name: default
                - kind: lambda
                  id: 3620
                  params:
                    - id: 3608
                      name: acc
                    - id: 3609
                      name: e
                  expr:
                    kind: app
                    id: 3619
                    opcode: ite
                    args:
                      - kind: app
                        id: 3616
                        opcode: igt
                        args:
                          - kind: app
                            id: 3612
                            opcode: field
                            args:
                              - kind: name
                                id: 3610
                                name: e
                              - kind: str
                                id: 3611
                                value: version
                          - kind: app
                            id: 3615
                            opcode: field
                            args:
                              - kind: name
                                id: 3613
                                name: acc
                              - kind: str
                                id: 3614
                                value: version
                      - kind: name
                        id: 3617
                        name: e
                      - kind: name
                        id: 3618
                        name: acc
            depth: ~
          expr:
            kind: app
            id: 3629
            opcode: ite
            args:
              - kind: app
                id: 3625
                opcode: eq
                args:
                  - kind: name
                    id: 3623
                    name: result
                  - kind: name
                    id: 3624
                    name: default
              - kind: name
                id: 3626
                name: None
              - kind: app
                id: 3628
                opcode: Some
                args:
                  - kind: name
                    id: 3627
                    name: result
    depth: 0
  3634:
    kind: typedef
    id: 3273
  3638:
    kind: typedef
    id: 3273
  3639:
    id: 3635
    name: t
  3642:
    id: 3641
    name: nId
  3645:
    id: 3637
    name: version
  3650:
    id: 3635
    name: t
  3651:
    id: 3649
    name: nId
  3656:
    kind: def
    id: 3656
    name: nodesAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3655
      params:
        - id: 3635
          name: t
        - id: 3637
          name: version
      expr:
        kind: app
        id: 3654
        opcode: mapBy
        args:
          - kind: app
            id: 3648
            opcode: filter
            args:
              - kind: app
                id: 3640
                opcode: keys
                args:
                  - kind: name
                    id: 3639
                    name: t
              - kind: lambda
                id: 3647
                params:
                  - id: 3641
                    name: nId
                expr:
                  kind: app
                  id: 3646
                  opcode: eq
                  args:
                    - kind: app
                      id: 3644
                      opcode: field
                      args:
                        - kind: name
                          id: 3642
                          name: nId
                        - kind: str
                          id: 3643
                          value: version
                    - kind: name
                      id: 3645
                      name: version
          - kind: lambda
            id: 3653
            params:
              - id: 3649
                name: nId
            expr:
              kind: app
              id: 3652
              opcode: get
              args:
                - kind: name
                  id: 3650
                  name: t
                - kind: name
                  id: 3651
                  name: nId
    depth: 0
  3657:
    kind: typedef
    id: 3273
  3661:
    kind: typedef
    id: 3273
  3662:
    id: 3658
    name: t
  3665:
    id: 3664
    name: nId
  3668:
    id: 3660
    name: version
  3673:
    id: 3658
    name: t
  3674:
    id: 3672
    name: nId
  3679:
    kind: def
    id: 3679
    name: nodesUpToVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3678
      params:
        - id: 3658
          name: t
        - id: 3660
          name: version
      expr:
        kind: app
        id: 3677
        opcode: mapBy
        args:
          - kind: app
            id: 3671
            opcode: filter
            args:
              - kind: app
                id: 3663
                opcode: keys
                args:
                  - kind: name
                    id: 3662
                    name: t
              - kind: lambda
                id: 3670
                params:
                  - id: 3664
                    name: nId
                expr:
                  kind: app
                  id: 3669
                  opcode: ilte
                  args:
                    - kind: app
                      id: 3667
                      opcode: field
                      args:
                        - kind: name
                          id: 3665
                          name: nId
                        - kind: str
                          id: 3666
                          value: version
                    - kind: name
                      id: 3668
                      name: version
          - kind: lambda
            id: 3676
            params:
              - id: 3672
                name: nId
            expr:
              kind: app
              id: 3675
              opcode: get
              args:
                - kind: name
                  id: 3673
                  name: t
                - kind: name
                  id: 3674
                  name: nId
    depth: 0
  3680:
    kind: typedef
    id: 3273
  3682:
    kind: typedef
    id: 3273
  3684:
    kind: typedef
    id: 3273
  3685:
    id: 3681
    name: t
  3686:
    kind: def
    id: 3582
    name: childrenPrefixes
    qualifier: puredef
    expr:
      kind: lambda
      id: 3581
      params:
        - id: 3513
          name: nodes
      expr:
        kind: let
        id: 3580
        opdef:
          id: 3569
          name: allChildren
          qualifier: val
          expr:
            kind: app
            id: 3568
            opcode: fold
            args:
              - kind: app
                id: 3517
                opcode: keys
                args:
                  - kind: name
                    id: 3516
                    name: nodes
              - kind: app
                id: 3518
                opcode: Set
                args: []
              - kind: lambda
                id: 3567
                params:
                  - id: 3519
                    name: s
                  - id: 3520
                    name: x
                expr:
                  kind: app
                  id: 3560
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 3523
                      opcode: get
                      args:
                        - kind: name
                          id: 3521
                          name: nodes
                        - kind: name
                          id: 3522
                          name: x
                    - kind: str
                      id: 3561
                      value: Internal
                    - kind: lambda
                      id: 3562
                      params:
                        - id: 3563
                          name: n
                      expr:
                        kind: let
                        id: 3558
                        opdef:
                          id: 3537
                          name: lc
                          qualifier: val
                          expr:
                            kind: app
                            id: 3536
                            opcode: ite
                            args:
                              - kind: app
                                id: 3528
                                opcode: neq
                                args:
                                  - kind: app
                                    id: 3526
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 3524
                                        name: n
                                      - kind: str
                                        id: 3525
                                        value: left_child
                                  - kind: name
                                    id: 3527
                                    name: None
                              - kind: app
                                id: 3534
                                opcode: Set
                                args:
                                  - kind: app
                                    id: 3533
                                    opcode: append
                                    args:
                                      - kind: app
                                        id: 3531
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 3529
                                            name: x
                                          - kind: str
                                            id: 3530
                                            value: key_hash
                                      - kind: int
                                        id: 3532
                                        value: 0
                              - kind: app
                                id: 3535
                                opcode: Set
                                args: []
                          depth: ~
                        expr:
                          kind: let
                          id: 3557
                          opdef:
                            id: 3551
                            name: rc
                            qualifier: val
                            expr:
                              kind: app
                              id: 3550
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3542
                                  opcode: neq
                                  args:
                                    - kind: app
                                      id: 3540
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 3538
                                          name: n
                                        - kind: str
                                          id: 3539
                                          value: right_child
                                    - kind: name
                                      id: 3541
                                      name: None
                                - kind: app
                                  id: 3548
                                  opcode: Set
                                  args:
                                    - kind: app
                                      id: 3547
                                      opcode: append
                                      args:
                                        - kind: app
                                          id: 3545
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 3543
                                              name: x
                                            - kind: str
                                              id: 3544
                                              value: key_hash
                                        - kind: int
                                          id: 3546
                                          value: 1
                                - kind: app
                                  id: 3549
                                  opcode: Set
                                  args: []
                            depth: ~
                          expr:
                            kind: app
                            id: 3556
                            opcode: union
                            args:
                              - kind: app
                                id: 3554
                                opcode: union
                                args:
                                  - kind: name
                                    id: 3552
                                    name: s
                                  - kind: name
                                    id: 3553
                                    name: lc
                              - kind: name
                                id: 3555
                                name: rc
                    - kind: str
                      id: 3564
                      value: Leaf
                    - kind: lambda
                      id: 3565
                      params:
                        - id: 3566
                          name: _
                      expr:
                        kind: name
                        id: 3559
                        name: s
          depth: ~
        expr:
          kind: app
          id: 3579
          opcode: exclude
          args:
            - kind: name
              id: 3570
              name: allChildren
            - kind: app
              id: 3578
              opcode: map
              args:
                - kind: app
                  id: 3572
                  opcode: keys
                  args:
                    - kind: name
                      id: 3571
                      name: nodes
                - kind: lambda
                  id: 3577
                  params:
                    - id: 3573
                      name: nId
                  expr:
                    kind: app
                    id: 3576
                    opcode: field
                    args:
                      - kind: name
                        id: 3574
                        name: nId
                      - kind: str
                        id: 3575
                        value: key_hash
    depth: 0
  3687:
    id: 3681
    name: t
  3690:
    id: 3683
    name: pool
  3691:
    id: 3689
    name: prefix
  3692:
    kind: def
    id: 3633
    name: mostRecentNodeId
    qualifier: puredef
    expr:
      kind: lambda
      id: 3632
      params:
        - id: 3584
          name: nodes
        - id: 3586
          name: key
      expr:
        kind: let
        id: 3631
        opdef:
          id: 3596
          name: default
          qualifier: val
          expr:
            kind: app
            id: 3595
            opcode: Rec
            args:
              - kind: str
                id: 3592
                value: version
              - kind: app
                id: 3591
                opcode: iuminus
                args:
                  - kind: int
                    id: 3590
                    value: 1
              - kind: str
                id: 3594
                value: key_hash
              - kind: name
                id: 3593
                name: key
          depth: ~
        expr:
          kind: let
          id: 3630
          opdef:
            id: 3622
            name: result
            qualifier: val
            expr:
              kind: app
              id: 3621
              opcode: fold
              args:
                - kind: app
                  id: 3606
                  opcode: filter
                  args:
                    - kind: app
                      id: 3598
                      opcode: keys
                      args:
                        - kind: name
                          id: 3597
                          name: nodes
                    - kind: lambda
                      id: 3605
                      params:
                        - id: 3599
                          name: nId
                      expr:
                        kind: app
                        id: 3604
                        opcode: eq
                        args:
                          - kind: app
                            id: 3602
                            opcode: field
                            args:
                              - kind: name
                                id: 3600
                                name: nId
                              - kind: str
                                id: 3601
                                value: key_hash
                          - kind: name
                            id: 3603
                            name: key
                - kind: name
                  id: 3607
                  name: default
                - kind: lambda
                  id: 3620
                  params:
                    - id: 3608
                      name: acc
                    - id: 3609
                      name: e
                  expr:
                    kind: app
                    id: 3619
                    opcode: ite
                    args:
                      - kind: app
                        id: 3616
                        opcode: igt
                        args:
                          - kind: app
                            id: 3612
                            opcode: field
                            args:
                              - kind: name
                                id: 3610
                                name: e
                              - kind: str
                                id: 3611
                                value: version
                          - kind: app
                            id: 3615
                            opcode: field
                            args:
                              - kind: name
                                id: 3613
                                name: acc
                              - kind: str
                                id: 3614
                                value: version
                      - kind: name
                        id: 3617
                        name: e
                      - kind: name
                        id: 3618
                        name: acc
            depth: ~
          expr:
            kind: app
            id: 3629
            opcode: ite
            args:
              - kind: app
                id: 3625
                opcode: eq
                args:
                  - kind: name
                    id: 3623
                    name: result
                  - kind: name
                    id: 3624
                    name: default
              - kind: name
                id: 3626
                name: None
              - kind: app
                id: 3628
                opcode: Some
                args:
                  - kind: name
                    id: 3627
                    name: result
    depth: 0
  3693:
    id: 3688
    name: treeNodes
  3694:
    id: 3703
    name: nodeId
  3695:
    id: 3683
    name: pool
  3696:
    id: 3703
    name: nodeId
  3699:
    id: 3688
    name: treeNodes
  3710:
    kind: def
    id: 3710
    name: addDirectChildren
    qualifier: puredef
    expr:
      kind: lambda
      id: 3709
      params:
        - id: 3681
          name: t
        - id: 3683
          name: pool
      expr:
        kind: app
        id: 3708
        opcode: fold
        args:
          - kind: app
            id: 3686
            opcode: childrenPrefixes
            args:
              - kind: name
                id: 3685
                name: t
          - kind: name
            id: 3687
            name: t
          - kind: lambda
            id: 3707
            params:
              - id: 3688
                name: treeNodes
              - id: 3689
                name: prefix
            expr:
              kind: app
              id: 3700
              opcode: matchVariant
              args:
                - kind: app
                  id: 3692
                  opcode: mostRecentNodeId
                  args:
                    - kind: name
                      id: 3690
                      name: pool
                    - kind: name
                      id: 3691
                      name: prefix
                - kind: str
                  id: 3701
                  value: Some
                - kind: lambda
                  id: 3702
                  params:
                    - id: 3703
                      name: nodeId
                  expr:
                    kind: app
                    id: 3698
                    opcode: put
                    args:
                      - kind: name
                        id: 3693
                        name: treeNodes
                      - kind: name
                        id: 3694
                        name: nodeId
                      - kind: app
                        id: 3697
                        opcode: get
                        args:
                          - kind: name
                            id: 3695
                            name: pool
                          - kind: name
                            id: 3696
                            name: nodeId
                - kind: str
                  id: 3704
                  value: None
                - kind: lambda
                  id: 3705
                  params:
                    - id: 3706
                      name: _
                  expr:
                    kind: name
                    id: 3699
                    name: treeNodes
    depth: 0
  3711:
    kind: typedef
    id: 3278
  3715:
    kind: typedef
    id: 3273
  3716:
    id: 3712
    name: t
  3719:
    id: 3714
    name: version
  3720:
    kind: def
    id: 3656
    name: nodesAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3655
      params:
        - id: 3635
          name: t
        - id: 3637
          name: version
      expr:
        kind: app
        id: 3654
        opcode: mapBy
        args:
          - kind: app
            id: 3648
            opcode: filter
            args:
              - kind: app
                id: 3640
                opcode: keys
                args:
                  - kind: name
                    id: 3639
                    name: t
              - kind: lambda
                id: 3647
                params:
                  - id: 3641
                    name: nId
                expr:
                  kind: app
                  id: 3646
                  opcode: eq
                  args:
                    - kind: app
                      id: 3644
                      opcode: field
                      args:
                        - kind: name
                          id: 3642
                          name: nId
                        - kind: str
                          id: 3643
                          value: version
                    - kind: name
                      id: 3645
                      name: version
          - kind: lambda
            id: 3653
            params:
              - id: 3649
                name: nId
            expr:
              kind: app
              id: 3652
              opcode: get
              args:
                - kind: name
                  id: 3650
                  name: t
                - kind: name
                  id: 3651
                  name: nId
    depth: 0
  3721:
    kind: def
    id: 3721
    name: startingNodes
    qualifier: val
    expr:
      kind: app
      id: 3720
      opcode: nodesAtVersion
      args:
        - kind: app
          id: 3718
          opcode: field
          args:
            - kind: name
              id: 3716
              name: t
            - kind: str
              id: 3717
              value: nodes
        - kind: name
          id: 3719
          name: version
    depth: 3
  3722:
    id: 3712
    name: t
  3725:
    id: 3714
    name: version
  3726:
    kind: def
    id: 3679
    name: nodesUpToVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3678
      params:
        - id: 3658
          name: t
        - id: 3660
          name: version
      expr:
        kind: app
        id: 3677
        opcode: mapBy
        args:
          - kind: app
            id: 3671
            opcode: filter
            args:
              - kind: app
                id: 3663
                opcode: keys
                args:
                  - kind: name
                    id: 3662
                    name: t
              - kind: lambda
                id: 3670
                params:
                  - id: 3664
                    name: nId
                expr:
                  kind: app
                  id: 3669
                  opcode: ilte
                  args:
                    - kind: app
                      id: 3667
                      opcode: field
                      args:
                        - kind: name
                          id: 3665
                          name: nId
                        - kind: str
                          id: 3666
                          value: version
                    - kind: name
                      id: 3668
                      name: version
          - kind: lambda
            id: 3676
            params:
              - id: 3672
                name: nId
            expr:
              kind: app
              id: 3675
              opcode: get
              args:
                - kind: name
                  id: 3673
                  name: t
                - kind: name
                  id: 3674
                  name: nId
    depth: 0
  3727:
    kind: def
    id: 3727
    name: nodePool
    qualifier: val
    expr:
      kind: app
      id: 3726
      opcode: nodesUpToVersion
      args:
        - kind: app
          id: 3724
          opcode: field
          args:
            - kind: name
              id: 3722
              name: t
            - kind: str
              id: 3723
              value: nodes
        - kind: name
          id: 3725
          name: version
    depth: 4
  3729:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  3731:
    kind: def
    id: 3721
    name: startingNodes
    qualifier: val
    expr:
      kind: app
      id: 3720
      opcode: nodesAtVersion
      args:
        - kind: app
          id: 3718
          opcode: field
          args:
            - kind: name
              id: 3716
              name: t
            - kind: str
              id: 3717
              value: nodes
        - kind: name
          id: 3719
          name: version
    depth: 3
  3734:
    id: 3732
    name: treeNodes
  3735:
    kind: def
    id: 3727
    name: nodePool
    qualifier: val
    expr:
      kind: app
      id: 3726
      opcode: nodesUpToVersion
      args:
        - kind: app
          id: 3724
          opcode: field
          args:
            - kind: name
              id: 3722
              name: t
            - kind: str
              id: 3723
              value: nodes
        - kind: name
          id: 3725
          name: version
    depth: 4
  3736:
    kind: def
    id: 3710
    name: addDirectChildren
    qualifier: puredef
    expr:
      kind: lambda
      id: 3709
      params:
        - id: 3681
          name: t
        - id: 3683
          name: pool
      expr:
        kind: app
        id: 3708
        opcode: fold
        args:
          - kind: app
            id: 3686
            opcode: childrenPrefixes
            args:
              - kind: name
                id: 3685
                name: t
          - kind: name
            id: 3687
            name: t
          - kind: lambda
            id: 3707
            params:
              - id: 3688
                name: treeNodes
              - id: 3689
                name: prefix
            expr:
              kind: app
              id: 3700
              opcode: matchVariant
              args:
                - kind: app
                  id: 3692
                  opcode: mostRecentNodeId
                  args:
                    - kind: name
                      id: 3690
                      name: pool
                    - kind: name
                      id: 3691
                      name: prefix
                - kind: str
                  id: 3701
                  value: Some
                - kind: lambda
                  id: 3702
                  params:
                    - id: 3703
                      name: nodeId
                  expr:
                    kind: app
                    id: 3698
                    opcode: put
                    args:
                      - kind: name
                        id: 3693
                        name: treeNodes
                      - kind: name
                        id: 3694
                        name: nodeId
                      - kind: app
                        id: 3697
                        opcode: get
                        args:
                          - kind: name
                            id: 3695
                            name: pool
                          - kind: name
                            id: 3696
                            name: nodeId
                - kind: str
                  id: 3704
                  value: None
                - kind: lambda
                  id: 3705
                  params:
                    - id: 3706
                      name: _
                  expr:
                    kind: name
                    id: 3699
                    name: treeNodes
    depth: 0
  3742:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  3743:
    kind: typedef
    id: 3273
  3745:
    kind: typedef
    id: 3258
  3747:
    kind: typedef
    id: 3900
  3748:
    id: 3744
    name: t
  3751:
    id: 3750
    name: n
  3754:
    id: 3746
    name: key_hash
  3759:
    kind: def
    id: 3759
    name: nodeId
    qualifier: pureval
    expr:
      kind: app
      id: 3758
      opcode: getOnlyElement
      args:
        - kind: app
          id: 3757
          opcode: filter
          args:
            - kind: app
              id: 3749
              opcode: keys
              args:
                - kind: name
                  id: 3748
                  name: t
            - kind: lambda
              id: 3756
              params:
                - id: 3750
                  name: n
              expr:
                kind: app
                id: 3755
                opcode: eq
                args:
                  - kind: app
                    id: 3753
                    opcode: field
                    args:
                      - kind: name
                        id: 3751
                        name: n
                      - kind: str
                        id: 3752
                        value: key_hash
                  - kind: name
                    id: 3754
                    name: key_hash
    depth: 3
  3760:
    id: 3744
    name: t
  3761:
    kind: def
    id: 3759
    name: nodeId
    qualifier: pureval
    expr:
      kind: app
      id: 3758
      opcode: getOnlyElement
      args:
        - kind: app
          id: 3757
          opcode: filter
          args:
            - kind: app
              id: 3749
              opcode: keys
              args:
                - kind: name
                  id: 3748
                  name: t
            - kind: lambda
              id: 3756
              params:
                - id: 3750
                  name: n
              expr:
                kind: app
                id: 3755
                opcode: eq
                args:
                  - kind: app
                    id: 3753
                    opcode: field
                    args:
                      - kind: name
                        id: 3751
                        name: n
                      - kind: str
                        id: 3752
                        value: key_hash
                  - kind: name
                    id: 3754
                    name: key_hash
    depth: 3
  3765:
    kind: def
    id: 3765
    name: findNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3764
      params:
        - id: 3744
          name: t
        - id: 3746
          name: key_hash
      expr:
        kind: let
        id: 3763
        opdef:
          id: 3759
          name: nodeId
          qualifier: pureval
          expr:
            kind: app
            id: 3758
            opcode: getOnlyElement
            args:
              - kind: app
                id: 3757
                opcode: filter
                args:
                  - kind: app
                    id: 3749
                    opcode: keys
                    args:
                      - kind: name
                        id: 3748
                        name: t
                  - kind: lambda
                    id: 3756
                    params:
                      - id: 3750
                        name: n
                    expr:
                      kind: app
                      id: 3755
                      opcode: eq
                      args:
                        - kind: app
                          id: 3753
                          opcode: field
                          args:
                            - kind: name
                              id: 3751
                              name: n
                            - kind: str
                              id: 3752
                              value: key_hash
                        - kind: name
                          id: 3754
                          name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3762
          opcode: get
          args:
            - kind: name
              id: 3760
              name: t
            - kind: name
              id: 3761
              name: nodeId
    depth: 0
  3766:
    kind: typedef
    id: 3900
  3769:
    id: 3767
    name: n
  3780:
    kind: def
    id: 3780
    name: isInternal
    qualifier: puredef
    expr:
      kind: lambda
      id: 3779
      params:
        - id: 3767
          name: n
      expr:
        kind: app
        id: 3772
        opcode: matchVariant
        args:
          - kind: name
            id: 3769
            name: n
          - kind: str
            id: 3773
            value: Internal
          - kind: lambda
            id: 3774
            params:
              - id: 3775
                name: _
            expr:
              kind: bool
              id: 3770
              value: true
          - kind: str
            id: 3776
            value: Leaf
          - kind: lambda
            id: 3777
            params:
              - id: 3778
                name: _
            expr:
              kind: bool
              id: 3771
              value: false
    depth: 0
  3782:
    id: 3781
    name: n
  3783:
    kind: def
    id: 3780
    name: isInternal
    qualifier: puredef
    expr:
      kind: lambda
      id: 3779
      params:
        - id: 3767
          name: n
      expr:
        kind: app
        id: 3772
        opcode: matchVariant
        args:
          - kind: name
            id: 3769
            name: n
          - kind: str
            id: 3773
            value: Internal
          - kind: lambda
            id: 3774
            params:
              - id: 3775
                name: _
            expr:
              kind: bool
              id: 3770
              value: true
          - kind: str
            id: 3776
            value: Leaf
          - kind: lambda
            id: 3777
            params:
              - id: 3778
                name: _
            expr:
              kind: bool
              id: 3771
              value: false
    depth: 0
  3786:
    kind: def
    id: 3786
    name: isLeaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 3785
      params:
        - id: 3781
          name: n
      expr:
        kind: app
        id: 3784
        opcode: not
        args:
          - kind: app
            id: 3783
            opcode: isInternal
            args:
              - kind: name
                id: 3782
                name: n
    depth: 0
  3788:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  3796:
    kind: def
    id: 3796
    name: kms
    qualifier: pureval
    expr:
      kind: app
      id: 3795
      opcode: setOfMaps
      args:
        - kind: app
          id: 3791
          opcode: to
          args:
            - kind: int
              id: 3787
              value: 0
            - kind: app
              id: 3790
              opcode: isub
              args:
                - kind: name
                  id: 3788
                  name: MAX_HASH_LENGTH
                - kind: int
                  id: 3789
                  value: 1
        - kind: app
          id: 3794
          opcode: Set
          args:
            - kind: int
              id: 3792
              value: 0
            - kind: int
              id: 3793
              value: 1
    depth: 2
  3797:
    kind: def
    id: 3796
    name: kms
    qualifier: pureval
    expr:
      kind: app
      id: 3795
      opcode: setOfMaps
      args:
        - kind: app
          id: 3791
          opcode: to
          args:
            - kind: int
              id: 3787
              value: 0
            - kind: app
              id: 3790
              opcode: isub
              args:
                - kind: name
                  id: 3788
                  name: MAX_HASH_LENGTH
                - kind: int
                  id: 3789
                  value: 1
        - kind: app
          id: 3794
          opcode: Set
          args:
            - kind: int
              id: 3792
              value: 0
            - kind: int
              id: 3793
              value: 1
    depth: 2
  3800:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  3805:
    id: 3803
    name: acc
  3806:
    id: 3798
    name: km
  3807:
    id: 3804
    name: i
  3815:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  3821:
    kind: def
    id: 3821
    name: all_value_hashes
    qualifier: pureval
    expr:
      kind: app
      id: 3820
      opcode: Set
      args:
        - kind: app
          id: 3817
          opcode: List
          args:
            - kind: int
              id: 3816
              value: 0
        - kind: app
          id: 3819
          opcode: List
          args:
            - kind: int
              id: 3818
              value: 1
    depth: 0
  3822:
    kind: typedef
    id: 3264
  3823:
    kind: typedef
    id: 3900
  3826:
    kind: typedef
    id: 3264
  3827:
    kind: typedef
    id: 3900
  3831:
    kind: typedef
    id: 3264
  3832:
    kind: typedef
    id: 3900
  3834:
    id: 3830
    name: new_nodes
  3835:
    id: 3825
    name: nodes
  3838:
    id: 3836
    name: nodes
  3839:
    id: 3837
    name: new_node
  3842:
    id: 3837
    name: new_node
  3849:
    kind: def
    id: 3849
    name: add_nodes
    qualifier: puredef
    expr:
      kind: lambda
      id: 3848
      params:
        - id: 3825
          name: nodes
        - id: 3830
          name: new_nodes
      expr:
        kind: app
        id: 3847
        opcode: fold
        args:
          - kind: name
            id: 3834
            name: new_nodes
          - kind: name
            id: 3835
            name: nodes
          - kind: lambda
            id: 3846
            params:
              - id: 3836
                name: nodes
              - id: 3837
                name: new_node
            expr:
              kind: app
              id: 3845
              opcode: put
              args:
                - kind: name
                  id: 3838
                  name: nodes
                - kind: app
                  id: 3841
                  opcode: item
                  args:
                    - kind: name
                      id: 3839
                      name: new_node
                    - kind: int
                      id: 3840
                      value: 1
                - kind: app
                  id: 3844
                  opcode: item
                  args:
                    - kind: name
                      id: 3842
                      name: new_node
                    - kind: int
                      id: 3843
                      value: 2
    depth: 0
  3850:
    kind: typedef
    id: 3260
  3852:
    kind: typedef
    id: 3919
  3854:
    kind: typedef
    id: 3885
  3857:
    id: 3853
    name: outcome
  3858:
    id: 3851
    name: version
  3860:
    id: 3870
    name: node
  3861:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  3864:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  3865:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  3866:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  3878:
    kind: def
    id: 3878
    name: into_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 3877
      params:
        - id: 3851
          name: version
        - id: 3853
          name: outcome
      expr:
        kind: app
        id: 3867
        opcode: matchVariant
        args:
          - kind: name
            id: 3857
            name: outcome
          - kind: str
            id: 3868
            value: Updated
          - kind: lambda
            id: 3869
            params:
              - id: 3870
                name: node
            expr:
              kind: app
              id: 3864
              opcode: Some
              args:
                - kind: app
                  id: 3863
                  opcode: Rec
                  args:
                    - kind: str
                      id: 3859
                      value: version
                    - kind: name
                      id: 3858
                      name: version
                    - kind: str
                      id: 3862
                      value: hash
                    - kind: app
                      id: 3861
                      opcode: hash
                      args:
                        - kind: name
                          id: 3860
                          name: node
          - kind: str
            id: 3871
            value: Unchanged
          - kind: lambda
            id: 3872
            params:
              - id: 3873
                name: _
            expr:
              kind: name
              id: 3865
              name: None
          - kind: str
            id: 3874
            value: Deleted
          - kind: lambda
            id: 3875
            params:
              - id: 3876
                name: _
            expr:
              kind: name
              id: 3866
              name: None
    depth: 0
  3883:
    kind: typedef
    id: 2947
  3886:
    kind: typedef
    id: 3885
  3889:
    kind: typedef
    id: 3885
  3894:
    kind: typedef
    id: 2756
  3895:
    kind: typedef
    id: 2756
  3898:
    kind: typedef
    id: 3893
  3899:
    kind: typedef
    id: 3897
  3901:
    kind: typedef
    id: 3900
  3904:
    id: 3903
    name: __InternalParam
  3907:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  3910:
    id: 3909
    name: __LeafParam
  3913:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  3914:
    kind: typedef
    id: 3900
  3917:
    kind: typedef
    id: 3900
  3920:
    kind: typedef
    id: 3919
  3923:
    id: 3922
    name: __UnchangedParam
  3926:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  3929:
    id: 3928
    name: __UpdatedParam
  3932:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  3936:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  3937:
    kind: typedef
    id: 2756
  3940:
    kind: typedef
    id: 3939
  3943:
    id: 3942
    name: __InsertParam
  3946:
    kind: def
    id: 3946
    name: Insert
    qualifier: def
    expr:
      kind: lambda
      id: 3945
      params:
        - id: 3942
          name: __InsertParam
      expr:
        kind: app
        id: 3944
        opcode: variant
        args:
          - kind: str
            id: 3941
            value: Insert
          - kind: name
            id: 3943
            name: __InsertParam
    depth: 0
  3950:
    kind: def
    id: 3950
    name: Delete
    qualifier: val
    expr:
      kind: app
      id: 3949
      opcode: variant
      args:
        - kind: str
          id: 3947
          value: Delete
        - kind: app
          id: 3948
          opcode: Tup
          args: []
    depth: 0
  3951:
    kind: typedef
    id: 3900
  3954:
    id: 3952
    name: n
  3965:
    kind: def
    id: 3965
    name: is_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 3964
      params:
        - id: 3952
          name: n
      expr:
        kind: app
        id: 3957
        opcode: matchVariant
        args:
          - kind: name
            id: 3954
            name: n
          - kind: str
            id: 3958
            value: Leaf
          - kind: lambda
            id: 3959
            params:
              - id: 3960
                name: n
            expr:
              kind: bool
              id: 3955
              value: true
          - kind: str
            id: 3961
            value: Internal
          - kind: lambda
            id: 3962
            params:
              - id: 3963
                name: n
            expr:
              kind: bool
              id: 3956
              value: false
    depth: 0
  3966:
    kind: typedef
    id: 2756
  3969:
    kind: def
    id: 3969
    name: InternalNodeIdentifier
    qualifier: val
    expr:
      kind: app
      id: 3968
      opcode: List
      args:
        - kind: int
          id: 3967
          value: 0
    depth: 0
  3970:
    kind: typedef
    id: 2756
  3973:
    kind: def
    id: 3973
    name: LeafNodeIdentifier
    qualifier: val
    expr:
      kind: app
      id: 3972
      opcode: List
      args:
        - kind: int
          id: 3971
          value: 1
    depth: 0
  3974:
    kind: typedef
    id: 2947
  3975:
    kind: def
    id: 3969
    name: InternalNodeIdentifier
    qualifier: val
    expr:
      kind: app
      id: 3968
      opcode: List
      args:
        - kind: int
          id: 3967
          value: 0
    depth: 0
  3976:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3977:
    kind: def
    id: 3977
    name: InternalNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3976
      opcode: raw
      args:
        - kind: name
          id: 3975
          name: InternalNodeIdentifier
    depth: 0
  3978:
    kind: typedef
    id: 2947
  3979:
    kind: def
    id: 3973
    name: LeafNodeIdentifier
    qualifier: val
    expr:
      kind: app
      id: 3972
      opcode: List
      args:
        - kind: int
          id: 3971
          value: 1
    depth: 0
  3980:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3981:
    kind: def
    id: 3981
    name: LeafNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3980
      opcode: raw
      args:
        - kind: name
          id: 3979
          name: LeafNodeIdentifier
    depth: 0
  3982:
    kind: typedef
    id: 3897
  3984:
    kind: typedef
    id: 2947
  3985:
    kind: def
    id: 3981
    name: LeafNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3980
      opcode: raw
      args:
        - kind: name
          id: 3979
          name: LeafNodeIdentifier
    depth: 0
  3986:
    id: 3983
    name: l
  3989:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3990:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  3991:
    id: 3983
    name: l
  3994:
    kind: def
    id: 3001
    name: raw
    qualifier: puredef
    expr:
      kind: lambda
      id: 3000
      params:
        - id: 2992
          name: bytes
      expr:
        kind: app
        id: 2999
        opcode: Map
        args:
          - kind: app
            id: 2998
            opcode: Tup
            args:
              - kind: app
                id: 2995
                opcode: List
                args:
                  - kind: int
                    id: 2994
                    value: 0
              - kind: app
                id: 2997
                opcode: Raw
                args:
                  - kind: name
                    id: 2996
                    name: bytes
    depth: 0
  3995:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  3996:
    kind: def
    id: 3055
    name: termHash
    qualifier: puredef
    expr:
      kind: lambda
      id: 3054
      params:
        - id: 3020
          name: term
      expr:
        kind: let
        id: 3053
        opdef:
          id: 3035
          name: paths
          qualifier: pureval
          expr:
            kind: app
            id: 3034
            opcode: union
            args:
              - kind: app
                id: 3024
                opcode: Set
                args:
                  - kind: app
                    id: 3023
                    opcode: List
                    args:
                      - kind: int
                        id: 3022
                        value: 0
              - kind: app
                id: 3033
                opcode: map
                args:
                  - kind: app
                    id: 3026
                    opcode: keys
                    args:
                      - kind: name
                        id: 3025
                        name: term
                  - kind: lambda
                    id: 3032
                    params:
                      - id: 3027
                        name: p
                    expr:
                      kind: app
                      id: 3031
                      opcode: concat
                      args:
                        - kind: app
                          id: 3029
                          opcode: List
                          args:
                            - kind: int
                              id: 3028
                              value: 0
                        - kind: name
                          id: 3030
                          name: p
          depth: ~
        expr:
          kind: app
          id: 3052
          opcode: mapBy
          args:
            - kind: name
              id: 3036
              name: paths
            - kind: lambda
              id: 3051
              params:
                - id: 3037
                  name: p
              expr:
                kind: app
                id: 3050
                opcode: ite
                args:
                  - kind: app
                    id: 3041
                    opcode: eq
                    args:
                      - kind: name
                        id: 3038
                        name: p
                      - kind: app
                        id: 3040
                        opcode: List
                        args:
                          - kind: int
                            id: 3039
                            value: 0
                  - kind: name
                    id: 3042
                    name: Hash
                  - kind: app
                    id: 3049
                    opcode: get
                    args:
                      - kind: name
                        id: 3043
                        name: term
                      - kind: app
                        id: 3048
                        opcode: slice
                        args:
                          - kind: name
                            id: 3044
                            name: p
                          - kind: int
                            id: 3045
                            value: 1
                          - kind: app
                            id: 3047
                            opcode: length
                            args:
                              - kind: name
                                id: 3046
                                name: p
    depth: 0
  3998:
    kind: def
    id: 3998
    name: hashLeafNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3997
      params:
        - id: 3983
          name: l
      expr:
        kind: app
        id: 3996
        opcode: termHash
        args:
          - kind: app
            id: 3995
            opcode: termConcat
            args:
              - kind: app
                id: 3990
                opcode: termConcat
                args:
                  - kind: name
                    id: 3985
                    name: LeafNodeHashPrefix
                  - kind: app
                    id: 3989
                    opcode: raw
                    args:
                      - kind: app
                        id: 3988
                        opcode: field
                        args:
                          - kind: name
                            id: 3986
                            name: l
                          - kind: str
                            id: 3987
                            value: key_hash
              - kind: app
                id: 3994
                opcode: raw
                args:
                  - kind: app
                    id: 3993
                    opcode: field
                    args:
                      - kind: name
                        id: 3991
                        name: l
                      - kind: str
                        id: 3992
                        value: value_hash
    depth: 0
  3999:
    kind: typedef
    id: 3885
  4003:
    kind: typedef
    id: 2947
  4004:
    id: 4002
    name: oc
  4005:
    kind: def
    id: 2791
    name: Hash256_ZERO
    qualifier: val
    expr:
      kind: app
      id: 2790
      opcode: raw
      args:
        - kind: app
          id: 2789
          opcode: List
          args:
            - kind: int
              id: 2757
              value: 0
            - kind: int
              id: 2758
              value: 0
            - kind: int
              id: 2759
              value: 0
            - kind: int
              id: 2760
              value: 0
            - kind: int
              id: 2761
              value: 0
            - kind: int
              id: 2762
              value: 0
            - kind: int
              id: 2763
              value: 0
            - kind: int
              id: 2764
              value: 0
            - kind: int
              id: 2765
              value: 0
            - kind: int
              id: 2766
              value: 0
            - kind: int
              id: 2767
              value: 0
            - kind: int
              id: 2768
              value: 0
            - kind: int
              id: 2769
              value: 0
            - kind: int
              id: 2770
              value: 0
            - kind: int
              id: 2771
              value: 0
            - kind: int
              id: 2772
              value: 0
            - kind: int
              id: 2773
              value: 0
            - kind: int
              id: 2774
              value: 0
            - kind: int
              id: 2775
              value: 0
            - kind: int
              id: 2776
              value: 0
            - kind: int
              id: 2777
              value: 0
            - kind: int
              id: 2778
              value: 0
            - kind: int
              id: 2779
              value: 0
            - kind: int
              id: 2780
              value: 0
            - kind: int
              id: 2781
              value: 0
            - kind: int
              id: 2782
              value: 0
            - kind: int
              id: 2783
              value: 0
            - kind: int
              id: 2784
              value: 0
            - kind: int
              id: 2785
              value: 0
            - kind: int
              id: 2786
              value: 0
            - kind: int
              id: 2787
              value: 0
            - kind: int
              id: 2788
              value: 0
    depth: 0
  4006:
    id: 4015
    name: c
  4017:
    kind: def
    id: 4017
    name: hashOfChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 4016
      params:
        - id: 4002
          name: oc
      expr:
        kind: app
        id: 4009
        opcode: matchVariant
        args:
          - kind: name
            id: 4004
            name: oc
          - kind: str
            id: 4010
            value: None
          - kind: lambda
            id: 4011
            params:
              - id: 4012
                name: _
            expr:
              kind: name
              id: 4005
              name: Hash256_ZERO
          - kind: str
            id: 4013
            value: Some
          - kind: lambda
            id: 4014
            params:
              - id: 4015
                name: c
            expr:
              kind: app
              id: 4008
              opcode: field
              args:
                - kind: name
                  id: 4006
                  name: c
                - kind: str
                  id: 4007
                  value: hash
    depth: 0
  4018:
    kind: typedef
    id: 3893
  4020:
    kind: typedef
    id: 2947
  4021:
    kind: def
    id: 3977
    name: InternalNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3976
      opcode: raw
      args:
        - kind: name
          id: 3975
          name: InternalNodeIdentifier
    depth: 0
  4022:
    id: 4019
    name: l
  4025:
    kind: def
    id: 4017
    name: hashOfChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 4016
      params:
        - id: 4002
          name: oc
      expr:
        kind: app
        id: 4009
        opcode: matchVariant
        args:
          - kind: name
            id: 4004
            name: oc
          - kind: str
            id: 4010
            value: None
          - kind: lambda
            id: 4011
            params:
              - id: 4012
                name: _
            expr:
              kind: name
              id: 4005
              name: Hash256_ZERO
          - kind: str
            id: 4013
            value: Some
          - kind: lambda
            id: 4014
            params:
              - id: 4015
                name: c
            expr:
              kind: app
              id: 4008
              opcode: field
              args:
                - kind: name
                  id: 4006
                  name: c
                - kind: str
                  id: 4007
                  value: hash
    depth: 0
  4026:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  4027:
    id: 4019
    name: l
  4030:
    kind: def
    id: 4017
    name: hashOfChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 4016
      params:
        - id: 4002
          name: oc
      expr:
        kind: app
        id: 4009
        opcode: matchVariant
        args:
          - kind: name
            id: 4004
            name: oc
          - kind: str
            id: 4010
            value: None
          - kind: lambda
            id: 4011
            params:
              - id: 4012
                name: _
            expr:
              kind: name
              id: 4005
              name: Hash256_ZERO
          - kind: str
            id: 4013
            value: Some
          - kind: lambda
            id: 4014
            params:
              - id: 4015
                name: c
            expr:
              kind: app
              id: 4008
              opcode: field
              args:
                - kind: name
                  id: 4006
                  name: c
                - kind: str
                  id: 4007
                  value: hash
    depth: 0
  4031:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  4032:
    kind: def
    id: 3055
    name: termHash
    qualifier: puredef
    expr:
      kind: lambda
      id: 3054
      params:
        - id: 3020
          name: term
      expr:
        kind: let
        id: 3053
        opdef:
          id: 3035
          name: paths
          qualifier: pureval
          expr:
            kind: app
            id: 3034
            opcode: union
            args:
              - kind: app
                id: 3024
                opcode: Set
                args:
                  - kind: app
                    id: 3023
                    opcode: List
                    args:
                      - kind: int
                        id: 3022
                        value: 0
              - kind: app
                id: 3033
                opcode: map
                args:
                  - kind: app
                    id: 3026
                    opcode: keys
                    args:
                      - kind: name
                        id: 3025
                        name: term
                  - kind: lambda
                    id: 3032
                    params:
                      - id: 3027
                        name: p
                    expr:
                      kind: app
                      id: 3031
                      opcode: concat
                      args:
                        - kind: app
                          id: 3029
                          opcode: List
                          args:
                            - kind: int
                              id: 3028
                              value: 0
                        - kind: name
                          id: 3030
                          name: p
          depth: ~
        expr:
          kind: app
          id: 3052
          opcode: mapBy
          args:
            - kind: name
              id: 3036
              name: paths
            - kind: lambda
              id: 3051
              params:
                - id: 3037
                  name: p
              expr:
                kind: app
                id: 3050
                opcode: ite
                args:
                  - kind: app
                    id: 3041
                    opcode: eq
                    args:
                      - kind: name
                        id: 3038
                        name: p
                      - kind: app
                        id: 3040
                        opcode: List
                        args:
                          - kind: int
                            id: 3039
                            value: 0
                  - kind: name
                    id: 3042
                    name: Hash
                  - kind: app
                    id: 3049
                    opcode: get
                    args:
                      - kind: name
                        id: 3043
                        name: term
                      - kind: app
                        id: 3048
                        opcode: slice
                        args:
                          - kind: name
                            id: 3044
                            name: p
                          - kind: int
                            id: 3045
                            value: 1
                          - kind: app
                            id: 3047
                            opcode: length
                            args:
                              - kind: name
                                id: 3046
                                name: p
    depth: 0
  4034:
    kind: def
    id: 4034
    name: hashInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 4033
      params:
        - id: 4019
          name: l
      expr:
        kind: app
        id: 4032
        opcode: termHash
        args:
          - kind: app
            id: 4031
            opcode: termConcat
            args:
              - kind: app
                id: 4026
                opcode: termConcat
                args:
                  - kind: name
                    id: 4021
                    name: InternalNodeHashPrefix
                  - kind: app
                    id: 4025
                    opcode: hashOfChild
                    args:
                      - kind: app
                        id: 4024
                        opcode: field
                        args:
                          - kind: name
                            id: 4022
                            name: l
                          - kind: str
                            id: 4023
                            value: left_child
              - kind: app
                id: 4030
                opcode: hashOfChild
                args:
                  - kind: app
                    id: 4029
                    opcode: field
                    args:
                      - kind: name
                        id: 4027
                        name: l
                      - kind: str
                        id: 4028
                        value: right_child
    depth: 0
  4035:
    kind: typedef
    id: 3900
  4037:
    kind: typedef
    id: 2947
  4038:
    id: 4036
    name: n
  4039:
    id: 4046
    name: n
  4040:
    kind: def
    id: 3998
    name: hashLeafNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3997
      params:
        - id: 3983
          name: l
      expr:
        kind: app
        id: 3996
        opcode: termHash
        args:
          - kind: app
            id: 3995
            opcode: termConcat
            args:
              - kind: app
                id: 3990
                opcode: termConcat
                args:
                  - kind: name
                    id: 3985
                    name: LeafNodeHashPrefix
                  - kind: app
                    id: 3989
                    opcode: raw
                    args:
                      - kind: app
                        id: 3988
                        opcode: field
                        args:
                          - kind: name
                            id: 3986
                            name: l
                          - kind: str
                            id: 3987
                            value: key_hash
              - kind: app
                id: 3994
                opcode: raw
                args:
                  - kind: app
                    id: 3993
                    opcode: field
                    args:
                      - kind: name
                        id: 3991
                        name: l
                      - kind: str
                        id: 3992
                        value: value_hash
    depth: 0
  4041:
    id: 4049
    name: n
  4042:
    kind: def
    id: 4034
    name: hashInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 4033
      params:
        - id: 4019
          name: l
      expr:
        kind: app
        id: 4032
        opcode: termHash
        args:
          - kind: app
            id: 4031
            opcode: termConcat
            args:
              - kind: app
                id: 4026
                opcode: termConcat
                args:
                  - kind: name
                    id: 4021
                    name: InternalNodeHashPrefix
                  - kind: app
                    id: 4025
                    opcode: hashOfChild
                    args:
                      - kind: app
                        id: 4024
                        opcode: field
                        args:
                          - kind: name
                            id: 4022
                            name: l
                          - kind: str
                            id: 4023
                            value: left_child
              - kind: app
                id: 4030
                opcode: hashOfChild
                args:
                  - kind: app
                    id: 4029
                    opcode: field
                    args:
                      - kind: name
                        id: 4027
                        name: l
                      - kind: str
                        id: 4028
                        value: right_child
    depth: 0
  4051:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  4052:
    kind: typedef
    id: 3900
  4054:
    kind: typedef
    id: 3897
  4055:
    id: 4053
    name: n
  4056:
    id: 4065
    name: l
  4070:
    kind: def
    id: 4070
    name: getLeafOrEmpty
    qualifier: puredef
    expr:
      kind: lambda
      id: 4069
      params:
        - id: 4053
          name: n
      expr:
        kind: app
        id: 4062
        opcode: matchVariant
        args:
          - kind: name
            id: 4055
            name: n
          - kind: str
            id: 4063
            value: Leaf
          - kind: lambda
            id: 4064
            params:
              - id: 4065
                name: l
            expr:
              kind: name
              id: 4056
              name: l
          - kind: str
            id: 4066
            value: Internal
          - kind: lambda
            id: 4067
            params:
              - id: 4068
                name: internal
            expr:
              kind: app
              id: 4061
              opcode: Rec
              args:
                - kind: str
                  id: 4058
                  value: key_hash
                - kind: app
                  id: 4057
                  opcode: List
                  args: []
                - kind: str
                  id: 4060
                  value: value_hash
                - kind: app
                  id: 4059
                  opcode: List
                  args: []
    depth: 0
  4077:
    kind: def
    id: 4077
    name: keylength
    qualifier: val
    expr:
      kind: int
      id: 4076
      value: 4
    depth: 0
  4079:
    kind: def
    id: 4079
    name: DEBUG_ENABLED
    qualifier: pureval
    expr:
      kind: bool
      id: 4078
      value: false
    depth: 0
  4082:
    kind: def
    id: 4079
    name: DEBUG_ENABLED
    qualifier: pureval
    expr:
      kind: bool
      id: 4078
      value: false
    depth: 0
  4083:
    id: 4080
    name: desc
  4084:
    id: 4081
    name: expr
  4086:
    id: 4081
    name: expr
  4089:
    kind: def
    id: 4089
    name: debug
    qualifier: puredef
    expr:
      kind: lambda
      id: 4088
      params:
        - id: 4080
          name: desc
        - id: 4081
          name: expr
      expr:
        kind: app
        id: 4087
        opcode: ite
        args:
          - kind: name
            id: 4082
            name: DEBUG_ENABLED
          - kind: app
            id: 4085
            opcode: "q::debug"
            args:
              - kind: name
                id: 4083
                name: desc
              - kind: name
                id: 4084
                name: expr
          - kind: name
            id: 4086
            name: expr
    depth: 0
  4095:
    id: 4093
    name: value
  4097:
    id: 4093
    name: value
  4099:
    id: 4106
    name: x
  4108:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4118:
    id: 4112
    name: m
  4119:
    id: 4114
    name: k
  4120:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  4121:
    id: 4112
    name: m
  4122:
    id: 4114
    name: k
  4124:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  4125:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4128:
    kind: def
    id: 4128
    name: safeGet
    qualifier: puredef
    expr:
      kind: lambda
      id: 4127
      params:
        - id: 4112
          name: m
        - id: 4114
          name: k
      expr:
        kind: app
        id: 4126
        opcode: ite
        args:
          - kind: app
            id: 4120
            opcode: has
            args:
              - kind: name
                id: 4118
                name: m
              - kind: name
                id: 4119
                name: k
          - kind: app
            id: 4124
            opcode: Some
            args:
              - kind: app
                id: 4123
                opcode: get
                args:
                  - kind: name
                    id: 4121
                    name: m
                  - kind: name
                    id: 4122
                    name: k
          - kind: name
            id: 4125
            name: None
    depth: 0
  4140:
    id: 4131
    name: s
  4144:
    id: 4143
    name: e
  4145:
    id: 4137
    name: f
  4146:
    id: 4142
    name: acc
  4147:
    id: 4154
    name: x
  4150:
    id: 4142
    name: acc
  4161:
    kind: def
    id: 4161
    name: filterMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4160
      params:
        - id: 4131
          name: s
        - id: 4137
          name: f
      expr:
        kind: app
        id: 4159
        opcode: fold
        args:
          - kind: name
            id: 4140
            name: s
          - kind: app
            id: 4141
            opcode: Set
            args: []
          - kind: lambda
            id: 4158
            params:
              - id: 4142
                name: acc
              - id: 4143
                name: e
            expr:
              kind: app
              id: 4151
              opcode: matchVariant
              args:
                - kind: app
                  id: 4145
                  opcode: f
                  args:
                    - kind: name
                      id: 4144
                      name: e
                - kind: str
                  id: 4152
                  value: Some
                - kind: lambda
                  id: 4153
                  params:
                    - id: 4154
                      name: x
                  expr:
                    kind: app
                    id: 4149
                    opcode: union
                    args:
                      - kind: name
                        id: 4146
                        name: acc
                      - kind: app
                        id: 4148
                        opcode: Set
                        args:
                          - kind: name
                            id: 4147
                            name: x
                - kind: str
                  id: 4155
                  value: None
                - kind: lambda
                  id: 4156
                  params:
                    - id: 4157
                      name: _
                  expr:
                    kind: name
                    id: 4150
                    name: acc
    depth: 0
  4171:
    kind: def
    id: 4077
    name: keylength
    qualifier: val
    expr:
      kind: int
      id: 4076
      value: 4
    depth: 0
  4175:
    kind: def
    id: 4175
    name: indList
    qualifier: val
    expr:
      kind: app
      id: 4174
      opcode: range
      args:
        - kind: int
          id: 4170
          value: 1
        - kind: app
          id: 4173
          opcode: iadd
          args:
            - kind: name
              id: 4171
              name: keylength
            - kind: int
              id: 4172
              value: 1
    depth: 3
  4176:
    kind: def
    id: 4175
    name: indList
    qualifier: val
    expr:
      kind: app
      id: 4174
      opcode: range
      args:
        - kind: int
          id: 4170
          value: 1
        - kind: app
          id: 4173
          opcode: iadd
          args:
            - kind: name
              id: 4171
              name: keylength
            - kind: int
              id: 4172
              value: 1
    depth: 3
  4180:
    id: 4164
    name: a
  4182:
    id: 4179
    name: x
  4184:
    id: 4167
    name: b
  4186:
    id: 4179
    name: x
  4189:
    id: 4167
    name: b
  4191:
    id: 4179
    name: x
  4193:
    id: 4178
    name: s
  4199:
    kind: def
    id: 4199
    name: commonPrefixBetweenKeys
    qualifier: puredef
    expr:
      kind: lambda
      id: 4198
      params:
        - id: 4164
          name: a
        - id: 4167
          name: b
      expr:
        kind: let
        id: 4197
        opdef:
          id: 4175
          name: indList
          qualifier: val
          expr:
            kind: app
            id: 4174
            opcode: range
            args:
              - kind: int
                id: 4170
                value: 1
              - kind: app
                id: 4173
                opcode: iadd
                args:
                  - kind: name
                    id: 4171
                    name: keylength
                  - kind: int
                    id: 4172
                    value: 1
          depth: ~
        expr:
          kind: app
          id: 4196
          opcode: foldl
          args:
            - kind: name
              id: 4176
              name: indList
            - kind: app
              id: 4177
              opcode: List
              args: []
            - kind: lambda
              id: 4195
              params:
                - id: 4178
                  name: s
                - id: 4179
                  name: x
              expr:
                kind: app
                id: 4194
                opcode: ite
                args:
                  - kind: app
                    id: 4188
                    opcode: eq
                    args:
                      - kind: app
                        id: 4183
                        opcode: slice
                        args:
                          - kind: name
                            id: 4180
                            name: a
                          - kind: int
                            id: 4181
                            value: 0
                          - kind: name
                            id: 4182
                            name: x
                      - kind: app
                        id: 4187
                        opcode: slice
                        args:
                          - kind: name
                            id: 4184
                            name: b
                          - kind: int
                            id: 4185
                            value: 0
                          - kind: name
                            id: 4186
                            name: x
                  - kind: app
                    id: 4192
                    opcode: slice
                    args:
                      - kind: name
                        id: 4189
                        name: b
                      - kind: int
                        id: 4190
                        value: 0
                      - kind: name
                        id: 4191
                        name: x
                  - kind: name
                    id: 4193
                    name: s
    depth: 0
  4200:
    kind: typedef
    id: 3897
  4202:
    kind: typedef
    id: 3897
  4204:
    kind: typedef
    id: 2756
  4206:
    kind: def
    id: 4077
    name: keylength
    qualifier: val
    expr:
      kind: int
      id: 4076
      value: 4
    depth: 0
  4210:
    kind: def
    id: 4210
    name: indList
    qualifier: val
    expr:
      kind: app
      id: 4209
      opcode: range
      args:
        - kind: int
          id: 4205
          value: 1
        - kind: app
          id: 4208
          opcode: iadd
          args:
            - kind: name
              id: 4206
              name: keylength
            - kind: int
              id: 4207
              value: 1
    depth: 3
  4211:
    kind: def
    id: 4210
    name: indList
    qualifier: val
    expr:
      kind: app
      id: 4209
      opcode: range
      args:
        - kind: int
          id: 4205
          value: 1
        - kind: app
          id: 4208
          opcode: iadd
          args:
            - kind: name
              id: 4206
              name: keylength
            - kind: int
              id: 4207
              value: 1
    depth: 3
  4215:
    id: 4201
    name: a
  4219:
    id: 4214
    name: x
  4221:
    id: 4203
    name: b
  4225:
    id: 4214
    name: x
  4228:
    id: 4203
    name: b
  4232:
    id: 4214
    name: x
  4234:
    id: 4213
    name: s
  4240:
    kind: def
    id: 4240
    name: commonPrefix
    qualifier: puredef
    expr:
      kind: lambda
      id: 4239
      params:
        - id: 4201
          name: a
        - id: 4203
          name: b
      expr:
        kind: let
        id: 4238
        opdef:
          id: 4210
          name: indList
          qualifier: val
          expr:
            kind: app
            id: 4209
            opcode: range
            args:
              - kind: int
                id: 4205
                value: 1
              - kind: app
                id: 4208
                opcode: iadd
                args:
                  - kind: name
                    id: 4206
                    name: keylength
                  - kind: int
                    id: 4207
                    value: 1
          depth: ~
        expr:
          kind: app
          id: 4237
          opcode: foldl
          args:
            - kind: name
              id: 4211
              name: indList
            - kind: app
              id: 4212
              opcode: List
              args: []
            - kind: lambda
              id: 4236
              params:
                - id: 4213
                  name: s
                - id: 4214
                  name: x
              expr:
                kind: app
                id: 4235
                opcode: ite
                args:
                  - kind: app
                    id: 4227
                    opcode: eq
                    args:
                      - kind: app
                        id: 4220
                        opcode: slice
                        args:
                          - kind: app
                            id: 4217
                            opcode: field
                            args:
                              - kind: name
                                id: 4215
                                name: a
                              - kind: str
                                id: 4216
                                value: key_hash
                          - kind: int
                            id: 4218
                            value: 0
                          - kind: name
                            id: 4219
                            name: x
                      - kind: app
                        id: 4226
                        opcode: slice
                        args:
                          - kind: app
                            id: 4223
                            opcode: field
                            args:
                              - kind: name
                                id: 4221
                                name: b
                              - kind: str
                                id: 4222
                                value: key_hash
                          - kind: int
                            id: 4224
                            value: 0
                          - kind: name
                            id: 4225
                            name: x
                  - kind: app
                    id: 4233
                    opcode: slice
                    args:
                      - kind: app
                        id: 4230
                        opcode: field
                        args:
                          - kind: name
                            id: 4228
                            name: b
                          - kind: str
                            id: 4229
                            value: key_hash
                      - kind: int
                        id: 4231
                        value: 0
                      - kind: name
                        id: 4232
                        name: x
                  - kind: name
                    id: 4234
                    name: s
    depth: 0
  4248:
    id: 4243
    name: l1
  4250:
    id: 4246
    name: l2
  4253:
    id: 4243
    name: l1
  4256:
    id: 4243
    name: l1
  4257:
    id: 4255
    name: i
  4259:
    id: 4246
    name: l2
  4260:
    id: 4255
    name: i
  4267:
    kind: def
    id: 4267
    name: prefix_of
    qualifier: puredef
    expr:
      kind: lambda
      id: 4266
      params:
        - id: 4243
          name: l1
        - id: 4246
          name: l2
      expr:
        kind: app
        id: 4265
        opcode: and
        args:
          - kind: app
            id: 4252
            opcode: ilte
            args:
              - kind: app
                id: 4249
                opcode: length
                args:
                  - kind: name
                    id: 4248
                    name: l1
              - kind: app
                id: 4251
                opcode: length
                args:
                  - kind: name
                    id: 4250
                    name: l2
          - kind: app
            id: 4264
            opcode: forall
            args:
              - kind: app
                id: 4254
                opcode: indices
                args:
                  - kind: name
                    id: 4253
                    name: l1
              - kind: lambda
                id: 4263
                params:
                  - id: 4255
                    name: i
                expr:
                  kind: app
                  id: 4262
                  opcode: eq
                  args:
                    - kind: app
                      id: 4258
                      opcode: nth
                      args:
                        - kind: name
                          id: 4256
                          name: l1
                        - kind: name
                          id: 4257
                          name: i
                    - kind: app
                      id: 4261
                      opcode: nth
                      args:
                        - kind: name
                          id: 4259
                          name: l2
                        - kind: name
                          id: 4260
                          name: i
    depth: 0
  4275:
    id: 4270
    name: s
  4279:
    id: 4277
    name: acc
  4281:
    id: 4272
    name: n
  4283:
    id: 4277
    name: acc
  4284:
    id: 4278
    name: x
  4287:
    id: 4277
    name: acc
  4292:
    kind: def
    id: 4292
    name: take
    qualifier: puredef
    expr:
      kind: lambda
      id: 4291
      params:
        - id: 4270
          name: s
        - id: 4272
          name: n
      expr:
        kind: app
        id: 4290
        opcode: fold
        args:
          - kind: name
            id: 4275
            name: s
          - kind: app
            id: 4276
            opcode: Set
            args: []
          - kind: lambda
            id: 4289
            params:
              - id: 4277
                name: acc
              - id: 4278
                name: x
            expr:
              kind: app
              id: 4288
              opcode: ite
              args:
                - kind: app
                  id: 4282
                  opcode: ilt
                  args:
                    - kind: app
                      id: 4280
                      opcode: size
                      args:
                        - kind: name
                          id: 4279
                          name: acc
                    - kind: name
                      id: 4281
                      name: n
                - kind: app
                  id: 4286
                  opcode: union
                  args:
                    - kind: name
                      id: 4283
                      name: acc
                    - kind: app
                      id: 4285
                      opcode: Set
                      args:
                        - kind: name
                          id: 4284
                          name: x
                - kind: name
                  id: 4287
                  name: acc
    depth: 0
  4301:
    id: 4296
    name: m
  4304:
    id: 4303
    name: k
  4305:
    id: 4296
    name: m
  4306:
    id: 4303
    name: k
  4312:
    kind: def
    id: 4312
    name: mapToTuples
    qualifier: puredef
    expr:
      kind: lambda
      id: 4311
      params:
        - id: 4296
          name: m
      expr:
        kind: app
        id: 4310
        opcode: map
        args:
          - kind: app
            id: 4302
            opcode: keys
            args:
              - kind: name
                id: 4301
                name: m
          - kind: lambda
            id: 4309
            params:
              - id: 4303
                name: k
            expr:
              kind: app
              id: 4308
              opcode: Tup
              args:
                - kind: name
                  id: 4304
                  name: k
                - kind: app
                  id: 4307
                  opcode: get
                  args:
                    - kind: name
                      id: 4305
                      name: m
                    - kind: name
                      id: 4306
                      name: k
    depth: 0
  4313:
    kind: typedef
    id: 3919
  4316:
    id: 4314
    name: outcome
  4331:
    kind: def
    id: 4331
    name: is_updated_or_deleted
    qualifier: puredef
    expr:
      kind: lambda
      id: 4330
      params:
        - id: 4314
          name: outcome
      expr:
        kind: app
        id: 4320
        opcode: matchVariant
        args:
          - kind: name
            id: 4316
            name: outcome
          - kind: str
            id: 4321
            value: Updated
          - kind: lambda
            id: 4322
            params:
              - id: 4323
                name: _
            expr:
              kind: bool
              id: 4317
              value: true
          - kind: str
            id: 4324
            value: Deleted
          - kind: lambda
            id: 4325
            params:
              - id: 4326
                name: _
            expr:
              kind: bool
              id: 4318
              value: true
          - kind: str
            id: 4327
            value: _
          - kind: lambda
            id: 4328
            params:
              - id: 4329
                name: _
            expr:
              kind: bool
              id: 4319
              value: false
    depth: 0
  4332:
    kind: typedef
    id: 3919
  4335:
    id: 4333
    name: outcome
  4346:
    kind: def
    id: 4346
    name: is_unchanged
    qualifier: puredef
    expr:
      kind: lambda
      id: 4345
      params:
        - id: 4333
          name: outcome
      expr:
        kind: app
        id: 4338
        opcode: matchVariant
        args:
          - kind: name
            id: 4335
            name: outcome
          - kind: str
            id: 4339
            value: Unchanged
          - kind: lambda
            id: 4340
            params:
              - id: 4341
                name: _
            expr:
              kind: bool
              id: 4336
              value: true
          - kind: str
            id: 4342
            value: _
          - kind: lambda
            id: 4343
            params:
              - id: 4344
                name: _
            expr:
              kind: bool
              id: 4337
              value: false
    depth: 0
  4347:
    kind: typedef
    id: 3919
  4350:
    id: 4348
    name: outcome
  4351:
    id: 4374
    name: optional
  4352:
    id: 4366
    name: node
  4379:
    kind: def
    id: 4379
    name: unchanged_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4378
      params:
        - id: 4348
          name: outcome
      expr:
        kind: app
        id: 4371
        opcode: matchVariant
        args:
          - kind: name
            id: 4350
            name: outcome
          - kind: str
            id: 4372
            value: Unchanged
          - kind: lambda
            id: 4373
            params:
              - id: 4374
                name: optional
            expr:
              kind: app
              id: 4363
              opcode: matchVariant
              args:
                - kind: name
                  id: 4351
                  name: optional
                - kind: str
                  id: 4364
                  value: Some
                - kind: lambda
                  id: 4365
                  params:
                    - id: 4366
                      name: node
                  expr:
                    kind: app
                    id: 4355
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 4352
                        name: node
                      - kind: str
                        id: 4356
                        value: Leaf
                      - kind: lambda
                        id: 4357
                        params:
                          - id: 4358
                            name: _
                        expr:
                          kind: bool
                          id: 4353
                          value: true
                      - kind: str
                        id: 4359
                        value: _
                      - kind: lambda
                        id: 4360
                        params:
                          - id: 4361
                            name: _
                        expr:
                          kind: bool
                          id: 4354
                          value: false
                - kind: str
                  id: 4367
                  value: _
                - kind: lambda
                  id: 4368
                  params:
                    - id: 4369
                      name: _
                  expr:
                    kind: bool
                    id: 4362
                    value: false
          - kind: str
            id: 4375
            value: _
          - kind: lambda
            id: 4376
            params:
              - id: 4377
                name: _
            expr:
              kind: bool
              id: 4370
              value: false
    depth: 0
  4380:
    kind: typedef
    id: 3919
  4383:
    id: 4381
    name: outcome
  4384:
    id: 4398
    name: node
  4403:
    kind: def
    id: 4403
    name: updated_to_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4402
      params:
        - id: 4381
          name: outcome
      expr:
        kind: app
        id: 4395
        opcode: matchVariant
        args:
          - kind: name
            id: 4383
            name: outcome
          - kind: str
            id: 4396
            value: Updated
          - kind: lambda
            id: 4397
            params:
              - id: 4398
                name: node
            expr:
              kind: app
              id: 4387
              opcode: matchVariant
              args:
                - kind: name
                  id: 4384
                  name: node
                - kind: str
                  id: 4388
                  value: Leaf
                - kind: lambda
                  id: 4389
                  params:
                    - id: 4390
                      name: _
                  expr:
                    kind: bool
                    id: 4385
                    value: true
                - kind: str
                  id: 4391
                  value: _
                - kind: lambda
                  id: 4392
                  params:
                    - id: 4393
                      name: _
                  expr:
                    kind: bool
                    id: 4386
                    value: false
          - kind: str
            id: 4399
            value: _
          - kind: lambda
            id: 4400
            params:
              - id: 4401
                name: _
            expr:
              kind: bool
              id: 4394
              value: false
    depth: 0
  4411:
    id: 4407
    name: b
  4412:
    id: 4405
    name: a
  4414:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4415:
    id: 4405
    name: a
  4416:
    id: 4407
    name: b
  4418:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  4421:
    kind: def
    id: 4421
    name: checked_sub
    qualifier: puredef
    expr:
      kind: lambda
      id: 4420
      params:
        - id: 4405
          name: a
        - id: 4407
          name: b
      expr:
        kind: app
        id: 4419
        opcode: ite
        args:
          - kind: app
            id: 4413
            opcode: igt
            args:
              - kind: name
                id: 4411
                name: b
              - kind: name
                id: 4412
                name: a
          - kind: name
            id: 4414
            name: None
          - kind: app
            id: 4418
            opcode: Some
            args:
              - kind: app
                id: 4417
                opcode: isub
                args:
                  - kind: name
                    id: 4415
                    name: a
                  - kind: name
                    id: 4416
                    name: b
    depth: 0
  4424:
    id: 4422
    name: a
  4427:
    id: 4423
    name: b
  4433:
    id: 4423
    name: b
  4436:
    id: 4422
    name: a
  4442:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  4444:
    kind: def
    id: 4444
    name: fuzzy_compare
    qualifier: puredef
    expr:
      kind: lambda
      id: 4443
      params:
        - id: 4422
          name: a
        - id: 4423
          name: b
      expr:
        kind: app
        id: 4442
        opcode: intCompare
        args:
          - kind: app
            id: 4432
            opcode: nth
            args:
              - kind: app
                id: 4426
                opcode: field
                args:
                  - kind: name
                    id: 4424
                    name: a
                  - kind: str
                    id: 4425
                    value: key_hash
              - kind: app
                id: 4431
                opcode: nth
                args:
                  - kind: app
                    id: 4429
                    opcode: field
                    args:
                      - kind: name
                        id: 4427
                        name: b
                      - kind: str
                        id: 4428
                        value: key_hash
                  - kind: int
                    id: 4430
                    value: 0
          - kind: app
            id: 4441
            opcode: nth
            args:
              - kind: app
                id: 4435
                opcode: field
                args:
                  - kind: name
                    id: 4433
                    name: b
                  - kind: str
                    id: 4434
                    value: key_hash
              - kind: app
                id: 4440
                opcode: nth
                args:
                  - kind: app
                    id: 4438
                    opcode: field
                    args:
                      - kind: name
                        id: 4436
                        name: a
                      - kind: str
                        id: 4437
                        value: key_hash
                  - kind: int
                    id: 4439
                    value: 0
    depth: 0
  4455:
    kind: typedef
    id: 2947
  4460:
    kind: typedef
    id: 4459
  4467:
    kind: def
    id: 2791
    name: Hash256_ZERO
    qualifier: val
    expr:
      kind: app
      id: 2790
      opcode: raw
      args:
        - kind: app
          id: 2789
          opcode: List
          args:
            - kind: int
              id: 2757
              value: 0
            - kind: int
              id: 2758
              value: 0
            - kind: int
              id: 2759
              value: 0
            - kind: int
              id: 2760
              value: 0
            - kind: int
              id: 2761
              value: 0
            - kind: int
              id: 2762
              value: 0
            - kind: int
              id: 2763
              value: 0
            - kind: int
              id: 2764
              value: 0
            - kind: int
              id: 2765
              value: 0
            - kind: int
              id: 2766
              value: 0
            - kind: int
              id: 2767
              value: 0
            - kind: int
              id: 2768
              value: 0
            - kind: int
              id: 2769
              value: 0
            - kind: int
              id: 2770
              value: 0
            - kind: int
              id: 2771
              value: 0
            - kind: int
              id: 2772
              value: 0
            - kind: int
              id: 2773
              value: 0
            - kind: int
              id: 2774
              value: 0
            - kind: int
              id: 2775
              value: 0
            - kind: int
              id: 2776
              value: 0
            - kind: int
              id: 2777
              value: 0
            - kind: int
              id: 2778
              value: 0
            - kind: int
              id: 2779
              value: 0
            - kind: int
              id: 2780
              value: 0
            - kind: int
              id: 2781
              value: 0
            - kind: int
              id: 2782
              value: 0
            - kind: int
              id: 2783
              value: 0
            - kind: int
              id: 2784
              value: 0
            - kind: int
              id: 2785
              value: 0
            - kind: int
              id: 2786
              value: 0
            - kind: int
              id: 2787
              value: 0
            - kind: int
              id: 2788
              value: 0
    depth: 0
  4474:
    kind: def
    id: 4474
    name: "ics23::InnerSpec"
    qualifier: pureval
    expr:
      kind: app
      id: 4473
      opcode: Rec
      args:
        - kind: str
          id: 4462
          value: min_prefix_length
        - kind: int
          id: 4461
          value: 1
        - kind: str
          id: 4464
          value: max_prefix_length
        - kind: int
          id: 4463
          value: 1
        - kind: str
          id: 4466
          value: child_size
        - kind: int
          id: 4465
          value: 32
        - kind: str
          id: 4468
          value: empty_child
        - kind: name
          id: 4467
          name: Hash256_ZERO
        - kind: str
          id: 4472
          value: child_order
        - kind: app
          id: 4471
          opcode: List
          args:
            - kind: int
              id: 4469
              value: 0
            - kind: int
              id: 4470
              value: 1
    depth: 0
  4480:
    kind: typedef
    id: 2947
  4482:
    kind: typedef
    id: 8451
  4484:
    kind: typedef
    id: 2756
  4486:
    kind: typedef
    id: 2756
  4489:
    id: 4483
    name: proof
  4490:
    id: 4481
    name: root
  4491:
    id: 4485
    name: key
  4492:
    id: 4487
    name: value
  4493:
    kind: def
    id: 4516
    name: verify_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4515
      params:
        - id: 4496
          name: proof
        - id: 4497
          name: root
        - id: 4498
          name: key
        - id: 4499
          name: value
      expr:
        kind: app
        id: 4514
        opcode: and
        args:
          - kind: app
            id: 4504
            opcode: eq
            args:
              - kind: name
                id: 4500
                name: key
              - kind: app
                id: 4503
                opcode: field
                args:
                  - kind: name
                    id: 4501
                    name: proof
                  - kind: str
                    id: 4502
                    value: key
          - kind: app
            id: 4509
            opcode: eq
            args:
              - kind: name
                id: 4505
                name: value
              - kind: app
                id: 4508
                opcode: field
                args:
                  - kind: name
                    id: 4506
                    name: proof
                  - kind: str
                    id: 4507
                    value: value
          - kind: app
            id: 4513
            opcode: eq
            args:
              - kind: name
                id: 4510
                name: root
              - kind: app
                id: 4512
                opcode: exists_calculate
                args:
                  - kind: name
                    id: 4511
                    name: proof
    depth: 0
  4495:
    kind: def
    id: 4495
    name: verifyMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4494
      params:
        - id: 4481
          name: root
        - id: 4483
          name: proof
        - id: 4485
          name: key
        - id: 4487
          name: value
      expr:
        kind: app
        id: 4493
        opcode: verify_existence
        args:
          - kind: name
            id: 4489
            name: proof
          - kind: name
            id: 4490
            name: root
          - kind: name
            id: 4491
            name: key
          - kind: name
            id: 4492
            name: value
    depth: 0
  4500:
    id: 4498
    name: key
  4501:
    id: 4496
    name: proof
  4505:
    id: 4499
    name: value
  4506:
    id: 4496
    name: proof
  4510:
    id: 4497
    name: root
  4511:
    id: 4496
    name: proof
  4512:
    kind: def
    id: 4551
    name: exists_calculate
    qualifier: puredef
    expr:
      kind: lambda
      id: 4550
      params:
        - id: 4518
          name: p
      expr:
        kind: let
        id: 4549
        opdef:
          id: 4530
          name: leafHash
          qualifier: val
          expr:
            kind: app
            id: 4529
            opcode: hashLeafNode
            args:
              - kind: app
                id: 4528
                opcode: Rec
                args:
                  - kind: str
                    id: 4523
                    value: key_hash
                  - kind: app
                    id: 4522
                    opcode: field
                    args:
                      - kind: name
                        id: 4520
                        name: p
                      - kind: str
                        id: 4521
                        value: key
                  - kind: str
                    id: 4527
                    value: value_hash
                  - kind: app
                    id: 4526
                    opcode: field
                    args:
                      - kind: name
                        id: 4524
                        name: p
                      - kind: str
                        id: 4525
                        value: value
          depth: ~
        expr:
          kind: app
          id: 4548
          opcode: foldl
          args:
            - kind: app
              id: 4533
              opcode: field
              args:
                - kind: name
                  id: 4531
                  name: p
                - kind: str
                  id: 4532
                  value: path
            - kind: name
              id: 4534
              name: leafHash
            - kind: lambda
              id: 4547
              params:
                - id: 4535
                  name: child
                - id: 4536
                  name: inner
              expr:
                kind: app
                id: 4546
                opcode: termHash
                args:
                  - kind: app
                    id: 4545
                    opcode: termConcat
                    args:
                      - kind: app
                        id: 4541
                        opcode: termConcat
                        args:
                          - kind: app
                            id: 4539
                            opcode: field
                            args:
                              - kind: name
                                id: 4537
                                name: inner
                              - kind: str
                                id: 4538
                                value: prefix
                          - kind: name
                            id: 4540
                            name: child
                      - kind: app
                        id: 4544
                        opcode: field
                        args:
                          - kind: name
                            id: 4542
                            name: inner
                          - kind: str
                            id: 4543
                            value: suffix
    depth: 0
  4516:
    kind: def
    id: 4516
    name: verify_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4515
      params:
        - id: 4496
          name: proof
        - id: 4497
          name: root
        - id: 4498
          name: key
        - id: 4499
          name: value
      expr:
        kind: app
        id: 4514
        opcode: and
        args:
          - kind: app
            id: 4504
            opcode: eq
            args:
              - kind: name
                id: 4500
                name: key
              - kind: app
                id: 4503
                opcode: field
                args:
                  - kind: name
                    id: 4501
                    name: proof
                  - kind: str
                    id: 4502
                    value: key
          - kind: app
            id: 4509
            opcode: eq
            args:
              - kind: name
                id: 4505
                name: value
              - kind: app
                id: 4508
                opcode: field
                args:
                  - kind: name
                    id: 4506
                    name: proof
                  - kind: str
                    id: 4507
                    value: value
          - kind: app
            id: 4513
            opcode: eq
            args:
              - kind: name
                id: 4510
                name: root
              - kind: app
                id: 4512
                opcode: exists_calculate
                args:
                  - kind: name
                    id: 4511
                    name: proof
    depth: 0
  4517:
    kind: typedef
    id: 8451
  4519:
    kind: typedef
    id: 2947
  4520:
    id: 4518
    name: p
  4524:
    id: 4518
    name: p
  4529:
    kind: def
    id: 3998
    name: hashLeafNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 3997
      params:
        - id: 3983
          name: l
      expr:
        kind: app
        id: 3996
        opcode: termHash
        args:
          - kind: app
            id: 3995
            opcode: termConcat
            args:
              - kind: app
                id: 3990
                opcode: termConcat
                args:
                  - kind: name
                    id: 3985
                    name: LeafNodeHashPrefix
                  - kind: app
                    id: 3989
                    opcode: raw
                    args:
                      - kind: app
                        id: 3988
                        opcode: field
                        args:
                          - kind: name
                            id: 3986
                            name: l
                          - kind: str
                            id: 3987
                            value: key_hash
              - kind: app
                id: 3994
                opcode: raw
                args:
                  - kind: app
                    id: 3993
                    opcode: field
                    args:
                      - kind: name
                        id: 3991
                        name: l
                      - kind: str
                        id: 3992
                        value: value_hash
    depth: 0
  4530:
    kind: def
    id: 4530
    name: leafHash
    qualifier: val
    expr:
      kind: app
      id: 4529
      opcode: hashLeafNode
      args:
        - kind: app
          id: 4528
          opcode: Rec
          args:
            - kind: str
              id: 4523
              value: key_hash
            - kind: app
              id: 4522
              opcode: field
              args:
                - kind: name
                  id: 4520
                  name: p
                - kind: str
                  id: 4521
                  value: key
            - kind: str
              id: 4527
              value: value_hash
            - kind: app
              id: 4526
              opcode: field
              args:
                - kind: name
                  id: 4524
                  name: p
                - kind: str
                  id: 4525
                  value: value
    depth: 3
  4531:
    id: 4518
    name: p
  4534:
    kind: def
    id: 4530
    name: leafHash
    qualifier: val
    expr:
      kind: app
      id: 4529
      opcode: hashLeafNode
      args:
        - kind: app
          id: 4528
          opcode: Rec
          args:
            - kind: str
              id: 4523
              value: key_hash
            - kind: app
              id: 4522
              opcode: field
              args:
                - kind: name
                  id: 4520
                  name: p
                - kind: str
                  id: 4521
                  value: key
            - kind: str
              id: 4527
              value: value_hash
            - kind: app
              id: 4526
              opcode: field
              args:
                - kind: name
                  id: 4524
                  name: p
                - kind: str
                  id: 4525
                  value: value
    depth: 3
  4537:
    id: 4536
    name: inner
  4540:
    id: 4535
    name: child
  4541:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  4542:
    id: 4536
    name: inner
  4545:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  4546:
    kind: def
    id: 3055
    name: termHash
    qualifier: puredef
    expr:
      kind: lambda
      id: 3054
      params:
        - id: 3020
          name: term
      expr:
        kind: let
        id: 3053
        opdef:
          id: 3035
          name: paths
          qualifier: pureval
          expr:
            kind: app
            id: 3034
            opcode: union
            args:
              - kind: app
                id: 3024
                opcode: Set
                args:
                  - kind: app
                    id: 3023
                    opcode: List
                    args:
                      - kind: int
                        id: 3022
                        value: 0
              - kind: app
                id: 3033
                opcode: map
                args:
                  - kind: app
                    id: 3026
                    opcode: keys
                    args:
                      - kind: name
                        id: 3025
                        name: term
                  - kind: lambda
                    id: 3032
                    params:
                      - id: 3027
                        name: p
                    expr:
                      kind: app
                      id: 3031
                      opcode: concat
                      args:
                        - kind: app
                          id: 3029
                          opcode: List
                          args:
                            - kind: int
                              id: 3028
                              value: 0
                        - kind: name
                          id: 3030
                          name: p
          depth: ~
        expr:
          kind: app
          id: 3052
          opcode: mapBy
          args:
            - kind: name
              id: 3036
              name: paths
            - kind: lambda
              id: 3051
              params:
                - id: 3037
                  name: p
              expr:
                kind: app
                id: 3050
                opcode: ite
                args:
                  - kind: app
                    id: 3041
                    opcode: eq
                    args:
                      - kind: name
                        id: 3038
                        name: p
                      - kind: app
                        id: 3040
                        opcode: List
                        args:
                          - kind: int
                            id: 3039
                            value: 0
                  - kind: name
                    id: 3042
                    name: Hash
                  - kind: app
                    id: 3049
                    opcode: get
                    args:
                      - kind: name
                        id: 3043
                        name: term
                      - kind: app
                        id: 3048
                        opcode: slice
                        args:
                          - kind: name
                            id: 3044
                            name: p
                          - kind: int
                            id: 3045
                            value: 1
                          - kind: app
                            id: 3047
                            opcode: length
                            args:
                              - kind: name
                                id: 3046
                                name: p
    depth: 0
  4551:
    kind: def
    id: 4551
    name: exists_calculate
    qualifier: puredef
    expr:
      kind: lambda
      id: 4550
      params:
        - id: 4518
          name: p
      expr:
        kind: let
        id: 4549
        opdef:
          id: 4530
          name: leafHash
          qualifier: val
          expr:
            kind: app
            id: 4529
            opcode: hashLeafNode
            args:
              - kind: app
                id: 4528
                opcode: Rec
                args:
                  - kind: str
                    id: 4523
                    value: key_hash
                  - kind: app
                    id: 4522
                    opcode: field
                    args:
                      - kind: name
                        id: 4520
                        name: p
                      - kind: str
                        id: 4521
                        value: key
                  - kind: str
                    id: 4527
                    value: value_hash
                  - kind: app
                    id: 4526
                    opcode: field
                    args:
                      - kind: name
                        id: 4524
                        name: p
                      - kind: str
                        id: 4525
                        value: value
          depth: ~
        expr:
          kind: app
          id: 4548
          opcode: foldl
          args:
            - kind: app
              id: 4533
              opcode: field
              args:
                - kind: name
                  id: 4531
                  name: p
                - kind: str
                  id: 4532
                  value: path
            - kind: name
              id: 4534
              name: leafHash
            - kind: lambda
              id: 4547
              params:
                - id: 4535
                  name: child
                - id: 4536
                  name: inner
              expr:
                kind: app
                id: 4546
                opcode: termHash
                args:
                  - kind: app
                    id: 4545
                    opcode: termConcat
                    args:
                      - kind: app
                        id: 4541
                        opcode: termConcat
                        args:
                          - kind: app
                            id: 4539
                            opcode: field
                            args:
                              - kind: name
                                id: 4537
                                name: inner
                              - kind: str
                                id: 4538
                                value: prefix
                          - kind: name
                            id: 4540
                            name: child
                      - kind: app
                        id: 4544
                        opcode: field
                        args:
                          - kind: name
                            id: 4542
                            name: inner
                          - kind: str
                            id: 4543
                            value: suffix
    depth: 0
  4552:
    kind: typedef
    id: 2947
  4554:
    kind: typedef
    id: 8460
  4556:
    kind: typedef
    id: 2756
  4559:
    id: 4555
    name: np
  4560:
    kind: def
    id: 4474
    name: "ics23::InnerSpec"
    qualifier: pureval
    expr:
      kind: app
      id: 4473
      opcode: Rec
      args:
        - kind: str
          id: 4462
          value: min_prefix_length
        - kind: int
          id: 4461
          value: 1
        - kind: str
          id: 4464
          value: max_prefix_length
        - kind: int
          id: 4463
          value: 1
        - kind: str
          id: 4466
          value: child_size
        - kind: int
          id: 4465
          value: 32
        - kind: str
          id: 4468
          value: empty_child
        - kind: name
          id: 4467
          name: Hash256_ZERO
        - kind: str
          id: 4472
          value: child_order
        - kind: app
          id: 4471
          opcode: List
          args:
            - kind: int
              id: 4469
              value: 0
            - kind: int
              id: 4470
              value: 1
    depth: 0
  4561:
    id: 4553
    name: root
  4562:
    id: 4557
    name: key
  4563:
    kind: def
    id: 4684
    name: verify_non_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4683
      params:
        - id: 4567
          name: proof
        - id: 4569
          name: spec
        - id: 4571
          name: root
        - id: 4573
          name: key
      expr:
        kind: app
        id: 4682
        opcode: and
        args:
          - kind: app
            id: 4585
            opcode: or
            args:
              - kind: app
                id: 4579
                opcode: neq
                args:
                  - kind: app
                    id: 4577
                    opcode: field
                    args:
                      - kind: name
                        id: 4575
                        name: proof
                      - kind: str
                        id: 4576
                        value: left
                  - kind: name
                    id: 4578
                    name: None
              - kind: app
                id: 4584
                opcode: neq
                args:
                  - kind: app
                    id: 4582
                    opcode: field
                    args:
                      - kind: name
                        id: 4580
                        name: proof
                      - kind: str
                        id: 4581
                        value: right
                  - kind: name
                    id: 4583
                    name: None
          - kind: app
            id: 4612
            opcode: implies
            args:
              - kind: app
                id: 4590
                opcode: neq
                args:
                  - kind: app
                    id: 4588
                    opcode: field
                    args:
                      - kind: name
                        id: 4586
                        name: proof
                      - kind: str
                        id: 4587
                        value: left
                  - kind: name
                    id: 4589
                    name: None
              - kind: let
                id: 4611
                opdef:
                  id: 4595
                  name: left
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4594
                    opcode: unwrap
                    args:
                      - kind: app
                        id: 4593
                        opcode: field
                        args:
                          - kind: name
                            id: 4591
                            name: proof
                          - kind: str
                            id: 4592
                            value: left
                  depth: ~
                expr:
                  kind: app
                  id: 4610
                  opcode: and
                  args:
                    - kind: app
                      id: 4604
                      opcode: verify_existence
                      args:
                        - kind: name
                          id: 4596
                          name: left
                        - kind: name
                          id: 4597
                          name: root
                        - kind: app
                          id: 4600
                          opcode: field
                          args:
                            - kind: name
                              id: 4598
                              name: left
                            - kind: str
                              id: 4599
                              value: key
                        - kind: app
                          id: 4603
                          opcode: field
                          args:
                            - kind: name
                              id: 4601
                              name: left
                            - kind: str
                              id: 4602
                              value: value
                    - kind: app
                      id: 4609
                      opcode: greater_than
                      args:
                        - kind: name
                          id: 4605
                          name: key
                        - kind: app
                          id: 4608
                          opcode: field
                          args:
                            - kind: name
                              id: 4606
                              name: left
                            - kind: str
                              id: 4607
                              value: key
          - kind: app
            id: 4639
            opcode: implies
            args:
              - kind: app
                id: 4617
                opcode: neq
                args:
                  - kind: app
                    id: 4615
                    opcode: field
                    args:
                      - kind: name
                        id: 4613
                        name: proof
                      - kind: str
                        id: 4614
                        value: right
                  - kind: name
                    id: 4616
                    name: None
              - kind: let
                id: 4638
                opdef:
                  id: 4622
                  name: right
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4621
                    opcode: unwrap
                    args:
                      - kind: app
                        id: 4620
                        opcode: field
                        args:
                          - kind: name
                            id: 4618
                            name: proof
                          - kind: str
                            id: 4619
                            value: right
                  depth: ~
                expr:
                  kind: app
                  id: 4637
                  opcode: and
                  args:
                    - kind: app
                      id: 4631
                      opcode: verify_existence
                      args:
                        - kind: name
                          id: 4623
                          name: right
                        - kind: name
                          id: 4624
                          name: root
                        - kind: app
                          id: 4627
                          opcode: field
                          args:
                            - kind: name
                              id: 4625
                              name: right
                            - kind: str
                              id: 4626
                              value: key
                        - kind: app
                          id: 4630
                          opcode: field
                          args:
                            - kind: name
                              id: 4628
                              name: right
                            - kind: str
                              id: 4629
                              value: value
                    - kind: app
                      id: 4636
                      opcode: less_than
                      args:
                        - kind: name
                          id: 4632
                          name: key
                        - kind: app
                          id: 4635
                          opcode: field
                          args:
                            - kind: name
                              id: 4633
                              name: right
                            - kind: str
                              id: 4634
                              value: key
          - kind: app
            id: 4681
            opcode: ite
            args:
              - kind: app
                id: 4644
                opcode: eq
                args:
                  - kind: app
                    id: 4642
                    opcode: field
                    args:
                      - kind: name
                        id: 4640
                        name: proof
                      - kind: str
                        id: 4641
                        value: left
                  - kind: name
                    id: 4643
                    name: None
              - kind: app
                id: 4652
                opcode: is_left_most
                args:
                  - kind: name
                    id: 4645
                    name: spec
                  - kind: app
                    id: 4651
                    opcode: field
                    args:
                      - kind: app
                        id: 4649
                        opcode: unwrap
                        args:
                          - kind: app
                            id: 4648
                            opcode: field
                            args:
                              - kind: name
                                id: 4646
                                name: proof
                              - kind: str
                                id: 4647
                                value: right
                      - kind: str
                        id: 4650
                        value: path
              - kind: app
                id: 4680
                opcode: ite
                args:
                  - kind: app
                    id: 4657
                    opcode: eq
                    args:
                      - kind: app
                        id: 4655
                        opcode: field
                        args:
                          - kind: name
                            id: 4653
                            name: proof
                          - kind: str
                            id: 4654
                            value: right
                      - kind: name
                        id: 4656
                        name: None
                  - kind: app
                    id: 4665
                    opcode: is_right_most
                    args:
                      - kind: name
                        id: 4658
                        name: spec
                      - kind: app
                        id: 4664
                        opcode: field
                        args:
                          - kind: app
                            id: 4662
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4661
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4659
                                    name: proof
                                  - kind: str
                                    id: 4660
                                    value: left
                          - kind: str
                            id: 4663
                            value: path
                  - kind: app
                    id: 4679
                    opcode: is_left_neighbor
                    args:
                      - kind: name
                        id: 4666
                        name: spec
                      - kind: app
                        id: 4672
                        opcode: field
                        args:
                          - kind: app
                            id: 4670
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4669
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4667
                                    name: proof
                                  - kind: str
                                    id: 4668
                                    value: left
                          - kind: str
                            id: 4671
                            value: path
                      - kind: app
                        id: 4678
                        opcode: field
                        args:
                          - kind: app
                            id: 4676
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4675
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4673
                                    name: proof
                                  - kind: str
                                    id: 4674
                                    value: right
                          - kind: str
                            id: 4677
                            value: path
    depth: 0
  4565:
    kind: def
    id: 4565
    name: verifyNonMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4564
      params:
        - id: 4553
          name: root
        - id: 4555
          name: np
        - id: 4557
          name: key
      expr:
        kind: app
        id: 4563
        opcode: verify_non_existence
        args:
          - kind: name
            id: 4559
            name: np
          - kind: name
            id: 4560
            name: "ics23::InnerSpec"
          - kind: name
            id: 4561
            name: root
          - kind: name
            id: 4562
            name: key
    depth: 0
  4566:
    kind: typedef
    id: 8460
  4568:
    kind: typedef
    id: 4459
  4570:
    kind: typedef
    id: 2947
  4572:
    kind: typedef
    id: 2756
  4575:
    id: 4567
    name: proof
  4578:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4580:
    id: 4567
    name: proof
  4583:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4586:
    id: 4567
    name: proof
  4589:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4591:
    id: 4567
    name: proof
  4594:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4595:
    kind: def
    id: 4595
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 4594
      opcode: unwrap
      args:
        - kind: app
          id: 4593
          opcode: field
          args:
            - kind: name
              id: 4591
              name: proof
            - kind: str
              id: 4592
              value: left
    depth: 3
  4596:
    kind: def
    id: 4595
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 4594
      opcode: unwrap
      args:
        - kind: app
          id: 4593
          opcode: field
          args:
            - kind: name
              id: 4591
              name: proof
            - kind: str
              id: 4592
              value: left
    depth: 3
  4597:
    id: 4571
    name: root
  4598:
    kind: def
    id: 4595
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 4594
      opcode: unwrap
      args:
        - kind: app
          id: 4593
          opcode: field
          args:
            - kind: name
              id: 4591
              name: proof
            - kind: str
              id: 4592
              value: left
    depth: 3
  4601:
    kind: def
    id: 4595
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 4594
      opcode: unwrap
      args:
        - kind: app
          id: 4593
          opcode: field
          args:
            - kind: name
              id: 4591
              name: proof
            - kind: str
              id: 4592
              value: left
    depth: 3
  4604:
    kind: def
    id: 4516
    name: verify_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4515
      params:
        - id: 4496
          name: proof
        - id: 4497
          name: root
        - id: 4498
          name: key
        - id: 4499
          name: value
      expr:
        kind: app
        id: 4514
        opcode: and
        args:
          - kind: app
            id: 4504
            opcode: eq
            args:
              - kind: name
                id: 4500
                name: key
              - kind: app
                id: 4503
                opcode: field
                args:
                  - kind: name
                    id: 4501
                    name: proof
                  - kind: str
                    id: 4502
                    value: key
          - kind: app
            id: 4509
            opcode: eq
            args:
              - kind: name
                id: 4505
                name: value
              - kind: app
                id: 4508
                opcode: field
                args:
                  - kind: name
                    id: 4506
                    name: proof
                  - kind: str
                    id: 4507
                    value: value
          - kind: app
            id: 4513
            opcode: eq
            args:
              - kind: name
                id: 4510
                name: root
              - kind: app
                id: 4512
                opcode: exists_calculate
                args:
                  - kind: name
                    id: 4511
                    name: proof
    depth: 0
  4605:
    id: 4573
    name: key
  4606:
    kind: def
    id: 4595
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 4594
      opcode: unwrap
      args:
        - kind: app
          id: 4593
          opcode: field
          args:
            - kind: name
              id: 4591
              name: proof
            - kind: str
              id: 4592
              value: left
    depth: 3
  4609:
    kind: def
    id: 2921
    name: greater_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2920
      params:
        - id: 2858
          name: w1
        - id: 2860
          name: w2
      expr:
        kind: let
        id: 2919
        opdef:
          id: 2864
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2863
            opcode: length
            args:
              - kind: name
                id: 2862
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2918
          opdef:
            id: 2867
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2866
              opcode: length
              args:
                - kind: name
                  id: 2865
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2917
            opcode: or
            args:
              - kind: app
                id: 2883
                opcode: and
                args:
                  - kind: app
                    id: 2870
                    opcode: igt
                    args:
                      - kind: name
                        id: 2868
                        name: len1
                      - kind: name
                        id: 2869
                        name: len2
                  - kind: app
                    id: 2882
                    opcode: forall
                    args:
                      - kind: app
                        id: 2872
                        opcode: indices
                        args:
                          - kind: name
                            id: 2871
                            name: w1
                      - kind: lambda
                        id: 2881
                        params:
                          - id: 2873
                            name: i
                        expr:
                          kind: app
                          id: 2880
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2876
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2874
                                  name: w1
                                - kind: name
                                  id: 2875
                                  name: i
                            - kind: app
                              id: 2879
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2877
                                  name: w2
                                - kind: name
                                  id: 2878
                                  name: i
              - kind: app
                id: 2916
                opcode: and
                args:
                  - kind: app
                    id: 2886
                    opcode: eq
                    args:
                      - kind: name
                        id: 2884
                        name: len1
                      - kind: name
                        id: 2885
                        name: len2
                  - kind: app
                    id: 2915
                    opcode: exists
                    args:
                      - kind: app
                        id: 2888
                        opcode: indices
                        args:
                          - kind: name
                            id: 2887
                            name: w1
                      - kind: lambda
                        id: 2914
                        params:
                          - id: 2889
                            name: i
                        expr:
                          kind: app
                          id: 2913
                          opcode: and
                          args:
                            - kind: app
                              id: 2896
                              opcode: igt
                              args:
                                - kind: app
                                  id: 2892
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2890
                                      name: w1
                                    - kind: name
                                      id: 2891
                                      name: i
                                - kind: app
                                  id: 2895
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2893
                                      name: w2
                                    - kind: name
                                      id: 2894
                                      name: i
                            - kind: app
                              id: 2912
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2898
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2897
                                      name: w1
                                - kind: lambda
                                  id: 2911
                                  params:
                                    - id: 2899
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2910
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2902
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2900
                                            name: j
                                          - kind: name
                                            id: 2901
                                            name: i
                                      - kind: app
                                        id: 2909
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2905
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2903
                                                name: w1
                                              - kind: name
                                                id: 2904
                                                name: j
                                          - kind: app
                                            id: 2908
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2906
                                                name: w2
                                              - kind: name
                                                id: 2907
                                                name: j
    depth: 0
  4613:
    id: 4567
    name: proof
  4616:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4618:
    id: 4567
    name: proof
  4621:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4622:
    kind: def
    id: 4622
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 4621
      opcode: unwrap
      args:
        - kind: app
          id: 4620
          opcode: field
          args:
            - kind: name
              id: 4618
              name: proof
            - kind: str
              id: 4619
              value: right
    depth: 3
  4623:
    kind: def
    id: 4622
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 4621
      opcode: unwrap
      args:
        - kind: app
          id: 4620
          opcode: field
          args:
            - kind: name
              id: 4618
              name: proof
            - kind: str
              id: 4619
              value: right
    depth: 3
  4624:
    id: 4571
    name: root
  4625:
    kind: def
    id: 4622
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 4621
      opcode: unwrap
      args:
        - kind: app
          id: 4620
          opcode: field
          args:
            - kind: name
              id: 4618
              name: proof
            - kind: str
              id: 4619
              value: right
    depth: 3
  4628:
    kind: def
    id: 4622
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 4621
      opcode: unwrap
      args:
        - kind: app
          id: 4620
          opcode: field
          args:
            - kind: name
              id: 4618
              name: proof
            - kind: str
              id: 4619
              value: right
    depth: 3
  4631:
    kind: def
    id: 4516
    name: verify_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4515
      params:
        - id: 4496
          name: proof
        - id: 4497
          name: root
        - id: 4498
          name: key
        - id: 4499
          name: value
      expr:
        kind: app
        id: 4514
        opcode: and
        args:
          - kind: app
            id: 4504
            opcode: eq
            args:
              - kind: name
                id: 4500
                name: key
              - kind: app
                id: 4503
                opcode: field
                args:
                  - kind: name
                    id: 4501
                    name: proof
                  - kind: str
                    id: 4502
                    value: key
          - kind: app
            id: 4509
            opcode: eq
            args:
              - kind: name
                id: 4505
                name: value
              - kind: app
                id: 4508
                opcode: field
                args:
                  - kind: name
                    id: 4506
                    name: proof
                  - kind: str
                    id: 4507
                    value: value
          - kind: app
            id: 4513
            opcode: eq
            args:
              - kind: name
                id: 4510
                name: root
              - kind: app
                id: 4512
                opcode: exists_calculate
                args:
                  - kind: name
                    id: 4511
                    name: proof
    depth: 0
  4632:
    id: 4573
    name: key
  4633:
    kind: def
    id: 4622
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 4621
      opcode: unwrap
      args:
        - kind: app
          id: 4620
          opcode: field
          args:
            - kind: name
              id: 4618
              name: proof
            - kind: str
              id: 4619
              value: right
    depth: 3
  4636:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  4640:
    id: 4567
    name: proof
  4643:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4645:
    id: 4569
    name: spec
  4646:
    id: 4567
    name: proof
  4649:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4652:
    kind: def
    id: 4783
    name: is_left_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4782
      params:
        - id: 4749
          name: spec
        - id: 4752
          name: path
      expr:
        kind: app
        id: 4775
        opcode: matchVariant
        args:
          - kind: app
            id: 4756
            opcode: get_padding
            args:
              - kind: name
                id: 4754
                name: spec
              - kind: int
                id: 4755
                value: 0
          - kind: str
            id: 4776
            value: Some
          - kind: lambda
            id: 4777
            params:
              - id: 4778
                name: pad
            expr:
              kind: app
              id: 4773
              opcode: forall
              args:
                - kind: app
                  id: 4758
                  opcode: indices
                  args:
                    - kind: name
                      id: 4757
                      name: path
                - kind: lambda
                  id: 4772
                  params:
                    - id: 4759
                      name: i
                  expr:
                    kind: let
                    id: 4771
                    opdef:
                      id: 4763
                      name: step
                      qualifier: val
                      expr:
                        kind: app
                        id: 4762
                        opcode: nth
                        args:
                          - kind: name
                            id: 4760
                            name: path
                          - kind: name
                            id: 4761
                            name: i
                      depth: ~
                    expr:
                      kind: app
                      id: 4770
                      opcode: or
                      args:
                        - kind: app
                          id: 4766
                          opcode: has_padding
                          args:
                            - kind: name
                              id: 4764
                              name: step
                            - kind: name
                              id: 4765
                              name: pad
                        - kind: app
                          id: 4769
                          opcode: left_branches_are_empty
                          args:
                            - kind: name
                              id: 4767
                              name: spec
                            - kind: name
                              id: 4768
                              name: step
          - kind: str
            id: 4779
            value: None
          - kind: lambda
            id: 4780
            params:
              - id: 4781
                name: _
            expr:
              kind: bool
              id: 4774
              value: false
    depth: 0
  4653:
    id: 4567
    name: proof
  4656:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4658:
    id: 4569
    name: spec
  4659:
    id: 4567
    name: proof
  4662:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4665:
    kind: def
    id: 4827
    name: is_right_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4826
      params:
        - id: 4785
          name: spec
        - id: 4788
          name: path
      expr:
        kind: let
        id: 4825
        opdef:
          id: 4796
          name: idx
          qualifier: pureval
          expr:
            kind: app
            id: 4795
            opcode: isub
            args:
              - kind: app
                id: 4793
                opcode: length
                args:
                  - kind: app
                    id: 4792
                    opcode: field
                    args:
                      - kind: name
                        id: 4790
                        name: spec
                      - kind: str
                        id: 4791
                        value: child_order
              - kind: int
                id: 4794
                value: 1
          depth: ~
        expr:
          kind: app
          id: 4818
          opcode: matchVariant
          args:
            - kind: app
              id: 4799
              opcode: get_padding
              args:
                - kind: name
                  id: 4797
                  name: spec
                - kind: name
                  id: 4798
                  name: idx
            - kind: str
              id: 4819
              value: Some
            - kind: lambda
              id: 4820
              params:
                - id: 4821
                  name: pad
              expr:
                kind: app
                id: 4816
                opcode: forall
                args:
                  - kind: app
                    id: 4801
                    opcode: indices
                    args:
                      - kind: name
                        id: 4800
                        name: path
                  - kind: lambda
                    id: 4815
                    params:
                      - id: 4802
                        name: i
                    expr:
                      kind: let
                      id: 4814
                      opdef:
                        id: 4806
                        name: step
                        qualifier: val
                        expr:
                          kind: app
                          id: 4805
                          opcode: nth
                          args:
                            - kind: name
                              id: 4803
                              name: path
                            - kind: name
                              id: 4804
                              name: i
                        depth: ~
                      expr:
                        kind: app
                        id: 4813
                        opcode: or
                        args:
                          - kind: app
                            id: 4809
                            opcode: has_padding
                            args:
                              - kind: name
                                id: 4807
                                name: step
                              - kind: name
                                id: 4808
                                name: pad
                          - kind: app
                            id: 4812
                            opcode: right_branches_are_empty
                            args:
                              - kind: name
                                id: 4810
                                name: spec
                              - kind: name
                                id: 4811
                                name: step
            - kind: str
              id: 4822
              value: None
            - kind: lambda
              id: 4823
              params:
                - id: 4824
                  name: _
              expr:
                kind: bool
                id: 4817
                value: false
    depth: 0
  4666:
    id: 4569
    name: spec
  4667:
    id: 4567
    name: proof
  4670:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4673:
    id: 4567
    name: proof
  4676:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4679:
    kind: def
    id: 5186
    name: is_left_neighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5185
      params:
        - id: 5094
          name: spec
        - id: 5097
          name: left
        - id: 5100
          name: right
      expr:
        kind: app
        id: 5184
        opcode: exists
        args:
          - kind: app
            id: 5103
            opcode: indices
            args:
              - kind: name
                id: 5102
                name: left
          - kind: lambda
            id: 5183
            params:
              - id: 5104
                name: li
            expr:
              kind: app
              id: 5182
              opcode: exists
              args:
                - kind: app
                  id: 5106
                  opcode: indices
                  args:
                    - kind: name
                      id: 5105
                      name: right
                - kind: lambda
                  id: 5181
                  params:
                    - id: 5107
                      name: ri
                  expr:
                    kind: app
                    id: 5180
                    opcode: and
                    args:
                      - kind: app
                        id: 5116
                        opcode: eq
                        args:
                          - kind: app
                            id: 5111
                            opcode: isub
                            args:
                              - kind: app
                                id: 5109
                                opcode: length
                                args:
                                  - kind: name
                                    id: 5108
                                    name: left
                              - kind: name
                                id: 5110
                                name: li
                          - kind: app
                            id: 5115
                            opcode: isub
                            args:
                              - kind: app
                                id: 5113
                                opcode: length
                                args:
                                  - kind: name
                                    id: 5112
                                    name: right
                              - kind: name
                                id: 5114
                                name: ri
                      - kind: let
                        id: 5159
                        opdef:
                          id: 5123
                          name: dist
                          qualifier: val
                          expr:
                            kind: app
                            id: 5122
                            opcode: isub
                            args:
                              - kind: app
                                id: 5120
                                opcode: isub
                                args:
                                  - kind: app
                                    id: 5118
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 5117
                                        name: left
                                  - kind: int
                                    id: 5119
                                    value: 1
                              - kind: name
                                id: 5121
                                name: li
                          depth: ~
                        expr:
                          kind: app
                          id: 5158
                          opcode: forall
                          args:
                            - kind: app
                              id: 5126
                              opcode: to
                              args:
                                - kind: int
                                  id: 5124
                                  value: 1
                                - kind: name
                                  id: 5125
                                  name: dist
                            - kind: lambda
                              id: 5157
                              params:
                                - id: 5127
                                  name: k
                              expr:
                                kind: let
                                id: 5156
                                opdef:
                                  id: 5133
                                  name: lnode
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5132
                                    opcode: nth
                                    args:
                                      - kind: name
                                        id: 5128
                                        name: left
                                      - kind: app
                                        id: 5131
                                        opcode: iadd
                                        args:
                                          - kind: name
                                            id: 5129
                                            name: li
                                          - kind: name
                                            id: 5130
                                            name: k
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5155
                                  opdef:
                                    id: 5139
                                    name: rnode
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5138
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 5134
                                          name: right
                                        - kind: app
                                          id: 5137
                                          opcode: iadd
                                          args:
                                            - kind: name
                                              id: 5135
                                              name: ri
                                            - kind: name
                                              id: 5136
                                              name: k
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5154
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 5146
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 5142
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5140
                                                name: lnode
                                              - kind: str
                                                id: 5141
                                                value: prefix
                                          - kind: app
                                            id: 5145
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5143
                                                name: rnode
                                              - kind: str
                                                id: 5144
                                                value: prefix
                                      - kind: app
                                        id: 5153
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 5149
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5147
                                                name: lnode
                                              - kind: str
                                                id: 5148
                                                value: suffix
                                          - kind: app
                                            id: 5152
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5150
                                                name: rnode
                                              - kind: str
                                                id: 5151
                                                value: suffix
                      - kind: app
                        id: 5167
                        opcode: is_left_step
                        args:
                          - kind: name
                            id: 5160
                            name: spec
                          - kind: app
                            id: 5163
                            opcode: nth
                            args:
                              - kind: name
                                id: 5161
                                name: left
                              - kind: name
                                id: 5162
                                name: li
                          - kind: app
                            id: 5166
                            opcode: nth
                            args:
                              - kind: name
                                id: 5164
                                name: right
                              - kind: name
                                id: 5165
                                name: ri
                      - kind: app
                        id: 5173
                        opcode: is_right_most
                        args:
                          - kind: name
                            id: 5168
                            name: spec
                          - kind: app
                            id: 5172
                            opcode: slice
                            args:
                              - kind: name
                                id: 5169
                                name: left
                              - kind: int
                                id: 5170
                                value: 0
                              - kind: name
                                id: 5171
                                name: li
                      - kind: app
                        id: 5179
                        opcode: is_left_most
                        args:
                          - kind: name
                            id: 5174
                            name: spec
                          - kind: app
                            id: 5178
                            opcode: slice
                            args:
                              - kind: name
                                id: 5175
                                name: right
                              - kind: int
                                id: 5176
                                value: 0
                              - kind: name
                                id: 5177
                                name: ri
    depth: 0
  4684:
    kind: def
    id: 4684
    name: verify_non_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 4683
      params:
        - id: 4567
          name: proof
        - id: 4569
          name: spec
        - id: 4571
          name: root
        - id: 4573
          name: key
      expr:
        kind: app
        id: 4682
        opcode: and
        args:
          - kind: app
            id: 4585
            opcode: or
            args:
              - kind: app
                id: 4579
                opcode: neq
                args:
                  - kind: app
                    id: 4577
                    opcode: field
                    args:
                      - kind: name
                        id: 4575
                        name: proof
                      - kind: str
                        id: 4576
                        value: left
                  - kind: name
                    id: 4578
                    name: None
              - kind: app
                id: 4584
                opcode: neq
                args:
                  - kind: app
                    id: 4582
                    opcode: field
                    args:
                      - kind: name
                        id: 4580
                        name: proof
                      - kind: str
                        id: 4581
                        value: right
                  - kind: name
                    id: 4583
                    name: None
          - kind: app
            id: 4612
            opcode: implies
            args:
              - kind: app
                id: 4590
                opcode: neq
                args:
                  - kind: app
                    id: 4588
                    opcode: field
                    args:
                      - kind: name
                        id: 4586
                        name: proof
                      - kind: str
                        id: 4587
                        value: left
                  - kind: name
                    id: 4589
                    name: None
              - kind: let
                id: 4611
                opdef:
                  id: 4595
                  name: left
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4594
                    opcode: unwrap
                    args:
                      - kind: app
                        id: 4593
                        opcode: field
                        args:
                          - kind: name
                            id: 4591
                            name: proof
                          - kind: str
                            id: 4592
                            value: left
                  depth: ~
                expr:
                  kind: app
                  id: 4610
                  opcode: and
                  args:
                    - kind: app
                      id: 4604
                      opcode: verify_existence
                      args:
                        - kind: name
                          id: 4596
                          name: left
                        - kind: name
                          id: 4597
                          name: root
                        - kind: app
                          id: 4600
                          opcode: field
                          args:
                            - kind: name
                              id: 4598
                              name: left
                            - kind: str
                              id: 4599
                              value: key
                        - kind: app
                          id: 4603
                          opcode: field
                          args:
                            - kind: name
                              id: 4601
                              name: left
                            - kind: str
                              id: 4602
                              value: value
                    - kind: app
                      id: 4609
                      opcode: greater_than
                      args:
                        - kind: name
                          id: 4605
                          name: key
                        - kind: app
                          id: 4608
                          opcode: field
                          args:
                            - kind: name
                              id: 4606
                              name: left
                            - kind: str
                              id: 4607
                              value: key
          - kind: app
            id: 4639
            opcode: implies
            args:
              - kind: app
                id: 4617
                opcode: neq
                args:
                  - kind: app
                    id: 4615
                    opcode: field
                    args:
                      - kind: name
                        id: 4613
                        name: proof
                      - kind: str
                        id: 4614
                        value: right
                  - kind: name
                    id: 4616
                    name: None
              - kind: let
                id: 4638
                opdef:
                  id: 4622
                  name: right
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4621
                    opcode: unwrap
                    args:
                      - kind: app
                        id: 4620
                        opcode: field
                        args:
                          - kind: name
                            id: 4618
                            name: proof
                          - kind: str
                            id: 4619
                            value: right
                  depth: ~
                expr:
                  kind: app
                  id: 4637
                  opcode: and
                  args:
                    - kind: app
                      id: 4631
                      opcode: verify_existence
                      args:
                        - kind: name
                          id: 4623
                          name: right
                        - kind: name
                          id: 4624
                          name: root
                        - kind: app
                          id: 4627
                          opcode: field
                          args:
                            - kind: name
                              id: 4625
                              name: right
                            - kind: str
                              id: 4626
                              value: key
                        - kind: app
                          id: 4630
                          opcode: field
                          args:
                            - kind: name
                              id: 4628
                              name: right
                            - kind: str
                              id: 4629
                              value: value
                    - kind: app
                      id: 4636
                      opcode: less_than
                      args:
                        - kind: name
                          id: 4632
                          name: key
                        - kind: app
                          id: 4635
                          opcode: field
                          args:
                            - kind: name
                              id: 4633
                              name: right
                            - kind: str
                              id: 4634
                              value: key
          - kind: app
            id: 4681
            opcode: ite
            args:
              - kind: app
                id: 4644
                opcode: eq
                args:
                  - kind: app
                    id: 4642
                    opcode: field
                    args:
                      - kind: name
                        id: 4640
                        name: proof
                      - kind: str
                        id: 4641
                        value: left
                  - kind: name
                    id: 4643
                    name: None
              - kind: app
                id: 4652
                opcode: is_left_most
                args:
                  - kind: name
                    id: 4645
                    name: spec
                  - kind: app
                    id: 4651
                    opcode: field
                    args:
                      - kind: app
                        id: 4649
                        opcode: unwrap
                        args:
                          - kind: app
                            id: 4648
                            opcode: field
                            args:
                              - kind: name
                                id: 4646
                                name: proof
                              - kind: str
                                id: 4647
                                value: right
                      - kind: str
                        id: 4650
                        value: path
              - kind: app
                id: 4680
                opcode: ite
                args:
                  - kind: app
                    id: 4657
                    opcode: eq
                    args:
                      - kind: app
                        id: 4655
                        opcode: field
                        args:
                          - kind: name
                            id: 4653
                            name: proof
                          - kind: str
                            id: 4654
                            value: right
                      - kind: name
                        id: 4656
                        name: None
                  - kind: app
                    id: 4665
                    opcode: is_right_most
                    args:
                      - kind: name
                        id: 4658
                        name: spec
                      - kind: app
                        id: 4664
                        opcode: field
                        args:
                          - kind: app
                            id: 4662
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4661
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4659
                                    name: proof
                                  - kind: str
                                    id: 4660
                                    value: left
                          - kind: str
                            id: 4663
                            value: path
                  - kind: app
                    id: 4679
                    opcode: is_left_neighbor
                    args:
                      - kind: name
                        id: 4666
                        name: spec
                      - kind: app
                        id: 4672
                        opcode: field
                        args:
                          - kind: app
                            id: 4670
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4669
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4667
                                    name: proof
                                  - kind: str
                                    id: 4668
                                    value: left
                          - kind: str
                            id: 4671
                            value: path
                      - kind: app
                        id: 4678
                        opcode: field
                        args:
                          - kind: app
                            id: 4676
                            opcode: unwrap
                            args:
                              - kind: app
                                id: 4675
                                opcode: field
                                args:
                                  - kind: name
                                    id: 4673
                                    name: proof
                                  - kind: str
                                    id: 4674
                                    value: right
                          - kind: str
                            id: 4677
                            value: path
    depth: 0
  4685:
    kind: typedef
    id: 4459
  4689:
    kind: typedef
    id: 4479
  4692:
    id: 4686
    name: spec
  4696:
    id: 4695
    name: x
  4697:
    id: 4688
    name: branch
  4700:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  4701:
    id: 4742
    name: idx
  4702:
    id: 4686
    name: spec
  4706:
    kind: def
    id: 4706
    name: prefix
    qualifier: pureval
    expr:
      kind: app
      id: 4705
      opcode: imul
      args:
        - kind: name
          id: 4701
          name: idx
        - kind: app
          id: 4704
          opcode: field
          args:
            - kind: name
              id: 4702
              name: spec
            - kind: str
              id: 4703
              value: child_size
    depth: 4
  4707:
    id: 4686
    name: spec
  4710:
    id: 4686
    name: spec
  4716:
    id: 4742
    name: idx
  4719:
    kind: def
    id: 4719
    name: suffix
    qualifier: pureval
    expr:
      kind: app
      id: 4718
      opcode: imul
      args:
        - kind: app
          id: 4709
          opcode: field
          args:
            - kind: name
              id: 4707
              name: spec
            - kind: str
              id: 4708
              value: child_size
        - kind: app
          id: 4717
          opcode: isub
          args:
            - kind: app
              id: 4715
              opcode: isub
              args:
                - kind: app
                  id: 4713
                  opcode: length
                  args:
                    - kind: app
                      id: 4712
                      opcode: field
                      args:
                        - kind: name
                          id: 4710
                          name: spec
                        - kind: str
                          id: 4711
                          value: child_order
                - kind: int
                  id: 4714
                  value: 1
            - kind: name
              id: 4716
              name: idx
    depth: 5
  4720:
    kind: def
    id: 4706
    name: prefix
    qualifier: pureval
    expr:
      kind: app
      id: 4705
      opcode: imul
      args:
        - kind: name
          id: 4701
          name: idx
        - kind: app
          id: 4704
          opcode: field
          args:
            - kind: name
              id: 4702
              name: spec
            - kind: str
              id: 4703
              value: child_size
    depth: 4
  4721:
    id: 4686
    name: spec
  4726:
    kind: def
    id: 4706
    name: prefix
    qualifier: pureval
    expr:
      kind: app
      id: 4705
      opcode: imul
      args:
        - kind: name
          id: 4701
          name: idx
        - kind: app
          id: 4704
          opcode: field
          args:
            - kind: name
              id: 4702
              name: spec
            - kind: str
              id: 4703
              value: child_size
    depth: 4
  4727:
    id: 4686
    name: spec
  4732:
    kind: def
    id: 4719
    name: suffix
    qualifier: pureval
    expr:
      kind: app
      id: 4718
      opcode: imul
      args:
        - kind: app
          id: 4709
          opcode: field
          args:
            - kind: name
              id: 4707
              name: spec
            - kind: str
              id: 4708
              value: child_size
        - kind: app
          id: 4717
          opcode: isub
          args:
            - kind: app
              id: 4715
              opcode: isub
              args:
                - kind: app
                  id: 4713
                  opcode: length
                  args:
                    - kind: app
                      id: 4712
                      opcode: field
                      args:
                        - kind: name
                          id: 4710
                          name: spec
                        - kind: str
                          id: 4711
                          value: child_order
                - kind: int
                  id: 4714
                  value: 1
            - kind: name
              id: 4716
              name: idx
    depth: 5
  4735:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  4738:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4747:
    kind: def
    id: 4747
    name: get_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4746
      params:
        - id: 4686
          name: spec
        - id: 4688
          name: branch
      expr:
        kind: app
        id: 4739
        opcode: matchVariant
        args:
          - kind: app
            id: 4700
            opcode: findFirst
            args:
              - kind: app
                id: 4694
                opcode: field
                args:
                  - kind: name
                    id: 4692
                    name: spec
                  - kind: str
                    id: 4693
                    value: child_order
              - kind: lambda
                id: 4699
                params:
                  - id: 4695
                    name: x
                expr:
                  kind: app
                  id: 4698
                  opcode: eq
                  args:
                    - kind: name
                      id: 4696
                      name: x
                    - kind: name
                      id: 4697
                      name: branch
          - kind: str
            id: 4740
            value: Some
          - kind: lambda
            id: 4741
            params:
              - id: 4742
                name: idx
            expr:
              kind: let
              id: 4737
              opdef:
                id: 4706
                name: prefix
                qualifier: pureval
                expr:
                  kind: app
                  id: 4705
                  opcode: imul
                  args:
                    - kind: name
                      id: 4701
                      name: idx
                    - kind: app
                      id: 4704
                      opcode: field
                      args:
                        - kind: name
                          id: 4702
                          name: spec
                        - kind: str
                          id: 4703
                          value: child_size
                depth: ~
              expr:
                kind: let
                id: 4736
                opdef:
                  id: 4719
                  name: suffix
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4718
                    opcode: imul
                    args:
                      - kind: app
                        id: 4709
                        opcode: field
                        args:
                          - kind: name
                            id: 4707
                            name: spec
                          - kind: str
                            id: 4708
                            value: child_size
                      - kind: app
                        id: 4717
                        opcode: isub
                        args:
                          - kind: app
                            id: 4715
                            opcode: isub
                            args:
                              - kind: app
                                id: 4713
                                opcode: length
                                args:
                                  - kind: app
                                    id: 4712
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 4710
                                        name: spec
                                      - kind: str
                                        id: 4711
                                        value: child_order
                              - kind: int
                                id: 4714
                                value: 1
                          - kind: name
                            id: 4716
                            name: idx
                  depth: ~
                expr:
                  kind: app
                  id: 4735
                  opcode: Some
                  args:
                    - kind: app
                      id: 4734
                      opcode: Rec
                      args:
                        - kind: str
                          id: 4725
                          value: min_prefix
                        - kind: app
                          id: 4724
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4720
                              name: prefix
                            - kind: app
                              id: 4723
                              opcode: field
                              args:
                                - kind: name
                                  id: 4721
                                  name: spec
                                - kind: str
                                  id: 4722
                                  value: min_prefix_length
                        - kind: str
                          id: 4731
                          value: max_prefix
                        - kind: app
                          id: 4730
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4726
                              name: prefix
                            - kind: app
                              id: 4729
                              opcode: field
                              args:
                                - kind: name
                                  id: 4727
                                  name: spec
                                - kind: str
                                  id: 4728
                                  value: max_prefix_length
                        - kind: str
                          id: 4733
                          value: suffix
                        - kind: name
                          id: 4732
                          name: suffix
          - kind: str
            id: 4743
            value: None
          - kind: lambda
            id: 4744
            params:
              - id: 4745
                name: _
            expr:
              kind: name
              id: 4738
              name: None
    depth: 0
  4748:
    kind: typedef
    id: 4459
  4750:
    kind: typedef
    id: 8444
  4754:
    id: 4749
    name: spec
  4756:
    kind: def
    id: 4747
    name: get_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4746
      params:
        - id: 4686
          name: spec
        - id: 4688
          name: branch
      expr:
        kind: app
        id: 4739
        opcode: matchVariant
        args:
          - kind: app
            id: 4700
            opcode: findFirst
            args:
              - kind: app
                id: 4694
                opcode: field
                args:
                  - kind: name
                    id: 4692
                    name: spec
                  - kind: str
                    id: 4693
                    value: child_order
              - kind: lambda
                id: 4699
                params:
                  - id: 4695
                    name: x
                expr:
                  kind: app
                  id: 4698
                  opcode: eq
                  args:
                    - kind: name
                      id: 4696
                      name: x
                    - kind: name
                      id: 4697
                      name: branch
          - kind: str
            id: 4740
            value: Some
          - kind: lambda
            id: 4741
            params:
              - id: 4742
                name: idx
            expr:
              kind: let
              id: 4737
              opdef:
                id: 4706
                name: prefix
                qualifier: pureval
                expr:
                  kind: app
                  id: 4705
                  opcode: imul
                  args:
                    - kind: name
                      id: 4701
                      name: idx
                    - kind: app
                      id: 4704
                      opcode: field
                      args:
                        - kind: name
                          id: 4702
                          name: spec
                        - kind: str
                          id: 4703
                          value: child_size
                depth: ~
              expr:
                kind: let
                id: 4736
                opdef:
                  id: 4719
                  name: suffix
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4718
                    opcode: imul
                    args:
                      - kind: app
                        id: 4709
                        opcode: field
                        args:
                          - kind: name
                            id: 4707
                            name: spec
                          - kind: str
                            id: 4708
                            value: child_size
                      - kind: app
                        id: 4717
                        opcode: isub
                        args:
                          - kind: app
                            id: 4715
                            opcode: isub
                            args:
                              - kind: app
                                id: 4713
                                opcode: length
                                args:
                                  - kind: app
                                    id: 4712
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 4710
                                        name: spec
                                      - kind: str
                                        id: 4711
                                        value: child_order
                              - kind: int
                                id: 4714
                                value: 1
                          - kind: name
                            id: 4716
                            name: idx
                  depth: ~
                expr:
                  kind: app
                  id: 4735
                  opcode: Some
                  args:
                    - kind: app
                      id: 4734
                      opcode: Rec
                      args:
                        - kind: str
                          id: 4725
                          value: min_prefix
                        - kind: app
                          id: 4724
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4720
                              name: prefix
                            - kind: app
                              id: 4723
                              opcode: field
                              args:
                                - kind: name
                                  id: 4721
                                  name: spec
                                - kind: str
                                  id: 4722
                                  value: min_prefix_length
                        - kind: str
                          id: 4731
                          value: max_prefix
                        - kind: app
                          id: 4730
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4726
                              name: prefix
                            - kind: app
                              id: 4729
                              opcode: field
                              args:
                                - kind: name
                                  id: 4727
                                  name: spec
                                - kind: str
                                  id: 4728
                                  value: max_prefix_length
                        - kind: str
                          id: 4733
                          value: suffix
                        - kind: name
                          id: 4732
                          name: suffix
          - kind: str
            id: 4743
            value: None
          - kind: lambda
            id: 4744
            params:
              - id: 4745
                name: _
            expr:
              kind: name
              id: 4738
              name: None
    depth: 0
  4757:
    id: 4752
    name: path
  4760:
    id: 4752
    name: path
  4761:
    id: 4759
    name: i
  4763:
    kind: def
    id: 4763
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4762
      opcode: nth
      args:
        - kind: name
          id: 4760
          name: path
        - kind: name
          id: 4761
          name: i
    depth: 5
  4764:
    kind: def
    id: 4763
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4762
      opcode: nth
      args:
        - kind: name
          id: 4760
          name: path
        - kind: name
          id: 4761
          name: i
    depth: 5
  4765:
    id: 4778
    name: pad
  4766:
    kind: def
    id: 4859
    name: has_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4858
      params:
        - id: 4829
          name: op
        - id: 4831
          name: pad
      expr:
        kind: app
        id: 4857
        opcode: and
        args:
          - kind: app
            id: 4840
            opcode: igte
            args:
              - kind: app
                id: 4836
                opcode: termLen
                args:
                  - kind: app
                    id: 4835
                    opcode: field
                    args:
                      - kind: name
                        id: 4833
                        name: op
                      - kind: str
                        id: 4834
                        value: prefix
              - kind: app
                id: 4839
                opcode: field
                args:
                  - kind: name
                    id: 4837
                    name: pad
                  - kind: str
                    id: 4838
                    value: min_prefix
          - kind: app
            id: 4848
            opcode: ilte
            args:
              - kind: app
                id: 4844
                opcode: termLen
                args:
                  - kind: app
                    id: 4843
                    opcode: field
                    args:
                      - kind: name
                        id: 4841
                        name: op
                      - kind: str
                        id: 4842
                        value: prefix
              - kind: app
                id: 4847
                opcode: field
                args:
                  - kind: name
                    id: 4845
                    name: pad
                  - kind: str
                    id: 4846
                    value: max_prefix
          - kind: app
            id: 4856
            opcode: eq
            args:
              - kind: app
                id: 4852
                opcode: termLen
                args:
                  - kind: app
                    id: 4851
                    opcode: field
                    args:
                      - kind: name
                        id: 4849
                        name: op
                      - kind: str
                        id: 4850
                        value: suffix
              - kind: app
                id: 4855
                opcode: field
                args:
                  - kind: name
                    id: 4853
                    name: pad
                  - kind: str
                    id: 4854
                    value: suffix
    depth: 0
  4767:
    id: 4749
    name: spec
  4768:
    kind: def
    id: 4763
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4762
      opcode: nth
      args:
        - kind: name
          id: 4760
          name: path
        - kind: name
          id: 4761
          name: i
    depth: 5
  4769:
    kind: def
    id: 4976
    name: left_branches_are_empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 4975
      params:
        - id: 4896
          name: spec
        - id: 4898
          name: op
      expr:
        kind: app
        id: 4974
        opcode: and
        args:
          - kind: let
            id: 4973
            opdef:
              id: 4903
              name: idx
              qualifier: pureval
              expr:
                kind: app
                id: 4902
                opcode: order_from_padding
                args:
                  - kind: name
                    id: 4900
                    name: spec
                  - kind: name
                    id: 4901
                    name: op
              depth: ~
            expr:
              kind: let
              id: 4972
              opdef:
                id: 4906
                name: left_branches
                qualifier: pureval
                expr:
                  kind: app
                  id: 4905
                  opcode: unwrap
                  args:
                    - kind: name
                      id: 4904
                      name: idx
                depth: ~
              expr:
                kind: app
                id: 4971
                opcode: ite
                args:
                  - kind: app
                    id: 4909
                    opcode: eq
                    args:
                      - kind: name
                        id: 4907
                        name: left_branches
                      - kind: int
                        id: 4908
                        value: 0
                  - kind: bool
                    id: 4910
                    value: false
                  - kind: let
                    id: 4970
                    opdef:
                      id: 4914
                      name: child_size
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 4913
                        opcode: field
                        args:
                          - kind: name
                            id: 4911
                            name: spec
                          - kind: str
                            id: 4912
                            value: child_size
                      depth: ~
                    expr:
                      kind: app
                      id: 4963
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 4922
                          opcode: checked_sub
                          args:
                            - kind: app
                              id: 4918
                              opcode: termLen
                              args:
                                - kind: app
                                  id: 4917
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 4915
                                      name: op
                                    - kind: str
                                      id: 4916
                                      value: prefix
                            - kind: app
                              id: 4921
                              opcode: imul
                              args:
                                - kind: name
                                  id: 4919
                                  name: left_branches
                                - kind: name
                                  id: 4920
                                  name: child_size
                        - kind: str
                          id: 4964
                          value: Some
                        - kind: lambda
                          id: 4965
                          params:
                            - id: 4966
                              name: actual_prefix
                          expr:
                            kind: app
                            id: 4961
                            opcode: forall
                            args:
                              - kind: app
                                id: 4927
                                opcode: to
                                args:
                                  - kind: int
                                    id: 4923
                                    value: 0
                                  - kind: app
                                    id: 4926
                                    opcode: isub
                                    args:
                                      - kind: name
                                        id: 4924
                                        name: left_branches
                                      - kind: int
                                        id: 4925
                                        value: 1
                              - kind: lambda
                                id: 4960
                                params:
                                  - id: 4928
                                    name: i
                                expr:
                                  kind: let
                                  id: 4959
                                  opdef:
                                    id: 4939
                                    name: idx
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 4938
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 4937
                                          opcode: findFirst
                                          args:
                                            - kind: app
                                              id: 4931
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 4929
                                                  name: spec
                                                - kind: str
                                                  id: 4930
                                                  value: child_order
                                            - kind: lambda
                                              id: 4936
                                              params:
                                                - id: 4932
                                                  name: x
                                              expr:
                                                kind: app
                                                id: 4935
                                                opcode: eq
                                                args:
                                                  - kind: name
                                                    id: 4933
                                                    name: x
                                                  - kind: name
                                                    id: 4934
                                                    name: i
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 4958
                                    opdef:
                                      id: 4945
                                      name: from_index
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 4944
                                        opcode: iadd
                                        args:
                                          - kind: name
                                            id: 4940
                                            name: actual_prefix
                                          - kind: app
                                            id: 4943
                                            opcode: imul
                                            args:
                                              - kind: name
                                                id: 4941
                                                name: idx
                                              - kind: name
                                                id: 4942
                                                name: child_size
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 4957
                                      opcode: eq
                                      args:
                                        - kind: app
                                          id: 4948
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 4946
                                              name: spec
                                            - kind: str
                                              id: 4947
                                              value: empty_child
                                        - kind: app
                                          id: 4956
                                          opcode: termSlice
                                          args:
                                            - kind: app
                                              id: 4951
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 4949
                                                  name: op
                                                - kind: str
                                                  id: 4950
                                                  value: prefix
                                            - kind: name
                                              id: 4952
                                              name: from_index
                                            - kind: app
                                              id: 4955
                                              opcode: iadd
                                              args:
                                                - kind: name
                                                  id: 4953
                                                  name: from_index
                                                - kind: name
                                                  id: 4954
                                                  name: child_size
                        - kind: str
                          id: 4967
                          value: None
                        - kind: lambda
                          id: 4968
                          params:
                            - id: 4969
                              name: _
                          expr:
                            kind: bool
                            id: 4962
                            value: false
    depth: 0
  4783:
    kind: def
    id: 4783
    name: is_left_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4782
      params:
        - id: 4749
          name: spec
        - id: 4752
          name: path
      expr:
        kind: app
        id: 4775
        opcode: matchVariant
        args:
          - kind: app
            id: 4756
            opcode: get_padding
            args:
              - kind: name
                id: 4754
                name: spec
              - kind: int
                id: 4755
                value: 0
          - kind: str
            id: 4776
            value: Some
          - kind: lambda
            id: 4777
            params:
              - id: 4778
                name: pad
            expr:
              kind: app
              id: 4773
              opcode: forall
              args:
                - kind: app
                  id: 4758
                  opcode: indices
                  args:
                    - kind: name
                      id: 4757
                      name: path
                - kind: lambda
                  id: 4772
                  params:
                    - id: 4759
                      name: i
                  expr:
                    kind: let
                    id: 4771
                    opdef:
                      id: 4763
                      name: step
                      qualifier: val
                      expr:
                        kind: app
                        id: 4762
                        opcode: nth
                        args:
                          - kind: name
                            id: 4760
                            name: path
                          - kind: name
                            id: 4761
                            name: i
                      depth: ~
                    expr:
                      kind: app
                      id: 4770
                      opcode: or
                      args:
                        - kind: app
                          id: 4766
                          opcode: has_padding
                          args:
                            - kind: name
                              id: 4764
                              name: step
                            - kind: name
                              id: 4765
                              name: pad
                        - kind: app
                          id: 4769
                          opcode: left_branches_are_empty
                          args:
                            - kind: name
                              id: 4767
                              name: spec
                            - kind: name
                              id: 4768
                              name: step
          - kind: str
            id: 4779
            value: None
          - kind: lambda
            id: 4780
            params:
              - id: 4781
                name: _
            expr:
              kind: bool
              id: 4774
              value: false
    depth: 0
  4784:
    kind: typedef
    id: 4459
  4786:
    kind: typedef
    id: 8444
  4790:
    id: 4785
    name: spec
  4796:
    kind: def
    id: 4796
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4795
      opcode: isub
      args:
        - kind: app
          id: 4793
          opcode: length
          args:
            - kind: app
              id: 4792
              opcode: field
              args:
                - kind: name
                  id: 4790
                  name: spec
                - kind: str
                  id: 4791
                  value: child_order
        - kind: int
          id: 4794
          value: 1
    depth: 3
  4797:
    id: 4785
    name: spec
  4798:
    kind: def
    id: 4796
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4795
      opcode: isub
      args:
        - kind: app
          id: 4793
          opcode: length
          args:
            - kind: app
              id: 4792
              opcode: field
              args:
                - kind: name
                  id: 4790
                  name: spec
                - kind: str
                  id: 4791
                  value: child_order
        - kind: int
          id: 4794
          value: 1
    depth: 3
  4799:
    kind: def
    id: 4747
    name: get_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4746
      params:
        - id: 4686
          name: spec
        - id: 4688
          name: branch
      expr:
        kind: app
        id: 4739
        opcode: matchVariant
        args:
          - kind: app
            id: 4700
            opcode: findFirst
            args:
              - kind: app
                id: 4694
                opcode: field
                args:
                  - kind: name
                    id: 4692
                    name: spec
                  - kind: str
                    id: 4693
                    value: child_order
              - kind: lambda
                id: 4699
                params:
                  - id: 4695
                    name: x
                expr:
                  kind: app
                  id: 4698
                  opcode: eq
                  args:
                    - kind: name
                      id: 4696
                      name: x
                    - kind: name
                      id: 4697
                      name: branch
          - kind: str
            id: 4740
            value: Some
          - kind: lambda
            id: 4741
            params:
              - id: 4742
                name: idx
            expr:
              kind: let
              id: 4737
              opdef:
                id: 4706
                name: prefix
                qualifier: pureval
                expr:
                  kind: app
                  id: 4705
                  opcode: imul
                  args:
                    - kind: name
                      id: 4701
                      name: idx
                    - kind: app
                      id: 4704
                      opcode: field
                      args:
                        - kind: name
                          id: 4702
                          name: spec
                        - kind: str
                          id: 4703
                          value: child_size
                depth: ~
              expr:
                kind: let
                id: 4736
                opdef:
                  id: 4719
                  name: suffix
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4718
                    opcode: imul
                    args:
                      - kind: app
                        id: 4709
                        opcode: field
                        args:
                          - kind: name
                            id: 4707
                            name: spec
                          - kind: str
                            id: 4708
                            value: child_size
                      - kind: app
                        id: 4717
                        opcode: isub
                        args:
                          - kind: app
                            id: 4715
                            opcode: isub
                            args:
                              - kind: app
                                id: 4713
                                opcode: length
                                args:
                                  - kind: app
                                    id: 4712
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 4710
                                        name: spec
                                      - kind: str
                                        id: 4711
                                        value: child_order
                              - kind: int
                                id: 4714
                                value: 1
                          - kind: name
                            id: 4716
                            name: idx
                  depth: ~
                expr:
                  kind: app
                  id: 4735
                  opcode: Some
                  args:
                    - kind: app
                      id: 4734
                      opcode: Rec
                      args:
                        - kind: str
                          id: 4725
                          value: min_prefix
                        - kind: app
                          id: 4724
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4720
                              name: prefix
                            - kind: app
                              id: 4723
                              opcode: field
                              args:
                                - kind: name
                                  id: 4721
                                  name: spec
                                - kind: str
                                  id: 4722
                                  value: min_prefix_length
                        - kind: str
                          id: 4731
                          value: max_prefix
                        - kind: app
                          id: 4730
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4726
                              name: prefix
                            - kind: app
                              id: 4729
                              opcode: field
                              args:
                                - kind: name
                                  id: 4727
                                  name: spec
                                - kind: str
                                  id: 4728
                                  value: max_prefix_length
                        - kind: str
                          id: 4733
                          value: suffix
                        - kind: name
                          id: 4732
                          name: suffix
          - kind: str
            id: 4743
            value: None
          - kind: lambda
            id: 4744
            params:
              - id: 4745
                name: _
            expr:
              kind: name
              id: 4738
              name: None
    depth: 0
  4800:
    id: 4788
    name: path
  4803:
    id: 4788
    name: path
  4804:
    id: 4802
    name: i
  4806:
    kind: def
    id: 4806
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4805
      opcode: nth
      args:
        - kind: name
          id: 4803
          name: path
        - kind: name
          id: 4804
          name: i
    depth: 6
  4807:
    kind: def
    id: 4806
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4805
      opcode: nth
      args:
        - kind: name
          id: 4803
          name: path
        - kind: name
          id: 4804
          name: i
    depth: 6
  4808:
    id: 4821
    name: pad
  4809:
    kind: def
    id: 4859
    name: has_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4858
      params:
        - id: 4829
          name: op
        - id: 4831
          name: pad
      expr:
        kind: app
        id: 4857
        opcode: and
        args:
          - kind: app
            id: 4840
            opcode: igte
            args:
              - kind: app
                id: 4836
                opcode: termLen
                args:
                  - kind: app
                    id: 4835
                    opcode: field
                    args:
                      - kind: name
                        id: 4833
                        name: op
                      - kind: str
                        id: 4834
                        value: prefix
              - kind: app
                id: 4839
                opcode: field
                args:
                  - kind: name
                    id: 4837
                    name: pad
                  - kind: str
                    id: 4838
                    value: min_prefix
          - kind: app
            id: 4848
            opcode: ilte
            args:
              - kind: app
                id: 4844
                opcode: termLen
                args:
                  - kind: app
                    id: 4843
                    opcode: field
                    args:
                      - kind: name
                        id: 4841
                        name: op
                      - kind: str
                        id: 4842
                        value: prefix
              - kind: app
                id: 4847
                opcode: field
                args:
                  - kind: name
                    id: 4845
                    name: pad
                  - kind: str
                    id: 4846
                    value: max_prefix
          - kind: app
            id: 4856
            opcode: eq
            args:
              - kind: app
                id: 4852
                opcode: termLen
                args:
                  - kind: app
                    id: 4851
                    opcode: field
                    args:
                      - kind: name
                        id: 4849
                        name: op
                      - kind: str
                        id: 4850
                        value: suffix
              - kind: app
                id: 4855
                opcode: field
                args:
                  - kind: name
                    id: 4853
                    name: pad
                  - kind: str
                    id: 4854
                    value: suffix
    depth: 0
  4810:
    id: 4785
    name: spec
  4811:
    kind: def
    id: 4806
    name: step
    qualifier: val
    expr:
      kind: app
      id: 4805
      opcode: nth
      args:
        - kind: name
          id: 4803
          name: path
        - kind: name
          id: 4804
          name: i
    depth: 6
  4812:
    kind: def
    id: 5059
    name: right_branches_are_empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 5058
      params:
        - id: 4978
          name: spec
        - id: 4980
          name: op
      expr:
        kind: let
        id: 5057
        opdef:
          id: 4985
          name: idx
          qualifier: pureval
          expr:
            kind: app
            id: 4984
            opcode: order_from_padding
            args:
              - kind: name
                id: 4982
                name: spec
              - kind: name
                id: 4983
                name: op
          depth: ~
        expr:
          kind: app
          id: 5056
          opcode: and
          args:
            - kind: app
              id: 4988
              opcode: neq
              args:
                - kind: name
                  id: 4986
                  name: idx
                - kind: name
                  id: 4987
                  name: None
            - kind: let
              id: 5055
              opdef:
                id: 4998
                name: right_branches
                qualifier: pureval
                expr:
                  kind: app
                  id: 4997
                  opcode: isub
                  args:
                    - kind: app
                      id: 4994
                      opcode: isub
                      args:
                        - kind: app
                          id: 4992
                          opcode: length
                          args:
                            - kind: app
                              id: 4991
                              opcode: field
                              args:
                                - kind: name
                                  id: 4989
                                  name: spec
                                - kind: str
                                  id: 4990
                                  value: child_order
                        - kind: int
                          id: 4993
                          value: 1
                    - kind: app
                      id: 4996
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 4995
                          name: idx
                depth: ~
              expr:
                kind: app
                id: 5054
                opcode: ite
                args:
                  - kind: app
                    id: 5001
                    opcode: eq
                    args:
                      - kind: name
                        id: 4999
                        name: right_branches
                      - kind: int
                        id: 5000
                        value: 0
                  - kind: bool
                    id: 5002
                    value: false
                  - kind: app
                    id: 5053
                    opcode: ite
                    args:
                      - kind: app
                        id: 5010
                        opcode: neq
                        args:
                          - kind: app
                            id: 5006
                            opcode: termLen
                            args:
                              - kind: app
                                id: 5005
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5003
                                    name: op
                                  - kind: str
                                    id: 5004
                                    value: suffix
                          - kind: app
                            id: 5009
                            opcode: field
                            args:
                              - kind: name
                                id: 5007
                                name: spec
                              - kind: str
                                id: 5008
                                value: child_size
                      - kind: bool
                        id: 5011
                        value: false
                      - kind: app
                        id: 5052
                        opcode: forall
                        args:
                          - kind: app
                            id: 5016
                            opcode: to
                            args:
                              - kind: int
                                id: 5012
                                value: 0
                              - kind: app
                                id: 5015
                                opcode: isub
                                args:
                                  - kind: name
                                    id: 5013
                                    name: right_branches
                                  - kind: int
                                    id: 5014
                                    value: 1
                          - kind: lambda
                            id: 5051
                            params:
                              - id: 5017
                                name: i
                            expr:
                              kind: let
                              id: 5050
                              opdef:
                                id: 5028
                                name: idx
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 5027
                                  opcode: unwrap
                                  args:
                                    - kind: app
                                      id: 5026
                                      opcode: findFirst
                                      args:
                                        - kind: app
                                          id: 5020
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5018
                                              name: spec
                                            - kind: str
                                              id: 5019
                                              value: child_order
                                        - kind: lambda
                                          id: 5025
                                          params:
                                            - id: 5021
                                              name: x
                                          expr:
                                            kind: app
                                            id: 5024
                                            opcode: eq
                                            args:
                                              - kind: name
                                                id: 5022
                                                name: x
                                              - kind: name
                                                id: 5023
                                                name: i
                                depth: ~
                              expr:
                                kind: let
                                id: 5049
                                opdef:
                                  id: 5034
                                  name: from_index
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5033
                                    opcode: imul
                                    args:
                                      - kind: name
                                        id: 5029
                                        name: idx
                                      - kind: app
                                        id: 5032
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5030
                                            name: spec
                                          - kind: str
                                            id: 5031
                                            value: child_size
                                  depth: ~
                                expr:
                                  kind: app
                                  id: 5048
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 5037
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5035
                                          name: spec
                                        - kind: str
                                          id: 5036
                                          value: empty_child
                                    - kind: app
                                      id: 5047
                                      opcode: termSlice
                                      args:
                                        - kind: app
                                          id: 5040
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5038
                                              name: op
                                            - kind: str
                                              id: 5039
                                              value: suffix
                                        - kind: name
                                          id: 5041
                                          name: from_index
                                        - kind: app
                                          id: 5046
                                          opcode: iadd
                                          args:
                                            - kind: name
                                              id: 5042
                                              name: from_index
                                            - kind: app
                                              id: 5045
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5043
                                                  name: spec
                                                - kind: str
                                                  id: 5044
                                                  value: child_size
    depth: 0
  4827:
    kind: def
    id: 4827
    name: is_right_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4826
      params:
        - id: 4785
          name: spec
        - id: 4788
          name: path
      expr:
        kind: let
        id: 4825
        opdef:
          id: 4796
          name: idx
          qualifier: pureval
          expr:
            kind: app
            id: 4795
            opcode: isub
            args:
              - kind: app
                id: 4793
                opcode: length
                args:
                  - kind: app
                    id: 4792
                    opcode: field
                    args:
                      - kind: name
                        id: 4790
                        name: spec
                      - kind: str
                        id: 4791
                        value: child_order
              - kind: int
                id: 4794
                value: 1
          depth: ~
        expr:
          kind: app
          id: 4818
          opcode: matchVariant
          args:
            - kind: app
              id: 4799
              opcode: get_padding
              args:
                - kind: name
                  id: 4797
                  name: spec
                - kind: name
                  id: 4798
                  name: idx
            - kind: str
              id: 4819
              value: Some
            - kind: lambda
              id: 4820
              params:
                - id: 4821
                  name: pad
              expr:
                kind: app
                id: 4816
                opcode: forall
                args:
                  - kind: app
                    id: 4801
                    opcode: indices
                    args:
                      - kind: name
                        id: 4800
                        name: path
                  - kind: lambda
                    id: 4815
                    params:
                      - id: 4802
                        name: i
                    expr:
                      kind: let
                      id: 4814
                      opdef:
                        id: 4806
                        name: step
                        qualifier: val
                        expr:
                          kind: app
                          id: 4805
                          opcode: nth
                          args:
                            - kind: name
                              id: 4803
                              name: path
                            - kind: name
                              id: 4804
                              name: i
                        depth: ~
                      expr:
                        kind: app
                        id: 4813
                        opcode: or
                        args:
                          - kind: app
                            id: 4809
                            opcode: has_padding
                            args:
                              - kind: name
                                id: 4807
                                name: step
                              - kind: name
                                id: 4808
                                name: pad
                          - kind: app
                            id: 4812
                            opcode: right_branches_are_empty
                            args:
                              - kind: name
                                id: 4810
                                name: spec
                              - kind: name
                                id: 4811
                                name: step
            - kind: str
              id: 4822
              value: None
            - kind: lambda
              id: 4823
              params:
                - id: 4824
                  name: _
              expr:
                kind: bool
                id: 4817
                value: false
    depth: 0
  4828:
    kind: typedef
    id: 8444
  4830:
    kind: typedef
    id: 4479
  4833:
    id: 4829
    name: op
  4836:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  4837:
    id: 4831
    name: pad
  4841:
    id: 4829
    name: op
  4844:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  4845:
    id: 4831
    name: pad
  4849:
    id: 4829
    name: op
  4852:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  4853:
    id: 4831
    name: pad
  4859:
    kind: def
    id: 4859
    name: has_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4858
      params:
        - id: 4829
          name: op
        - id: 4831
          name: pad
      expr:
        kind: app
        id: 4857
        opcode: and
        args:
          - kind: app
            id: 4840
            opcode: igte
            args:
              - kind: app
                id: 4836
                opcode: termLen
                args:
                  - kind: app
                    id: 4835
                    opcode: field
                    args:
                      - kind: name
                        id: 4833
                        name: op
                      - kind: str
                        id: 4834
                        value: prefix
              - kind: app
                id: 4839
                opcode: field
                args:
                  - kind: name
                    id: 4837
                    name: pad
                  - kind: str
                    id: 4838
                    value: min_prefix
          - kind: app
            id: 4848
            opcode: ilte
            args:
              - kind: app
                id: 4844
                opcode: termLen
                args:
                  - kind: app
                    id: 4843
                    opcode: field
                    args:
                      - kind: name
                        id: 4841
                        name: op
                      - kind: str
                        id: 4842
                        value: prefix
              - kind: app
                id: 4847
                opcode: field
                args:
                  - kind: name
                    id: 4845
                    name: pad
                  - kind: str
                    id: 4846
                    value: max_prefix
          - kind: app
            id: 4856
            opcode: eq
            args:
              - kind: app
                id: 4852
                opcode: termLen
                args:
                  - kind: app
                    id: 4851
                    opcode: field
                    args:
                      - kind: name
                        id: 4849
                        name: op
                      - kind: str
                        id: 4850
                        value: suffix
              - kind: app
                id: 4855
                opcode: field
                args:
                  - kind: name
                    id: 4853
                    name: pad
                  - kind: str
                    id: 4854
                    value: suffix
    depth: 0
  4860:
    kind: typedef
    id: 4459
  4862:
    kind: typedef
    id: 8444
  4867:
    id: 4861
    name: spec
  4871:
    kind: def
    id: 4871
    name: len
    qualifier: pureval
    expr:
      kind: app
      id: 4870
      opcode: length
      args:
        - kind: app
          id: 4869
          opcode: field
          args:
            - kind: name
              id: 4867
              name: spec
            - kind: str
              id: 4868
              value: child_order
    depth: 3
  4873:
    kind: def
    id: 4871
    name: len
    qualifier: pureval
    expr:
      kind: app
      id: 4870
      opcode: length
      args:
        - kind: app
          id: 4869
          opcode: field
          args:
            - kind: name
              id: 4867
              name: spec
            - kind: str
              id: 4868
              value: child_order
    depth: 3
  4876:
    id: 4861
    name: spec
  4877:
    id: 4875
    name: branch
  4878:
    kind: def
    id: 4747
    name: get_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4746
      params:
        - id: 4686
          name: spec
        - id: 4688
          name: branch
      expr:
        kind: app
        id: 4739
        opcode: matchVariant
        args:
          - kind: app
            id: 4700
            opcode: findFirst
            args:
              - kind: app
                id: 4694
                opcode: field
                args:
                  - kind: name
                    id: 4692
                    name: spec
                  - kind: str
                    id: 4693
                    value: child_order
              - kind: lambda
                id: 4699
                params:
                  - id: 4695
                    name: x
                expr:
                  kind: app
                  id: 4698
                  opcode: eq
                  args:
                    - kind: name
                      id: 4696
                      name: x
                    - kind: name
                      id: 4697
                      name: branch
          - kind: str
            id: 4740
            value: Some
          - kind: lambda
            id: 4741
            params:
              - id: 4742
                name: idx
            expr:
              kind: let
              id: 4737
              opdef:
                id: 4706
                name: prefix
                qualifier: pureval
                expr:
                  kind: app
                  id: 4705
                  opcode: imul
                  args:
                    - kind: name
                      id: 4701
                      name: idx
                    - kind: app
                      id: 4704
                      opcode: field
                      args:
                        - kind: name
                          id: 4702
                          name: spec
                        - kind: str
                          id: 4703
                          value: child_size
                depth: ~
              expr:
                kind: let
                id: 4736
                opdef:
                  id: 4719
                  name: suffix
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 4718
                    opcode: imul
                    args:
                      - kind: app
                        id: 4709
                        opcode: field
                        args:
                          - kind: name
                            id: 4707
                            name: spec
                          - kind: str
                            id: 4708
                            value: child_size
                      - kind: app
                        id: 4717
                        opcode: isub
                        args:
                          - kind: app
                            id: 4715
                            opcode: isub
                            args:
                              - kind: app
                                id: 4713
                                opcode: length
                                args:
                                  - kind: app
                                    id: 4712
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 4710
                                        name: spec
                                      - kind: str
                                        id: 4711
                                        value: child_order
                              - kind: int
                                id: 4714
                                value: 1
                          - kind: name
                            id: 4716
                            name: idx
                  depth: ~
                expr:
                  kind: app
                  id: 4735
                  opcode: Some
                  args:
                    - kind: app
                      id: 4734
                      opcode: Rec
                      args:
                        - kind: str
                          id: 4725
                          value: min_prefix
                        - kind: app
                          id: 4724
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4720
                              name: prefix
                            - kind: app
                              id: 4723
                              opcode: field
                              args:
                                - kind: name
                                  id: 4721
                                  name: spec
                                - kind: str
                                  id: 4722
                                  value: min_prefix_length
                        - kind: str
                          id: 4731
                          value: max_prefix
                        - kind: app
                          id: 4730
                          opcode: iadd
                          args:
                            - kind: name
                              id: 4726
                              name: prefix
                            - kind: app
                              id: 4729
                              opcode: field
                              args:
                                - kind: name
                                  id: 4727
                                  name: spec
                                - kind: str
                                  id: 4728
                                  value: max_prefix_length
                        - kind: str
                          id: 4733
                          value: suffix
                        - kind: name
                          id: 4732
                          name: suffix
          - kind: str
            id: 4743
            value: None
          - kind: lambda
            id: 4744
            params:
              - id: 4745
                name: _
            expr:
              kind: name
              id: 4738
              name: None
    depth: 0
  4879:
    id: 4863
    name: op
  4880:
    id: 4886
    name: padding
  4881:
    kind: def
    id: 4859
    name: has_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4858
      params:
        - id: 4829
          name: op
        - id: 4831
          name: pad
      expr:
        kind: app
        id: 4857
        opcode: and
        args:
          - kind: app
            id: 4840
            opcode: igte
            args:
              - kind: app
                id: 4836
                opcode: termLen
                args:
                  - kind: app
                    id: 4835
                    opcode: field
                    args:
                      - kind: name
                        id: 4833
                        name: op
                      - kind: str
                        id: 4834
                        value: prefix
              - kind: app
                id: 4839
                opcode: field
                args:
                  - kind: name
                    id: 4837
                    name: pad
                  - kind: str
                    id: 4838
                    value: min_prefix
          - kind: app
            id: 4848
            opcode: ilte
            args:
              - kind: app
                id: 4844
                opcode: termLen
                args:
                  - kind: app
                    id: 4843
                    opcode: field
                    args:
                      - kind: name
                        id: 4841
                        name: op
                      - kind: str
                        id: 4842
                        value: prefix
              - kind: app
                id: 4847
                opcode: field
                args:
                  - kind: name
                    id: 4845
                    name: pad
                  - kind: str
                    id: 4846
                    value: max_prefix
          - kind: app
            id: 4856
            opcode: eq
            args:
              - kind: app
                id: 4852
                opcode: termLen
                args:
                  - kind: app
                    id: 4851
                    opcode: field
                    args:
                      - kind: name
                        id: 4849
                        name: op
                      - kind: str
                        id: 4850
                        value: suffix
              - kind: app
                id: 4855
                opcode: field
                args:
                  - kind: name
                    id: 4853
                    name: pad
                  - kind: str
                    id: 4854
                    value: suffix
    depth: 0
  4891:
    kind: def
    id: 2203
    name: find_first
    qualifier: puredef
    expr:
      kind: lambda
      id: 2202
      params:
        - id: 2184
          name: l
        - id: 2185
          name: f
      expr:
        kind: app
        id: 2201
        opcode: foldl
        args:
          - kind: name
            id: 2186
            name: l
          - kind: name
            id: 2187
            name: None
          - kind: lambda
            id: 2200
            params:
              - id: 2188
                name: a
              - id: 2189
                name: i
            expr:
              kind: app
              id: 2199
              opcode: ite
              args:
                - kind: app
                  id: 2195
                  opcode: and
                  args:
                    - kind: app
                      id: 2192
                      opcode: eq
                      args:
                        - kind: name
                          id: 2190
                          name: a
                        - kind: name
                          id: 2191
                          name: None
                    - kind: app
                      id: 2194
                      opcode: f
                      args:
                        - kind: name
                          id: 2193
                          name: i
                - kind: app
                  id: 2197
                  opcode: Some
                  args:
                    - kind: name
                      id: 2196
                      name: i
                - kind: name
                  id: 2198
                  name: a
    depth: 0
  4894:
    kind: def
    id: 4894
    name: order_from_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4893
      params:
        - id: 4861
          name: spec
        - id: 4863
          name: op
      expr:
        kind: let
        id: 4892
        opdef:
          id: 4871
          name: len
          qualifier: pureval
          expr:
            kind: app
            id: 4870
            opcode: length
            args:
              - kind: app
                id: 4869
                opcode: field
                args:
                  - kind: name
                    id: 4867
                    name: spec
                  - kind: str
                    id: 4868
                    value: child_order
          depth: ~
        expr:
          kind: app
          id: 4891
          opcode: find_first
          args:
            - kind: app
              id: 4874
              opcode: range
              args:
                - kind: int
                  id: 4872
                  value: 0
                - kind: name
                  id: 4873
                  name: len
            - kind: lambda
              id: 4890
              params:
                - id: 4875
                  name: branch
              expr:
                kind: app
                id: 4883
                opcode: matchVariant
                args:
                  - kind: app
                    id: 4878
                    opcode: get_padding
                    args:
                      - kind: name
                        id: 4876
                        name: spec
                      - kind: name
                        id: 4877
                        name: branch
                  - kind: str
                    id: 4884
                    value: Some
                  - kind: lambda
                    id: 4885
                    params:
                      - id: 4886
                        name: padding
                    expr:
                      kind: app
                      id: 4881
                      opcode: has_padding
                      args:
                        - kind: name
                          id: 4879
                          name: op
                        - kind: name
                          id: 4880
                          name: padding
                  - kind: str
                    id: 4887
                    value: None
                  - kind: lambda
                    id: 4888
                    params:
                      - id: 4889
                        name: _
                    expr:
                      kind: bool
                      id: 4882
                      value: false
    depth: 0
  4895:
    kind: typedef
    id: 4459
  4897:
    kind: typedef
    id: 8444
  4900:
    id: 4896
    name: spec
  4901:
    id: 4898
    name: op
  4902:
    kind: def
    id: 4894
    name: order_from_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4893
      params:
        - id: 4861
          name: spec
        - id: 4863
          name: op
      expr:
        kind: let
        id: 4892
        opdef:
          id: 4871
          name: len
          qualifier: pureval
          expr:
            kind: app
            id: 4870
            opcode: length
            args:
              - kind: app
                id: 4869
                opcode: field
                args:
                  - kind: name
                    id: 4867
                    name: spec
                  - kind: str
                    id: 4868
                    value: child_order
          depth: ~
        expr:
          kind: app
          id: 4891
          opcode: find_first
          args:
            - kind: app
              id: 4874
              opcode: range
              args:
                - kind: int
                  id: 4872
                  value: 0
                - kind: name
                  id: 4873
                  name: len
            - kind: lambda
              id: 4890
              params:
                - id: 4875
                  name: branch
              expr:
                kind: app
                id: 4883
                opcode: matchVariant
                args:
                  - kind: app
                    id: 4878
                    opcode: get_padding
                    args:
                      - kind: name
                        id: 4876
                        name: spec
                      - kind: name
                        id: 4877
                        name: branch
                  - kind: str
                    id: 4884
                    value: Some
                  - kind: lambda
                    id: 4885
                    params:
                      - id: 4886
                        name: padding
                    expr:
                      kind: app
                      id: 4881
                      opcode: has_padding
                      args:
                        - kind: name
                          id: 4879
                          name: op
                        - kind: name
                          id: 4880
                          name: padding
                  - kind: str
                    id: 4887
                    value: None
                  - kind: lambda
                    id: 4888
                    params:
                      - id: 4889
                        name: _
                    expr:
                      kind: bool
                      id: 4882
                      value: false
    depth: 0
  4903:
    kind: def
    id: 4903
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4902
      opcode: order_from_padding
      args:
        - kind: name
          id: 4900
          name: spec
        - kind: name
          id: 4901
          name: op
    depth: 3
  4904:
    kind: def
    id: 4903
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4902
      opcode: order_from_padding
      args:
        - kind: name
          id: 4900
          name: spec
        - kind: name
          id: 4901
          name: op
    depth: 3
  4905:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4906:
    kind: def
    id: 4906
    name: left_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4905
      opcode: unwrap
      args:
        - kind: name
          id: 4904
          name: idx
    depth: 4
  4907:
    kind: def
    id: 4906
    name: left_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4905
      opcode: unwrap
      args:
        - kind: name
          id: 4904
          name: idx
    depth: 4
  4911:
    id: 4896
    name: spec
  4914:
    kind: def
    id: 4914
    name: child_size
    qualifier: pureval
    expr:
      kind: app
      id: 4913
      opcode: field
      args:
        - kind: name
          id: 4911
          name: spec
        - kind: str
          id: 4912
          value: child_size
    depth: 5
  4915:
    id: 4898
    name: op
  4918:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  4919:
    kind: def
    id: 4906
    name: left_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4905
      opcode: unwrap
      args:
        - kind: name
          id: 4904
          name: idx
    depth: 4
  4920:
    kind: def
    id: 4914
    name: child_size
    qualifier: pureval
    expr:
      kind: app
      id: 4913
      opcode: field
      args:
        - kind: name
          id: 4911
          name: spec
        - kind: str
          id: 4912
          value: child_size
    depth: 5
  4922:
    kind: def
    id: 4421
    name: checked_sub
    qualifier: puredef
    expr:
      kind: lambda
      id: 4420
      params:
        - id: 4405
          name: a
        - id: 4407
          name: b
      expr:
        kind: app
        id: 4419
        opcode: ite
        args:
          - kind: app
            id: 4413
            opcode: igt
            args:
              - kind: name
                id: 4411
                name: b
              - kind: name
                id: 4412
                name: a
          - kind: name
            id: 4414
            name: None
          - kind: app
            id: 4418
            opcode: Some
            args:
              - kind: app
                id: 4417
                opcode: isub
                args:
                  - kind: name
                    id: 4415
                    name: a
                  - kind: name
                    id: 4416
                    name: b
    depth: 0
  4924:
    kind: def
    id: 4906
    name: left_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4905
      opcode: unwrap
      args:
        - kind: name
          id: 4904
          name: idx
    depth: 4
  4929:
    id: 4896
    name: spec
  4933:
    id: 4932
    name: x
  4934:
    id: 4928
    name: i
  4937:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  4938:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4939:
    kind: def
    id: 4939
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4938
      opcode: unwrap
      args:
        - kind: app
          id: 4937
          opcode: findFirst
          args:
            - kind: app
              id: 4931
              opcode: field
              args:
                - kind: name
                  id: 4929
                  name: spec
                - kind: str
                  id: 4930
                  value: child_order
            - kind: lambda
              id: 4936
              params:
                - id: 4932
                  name: x
              expr:
                kind: app
                id: 4935
                opcode: eq
                args:
                  - kind: name
                    id: 4933
                    name: x
                  - kind: name
                    id: 4934
                    name: i
    depth: 8
  4940:
    id: 4966
    name: actual_prefix
  4941:
    kind: def
    id: 4939
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4938
      opcode: unwrap
      args:
        - kind: app
          id: 4937
          opcode: findFirst
          args:
            - kind: app
              id: 4931
              opcode: field
              args:
                - kind: name
                  id: 4929
                  name: spec
                - kind: str
                  id: 4930
                  value: child_order
            - kind: lambda
              id: 4936
              params:
                - id: 4932
                  name: x
              expr:
                kind: app
                id: 4935
                opcode: eq
                args:
                  - kind: name
                    id: 4933
                    name: x
                  - kind: name
                    id: 4934
                    name: i
    depth: 8
  4942:
    kind: def
    id: 4914
    name: child_size
    qualifier: pureval
    expr:
      kind: app
      id: 4913
      opcode: field
      args:
        - kind: name
          id: 4911
          name: spec
        - kind: str
          id: 4912
          value: child_size
    depth: 5
  4945:
    kind: def
    id: 4945
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 4944
      opcode: iadd
      args:
        - kind: name
          id: 4940
          name: actual_prefix
        - kind: app
          id: 4943
          opcode: imul
          args:
            - kind: name
              id: 4941
              name: idx
            - kind: name
              id: 4942
              name: child_size
    depth: 9
  4946:
    id: 4896
    name: spec
  4949:
    id: 4898
    name: op
  4952:
    kind: def
    id: 4945
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 4944
      opcode: iadd
      args:
        - kind: name
          id: 4940
          name: actual_prefix
        - kind: app
          id: 4943
          opcode: imul
          args:
            - kind: name
              id: 4941
              name: idx
            - kind: name
              id: 4942
              name: child_size
    depth: 9
  4953:
    kind: def
    id: 4945
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 4944
      opcode: iadd
      args:
        - kind: name
          id: 4940
          name: actual_prefix
        - kind: app
          id: 4943
          opcode: imul
          args:
            - kind: name
              id: 4941
              name: idx
            - kind: name
              id: 4942
              name: child_size
    depth: 9
  4954:
    kind: def
    id: 4914
    name: child_size
    qualifier: pureval
    expr:
      kind: app
      id: 4913
      opcode: field
      args:
        - kind: name
          id: 4911
          name: spec
        - kind: str
          id: 4912
          value: child_size
    depth: 5
  4956:
    kind: def
    id: 3237
    name: termSlice
    qualifier: puredef
    expr:
      kind: lambda
      id: 3236
      params:
        - id: 3203
          name: term
        - id: 3205
          name: start
        - id: 3207
          name: end
      expr:
        kind: app
        id: 3235
        opcode: ite
        args:
          - kind: app
            id: 3213
            opcode: neq
            args:
              - kind: app
                id: 3211
                opcode: size
                args:
                  - kind: app
                    id: 3210
                    opcode: keys
                    args:
                      - kind: name
                        id: 3209
                        name: term
              - kind: int
                id: 3212
                value: 1
          - kind: name
            id: 3214
            name: term
          - kind: let
            id: 3234
            opdef:
              id: 3219
              name: first
              qualifier: pureval
              expr:
                kind: app
                id: 3218
                opcode: get
                args:
                  - kind: name
                    id: 3215
                    name: term
                  - kind: app
                    id: 3217
                    opcode: List
                    args:
                      - kind: int
                        id: 3216
                        value: 0
              depth: ~
            expr:
              kind: app
              id: 3227
              opcode: matchVariant
              args:
                - kind: name
                  id: 3220
                  name: first
                - kind: str
                  id: 3228
                  value: Raw
                - kind: lambda
                  id: 3229
                  params:
                    - id: 3230
                      name: bytes
                  expr:
                    kind: app
                    id: 3225
                    opcode: raw
                    args:
                      - kind: app
                        id: 3224
                        opcode: slice
                        args:
                          - kind: name
                            id: 3221
                            name: bytes
                          - kind: name
                            id: 3222
                            name: start
                          - kind: name
                            id: 3223
                            name: end
                - kind: str
                  id: 3231
                  value: _
                - kind: lambda
                  id: 3232
                  params:
                    - id: 3233
                      name: _
                  expr:
                    kind: name
                    id: 3226
                    name: term
    depth: 0
  4976:
    kind: def
    id: 4976
    name: left_branches_are_empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 4975
      params:
        - id: 4896
          name: spec
        - id: 4898
          name: op
      expr:
        kind: app
        id: 4974
        opcode: and
        args:
          - kind: let
            id: 4973
            opdef:
              id: 4903
              name: idx
              qualifier: pureval
              expr:
                kind: app
                id: 4902
                opcode: order_from_padding
                args:
                  - kind: name
                    id: 4900
                    name: spec
                  - kind: name
                    id: 4901
                    name: op
              depth: ~
            expr:
              kind: let
              id: 4972
              opdef:
                id: 4906
                name: left_branches
                qualifier: pureval
                expr:
                  kind: app
                  id: 4905
                  opcode: unwrap
                  args:
                    - kind: name
                      id: 4904
                      name: idx
                depth: ~
              expr:
                kind: app
                id: 4971
                opcode: ite
                args:
                  - kind: app
                    id: 4909
                    opcode: eq
                    args:
                      - kind: name
                        id: 4907
                        name: left_branches
                      - kind: int
                        id: 4908
                        value: 0
                  - kind: bool
                    id: 4910
                    value: false
                  - kind: let
                    id: 4970
                    opdef:
                      id: 4914
                      name: child_size
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 4913
                        opcode: field
                        args:
                          - kind: name
                            id: 4911
                            name: spec
                          - kind: str
                            id: 4912
                            value: child_size
                      depth: ~
                    expr:
                      kind: app
                      id: 4963
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 4922
                          opcode: checked_sub
                          args:
                            - kind: app
                              id: 4918
                              opcode: termLen
                              args:
                                - kind: app
                                  id: 4917
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 4915
                                      name: op
                                    - kind: str
                                      id: 4916
                                      value: prefix
                            - kind: app
                              id: 4921
                              opcode: imul
                              args:
                                - kind: name
                                  id: 4919
                                  name: left_branches
                                - kind: name
                                  id: 4920
                                  name: child_size
                        - kind: str
                          id: 4964
                          value: Some
                        - kind: lambda
                          id: 4965
                          params:
                            - id: 4966
                              name: actual_prefix
                          expr:
                            kind: app
                            id: 4961
                            opcode: forall
                            args:
                              - kind: app
                                id: 4927
                                opcode: to
                                args:
                                  - kind: int
                                    id: 4923
                                    value: 0
                                  - kind: app
                                    id: 4926
                                    opcode: isub
                                    args:
                                      - kind: name
                                        id: 4924
                                        name: left_branches
                                      - kind: int
                                        id: 4925
                                        value: 1
                              - kind: lambda
                                id: 4960
                                params:
                                  - id: 4928
                                    name: i
                                expr:
                                  kind: let
                                  id: 4959
                                  opdef:
                                    id: 4939
                                    name: idx
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 4938
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 4937
                                          opcode: findFirst
                                          args:
                                            - kind: app
                                              id: 4931
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 4929
                                                  name: spec
                                                - kind: str
                                                  id: 4930
                                                  value: child_order
                                            - kind: lambda
                                              id: 4936
                                              params:
                                                - id: 4932
                                                  name: x
                                              expr:
                                                kind: app
                                                id: 4935
                                                opcode: eq
                                                args:
                                                  - kind: name
                                                    id: 4933
                                                    name: x
                                                  - kind: name
                                                    id: 4934
                                                    name: i
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 4958
                                    opdef:
                                      id: 4945
                                      name: from_index
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 4944
                                        opcode: iadd
                                        args:
                                          - kind: name
                                            id: 4940
                                            name: actual_prefix
                                          - kind: app
                                            id: 4943
                                            opcode: imul
                                            args:
                                              - kind: name
                                                id: 4941
                                                name: idx
                                              - kind: name
                                                id: 4942
                                                name: child_size
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 4957
                                      opcode: eq
                                      args:
                                        - kind: app
                                          id: 4948
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 4946
                                              name: spec
                                            - kind: str
                                              id: 4947
                                              value: empty_child
                                        - kind: app
                                          id: 4956
                                          opcode: termSlice
                                          args:
                                            - kind: app
                                              id: 4951
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 4949
                                                  name: op
                                                - kind: str
                                                  id: 4950
                                                  value: prefix
                                            - kind: name
                                              id: 4952
                                              name: from_index
                                            - kind: app
                                              id: 4955
                                              opcode: iadd
                                              args:
                                                - kind: name
                                                  id: 4953
                                                  name: from_index
                                                - kind: name
                                                  id: 4954
                                                  name: child_size
                        - kind: str
                          id: 4967
                          value: None
                        - kind: lambda
                          id: 4968
                          params:
                            - id: 4969
                              name: _
                          expr:
                            kind: bool
                            id: 4962
                            value: false
    depth: 0
  4977:
    kind: typedef
    id: 4459
  4979:
    kind: typedef
    id: 8444
  4982:
    id: 4978
    name: spec
  4983:
    id: 4980
    name: op
  4984:
    kind: def
    id: 4894
    name: order_from_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4893
      params:
        - id: 4861
          name: spec
        - id: 4863
          name: op
      expr:
        kind: let
        id: 4892
        opdef:
          id: 4871
          name: len
          qualifier: pureval
          expr:
            kind: app
            id: 4870
            opcode: length
            args:
              - kind: app
                id: 4869
                opcode: field
                args:
                  - kind: name
                    id: 4867
                    name: spec
                  - kind: str
                    id: 4868
                    value: child_order
          depth: ~
        expr:
          kind: app
          id: 4891
          opcode: find_first
          args:
            - kind: app
              id: 4874
              opcode: range
              args:
                - kind: int
                  id: 4872
                  value: 0
                - kind: name
                  id: 4873
                  name: len
            - kind: lambda
              id: 4890
              params:
                - id: 4875
                  name: branch
              expr:
                kind: app
                id: 4883
                opcode: matchVariant
                args:
                  - kind: app
                    id: 4878
                    opcode: get_padding
                    args:
                      - kind: name
                        id: 4876
                        name: spec
                      - kind: name
                        id: 4877
                        name: branch
                  - kind: str
                    id: 4884
                    value: Some
                  - kind: lambda
                    id: 4885
                    params:
                      - id: 4886
                        name: padding
                    expr:
                      kind: app
                      id: 4881
                      opcode: has_padding
                      args:
                        - kind: name
                          id: 4879
                          name: op
                        - kind: name
                          id: 4880
                          name: padding
                  - kind: str
                    id: 4887
                    value: None
                  - kind: lambda
                    id: 4888
                    params:
                      - id: 4889
                        name: _
                    expr:
                      kind: bool
                      id: 4882
                      value: false
    depth: 0
  4985:
    kind: def
    id: 4985
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4984
      opcode: order_from_padding
      args:
        - kind: name
          id: 4982
          name: spec
        - kind: name
          id: 4983
          name: op
    depth: 3
  4986:
    kind: def
    id: 4985
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4984
      opcode: order_from_padding
      args:
        - kind: name
          id: 4982
          name: spec
        - kind: name
          id: 4983
          name: op
    depth: 3
  4987:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  4989:
    id: 4978
    name: spec
  4995:
    kind: def
    id: 4985
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 4984
      opcode: order_from_padding
      args:
        - kind: name
          id: 4982
          name: spec
        - kind: name
          id: 4983
          name: op
    depth: 3
  4996:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  4998:
    kind: def
    id: 4998
    name: right_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4997
      opcode: isub
      args:
        - kind: app
          id: 4994
          opcode: isub
          args:
            - kind: app
              id: 4992
              opcode: length
              args:
                - kind: app
                  id: 4991
                  opcode: field
                  args:
                    - kind: name
                      id: 4989
                      name: spec
                    - kind: str
                      id: 4990
                      value: child_order
            - kind: int
              id: 4993
              value: 1
        - kind: app
          id: 4996
          opcode: unwrap
          args:
            - kind: name
              id: 4995
              name: idx
    depth: 4
  4999:
    kind: def
    id: 4998
    name: right_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4997
      opcode: isub
      args:
        - kind: app
          id: 4994
          opcode: isub
          args:
            - kind: app
              id: 4992
              opcode: length
              args:
                - kind: app
                  id: 4991
                  opcode: field
                  args:
                    - kind: name
                      id: 4989
                      name: spec
                    - kind: str
                      id: 4990
                      value: child_order
            - kind: int
              id: 4993
              value: 1
        - kind: app
          id: 4996
          opcode: unwrap
          args:
            - kind: name
              id: 4995
              name: idx
    depth: 4
  5003:
    id: 4980
    name: op
  5006:
    kind: def
    id: 2990
    name: termLen
    qualifier: puredef
    expr:
      kind: lambda
      id: 2989
      params:
        - id: 2949
          name: term
      expr:
        kind: let
        id: 2988
        opdef:
          id: 2966
          name: top
          qualifier: pureval
          expr:
            kind: app
            id: 2965
            opcode: map
            args:
              - kind: app
                id: 2959
                opcode: filter
                args:
                  - kind: app
                    id: 2952
                    opcode: keys
                    args:
                      - kind: name
                        id: 2951
                        name: term
                  - kind: lambda
                    id: 2958
                    params:
                      - id: 2953
                        name: p
                    expr:
                      kind: app
                      id: 2957
                      opcode: eq
                      args:
                        - kind: app
                          id: 2955
                          opcode: length
                          args:
                            - kind: name
                              id: 2954
                              name: p
                        - kind: int
                          id: 2956
                          value: 1
              - kind: lambda
                id: 2964
                params:
                  - id: 2960
                    name: p
                expr:
                  kind: app
                  id: 2963
                  opcode: get
                  args:
                    - kind: name
                      id: 2961
                      name: term
                    - kind: name
                      id: 2962
                      name: p
          depth: ~
        expr:
          kind: app
          id: 2987
          opcode: fold
          args:
            - kind: name
              id: 2967
              name: top
            - kind: int
              id: 2968
              value: 0
            - kind: lambda
              id: 2986
              params:
                - id: 2969
                  name: s
                - id: 2970
                  name: t
              expr:
                kind: app
                id: 2979
                opcode: matchVariant
                args:
                  - kind: name
                    id: 2971
                    name: t
                  - kind: str
                    id: 2980
                    value: Hash
                  - kind: lambda
                    id: 2981
                    params:
                      - id: 2982
                        name: _
                    expr:
                      kind: app
                      id: 2974
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2972
                          name: s
                        - kind: int
                          id: 2973
                          value: 32
                  - kind: str
                    id: 2983
                    value: Raw
                  - kind: lambda
                    id: 2984
                    params:
                      - id: 2985
                        name: bytes
                    expr:
                      kind: app
                      id: 2978
                      opcode: iadd
                      args:
                        - kind: name
                          id: 2975
                          name: s
                        - kind: app
                          id: 2977
                          opcode: length
                          args:
                            - kind: name
                              id: 2976
                              name: bytes
    depth: 0
  5007:
    id: 4978
    name: spec
  5013:
    kind: def
    id: 4998
    name: right_branches
    qualifier: pureval
    expr:
      kind: app
      id: 4997
      opcode: isub
      args:
        - kind: app
          id: 4994
          opcode: isub
          args:
            - kind: app
              id: 4992
              opcode: length
              args:
                - kind: app
                  id: 4991
                  opcode: field
                  args:
                    - kind: name
                      id: 4989
                      name: spec
                    - kind: str
                      id: 4990
                      value: child_order
            - kind: int
              id: 4993
              value: 1
        - kind: app
          id: 4996
          opcode: unwrap
          args:
            - kind: name
              id: 4995
              name: idx
    depth: 4
  5018:
    id: 4978
    name: spec
  5022:
    id: 5021
    name: x
  5023:
    id: 5017
    name: i
  5026:
    kind: def
    id: 2183
    name: findFirst
    qualifier: puredef
    expr:
      kind: lambda
      id: 2182
      params:
        - id: 2164
          name: l
        - id: 2165
          name: f
      expr:
        kind: app
        id: 2181
        opcode: foldl
        args:
          - kind: name
            id: 2166
            name: l
          - kind: name
            id: 2167
            name: None
          - kind: lambda
            id: 2180
            params:
              - id: 2168
                name: a
              - id: 2169
                name: i
            expr:
              kind: app
              id: 2179
              opcode: ite
              args:
                - kind: app
                  id: 2175
                  opcode: and
                  args:
                    - kind: app
                      id: 2172
                      opcode: eq
                      args:
                        - kind: name
                          id: 2170
                          name: a
                        - kind: name
                          id: 2171
                          name: None
                    - kind: app
                      id: 2174
                      opcode: f
                      args:
                        - kind: name
                          id: 2173
                          name: i
                - kind: app
                  id: 2177
                  opcode: Some
                  args:
                    - kind: name
                      id: 2176
                      name: i
                - kind: name
                  id: 2178
                  name: a
    depth: 0
  5027:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  5028:
    kind: def
    id: 5028
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 5027
      opcode: unwrap
      args:
        - kind: app
          id: 5026
          opcode: findFirst
          args:
            - kind: app
              id: 5020
              opcode: field
              args:
                - kind: name
                  id: 5018
                  name: spec
                - kind: str
                  id: 5019
                  value: child_order
            - kind: lambda
              id: 5025
              params:
                - id: 5021
                  name: x
              expr:
                kind: app
                id: 5024
                opcode: eq
                args:
                  - kind: name
                    id: 5022
                    name: x
                  - kind: name
                    id: 5023
                    name: i
    depth: 6
  5029:
    kind: def
    id: 5028
    name: idx
    qualifier: pureval
    expr:
      kind: app
      id: 5027
      opcode: unwrap
      args:
        - kind: app
          id: 5026
          opcode: findFirst
          args:
            - kind: app
              id: 5020
              opcode: field
              args:
                - kind: name
                  id: 5018
                  name: spec
                - kind: str
                  id: 5019
                  value: child_order
            - kind: lambda
              id: 5025
              params:
                - id: 5021
                  name: x
              expr:
                kind: app
                id: 5024
                opcode: eq
                args:
                  - kind: name
                    id: 5022
                    name: x
                  - kind: name
                    id: 5023
                    name: i
    depth: 6
  5030:
    id: 4978
    name: spec
  5034:
    kind: def
    id: 5034
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 5033
      opcode: imul
      args:
        - kind: name
          id: 5029
          name: idx
        - kind: app
          id: 5032
          opcode: field
          args:
            - kind: name
              id: 5030
              name: spec
            - kind: str
              id: 5031
              value: child_size
    depth: 7
  5035:
    id: 4978
    name: spec
  5038:
    id: 4980
    name: op
  5041:
    kind: def
    id: 5034
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 5033
      opcode: imul
      args:
        - kind: name
          id: 5029
          name: idx
        - kind: app
          id: 5032
          opcode: field
          args:
            - kind: name
              id: 5030
              name: spec
            - kind: str
              id: 5031
              value: child_size
    depth: 7
  5042:
    kind: def
    id: 5034
    name: from_index
    qualifier: val
    expr:
      kind: app
      id: 5033
      opcode: imul
      args:
        - kind: name
          id: 5029
          name: idx
        - kind: app
          id: 5032
          opcode: field
          args:
            - kind: name
              id: 5030
              name: spec
            - kind: str
              id: 5031
              value: child_size
    depth: 7
  5043:
    id: 4978
    name: spec
  5047:
    kind: def
    id: 3237
    name: termSlice
    qualifier: puredef
    expr:
      kind: lambda
      id: 3236
      params:
        - id: 3203
          name: term
        - id: 3205
          name: start
        - id: 3207
          name: end
      expr:
        kind: app
        id: 3235
        opcode: ite
        args:
          - kind: app
            id: 3213
            opcode: neq
            args:
              - kind: app
                id: 3211
                opcode: size
                args:
                  - kind: app
                    id: 3210
                    opcode: keys
                    args:
                      - kind: name
                        id: 3209
                        name: term
              - kind: int
                id: 3212
                value: 1
          - kind: name
            id: 3214
            name: term
          - kind: let
            id: 3234
            opdef:
              id: 3219
              name: first
              qualifier: pureval
              expr:
                kind: app
                id: 3218
                opcode: get
                args:
                  - kind: name
                    id: 3215
                    name: term
                  - kind: app
                    id: 3217
                    opcode: List
                    args:
                      - kind: int
                        id: 3216
                        value: 0
              depth: ~
            expr:
              kind: app
              id: 3227
              opcode: matchVariant
              args:
                - kind: name
                  id: 3220
                  name: first
                - kind: str
                  id: 3228
                  value: Raw
                - kind: lambda
                  id: 3229
                  params:
                    - id: 3230
                      name: bytes
                  expr:
                    kind: app
                    id: 3225
                    opcode: raw
                    args:
                      - kind: app
                        id: 3224
                        opcode: slice
                        args:
                          - kind: name
                            id: 3221
                            name: bytes
                          - kind: name
                            id: 3222
                            name: start
                          - kind: name
                            id: 3223
                            name: end
                - kind: str
                  id: 3231
                  value: _
                - kind: lambda
                  id: 3232
                  params:
                    - id: 3233
                      name: _
                  expr:
                    kind: name
                    id: 3226
                    name: term
    depth: 0
  5059:
    kind: def
    id: 5059
    name: right_branches_are_empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 5058
      params:
        - id: 4978
          name: spec
        - id: 4980
          name: op
      expr:
        kind: let
        id: 5057
        opdef:
          id: 4985
          name: idx
          qualifier: pureval
          expr:
            kind: app
            id: 4984
            opcode: order_from_padding
            args:
              - kind: name
                id: 4982
                name: spec
              - kind: name
                id: 4983
                name: op
          depth: ~
        expr:
          kind: app
          id: 5056
          opcode: and
          args:
            - kind: app
              id: 4988
              opcode: neq
              args:
                - kind: name
                  id: 4986
                  name: idx
                - kind: name
                  id: 4987
                  name: None
            - kind: let
              id: 5055
              opdef:
                id: 4998
                name: right_branches
                qualifier: pureval
                expr:
                  kind: app
                  id: 4997
                  opcode: isub
                  args:
                    - kind: app
                      id: 4994
                      opcode: isub
                      args:
                        - kind: app
                          id: 4992
                          opcode: length
                          args:
                            - kind: app
                              id: 4991
                              opcode: field
                              args:
                                - kind: name
                                  id: 4989
                                  name: spec
                                - kind: str
                                  id: 4990
                                  value: child_order
                        - kind: int
                          id: 4993
                          value: 1
                    - kind: app
                      id: 4996
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 4995
                          name: idx
                depth: ~
              expr:
                kind: app
                id: 5054
                opcode: ite
                args:
                  - kind: app
                    id: 5001
                    opcode: eq
                    args:
                      - kind: name
                        id: 4999
                        name: right_branches
                      - kind: int
                        id: 5000
                        value: 0
                  - kind: bool
                    id: 5002
                    value: false
                  - kind: app
                    id: 5053
                    opcode: ite
                    args:
                      - kind: app
                        id: 5010
                        opcode: neq
                        args:
                          - kind: app
                            id: 5006
                            opcode: termLen
                            args:
                              - kind: app
                                id: 5005
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5003
                                    name: op
                                  - kind: str
                                    id: 5004
                                    value: suffix
                          - kind: app
                            id: 5009
                            opcode: field
                            args:
                              - kind: name
                                id: 5007
                                name: spec
                              - kind: str
                                id: 5008
                                value: child_size
                      - kind: bool
                        id: 5011
                        value: false
                      - kind: app
                        id: 5052
                        opcode: forall
                        args:
                          - kind: app
                            id: 5016
                            opcode: to
                            args:
                              - kind: int
                                id: 5012
                                value: 0
                              - kind: app
                                id: 5015
                                opcode: isub
                                args:
                                  - kind: name
                                    id: 5013
                                    name: right_branches
                                  - kind: int
                                    id: 5014
                                    value: 1
                          - kind: lambda
                            id: 5051
                            params:
                              - id: 5017
                                name: i
                            expr:
                              kind: let
                              id: 5050
                              opdef:
                                id: 5028
                                name: idx
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 5027
                                  opcode: unwrap
                                  args:
                                    - kind: app
                                      id: 5026
                                      opcode: findFirst
                                      args:
                                        - kind: app
                                          id: 5020
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5018
                                              name: spec
                                            - kind: str
                                              id: 5019
                                              value: child_order
                                        - kind: lambda
                                          id: 5025
                                          params:
                                            - id: 5021
                                              name: x
                                          expr:
                                            kind: app
                                            id: 5024
                                            opcode: eq
                                            args:
                                              - kind: name
                                                id: 5022
                                                name: x
                                              - kind: name
                                                id: 5023
                                                name: i
                                depth: ~
                              expr:
                                kind: let
                                id: 5049
                                opdef:
                                  id: 5034
                                  name: from_index
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5033
                                    opcode: imul
                                    args:
                                      - kind: name
                                        id: 5029
                                        name: idx
                                      - kind: app
                                        id: 5032
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5030
                                            name: spec
                                          - kind: str
                                            id: 5031
                                            value: child_size
                                  depth: ~
                                expr:
                                  kind: app
                                  id: 5048
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 5037
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5035
                                          name: spec
                                        - kind: str
                                          id: 5036
                                          value: empty_child
                                    - kind: app
                                      id: 5047
                                      opcode: termSlice
                                      args:
                                        - kind: app
                                          id: 5040
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5038
                                              name: op
                                            - kind: str
                                              id: 5039
                                              value: suffix
                                        - kind: name
                                          id: 5041
                                          name: from_index
                                        - kind: app
                                          id: 5046
                                          opcode: iadd
                                          args:
                                            - kind: name
                                              id: 5042
                                              name: from_index
                                            - kind: app
                                              id: 5045
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5043
                                                  name: spec
                                                - kind: str
                                                  id: 5044
                                                  value: child_size
    depth: 0
  5060:
    kind: typedef
    id: 4459
  5062:
    kind: typedef
    id: 8444
  5064:
    kind: typedef
    id: 8444
  5067:
    id: 5061
    name: spec
  5068:
    id: 5063
    name: left
  5069:
    kind: def
    id: 4894
    name: order_from_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4893
      params:
        - id: 4861
          name: spec
        - id: 4863
          name: op
      expr:
        kind: let
        id: 4892
        opdef:
          id: 4871
          name: len
          qualifier: pureval
          expr:
            kind: app
            id: 4870
            opcode: length
            args:
              - kind: app
                id: 4869
                opcode: field
                args:
                  - kind: name
                    id: 4867
                    name: spec
                  - kind: str
                    id: 4868
                    value: child_order
          depth: ~
        expr:
          kind: app
          id: 4891
          opcode: find_first
          args:
            - kind: app
              id: 4874
              opcode: range
              args:
                - kind: int
                  id: 4872
                  value: 0
                - kind: name
                  id: 4873
                  name: len
            - kind: lambda
              id: 4890
              params:
                - id: 4875
                  name: branch
              expr:
                kind: app
                id: 4883
                opcode: matchVariant
                args:
                  - kind: app
                    id: 4878
                    opcode: get_padding
                    args:
                      - kind: name
                        id: 4876
                        name: spec
                      - kind: name
                        id: 4877
                        name: branch
                  - kind: str
                    id: 4884
                    value: Some
                  - kind: lambda
                    id: 4885
                    params:
                      - id: 4886
                        name: padding
                    expr:
                      kind: app
                      id: 4881
                      opcode: has_padding
                      args:
                        - kind: name
                          id: 4879
                          name: op
                        - kind: name
                          id: 4880
                          name: padding
                  - kind: str
                    id: 4887
                    value: None
                  - kind: lambda
                    id: 4888
                    params:
                      - id: 4889
                        name: _
                    expr:
                      kind: bool
                      id: 4882
                      value: false
    depth: 0
  5070:
    kind: def
    id: 5070
    name: left_idx
    qualifier: val
    expr:
      kind: app
      id: 5069
      opcode: order_from_padding
      args:
        - kind: name
          id: 5067
          name: spec
        - kind: name
          id: 5068
          name: left
    depth: 3
  5071:
    id: 5061
    name: spec
  5072:
    id: 5065
    name: right
  5073:
    kind: def
    id: 4894
    name: order_from_padding
    qualifier: puredef
    expr:
      kind: lambda
      id: 4893
      params:
        - id: 4861
          name: spec
        - id: 4863
          name: op
      expr:
        kind: let
        id: 4892
        opdef:
          id: 4871
          name: len
          qualifier: pureval
          expr:
            kind: app
            id: 4870
            opcode: length
            args:
              - kind: app
                id: 4869
                opcode: field
                args:
                  - kind: name
                    id: 4867
                    name: spec
                  - kind: str
                    id: 4868
                    value: child_order
          depth: ~
        expr:
          kind: app
          id: 4891
          opcode: find_first
          args:
            - kind: app
              id: 4874
              opcode: range
              args:
                - kind: int
                  id: 4872
                  value: 0
                - kind: name
                  id: 4873
                  name: len
            - kind: lambda
              id: 4890
              params:
                - id: 4875
                  name: branch
              expr:
                kind: app
                id: 4883
                opcode: matchVariant
                args:
                  - kind: app
                    id: 4878
                    opcode: get_padding
                    args:
                      - kind: name
                        id: 4876
                        name: spec
                      - kind: name
                        id: 4877
                        name: branch
                  - kind: str
                    id: 4884
                    value: Some
                  - kind: lambda
                    id: 4885
                    params:
                      - id: 4886
                        name: padding
                    expr:
                      kind: app
                      id: 4881
                      opcode: has_padding
                      args:
                        - kind: name
                          id: 4879
                          name: op
                        - kind: name
                          id: 4880
                          name: padding
                  - kind: str
                    id: 4887
                    value: None
                  - kind: lambda
                    id: 4888
                    params:
                      - id: 4889
                        name: _
                    expr:
                      kind: bool
                      id: 4882
                      value: false
    depth: 0
  5074:
    kind: def
    id: 5074
    name: right_idx
    qualifier: val
    expr:
      kind: app
      id: 5073
      opcode: order_from_padding
      args:
        - kind: name
          id: 5071
          name: spec
        - kind: name
          id: 5072
          name: right
    depth: 4
  5075:
    kind: def
    id: 5070
    name: left_idx
    qualifier: val
    expr:
      kind: app
      id: 5069
      opcode: order_from_padding
      args:
        - kind: name
          id: 5067
          name: spec
        - kind: name
          id: 5068
          name: left
    depth: 3
  5076:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5078:
    kind: def
    id: 5074
    name: right_idx
    qualifier: val
    expr:
      kind: app
      id: 5073
      opcode: order_from_padding
      args:
        - kind: name
          id: 5071
          name: spec
        - kind: name
          id: 5072
          name: right
    depth: 4
  5079:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5081:
    kind: def
    id: 5070
    name: left_idx
    qualifier: val
    expr:
      kind: app
      id: 5069
      opcode: order_from_padding
      args:
        - kind: name
          id: 5067
          name: spec
        - kind: name
          id: 5068
          name: left
    depth: 3
  5082:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  5085:
    kind: def
    id: 5074
    name: right_idx
    qualifier: val
    expr:
      kind: app
      id: 5073
      opcode: order_from_padding
      args:
        - kind: name
          id: 5071
          name: spec
        - kind: name
          id: 5072
          name: right
    depth: 4
  5086:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  5092:
    kind: def
    id: 5092
    name: is_left_step
    qualifier: puredef
    expr:
      kind: lambda
      id: 5091
      params:
        - id: 5061
          name: spec
        - id: 5063
          name: left
        - id: 5065
          name: right
      expr:
        kind: let
        id: 5090
        opdef:
          id: 5070
          name: left_idx
          qualifier: val
          expr:
            kind: app
            id: 5069
            opcode: order_from_padding
            args:
              - kind: name
                id: 5067
                name: spec
              - kind: name
                id: 5068
                name: left
          depth: ~
        expr:
          kind: let
          id: 5089
          opdef:
            id: 5074
            name: right_idx
            qualifier: val
            expr:
              kind: app
              id: 5073
              opcode: order_from_padding
              args:
                - kind: name
                  id: 5071
                  name: spec
                - kind: name
                  id: 5072
                  name: right
            depth: ~
          expr:
            kind: app
            id: 5088
            opcode: and
            args:
              - kind: app
                id: 5077
                opcode: neq
                args:
                  - kind: name
                    id: 5075
                    name: left_idx
                  - kind: name
                    id: 5076
                    name: None
              - kind: app
                id: 5080
                opcode: neq
                args:
                  - kind: name
                    id: 5078
                    name: right_idx
                  - kind: name
                    id: 5079
                    name: None
              - kind: app
                id: 5087
                opcode: eq
                args:
                  - kind: app
                    id: 5084
                    opcode: iadd
                    args:
                      - kind: app
                        id: 5082
                        opcode: unwrap
                        args:
                          - kind: name
                            id: 5081
                            name: left_idx
                      - kind: int
                        id: 5083
                        value: 1
                  - kind: app
                    id: 5086
                    opcode: unwrap
                    args:
                      - kind: name
                        id: 5085
                        name: right_idx
    depth: 0
  5093:
    kind: typedef
    id: 4459
  5095:
    kind: typedef
    id: 8444
  5098:
    kind: typedef
    id: 8444
  5102:
    id: 5097
    name: left
  5105:
    id: 5100
    name: right
  5108:
    id: 5097
    name: left
  5110:
    id: 5104
    name: li
  5112:
    id: 5100
    name: right
  5114:
    id: 5107
    name: ri
  5117:
    id: 5097
    name: left
  5121:
    id: 5104
    name: li
  5123:
    kind: def
    id: 5123
    name: dist
    qualifier: val
    expr:
      kind: app
      id: 5122
      opcode: isub
      args:
        - kind: app
          id: 5120
          opcode: isub
          args:
            - kind: app
              id: 5118
              opcode: length
              args:
                - kind: name
                  id: 5117
                  name: left
            - kind: int
              id: 5119
              value: 1
        - kind: name
          id: 5121
          name: li
    depth: 5
  5125:
    kind: def
    id: 5123
    name: dist
    qualifier: val
    expr:
      kind: app
      id: 5122
      opcode: isub
      args:
        - kind: app
          id: 5120
          opcode: isub
          args:
            - kind: app
              id: 5118
              opcode: length
              args:
                - kind: name
                  id: 5117
                  name: left
            - kind: int
              id: 5119
              value: 1
        - kind: name
          id: 5121
          name: li
    depth: 5
  5128:
    id: 5097
    name: left
  5129:
    id: 5104
    name: li
  5130:
    id: 5127
    name: k
  5133:
    kind: def
    id: 5133
    name: lnode
    qualifier: val
    expr:
      kind: app
      id: 5132
      opcode: nth
      args:
        - kind: name
          id: 5128
          name: left
        - kind: app
          id: 5131
          opcode: iadd
          args:
            - kind: name
              id: 5129
              name: li
            - kind: name
              id: 5130
              name: k
    depth: 7
  5134:
    id: 5100
    name: right
  5135:
    id: 5107
    name: ri
  5136:
    id: 5127
    name: k
  5139:
    kind: def
    id: 5139
    name: rnode
    qualifier: val
    expr:
      kind: app
      id: 5138
      opcode: nth
      args:
        - kind: name
          id: 5134
          name: right
        - kind: app
          id: 5137
          opcode: iadd
          args:
            - kind: name
              id: 5135
              name: ri
            - kind: name
              id: 5136
              name: k
    depth: 8
  5140:
    kind: def
    id: 5133
    name: lnode
    qualifier: val
    expr:
      kind: app
      id: 5132
      opcode: nth
      args:
        - kind: name
          id: 5128
          name: left
        - kind: app
          id: 5131
          opcode: iadd
          args:
            - kind: name
              id: 5129
              name: li
            - kind: name
              id: 5130
              name: k
    depth: 7
  5143:
    kind: def
    id: 5139
    name: rnode
    qualifier: val
    expr:
      kind: app
      id: 5138
      opcode: nth
      args:
        - kind: name
          id: 5134
          name: right
        - kind: app
          id: 5137
          opcode: iadd
          args:
            - kind: name
              id: 5135
              name: ri
            - kind: name
              id: 5136
              name: k
    depth: 8
  5147:
    kind: def
    id: 5133
    name: lnode
    qualifier: val
    expr:
      kind: app
      id: 5132
      opcode: nth
      args:
        - kind: name
          id: 5128
          name: left
        - kind: app
          id: 5131
          opcode: iadd
          args:
            - kind: name
              id: 5129
              name: li
            - kind: name
              id: 5130
              name: k
    depth: 7
  5150:
    kind: def
    id: 5139
    name: rnode
    qualifier: val
    expr:
      kind: app
      id: 5138
      opcode: nth
      args:
        - kind: name
          id: 5134
          name: right
        - kind: app
          id: 5137
          opcode: iadd
          args:
            - kind: name
              id: 5135
              name: ri
            - kind: name
              id: 5136
              name: k
    depth: 8
  5160:
    id: 5094
    name: spec
  5161:
    id: 5097
    name: left
  5162:
    id: 5104
    name: li
  5164:
    id: 5100
    name: right
  5165:
    id: 5107
    name: ri
  5167:
    kind: def
    id: 5092
    name: is_left_step
    qualifier: puredef
    expr:
      kind: lambda
      id: 5091
      params:
        - id: 5061
          name: spec
        - id: 5063
          name: left
        - id: 5065
          name: right
      expr:
        kind: let
        id: 5090
        opdef:
          id: 5070
          name: left_idx
          qualifier: val
          expr:
            kind: app
            id: 5069
            opcode: order_from_padding
            args:
              - kind: name
                id: 5067
                name: spec
              - kind: name
                id: 5068
                name: left
          depth: ~
        expr:
          kind: let
          id: 5089
          opdef:
            id: 5074
            name: right_idx
            qualifier: val
            expr:
              kind: app
              id: 5073
              opcode: order_from_padding
              args:
                - kind: name
                  id: 5071
                  name: spec
                - kind: name
                  id: 5072
                  name: right
            depth: ~
          expr:
            kind: app
            id: 5088
            opcode: and
            args:
              - kind: app
                id: 5077
                opcode: neq
                args:
                  - kind: name
                    id: 5075
                    name: left_idx
                  - kind: name
                    id: 5076
                    name: None
              - kind: app
                id: 5080
                opcode: neq
                args:
                  - kind: name
                    id: 5078
                    name: right_idx
                  - kind: name
                    id: 5079
                    name: None
              - kind: app
                id: 5087
                opcode: eq
                args:
                  - kind: app
                    id: 5084
                    opcode: iadd
                    args:
                      - kind: app
                        id: 5082
                        opcode: unwrap
                        args:
                          - kind: name
                            id: 5081
                            name: left_idx
                      - kind: int
                        id: 5083
                        value: 1
                  - kind: app
                    id: 5086
                    opcode: unwrap
                    args:
                      - kind: name
                        id: 5085
                        name: right_idx
    depth: 0
  5168:
    id: 5094
    name: spec
  5169:
    id: 5097
    name: left
  5171:
    id: 5104
    name: li
  5173:
    kind: def
    id: 4827
    name: is_right_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4826
      params:
        - id: 4785
          name: spec
        - id: 4788
          name: path
      expr:
        kind: let
        id: 4825
        opdef:
          id: 4796
          name: idx
          qualifier: pureval
          expr:
            kind: app
            id: 4795
            opcode: isub
            args:
              - kind: app
                id: 4793
                opcode: length
                args:
                  - kind: app
                    id: 4792
                    opcode: field
                    args:
                      - kind: name
                        id: 4790
                        name: spec
                      - kind: str
                        id: 4791
                        value: child_order
              - kind: int
                id: 4794
                value: 1
          depth: ~
        expr:
          kind: app
          id: 4818
          opcode: matchVariant
          args:
            - kind: app
              id: 4799
              opcode: get_padding
              args:
                - kind: name
                  id: 4797
                  name: spec
                - kind: name
                  id: 4798
                  name: idx
            - kind: str
              id: 4819
              value: Some
            - kind: lambda
              id: 4820
              params:
                - id: 4821
                  name: pad
              expr:
                kind: app
                id: 4816
                opcode: forall
                args:
                  - kind: app
                    id: 4801
                    opcode: indices
                    args:
                      - kind: name
                        id: 4800
                        name: path
                  - kind: lambda
                    id: 4815
                    params:
                      - id: 4802
                        name: i
                    expr:
                      kind: let
                      id: 4814
                      opdef:
                        id: 4806
                        name: step
                        qualifier: val
                        expr:
                          kind: app
                          id: 4805
                          opcode: nth
                          args:
                            - kind: name
                              id: 4803
                              name: path
                            - kind: name
                              id: 4804
                              name: i
                        depth: ~
                      expr:
                        kind: app
                        id: 4813
                        opcode: or
                        args:
                          - kind: app
                            id: 4809
                            opcode: has_padding
                            args:
                              - kind: name
                                id: 4807
                                name: step
                              - kind: name
                                id: 4808
                                name: pad
                          - kind: app
                            id: 4812
                            opcode: right_branches_are_empty
                            args:
                              - kind: name
                                id: 4810
                                name: spec
                              - kind: name
                                id: 4811
                                name: step
            - kind: str
              id: 4822
              value: None
            - kind: lambda
              id: 4823
              params:
                - id: 4824
                  name: _
              expr:
                kind: bool
                id: 4817
                value: false
    depth: 0
  5174:
    id: 5094
    name: spec
  5175:
    id: 5100
    name: right
  5177:
    id: 5107
    name: ri
  5179:
    kind: def
    id: 4783
    name: is_left_most
    qualifier: puredef
    expr:
      kind: lambda
      id: 4782
      params:
        - id: 4749
          name: spec
        - id: 4752
          name: path
      expr:
        kind: app
        id: 4775
        opcode: matchVariant
        args:
          - kind: app
            id: 4756
            opcode: get_padding
            args:
              - kind: name
                id: 4754
                name: spec
              - kind: int
                id: 4755
                value: 0
          - kind: str
            id: 4776
            value: Some
          - kind: lambda
            id: 4777
            params:
              - id: 4778
                name: pad
            expr:
              kind: app
              id: 4773
              opcode: forall
              args:
                - kind: app
                  id: 4758
                  opcode: indices
                  args:
                    - kind: name
                      id: 4757
                      name: path
                - kind: lambda
                  id: 4772
                  params:
                    - id: 4759
                      name: i
                  expr:
                    kind: let
                    id: 4771
                    opdef:
                      id: 4763
                      name: step
                      qualifier: val
                      expr:
                        kind: app
                        id: 4762
                        opcode: nth
                        args:
                          - kind: name
                            id: 4760
                            name: path
                          - kind: name
                            id: 4761
                            name: i
                      depth: ~
                    expr:
                      kind: app
                      id: 4770
                      opcode: or
                      args:
                        - kind: app
                          id: 4766
                          opcode: has_padding
                          args:
                            - kind: name
                              id: 4764
                              name: step
                            - kind: name
                              id: 4765
                              name: pad
                        - kind: app
                          id: 4769
                          opcode: left_branches_are_empty
                          args:
                            - kind: name
                              id: 4767
                              name: spec
                            - kind: name
                              id: 4768
                              name: step
          - kind: str
            id: 4779
            value: None
          - kind: lambda
            id: 4780
            params:
              - id: 4781
                name: _
            expr:
              kind: bool
              id: 4774
              value: false
    depth: 0
  5186:
    kind: def
    id: 5186
    name: is_left_neighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5185
      params:
        - id: 5094
          name: spec
        - id: 5097
          name: left
        - id: 5100
          name: right
      expr:
        kind: app
        id: 5184
        opcode: exists
        args:
          - kind: app
            id: 5103
            opcode: indices
            args:
              - kind: name
                id: 5102
                name: left
          - kind: lambda
            id: 5183
            params:
              - id: 5104
                name: li
            expr:
              kind: app
              id: 5182
              opcode: exists
              args:
                - kind: app
                  id: 5106
                  opcode: indices
                  args:
                    - kind: name
                      id: 5105
                      name: right
                - kind: lambda
                  id: 5181
                  params:
                    - id: 5107
                      name: ri
                  expr:
                    kind: app
                    id: 5180
                    opcode: and
                    args:
                      - kind: app
                        id: 5116
                        opcode: eq
                        args:
                          - kind: app
                            id: 5111
                            opcode: isub
                            args:
                              - kind: app
                                id: 5109
                                opcode: length
                                args:
                                  - kind: name
                                    id: 5108
                                    name: left
                              - kind: name
                                id: 5110
                                name: li
                          - kind: app
                            id: 5115
                            opcode: isub
                            args:
                              - kind: app
                                id: 5113
                                opcode: length
                                args:
                                  - kind: name
                                    id: 5112
                                    name: right
                              - kind: name
                                id: 5114
                                name: ri
                      - kind: let
                        id: 5159
                        opdef:
                          id: 5123
                          name: dist
                          qualifier: val
                          expr:
                            kind: app
                            id: 5122
                            opcode: isub
                            args:
                              - kind: app
                                id: 5120
                                opcode: isub
                                args:
                                  - kind: app
                                    id: 5118
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 5117
                                        name: left
                                  - kind: int
                                    id: 5119
                                    value: 1
                              - kind: name
                                id: 5121
                                name: li
                          depth: ~
                        expr:
                          kind: app
                          id: 5158
                          opcode: forall
                          args:
                            - kind: app
                              id: 5126
                              opcode: to
                              args:
                                - kind: int
                                  id: 5124
                                  value: 1
                                - kind: name
                                  id: 5125
                                  name: dist
                            - kind: lambda
                              id: 5157
                              params:
                                - id: 5127
                                  name: k
                              expr:
                                kind: let
                                id: 5156
                                opdef:
                                  id: 5133
                                  name: lnode
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5132
                                    opcode: nth
                                    args:
                                      - kind: name
                                        id: 5128
                                        name: left
                                      - kind: app
                                        id: 5131
                                        opcode: iadd
                                        args:
                                          - kind: name
                                            id: 5129
                                            name: li
                                          - kind: name
                                            id: 5130
                                            name: k
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5155
                                  opdef:
                                    id: 5139
                                    name: rnode
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5138
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 5134
                                          name: right
                                        - kind: app
                                          id: 5137
                                          opcode: iadd
                                          args:
                                            - kind: name
                                              id: 5135
                                              name: ri
                                            - kind: name
                                              id: 5136
                                              name: k
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5154
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 5146
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 5142
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5140
                                                name: lnode
                                              - kind: str
                                                id: 5141
                                                value: prefix
                                          - kind: app
                                            id: 5145
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5143
                                                name: rnode
                                              - kind: str
                                                id: 5144
                                                value: prefix
                                      - kind: app
                                        id: 5153
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 5149
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5147
                                                name: lnode
                                              - kind: str
                                                id: 5148
                                                value: suffix
                                          - kind: app
                                            id: 5152
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5150
                                                name: rnode
                                              - kind: str
                                                id: 5151
                                                value: suffix
                      - kind: app
                        id: 5167
                        opcode: is_left_step
                        args:
                          - kind: name
                            id: 5160
                            name: spec
                          - kind: app
                            id: 5163
                            opcode: nth
                            args:
                              - kind: name
                                id: 5161
                                name: left
                              - kind: name
                                id: 5162
                                name: li
                          - kind: app
                            id: 5166
                            opcode: nth
                            args:
                              - kind: name
                                id: 5164
                                name: right
                              - kind: name
                                id: 5165
                                name: ri
                      - kind: app
                        id: 5173
                        opcode: is_right_most
                        args:
                          - kind: name
                            id: 5168
                            name: spec
                          - kind: app
                            id: 5172
                            opcode: slice
                            args:
                              - kind: name
                                id: 5169
                                name: left
                              - kind: int
                                id: 5170
                                value: 0
                              - kind: name
                                id: 5171
                                name: li
                      - kind: app
                        id: 5179
                        opcode: is_left_most
                        args:
                          - kind: name
                            id: 5174
                            name: spec
                          - kind: app
                            id: 5178
                            opcode: slice
                            args:
                              - kind: name
                                id: 5175
                                name: right
                              - kind: int
                                id: 5176
                                value: 0
                              - kind: name
                                id: 5177
                                name: ri
    depth: 0
  5195:
    kind: typedef
    id: 3278
  5197:
    kind: typedef
    id: 3260
  5199:
    kind: typedef
    id: 3258
  5201:
    kind: typedef
    id: 8444
  5206:
    id: 5200
    name: key_hash
  5210:
    id: 5200
    name: key_hash
  5212:
    id: 5209
    name: i
  5216:
    kind: def
    id: 2351
    name: listCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2350
      params:
        - id: 2330
          name: __a
        - id: 2333
          name: __b
      expr:
        kind: app
        id: 2349
        opcode: ite
        args:
          - kind: app
            id: 2339
            opcode: ilt
            args:
              - kind: app
                id: 2336
                opcode: length
                args:
                  - kind: name
                    id: 2335
                    name: __a
              - kind: app
                id: 2338
                opcode: length
                args:
                  - kind: name
                    id: 2337
                    name: __b
          - kind: name
            id: 2340
            name: LT
          - kind: app
            id: 2348
            opcode: ite
            args:
              - kind: app
                id: 2345
                opcode: igt
                args:
                  - kind: app
                    id: 2342
                    opcode: length
                    args:
                      - kind: name
                        id: 2341
                        name: __a
                  - kind: app
                    id: 2344
                    opcode: length
                    args:
                      - kind: name
                        id: 2343
                        name: __b
              - kind: name
                id: 2346
                name: GT
              - kind: name
                id: 2347
                name: EQ
    depth: 0
  5217:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  5218:
    kind: def
    id: 5218
    name: prefixes_list
    qualifier: val
    expr:
      kind: app
      id: 5217
      opcode: toList
      args:
        - kind: app
          id: 5215
          opcode: map
          args:
            - kind: app
              id: 5208
              opcode: to
              args:
                - kind: int
                  id: 5205
                  value: 0
                - kind: app
                  id: 5207
                  opcode: length
                  args:
                    - kind: name
                      id: 5206
                      name: key_hash
            - kind: lambda
              id: 5214
              params:
                - id: 5209
                  name: i
              expr:
                kind: app
                id: 5213
                opcode: slice
                args:
                  - kind: name
                    id: 5210
                    name: key_hash
                  - kind: int
                    id: 5211
                    value: 0
                  - kind: name
                    id: 5212
                    name: i
        - kind: name
          id: 5216
          name: listCompare
    depth: 3
  5219:
    kind: def
    id: 5218
    name: prefixes_list
    qualifier: val
    expr:
      kind: app
      id: 5217
      opcode: toList
      args:
        - kind: app
          id: 5215
          opcode: map
          args:
            - kind: app
              id: 5208
              opcode: to
              args:
                - kind: int
                  id: 5205
                  value: 0
                - kind: app
                  id: 5207
                  opcode: length
                  args:
                    - kind: name
                      id: 5206
                      name: key_hash
            - kind: lambda
              id: 5214
              params:
                - id: 5209
                  name: i
              expr:
                kind: app
                id: 5213
                opcode: slice
                args:
                  - kind: name
                    id: 5210
                    name: key_hash
                  - kind: int
                    id: 5211
                    value: 0
                  - kind: name
                    id: 5212
                    name: i
        - kind: name
          id: 5216
          name: listCompare
    depth: 3
  5226:
    id: 5198
    name: version
  5231:
    id: 5229
    name: iterator
  5234:
    id: 5196
    name: t
  5238:
    id: 5230
    name: key_prefix
  5240:
    id: 5229
    name: iterator
  5248:
    id: 5229
    name: iterator
  5249:
    id: 5196
    name: t
  5252:
    id: 5230
    name: key_prefix
  5254:
    id: 5229
    name: iterator
  5260:
    kind: def
    id: 5260
    name: node
    qualifier: val
    expr:
      kind: app
      id: 5259
      opcode: get
      args:
        - kind: app
          id: 5251
          opcode: field
          args:
            - kind: name
              id: 5249
              name: t
            - kind: str
              id: 5250
              value: nodes
        - kind: app
          id: 5258
          opcode: Rec
          args:
            - kind: str
              id: 5253
              value: key_hash
            - kind: name
              id: 5252
              name: key_prefix
            - kind: str
              id: 5257
              value: version
            - kind: app
              id: 5256
              opcode: field
              args:
                - kind: name
                  id: 5254
                  name: iterator
                - kind: str
                  id: 5255
                  value: child_version
    depth: 7
  5261:
    kind: def
    id: 5260
    name: node
    qualifier: val
    expr:
      kind: app
      id: 5259
      opcode: get
      args:
        - kind: app
          id: 5251
          opcode: field
          args:
            - kind: name
              id: 5249
              name: t
            - kind: str
              id: 5250
              value: nodes
        - kind: app
          id: 5258
          opcode: Rec
          args:
            - kind: str
              id: 5253
              value: key_hash
            - kind: name
              id: 5252
              name: key_prefix
            - kind: str
              id: 5257
              value: version
            - kind: app
              id: 5256
              opcode: field
              args:
                - kind: name
                  id: 5254
                  name: iterator
                - kind: str
                  id: 5255
                  value: child_version
    depth: 7
  5262:
    id: 5229
    name: iterator
  5263:
    id: 5229
    name: iterator
  5269:
    id: 5377
    name: l
  5272:
    id: 5200
    name: key_hash
  5277:
    id: 5230
    name: key_prefix
  5280:
    kind: def
    id: 5280
    name: next_bit_0
    qualifier: val
    expr:
      kind: app
      id: 5279
      opcode: append
      args:
        - kind: name
          id: 5277
          name: key_prefix
        - kind: int
          id: 5278
          value: 0
    depth: 9
  5281:
    kind: def
    id: 5218
    name: prefixes_list
    qualifier: val
    expr:
      kind: app
      id: 5217
      opcode: toList
      args:
        - kind: app
          id: 5215
          opcode: map
          args:
            - kind: app
              id: 5208
              opcode: to
              args:
                - kind: int
                  id: 5205
                  value: 0
                - kind: app
                  id: 5207
                  opcode: length
                  args:
                    - kind: name
                      id: 5206
                      name: key_hash
            - kind: lambda
              id: 5214
              params:
                - id: 5209
                  name: i
              expr:
                kind: app
                id: 5213
                opcode: slice
                args:
                  - kind: name
                    id: 5210
                    name: key_hash
                  - kind: int
                    id: 5211
                    value: 0
                  - kind: name
                    id: 5212
                    name: i
        - kind: name
          id: 5216
          name: listCompare
    depth: 3
  5282:
    id: 5229
    name: iterator
  5288:
    kind: def
    id: 5280
    name: next_bit_0
    qualifier: val
    expr:
      kind: app
      id: 5279
      opcode: append
      args:
        - kind: name
          id: 5277
          name: key_prefix
        - kind: int
          id: 5278
          value: 0
    depth: 9
  5290:
    id: 5380
    name: internal
  5293:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  5296:
    id: 5380
    name: internal
  5299:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  5303:
    kind: def
    id: 5303
    name: child_version
    qualifier: val
    expr:
      kind: app
      id: 5302
      opcode: ite
      args:
        - kind: app
          id: 5289
          opcode: eq
          args:
            - kind: app
              id: 5287
              opcode: nth
              args:
                - kind: name
                  id: 5281
                  name: prefixes_list
                - kind: app
                  id: 5286
                  opcode: iadd
                  args:
                    - kind: app
                      id: 5284
                      opcode: field
                      args:
                        - kind: name
                          id: 5282
                          name: iterator
                        - kind: str
                          id: 5283
                          value: i
                    - kind: int
                      id: 5285
                      value: 1
            - kind: name
              id: 5288
              name: next_bit_0
        - kind: app
          id: 5295
          opcode: field
          args:
            - kind: app
              id: 5293
              opcode: unwrap
              args:
                - kind: app
                  id: 5292
                  opcode: field
                  args:
                    - kind: name
                      id: 5290
                      name: internal
                    - kind: str
                      id: 5291
                      value: left_child
            - kind: str
              id: 5294
              value: version
        - kind: app
          id: 5301
          opcode: field
          args:
            - kind: app
              id: 5299
              opcode: unwrap
              args:
                - kind: app
                  id: 5298
                  opcode: field
                  args:
                    - kind: name
                      id: 5296
                      name: internal
                    - kind: str
                      id: 5297
                      value: right_child
            - kind: str
              id: 5300
              value: version
    depth: 10
  5304:
    kind: def
    id: 5218
    name: prefixes_list
    qualifier: val
    expr:
      kind: app
      id: 5217
      opcode: toList
      args:
        - kind: app
          id: 5215
          opcode: map
          args:
            - kind: app
              id: 5208
              opcode: to
              args:
                - kind: int
                  id: 5205
                  value: 0
                - kind: app
                  id: 5207
                  opcode: length
                  args:
                    - kind: name
                      id: 5206
                      name: key_hash
            - kind: lambda
              id: 5214
              params:
                - id: 5209
                  name: i
              expr:
                kind: app
                id: 5213
                opcode: slice
                args:
                  - kind: name
                    id: 5210
                    name: key_hash
                  - kind: int
                    id: 5211
                    value: 0
                  - kind: name
                    id: 5212
                    name: i
        - kind: name
          id: 5216
          name: listCompare
    depth: 3
  5305:
    id: 5229
    name: iterator
  5311:
    kind: def
    id: 5280
    name: next_bit_0
    qualifier: val
    expr:
      kind: app
      id: 5279
      opcode: append
      args:
        - kind: name
          id: 5277
          name: key_prefix
        - kind: int
          id: 5278
          value: 0
    depth: 9
  5313:
    kind: def
    id: 3977
    name: InternalNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3976
      opcode: raw
      args:
        - kind: name
          id: 3975
          name: InternalNodeIdentifier
    depth: 0
  5315:
    id: 5380
    name: internal
  5318:
    kind: def
    id: 2791
    name: Hash256_ZERO
    qualifier: val
    expr:
      kind: app
      id: 2790
      opcode: raw
      args:
        - kind: app
          id: 2789
          opcode: List
          args:
            - kind: int
              id: 2757
              value: 0
            - kind: int
              id: 2758
              value: 0
            - kind: int
              id: 2759
              value: 0
            - kind: int
              id: 2760
              value: 0
            - kind: int
              id: 2761
              value: 0
            - kind: int
              id: 2762
              value: 0
            - kind: int
              id: 2763
              value: 0
            - kind: int
              id: 2764
              value: 0
            - kind: int
              id: 2765
              value: 0
            - kind: int
              id: 2766
              value: 0
            - kind: int
              id: 2767
              value: 0
            - kind: int
              id: 2768
              value: 0
            - kind: int
              id: 2769
              value: 0
            - kind: int
              id: 2770
              value: 0
            - kind: int
              id: 2771
              value: 0
            - kind: int
              id: 2772
              value: 0
            - kind: int
              id: 2773
              value: 0
            - kind: int
              id: 2774
              value: 0
            - kind: int
              id: 2775
              value: 0
            - kind: int
              id: 2776
              value: 0
            - kind: int
              id: 2777
              value: 0
            - kind: int
              id: 2778
              value: 0
            - kind: int
              id: 2779
              value: 0
            - kind: int
              id: 2780
              value: 0
            - kind: int
              id: 2781
              value: 0
            - kind: int
              id: 2782
              value: 0
            - kind: int
              id: 2783
              value: 0
            - kind: int
              id: 2784
              value: 0
            - kind: int
              id: 2785
              value: 0
            - kind: int
              id: 2786
              value: 0
            - kind: int
              id: 2787
              value: 0
            - kind: int
              id: 2788
              value: 0
    depth: 0
  5319:
    id: 5328
    name: c
  5331:
    kind: def
    id: 3977
    name: InternalNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3976
      opcode: raw
      args:
        - kind: name
          id: 3975
          name: InternalNodeIdentifier
    depth: 0
  5332:
    id: 5380
    name: internal
  5335:
    kind: def
    id: 2791
    name: Hash256_ZERO
    qualifier: val
    expr:
      kind: app
      id: 2790
      opcode: raw
      args:
        - kind: app
          id: 2789
          opcode: List
          args:
            - kind: int
              id: 2757
              value: 0
            - kind: int
              id: 2758
              value: 0
            - kind: int
              id: 2759
              value: 0
            - kind: int
              id: 2760
              value: 0
            - kind: int
              id: 2761
              value: 0
            - kind: int
              id: 2762
              value: 0
            - kind: int
              id: 2763
              value: 0
            - kind: int
              id: 2764
              value: 0
            - kind: int
              id: 2765
              value: 0
            - kind: int
              id: 2766
              value: 0
            - kind: int
              id: 2767
              value: 0
            - kind: int
              id: 2768
              value: 0
            - kind: int
              id: 2769
              value: 0
            - kind: int
              id: 2770
              value: 0
            - kind: int
              id: 2771
              value: 0
            - kind: int
              id: 2772
              value: 0
            - kind: int
              id: 2773
              value: 0
            - kind: int
              id: 2774
              value: 0
            - kind: int
              id: 2775
              value: 0
            - kind: int
              id: 2776
              value: 0
            - kind: int
              id: 2777
              value: 0
            - kind: int
              id: 2778
              value: 0
            - kind: int
              id: 2779
              value: 0
            - kind: int
              id: 2780
              value: 0
            - kind: int
              id: 2781
              value: 0
            - kind: int
              id: 2782
              value: 0
            - kind: int
              id: 2783
              value: 0
            - kind: int
              id: 2784
              value: 0
            - kind: int
              id: 2785
              value: 0
            - kind: int
              id: 2786
              value: 0
            - kind: int
              id: 2787
              value: 0
            - kind: int
              id: 2788
              value: 0
    depth: 0
  5336:
    id: 5345
    name: c
  5346:
    kind: def
    id: 3201
    name: termConcat
    qualifier: puredef
    expr:
      kind: lambda
      id: 3200
      params:
        - id: 3057
          name: left
        - id: 3059
          name: right
      expr:
        kind: let
        id: 3199
        opdef:
          id: 3069
          name: l
          qualifier: pureval
          expr:
            kind: app
            id: 3068
            opcode: ite
            args:
              - kind: app
                id: 3062
                opcode: isRaw
                args:
                  - kind: name
                    id: 3061
                    name: left
              - kind: app
                id: 3066
                opcode: get
                args:
                  - kind: name
                    id: 3063
                    name: left
                  - kind: app
                    id: 3065
                    opcode: List
                    args:
                      - kind: int
                        id: 3064
                        value: 0
              - kind: name
                id: 3067
                name: Hash
          depth: ~
        expr:
          kind: let
          id: 3198
          opdef:
            id: 3078
            name: r
            qualifier: pureval
            expr:
              kind: app
              id: 3077
              opcode: ite
              args:
                - kind: app
                  id: 3071
                  opcode: isRaw
                  args:
                    - kind: name
                      id: 3070
                      name: right
                - kind: app
                  id: 3075
                  opcode: get
                  args:
                    - kind: name
                      id: 3072
                      name: right
                    - kind: app
                      id: 3074
                      opcode: List
                      args:
                        - kind: int
                          id: 3073
                          value: 0
                - kind: name
                  id: 3076
                  name: Hash
            depth: ~
          expr:
            kind: let
            id: 3197
            opdef:
              id: 3149
              name: mergeTerms
              qualifier: puredef
              expr:
                kind: lambda
                id: 3148
                params:
                  - id: 3080
                    name: left
                  - id: 3082
                    name: right
                expr:
                  kind: let
                  id: 3147
                  opdef:
                    id: 3094
                    name: lwidth
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 3093
                      opcode: size
                      args:
                        - kind: app
                          id: 3092
                          opcode: filter
                          args:
                            - kind: app
                              id: 3085
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3084
                                  name: left
                            - kind: lambda
                              id: 3091
                              params:
                                - id: 3086
                                  name: p
                              expr:
                                kind: app
                                id: 3090
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 3088
                                    opcode: length
                                    args:
                                      - kind: name
                                        id: 3087
                                        name: p
                                  - kind: int
                                    id: 3089
                                    value: 1
                    depth: ~
                  expr:
                    kind: let
                    id: 3146
                    opdef:
                      id: 3112
                      name: rshifted
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 3111
                        opcode: map
                        args:
                          - kind: app
                            id: 3096
                            opcode: keys
                            args:
                              - kind: name
                                id: 3095
                                name: right
                          - kind: lambda
                            id: 3110
                            params:
                              - id: 3097
                                name: p
                            expr:
                              kind: app
                              id: 3109
                              opcode: concat
                              args:
                                - kind: app
                                  id: 3103
                                  opcode: List
                                  args:
                                    - kind: app
                                      id: 3102
                                      opcode: iadd
                                      args:
                                        - kind: name
                                          id: 3098
                                          name: lwidth
                                        - kind: app
                                          id: 3101
                                          opcode: nth
                                          args:
                                            - kind: name
                                              id: 3099
                                              name: p
                                            - kind: int
                                              id: 3100
                                              value: 0
                                - kind: app
                                  id: 3108
                                  opcode: slice
                                  args:
                                    - kind: name
                                      id: 3104
                                      name: p
                                    - kind: int
                                      id: 3105
                                      value: 1
                                    - kind: app
                                      id: 3107
                                      opcode: length
                                      args:
                                        - kind: name
                                          id: 3106
                                          name: p
                      depth: ~
                    expr:
                      kind: let
                      id: 3145
                      opdef:
                        id: 3117
                        name: paths
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 3116
                          opcode: union
                          args:
                            - kind: app
                              id: 3114
                              opcode: keys
                              args:
                                - kind: name
                                  id: 3113
                                  name: left
                            - kind: name
                              id: 3115
                              name: rshifted
                        depth: ~
                      expr:
                        kind: app
                        id: 3144
                        opcode: mapBy
                        args:
                          - kind: name
                            id: 3118
                            name: paths
                          - kind: lambda
                            id: 3143
                            params:
                              - id: 3119
                                name: p
                            expr:
                              kind: app
                              id: 3142
                              opcode: ite
                              args:
                                - kind: app
                                  id: 3124
                                  opcode: ilt
                                  args:
                                    - kind: app
                                      id: 3122
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 3120
                                          name: p
                                        - kind: int
                                          id: 3121
                                          value: 0
                                    - kind: name
                                      id: 3123
                                      name: lwidth
                                - kind: app
                                  id: 3127
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3125
                                      name: left
                                    - kind: name
                                      id: 3126
                                      name: p
                                - kind: app
                                  id: 3141
                                  opcode: get
                                  args:
                                    - kind: name
                                      id: 3128
                                      name: right
                                    - kind: app
                                      id: 3140
                                      opcode: concat
                                      args:
                                        - kind: app
                                          id: 3134
                                          opcode: List
                                          args:
                                            - kind: app
                                              id: 3133
                                              opcode: isub
                                              args:
                                                - kind: app
                                                  id: 3131
                                                  opcode: nth
                                                  args:
                                                    - kind: name
                                                      id: 3129
                                                      name: p
                                                    - kind: int
                                                      id: 3130
                                                      value: 0
                                                - kind: name
                                                  id: 3132
                                                  name: lwidth
                                        - kind: app
                                          id: 3139
                                          opcode: slice
                                          args:
                                            - kind: name
                                              id: 3135
                                              name: p
                                            - kind: int
                                              id: 3136
                                              value: 1
                                            - kind: app
                                              id: 3138
                                              opcode: length
                                              args:
                                                - kind: name
                                                  id: 3137
                                                  name: p
              depth: ~
            expr:
              kind: app
              id: 3190
              opcode: matchVariant
              args:
                - kind: name
                  id: 3150
                  name: l
                - kind: str
                  id: 3191
                  value: Raw
                - kind: lambda
                  id: 3192
                  params:
                    - id: 3193
                      name: lBytes
                  expr:
                    kind: app
                    id: 3164
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3151
                        name: r
                      - kind: str
                        id: 3165
                        value: Raw
                      - kind: lambda
                        id: 3166
                        params:
                          - id: 3167
                            name: rBytes
                        expr:
                          kind: app
                          id: 3155
                          opcode: raw
                          args:
                            - kind: app
                              id: 3154
                              opcode: concat
                              args:
                                - kind: name
                                  id: 3152
                                  name: lBytes
                                - kind: name
                                  id: 3153
                                  name: rBytes
                      - kind: str
                        id: 3168
                        value: Hash
                      - kind: lambda
                        id: 3169
                        params:
                          - id: 3170
                            name: _
                        expr:
                          kind: app
                          id: 3163
                          opcode: ite
                          args:
                            - kind: app
                              id: 3158
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3156
                                  name: lBytes
                                - kind: app
                                  id: 3157
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3159
                              name: right
                            - kind: app
                              id: 3162
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3160
                                  name: left
                                - kind: name
                                  id: 3161
                                  name: right
                - kind: str
                  id: 3194
                  value: Hash
                - kind: lambda
                  id: 3195
                  params:
                    - id: 3196
                      name: _
                  expr:
                    kind: app
                    id: 3183
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 3171
                        name: r
                      - kind: str
                        id: 3184
                        value: Raw
                      - kind: lambda
                        id: 3185
                        params:
                          - id: 3186
                            name: rBytes
                        expr:
                          kind: app
                          id: 3179
                          opcode: ite
                          args:
                            - kind: app
                              id: 3174
                              opcode: eq
                              args:
                                - kind: name
                                  id: 3172
                                  name: rBytes
                                - kind: app
                                  id: 3173
                                  opcode: List
                                  args: []
                            - kind: name
                              id: 3175
                              name: left
                            - kind: app
                              id: 3178
                              opcode: mergeTerms
                              args:
                                - kind: name
                                  id: 3176
                                  name: left
                                - kind: name
                                  id: 3177
                                  name: right
                      - kind: str
                        id: 3187
                        value: Hash
                      - kind: lambda
                        id: 3188
                        params:
                          - id: 3189
                            name: _
                        expr:
                          kind: app
                          id: 3182
                          opcode: mergeTerms
                          args:
                            - kind: name
                              id: 3180
                              name: left
                            - kind: name
                              id: 3181
                              name: right
    depth: 0
  5352:
    kind: def
    id: 5352
    name: innerOp
    qualifier: val
    expr:
      kind: app
      id: 5351
      opcode: ite
      args:
        - kind: app
          id: 5312
          opcode: eq
          args:
            - kind: app
              id: 5310
              opcode: nth
              args:
                - kind: name
                  id: 5304
                  name: prefixes_list
                - kind: app
                  id: 5309
                  opcode: iadd
                  args:
                    - kind: app
                      id: 5307
                      opcode: field
                      args:
                        - kind: name
                          id: 5305
                          name: iterator
                        - kind: str
                          id: 5306
                          value: i
                    - kind: int
                      id: 5308
                      value: 1
            - kind: name
              id: 5311
              name: next_bit_0
        - kind: app
          id: 5330
          opcode: Rec
          args:
            - kind: str
              id: 5314
              value: prefix
            - kind: name
              id: 5313
              name: InternalNodeHashPrefix
            - kind: str
              id: 5329
              value: suffix
            - kind: app
              id: 5322
              opcode: matchVariant
              args:
                - kind: app
                  id: 5317
                  opcode: field
                  args:
                    - kind: name
                      id: 5315
                      name: internal
                    - kind: str
                      id: 5316
                      value: right_child
                - kind: str
                  id: 5323
                  value: None
                - kind: lambda
                  id: 5324
                  params:
                    - id: 5325
                      name: _
                  expr:
                    kind: name
                    id: 5318
                    name: Hash256_ZERO
                - kind: str
                  id: 5326
                  value: Some
                - kind: lambda
                  id: 5327
                  params:
                    - id: 5328
                      name: c
                  expr:
                    kind: app
                    id: 5321
                    opcode: field
                    args:
                      - kind: name
                        id: 5319
                        name: c
                      - kind: str
                        id: 5320
                        value: hash
        - kind: app
          id: 5350
          opcode: Rec
          args:
            - kind: str
              id: 5347
              value: prefix
            - kind: app
              id: 5346
              opcode: termConcat
              args:
                - kind: name
                  id: 5331
                  name: InternalNodeHashPrefix
                - kind: app
                  id: 5339
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 5334
                      opcode: field
                      args:
                        - kind: name
                          id: 5332
                          name: internal
                        - kind: str
                          id: 5333
                          value: left_child
                    - kind: str
                      id: 5340
                      value: None
                    - kind: lambda
                      id: 5341
                      params:
                        - id: 5342
                          name: _
                      expr:
                        kind: name
                        id: 5335
                        name: Hash256_ZERO
                    - kind: str
                      id: 5343
                      value: Some
                    - kind: lambda
                      id: 5344
                      params:
                        - id: 5345
                          name: c
                      expr:
                        kind: app
                        id: 5338
                        opcode: field
                        args:
                          - kind: name
                            id: 5336
                            name: c
                          - kind: str
                            id: 5337
                            value: hash
            - kind: str
              id: 5349
              value: suffix
            - kind: app
              id: 5348
              opcode: Map
              args: []
    depth: 11
  5353:
    id: 5229
    name: iterator
  5354:
    id: 5229
    name: iterator
  5357:
    kind: def
    id: 5352
    name: innerOp
    qualifier: val
    expr:
      kind: app
      id: 5351
      opcode: ite
      args:
        - kind: app
          id: 5312
          opcode: eq
          args:
            - kind: app
              id: 5310
              opcode: nth
              args:
                - kind: name
                  id: 5304
                  name: prefixes_list
                - kind: app
                  id: 5309
                  opcode: iadd
                  args:
                    - kind: app
                      id: 5307
                      opcode: field
                      args:
                        - kind: name
                          id: 5305
                          name: iterator
                        - kind: str
                          id: 5306
                          value: i
                    - kind: int
                      id: 5308
                      value: 1
            - kind: name
              id: 5311
              name: next_bit_0
        - kind: app
          id: 5330
          opcode: Rec
          args:
            - kind: str
              id: 5314
              value: prefix
            - kind: name
              id: 5313
              name: InternalNodeHashPrefix
            - kind: str
              id: 5329
              value: suffix
            - kind: app
              id: 5322
              opcode: matchVariant
              args:
                - kind: app
                  id: 5317
                  opcode: field
                  args:
                    - kind: name
                      id: 5315
                      name: internal
                    - kind: str
                      id: 5316
                      value: right_child
                - kind: str
                  id: 5323
                  value: None
                - kind: lambda
                  id: 5324
                  params:
                    - id: 5325
                      name: _
                  expr:
                    kind: name
                    id: 5318
                    name: Hash256_ZERO
                - kind: str
                  id: 5326
                  value: Some
                - kind: lambda
                  id: 5327
                  params:
                    - id: 5328
                      name: c
                  expr:
                    kind: app
                    id: 5321
                    opcode: field
                    args:
                      - kind: name
                        id: 5319
                        name: c
                      - kind: str
                        id: 5320
                        value: hash
        - kind: app
          id: 5350
          opcode: Rec
          args:
            - kind: str
              id: 5347
              value: prefix
            - kind: app
              id: 5346
              opcode: termConcat
              args:
                - kind: name
                  id: 5331
                  name: InternalNodeHashPrefix
                - kind: app
                  id: 5339
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 5334
                      opcode: field
                      args:
                        - kind: name
                          id: 5332
                          name: internal
                        - kind: str
                          id: 5333
                          value: left_child
                    - kind: str
                      id: 5340
                      value: None
                    - kind: lambda
                      id: 5341
                      params:
                        - id: 5342
                          name: _
                      expr:
                        kind: name
                        id: 5335
                        name: Hash256_ZERO
                    - kind: str
                      id: 5343
                      value: Some
                    - kind: lambda
                      id: 5344
                      params:
                        - id: 5345
                          name: c
                      expr:
                        kind: app
                        id: 5338
                        opcode: field
                        args:
                          - kind: name
                            id: 5336
                            name: c
                          - kind: str
                            id: 5337
                            value: hash
            - kind: str
              id: 5349
              value: suffix
            - kind: app
              id: 5348
              opcode: Map
              args: []
    depth: 11
  5360:
    id: 5229
    name: iterator
  5366:
    kind: def
    id: 5303
    name: child_version
    qualifier: val
    expr:
      kind: app
      id: 5302
      opcode: ite
      args:
        - kind: app
          id: 5289
          opcode: eq
          args:
            - kind: app
              id: 5287
              opcode: nth
              args:
                - kind: name
                  id: 5281
                  name: prefixes_list
                - kind: app
                  id: 5286
                  opcode: iadd
                  args:
                    - kind: app
                      id: 5284
                      opcode: field
                      args:
                        - kind: name
                          id: 5282
                          name: iterator
                        - kind: str
                          id: 5283
                          value: i
                    - kind: int
                      id: 5285
                      value: 1
            - kind: name
              id: 5288
              name: next_bit_0
        - kind: app
          id: 5295
          opcode: field
          args:
            - kind: app
              id: 5293
              opcode: unwrap
              args:
                - kind: app
                  id: 5292
                  opcode: field
                  args:
                    - kind: name
                      id: 5290
                      name: internal
                    - kind: str
                      id: 5291
                      value: left_child
            - kind: str
              id: 5294
              value: version
        - kind: app
          id: 5301
          opcode: field
          args:
            - kind: app
              id: 5299
              opcode: unwrap
              args:
                - kind: app
                  id: 5298
                  opcode: field
                  args:
                    - kind: name
                      id: 5296
                      name: internal
                    - kind: str
                      id: 5297
                      value: right_child
            - kind: str
              id: 5300
              value: version
    depth: 10
  5385:
    kind: def
    id: 5385
    name: r
    qualifier: val
    expr:
      kind: app
      id: 5384
      opcode: foldl
      args:
        - kind: name
          id: 5219
          name: prefixes_list
        - kind: app
          id: 5228
          opcode: Rec
          args:
            - kind: str
              id: 5221
              value: path
            - kind: app
              id: 5220
              opcode: List
              args: []
            - kind: str
              id: 5223
              value: i
            - kind: int
              id: 5222
              value: 0
            - kind: str
              id: 5225
              value: found
            - kind: bool
              id: 5224
              value: false
            - kind: str
              id: 5227
              value: child_version
            - kind: name
              id: 5226
              name: version
        - kind: lambda
          id: 5383
          params:
            - id: 5229
              name: iterator
            - id: 5230
              name: key_prefix
          expr:
            kind: app
            id: 5382
            opcode: ite
            args:
              - kind: app
                id: 5247
                opcode: or
                args:
                  - kind: app
                    id: 5233
                    opcode: field
                    args:
                      - kind: name
                        id: 5231
                        name: iterator
                      - kind: str
                        id: 5232
                        value: found
                  - kind: app
                    id: 5246
                    opcode: not
                    args:
                      - kind: app
                        id: 5245
                        opcode: contains
                        args:
                          - kind: app
                            id: 5237
                            opcode: keys
                            args:
                              - kind: app
                                id: 5236
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5234
                                    name: t
                                  - kind: str
                                    id: 5235
                                    value: nodes
                          - kind: app
                            id: 5244
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5239
                                value: key_hash
                              - kind: name
                                id: 5238
                                name: key_prefix
                              - kind: str
                                id: 5243
                                value: version
                              - kind: app
                                id: 5242
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5240
                                    name: iterator
                                  - kind: str
                                    id: 5241
                                    value: child_version
              - kind: name
                id: 5248
                name: iterator
              - kind: let
                id: 5381
                opdef:
                  id: 5260
                  name: node
                  qualifier: val
                  expr:
                    kind: app
                    id: 5259
                    opcode: get
                    args:
                      - kind: app
                        id: 5251
                        opcode: field
                        args:
                          - kind: name
                            id: 5249
                            name: t
                          - kind: str
                            id: 5250
                            value: nodes
                      - kind: app
                        id: 5258
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5253
                            value: key_hash
                          - kind: name
                            id: 5252
                            name: key_prefix
                          - kind: str
                            id: 5257
                            value: version
                          - kind: app
                            id: 5256
                            opcode: field
                            args:
                              - kind: name
                                id: 5254
                                name: iterator
                              - kind: str
                                id: 5255
                                value: child_version
                  depth: ~
                expr:
                  kind: app
                  id: 5374
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5261
                      name: node
                    - kind: str
                      id: 5375
                      value: Leaf
                    - kind: lambda
                      id: 5376
                      params:
                        - id: 5377
                          name: l
                      expr:
                        kind: app
                        id: 5276
                        opcode: with
                        args:
                          - kind: app
                            id: 5275
                            opcode: with
                            args:
                              - kind: name
                                id: 5262
                                name: iterator
                              - kind: str
                                id: 5268
                                value: i
                              - kind: app
                                id: 5267
                                opcode: iadd
                                args:
                                  - kind: app
                                    id: 5265
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5263
                                        name: iterator
                                      - kind: str
                                        id: 5264
                                        value: i
                                  - kind: int
                                    id: 5266
                                    value: 1
                          - kind: str
                            id: 5274
                            value: found
                          - kind: app
                            id: 5273
                            opcode: eq
                            args:
                              - kind: app
                                id: 5271
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5269
                                    name: l
                                  - kind: str
                                    id: 5270
                                    value: key_hash
                              - kind: name
                                id: 5272
                                name: key_hash
                    - kind: str
                      id: 5378
                      value: Internal
                    - kind: lambda
                      id: 5379
                      params:
                        - id: 5380
                          name: internal
                      expr:
                        kind: let
                        id: 5373
                        opdef:
                          id: 5280
                          name: next_bit_0
                          qualifier: val
                          expr:
                            kind: app
                            id: 5279
                            opcode: append
                            args:
                              - kind: name
                                id: 5277
                                name: key_prefix
                              - kind: int
                                id: 5278
                                value: 0
                          depth: ~
                        expr:
                          kind: let
                          id: 5372
                          opdef:
                            id: 5303
                            name: child_version
                            qualifier: val
                            expr:
                              kind: app
                              id: 5302
                              opcode: ite
                              args:
                                - kind: app
                                  id: 5289
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 5287
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 5281
                                          name: prefixes_list
                                        - kind: app
                                          id: 5286
                                          opcode: iadd
                                          args:
                                            - kind: app
                                              id: 5284
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5282
                                                  name: iterator
                                                - kind: str
                                                  id: 5283
                                                  value: i
                                            - kind: int
                                              id: 5285
                                              value: 1
                                    - kind: name
                                      id: 5288
                                      name: next_bit_0
                                - kind: app
                                  id: 5295
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5293
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5292
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5290
                                              name: internal
                                            - kind: str
                                              id: 5291
                                              value: left_child
                                    - kind: str
                                      id: 5294
                                      value: version
                                - kind: app
                                  id: 5301
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5299
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5298
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5296
                                              name: internal
                                            - kind: str
                                              id: 5297
                                              value: right_child
                                    - kind: str
                                      id: 5300
                                      value: version
                            depth: ~
                          expr:
                            kind: let
                            id: 5371
                            opdef:
                              id: 5352
                              name: innerOp
                              qualifier: val
                              expr:
                                kind: app
                                id: 5351
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5312
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5310
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 5304
                                            name: prefixes_list
                                          - kind: app
                                            id: 5309
                                            opcode: iadd
                                            args:
                                              - kind: app
                                                id: 5307
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5305
                                                    name: iterator
                                                  - kind: str
                                                    id: 5306
                                                    value: i
                                              - kind: int
                                                id: 5308
                                                value: 1
                                      - kind: name
                                        id: 5311
                                        name: next_bit_0
                                  - kind: app
                                    id: 5330
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5314
                                        value: prefix
                                      - kind: name
                                        id: 5313
                                        name: InternalNodeHashPrefix
                                      - kind: str
                                        id: 5329
                                        value: suffix
                                      - kind: app
                                        id: 5322
                                        opcode: matchVariant
                                        args:
                                          - kind: app
                                            id: 5317
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5315
                                                name: internal
                                              - kind: str
                                                id: 5316
                                                value: right_child
                                          - kind: str
                                            id: 5323
                                            value: None
                                          - kind: lambda
                                            id: 5324
                                            params:
                                              - id: 5325
                                                name: _
                                            expr:
                                              kind: name
                                              id: 5318
                                              name: Hash256_ZERO
                                          - kind: str
                                            id: 5326
                                            value: Some
                                          - kind: lambda
                                            id: 5327
                                            params:
                                              - id: 5328
                                                name: c
                                            expr:
                                              kind: app
                                              id: 5321
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5319
                                                  name: c
                                                - kind: str
                                                  id: 5320
                                                  value: hash
                                  - kind: app
                                    id: 5350
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5347
                                        value: prefix
                                      - kind: app
                                        id: 5346
                                        opcode: termConcat
                                        args:
                                          - kind: name
                                            id: 5331
                                            name: InternalNodeHashPrefix
                                          - kind: app
                                            id: 5339
                                            opcode: matchVariant
                                            args:
                                              - kind: app
                                                id: 5334
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5332
                                                    name: internal
                                                  - kind: str
                                                    id: 5333
                                                    value: left_child
                                              - kind: str
                                                id: 5340
                                                value: None
                                              - kind: lambda
                                                id: 5341
                                                params:
                                                  - id: 5342
                                                    name: _
                                                expr:
                                                  kind: name
                                                  id: 5335
                                                  name: Hash256_ZERO
                                              - kind: str
                                                id: 5343
                                                value: Some
                                              - kind: lambda
                                                id: 5344
                                                params:
                                                  - id: 5345
                                                    name: c
                                                expr:
                                                  kind: app
                                                  id: 5338
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5336
                                                      name: c
                                                    - kind: str
                                                      id: 5337
                                                      value: hash
                                      - kind: str
                                        id: 5349
                                        value: suffix
                                      - kind: app
                                        id: 5348
                                        opcode: Map
                                        args: []
                              depth: ~
                            expr:
                              kind: app
                              id: 5370
                              opcode: with
                              args:
                                - kind: app
                                  id: 5369
                                  opcode: with
                                  args:
                                    - kind: app
                                      id: 5368
                                      opcode: with
                                      args:
                                        - kind: name
                                          id: 5353
                                          name: iterator
                                        - kind: str
                                          id: 5359
                                          value: path
                                        - kind: app
                                          id: 5358
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 5356
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5354
                                                  name: iterator
                                                - kind: str
                                                  id: 5355
                                                  value: path
                                            - kind: name
                                              id: 5357
                                              name: innerOp
                                    - kind: str
                                      id: 5365
                                      value: i
                                    - kind: app
                                      id: 5364
                                      opcode: iadd
                                      args:
                                        - kind: app
                                          id: 5362
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5360
                                              name: iterator
                                            - kind: str
                                              id: 5361
                                              value: i
                                        - kind: int
                                          id: 5363
                                          value: 1
                                - kind: str
                                  id: 5367
                                  value: child_version
                                - kind: name
                                  id: 5366
                                  name: child_version
    depth: 4
  5386:
    kind: def
    id: 5385
    name: r
    qualifier: val
    expr:
      kind: app
      id: 5384
      opcode: foldl
      args:
        - kind: name
          id: 5219
          name: prefixes_list
        - kind: app
          id: 5228
          opcode: Rec
          args:
            - kind: str
              id: 5221
              value: path
            - kind: app
              id: 5220
              opcode: List
              args: []
            - kind: str
              id: 5223
              value: i
            - kind: int
              id: 5222
              value: 0
            - kind: str
              id: 5225
              value: found
            - kind: bool
              id: 5224
              value: false
            - kind: str
              id: 5227
              value: child_version
            - kind: name
              id: 5226
              name: version
        - kind: lambda
          id: 5383
          params:
            - id: 5229
              name: iterator
            - id: 5230
              name: key_prefix
          expr:
            kind: app
            id: 5382
            opcode: ite
            args:
              - kind: app
                id: 5247
                opcode: or
                args:
                  - kind: app
                    id: 5233
                    opcode: field
                    args:
                      - kind: name
                        id: 5231
                        name: iterator
                      - kind: str
                        id: 5232
                        value: found
                  - kind: app
                    id: 5246
                    opcode: not
                    args:
                      - kind: app
                        id: 5245
                        opcode: contains
                        args:
                          - kind: app
                            id: 5237
                            opcode: keys
                            args:
                              - kind: app
                                id: 5236
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5234
                                    name: t
                                  - kind: str
                                    id: 5235
                                    value: nodes
                          - kind: app
                            id: 5244
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5239
                                value: key_hash
                              - kind: name
                                id: 5238
                                name: key_prefix
                              - kind: str
                                id: 5243
                                value: version
                              - kind: app
                                id: 5242
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5240
                                    name: iterator
                                  - kind: str
                                    id: 5241
                                    value: child_version
              - kind: name
                id: 5248
                name: iterator
              - kind: let
                id: 5381
                opdef:
                  id: 5260
                  name: node
                  qualifier: val
                  expr:
                    kind: app
                    id: 5259
                    opcode: get
                    args:
                      - kind: app
                        id: 5251
                        opcode: field
                        args:
                          - kind: name
                            id: 5249
                            name: t
                          - kind: str
                            id: 5250
                            value: nodes
                      - kind: app
                        id: 5258
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5253
                            value: key_hash
                          - kind: name
                            id: 5252
                            name: key_prefix
                          - kind: str
                            id: 5257
                            value: version
                          - kind: app
                            id: 5256
                            opcode: field
                            args:
                              - kind: name
                                id: 5254
                                name: iterator
                              - kind: str
                                id: 5255
                                value: child_version
                  depth: ~
                expr:
                  kind: app
                  id: 5374
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5261
                      name: node
                    - kind: str
                      id: 5375
                      value: Leaf
                    - kind: lambda
                      id: 5376
                      params:
                        - id: 5377
                          name: l
                      expr:
                        kind: app
                        id: 5276
                        opcode: with
                        args:
                          - kind: app
                            id: 5275
                            opcode: with
                            args:
                              - kind: name
                                id: 5262
                                name: iterator
                              - kind: str
                                id: 5268
                                value: i
                              - kind: app
                                id: 5267
                                opcode: iadd
                                args:
                                  - kind: app
                                    id: 5265
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5263
                                        name: iterator
                                      - kind: str
                                        id: 5264
                                        value: i
                                  - kind: int
                                    id: 5266
                                    value: 1
                          - kind: str
                            id: 5274
                            value: found
                          - kind: app
                            id: 5273
                            opcode: eq
                            args:
                              - kind: app
                                id: 5271
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5269
                                    name: l
                                  - kind: str
                                    id: 5270
                                    value: key_hash
                              - kind: name
                                id: 5272
                                name: key_hash
                    - kind: str
                      id: 5378
                      value: Internal
                    - kind: lambda
                      id: 5379
                      params:
                        - id: 5380
                          name: internal
                      expr:
                        kind: let
                        id: 5373
                        opdef:
                          id: 5280
                          name: next_bit_0
                          qualifier: val
                          expr:
                            kind: app
                            id: 5279
                            opcode: append
                            args:
                              - kind: name
                                id: 5277
                                name: key_prefix
                              - kind: int
                                id: 5278
                                value: 0
                          depth: ~
                        expr:
                          kind: let
                          id: 5372
                          opdef:
                            id: 5303
                            name: child_version
                            qualifier: val
                            expr:
                              kind: app
                              id: 5302
                              opcode: ite
                              args:
                                - kind: app
                                  id: 5289
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 5287
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 5281
                                          name: prefixes_list
                                        - kind: app
                                          id: 5286
                                          opcode: iadd
                                          args:
                                            - kind: app
                                              id: 5284
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5282
                                                  name: iterator
                                                - kind: str
                                                  id: 5283
                                                  value: i
                                            - kind: int
                                              id: 5285
                                              value: 1
                                    - kind: name
                                      id: 5288
                                      name: next_bit_0
                                - kind: app
                                  id: 5295
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5293
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5292
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5290
                                              name: internal
                                            - kind: str
                                              id: 5291
                                              value: left_child
                                    - kind: str
                                      id: 5294
                                      value: version
                                - kind: app
                                  id: 5301
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5299
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5298
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5296
                                              name: internal
                                            - kind: str
                                              id: 5297
                                              value: right_child
                                    - kind: str
                                      id: 5300
                                      value: version
                            depth: ~
                          expr:
                            kind: let
                            id: 5371
                            opdef:
                              id: 5352
                              name: innerOp
                              qualifier: val
                              expr:
                                kind: app
                                id: 5351
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5312
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5310
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 5304
                                            name: prefixes_list
                                          - kind: app
                                            id: 5309
                                            opcode: iadd
                                            args:
                                              - kind: app
                                                id: 5307
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5305
                                                    name: iterator
                                                  - kind: str
                                                    id: 5306
                                                    value: i
                                              - kind: int
                                                id: 5308
                                                value: 1
                                      - kind: name
                                        id: 5311
                                        name: next_bit_0
                                  - kind: app
                                    id: 5330
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5314
                                        value: prefix
                                      - kind: name
                                        id: 5313
                                        name: InternalNodeHashPrefix
                                      - kind: str
                                        id: 5329
                                        value: suffix
                                      - kind: app
                                        id: 5322
                                        opcode: matchVariant
                                        args:
                                          - kind: app
                                            id: 5317
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5315
                                                name: internal
                                              - kind: str
                                                id: 5316
                                                value: right_child
                                          - kind: str
                                            id: 5323
                                            value: None
                                          - kind: lambda
                                            id: 5324
                                            params:
                                              - id: 5325
                                                name: _
                                            expr:
                                              kind: name
                                              id: 5318
                                              name: Hash256_ZERO
                                          - kind: str
                                            id: 5326
                                            value: Some
                                          - kind: lambda
                                            id: 5327
                                            params:
                                              - id: 5328
                                                name: c
                                            expr:
                                              kind: app
                                              id: 5321
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5319
                                                  name: c
                                                - kind: str
                                                  id: 5320
                                                  value: hash
                                  - kind: app
                                    id: 5350
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5347
                                        value: prefix
                                      - kind: app
                                        id: 5346
                                        opcode: termConcat
                                        args:
                                          - kind: name
                                            id: 5331
                                            name: InternalNodeHashPrefix
                                          - kind: app
                                            id: 5339
                                            opcode: matchVariant
                                            args:
                                              - kind: app
                                                id: 5334
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5332
                                                    name: internal
                                                  - kind: str
                                                    id: 5333
                                                    value: left_child
                                              - kind: str
                                                id: 5340
                                                value: None
                                              - kind: lambda
                                                id: 5341
                                                params:
                                                  - id: 5342
                                                    name: _
                                                expr:
                                                  kind: name
                                                  id: 5335
                                                  name: Hash256_ZERO
                                              - kind: str
                                                id: 5343
                                                value: Some
                                              - kind: lambda
                                                id: 5344
                                                params:
                                                  - id: 5345
                                                    name: c
                                                expr:
                                                  kind: app
                                                  id: 5338
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5336
                                                      name: c
                                                    - kind: str
                                                      id: 5337
                                                      value: hash
                                      - kind: str
                                        id: 5349
                                        value: suffix
                                      - kind: app
                                        id: 5348
                                        opcode: Map
                                        args: []
                              depth: ~
                            expr:
                              kind: app
                              id: 5370
                              opcode: with
                              args:
                                - kind: app
                                  id: 5369
                                  opcode: with
                                  args:
                                    - kind: app
                                      id: 5368
                                      opcode: with
                                      args:
                                        - kind: name
                                          id: 5353
                                          name: iterator
                                        - kind: str
                                          id: 5359
                                          value: path
                                        - kind: app
                                          id: 5358
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 5356
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5354
                                                  name: iterator
                                                - kind: str
                                                  id: 5355
                                                  value: path
                                            - kind: name
                                              id: 5357
                                              name: innerOp
                                    - kind: str
                                      id: 5365
                                      value: i
                                    - kind: app
                                      id: 5364
                                      opcode: iadd
                                      args:
                                        - kind: app
                                          id: 5362
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5360
                                              name: iterator
                                            - kind: str
                                              id: 5361
                                              value: i
                                        - kind: int
                                          id: 5363
                                          value: 1
                                - kind: str
                                  id: 5367
                                  value: child_version
                                - kind: name
                                  id: 5366
                                  name: child_version
    depth: 4
  5389:
    kind: def
    id: 5385
    name: r
    qualifier: val
    expr:
      kind: app
      id: 5384
      opcode: foldl
      args:
        - kind: name
          id: 5219
          name: prefixes_list
        - kind: app
          id: 5228
          opcode: Rec
          args:
            - kind: str
              id: 5221
              value: path
            - kind: app
              id: 5220
              opcode: List
              args: []
            - kind: str
              id: 5223
              value: i
            - kind: int
              id: 5222
              value: 0
            - kind: str
              id: 5225
              value: found
            - kind: bool
              id: 5224
              value: false
            - kind: str
              id: 5227
              value: child_version
            - kind: name
              id: 5226
              name: version
        - kind: lambda
          id: 5383
          params:
            - id: 5229
              name: iterator
            - id: 5230
              name: key_prefix
          expr:
            kind: app
            id: 5382
            opcode: ite
            args:
              - kind: app
                id: 5247
                opcode: or
                args:
                  - kind: app
                    id: 5233
                    opcode: field
                    args:
                      - kind: name
                        id: 5231
                        name: iterator
                      - kind: str
                        id: 5232
                        value: found
                  - kind: app
                    id: 5246
                    opcode: not
                    args:
                      - kind: app
                        id: 5245
                        opcode: contains
                        args:
                          - kind: app
                            id: 5237
                            opcode: keys
                            args:
                              - kind: app
                                id: 5236
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5234
                                    name: t
                                  - kind: str
                                    id: 5235
                                    value: nodes
                          - kind: app
                            id: 5244
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5239
                                value: key_hash
                              - kind: name
                                id: 5238
                                name: key_prefix
                              - kind: str
                                id: 5243
                                value: version
                              - kind: app
                                id: 5242
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5240
                                    name: iterator
                                  - kind: str
                                    id: 5241
                                    value: child_version
              - kind: name
                id: 5248
                name: iterator
              - kind: let
                id: 5381
                opdef:
                  id: 5260
                  name: node
                  qualifier: val
                  expr:
                    kind: app
                    id: 5259
                    opcode: get
                    args:
                      - kind: app
                        id: 5251
                        opcode: field
                        args:
                          - kind: name
                            id: 5249
                            name: t
                          - kind: str
                            id: 5250
                            value: nodes
                      - kind: app
                        id: 5258
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5253
                            value: key_hash
                          - kind: name
                            id: 5252
                            name: key_prefix
                          - kind: str
                            id: 5257
                            value: version
                          - kind: app
                            id: 5256
                            opcode: field
                            args:
                              - kind: name
                                id: 5254
                                name: iterator
                              - kind: str
                                id: 5255
                                value: child_version
                  depth: ~
                expr:
                  kind: app
                  id: 5374
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5261
                      name: node
                    - kind: str
                      id: 5375
                      value: Leaf
                    - kind: lambda
                      id: 5376
                      params:
                        - id: 5377
                          name: l
                      expr:
                        kind: app
                        id: 5276
                        opcode: with
                        args:
                          - kind: app
                            id: 5275
                            opcode: with
                            args:
                              - kind: name
                                id: 5262
                                name: iterator
                              - kind: str
                                id: 5268
                                value: i
                              - kind: app
                                id: 5267
                                opcode: iadd
                                args:
                                  - kind: app
                                    id: 5265
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5263
                                        name: iterator
                                      - kind: str
                                        id: 5264
                                        value: i
                                  - kind: int
                                    id: 5266
                                    value: 1
                          - kind: str
                            id: 5274
                            value: found
                          - kind: app
                            id: 5273
                            opcode: eq
                            args:
                              - kind: app
                                id: 5271
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5269
                                    name: l
                                  - kind: str
                                    id: 5270
                                    value: key_hash
                              - kind: name
                                id: 5272
                                name: key_hash
                    - kind: str
                      id: 5378
                      value: Internal
                    - kind: lambda
                      id: 5379
                      params:
                        - id: 5380
                          name: internal
                      expr:
                        kind: let
                        id: 5373
                        opdef:
                          id: 5280
                          name: next_bit_0
                          qualifier: val
                          expr:
                            kind: app
                            id: 5279
                            opcode: append
                            args:
                              - kind: name
                                id: 5277
                                name: key_prefix
                              - kind: int
                                id: 5278
                                value: 0
                          depth: ~
                        expr:
                          kind: let
                          id: 5372
                          opdef:
                            id: 5303
                            name: child_version
                            qualifier: val
                            expr:
                              kind: app
                              id: 5302
                              opcode: ite
                              args:
                                - kind: app
                                  id: 5289
                                  opcode: eq
                                  args:
                                    - kind: app
                                      id: 5287
                                      opcode: nth
                                      args:
                                        - kind: name
                                          id: 5281
                                          name: prefixes_list
                                        - kind: app
                                          id: 5286
                                          opcode: iadd
                                          args:
                                            - kind: app
                                              id: 5284
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5282
                                                  name: iterator
                                                - kind: str
                                                  id: 5283
                                                  value: i
                                            - kind: int
                                              id: 5285
                                              value: 1
                                    - kind: name
                                      id: 5288
                                      name: next_bit_0
                                - kind: app
                                  id: 5295
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5293
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5292
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5290
                                              name: internal
                                            - kind: str
                                              id: 5291
                                              value: left_child
                                    - kind: str
                                      id: 5294
                                      value: version
                                - kind: app
                                  id: 5301
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 5299
                                      opcode: unwrap
                                      args:
                                        - kind: app
                                          id: 5298
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5296
                                              name: internal
                                            - kind: str
                                              id: 5297
                                              value: right_child
                                    - kind: str
                                      id: 5300
                                      value: version
                            depth: ~
                          expr:
                            kind: let
                            id: 5371
                            opdef:
                              id: 5352
                              name: innerOp
                              qualifier: val
                              expr:
                                kind: app
                                id: 5351
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5312
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5310
                                        opcode: nth
                                        args:
                                          - kind: name
                                            id: 5304
                                            name: prefixes_list
                                          - kind: app
                                            id: 5309
                                            opcode: iadd
                                            args:
                                              - kind: app
                                                id: 5307
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5305
                                                    name: iterator
                                                  - kind: str
                                                    id: 5306
                                                    value: i
                                              - kind: int
                                                id: 5308
                                                value: 1
                                      - kind: name
                                        id: 5311
                                        name: next_bit_0
                                  - kind: app
                                    id: 5330
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5314
                                        value: prefix
                                      - kind: name
                                        id: 5313
                                        name: InternalNodeHashPrefix
                                      - kind: str
                                        id: 5329
                                        value: suffix
                                      - kind: app
                                        id: 5322
                                        opcode: matchVariant
                                        args:
                                          - kind: app
                                            id: 5317
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5315
                                                name: internal
                                              - kind: str
                                                id: 5316
                                                value: right_child
                                          - kind: str
                                            id: 5323
                                            value: None
                                          - kind: lambda
                                            id: 5324
                                            params:
                                              - id: 5325
                                                name: _
                                            expr:
                                              kind: name
                                              id: 5318
                                              name: Hash256_ZERO
                                          - kind: str
                                            id: 5326
                                            value: Some
                                          - kind: lambda
                                            id: 5327
                                            params:
                                              - id: 5328
                                                name: c
                                            expr:
                                              kind: app
                                              id: 5321
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5319
                                                  name: c
                                                - kind: str
                                                  id: 5320
                                                  value: hash
                                  - kind: app
                                    id: 5350
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5347
                                        value: prefix
                                      - kind: app
                                        id: 5346
                                        opcode: termConcat
                                        args:
                                          - kind: name
                                            id: 5331
                                            name: InternalNodeHashPrefix
                                          - kind: app
                                            id: 5339
                                            opcode: matchVariant
                                            args:
                                              - kind: app
                                                id: 5334
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 5332
                                                    name: internal
                                                  - kind: str
                                                    id: 5333
                                                    value: left_child
                                              - kind: str
                                                id: 5340
                                                value: None
                                              - kind: lambda
                                                id: 5341
                                                params:
                                                  - id: 5342
                                                    name: _
                                                expr:
                                                  kind: name
                                                  id: 5335
                                                  name: Hash256_ZERO
                                              - kind: str
                                                id: 5343
                                                value: Some
                                              - kind: lambda
                                                id: 5344
                                                params:
                                                  - id: 5345
                                                    name: c
                                                expr:
                                                  kind: app
                                                  id: 5338
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5336
                                                      name: c
                                                    - kind: str
                                                      id: 5337
                                                      value: hash
                                      - kind: str
                                        id: 5349
                                        value: suffix
                                      - kind: app
                                        id: 5348
                                        opcode: Map
                                        args: []
                              depth: ~
                            expr:
                              kind: app
                              id: 5370
                              opcode: with
                              args:
                                - kind: app
                                  id: 5369
                                  opcode: with
                                  args:
                                    - kind: app
                                      id: 5368
                                      opcode: with
                                      args:
                                        - kind: name
                                          id: 5353
                                          name: iterator
                                        - kind: str
                                          id: 5359
                                          value: path
                                        - kind: app
                                          id: 5358
                                          opcode: append
                                          args:
                                            - kind: app
                                              id: 5356
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5354
                                                  name: iterator
                                                - kind: str
                                                  id: 5355
                                                  value: path
                                            - kind: name
                                              id: 5357
                                              name: innerOp
                                    - kind: str
                                      id: 5365
                                      value: i
                                    - kind: app
                                      id: 5364
                                      opcode: iadd
                                      args:
                                        - kind: app
                                          id: 5362
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5360
                                              name: iterator
                                            - kind: str
                                              id: 5361
                                              value: i
                                        - kind: int
                                          id: 5363
                                          value: 1
                                - kind: str
                                  id: 5367
                                  value: child_version
                                - kind: name
                                  id: 5366
                                  name: child_version
    depth: 4
  5392:
    kind: def
    id: 2724
    name: reverse
    qualifier: puredef
    expr:
      kind: lambda
      id: 2723
      params:
        - id: 2711
          name: __list
      expr:
        kind: app
        id: 2722
        opcode: foldr
        args:
          - kind: name
            id: 2714
            name: __list
          - kind: app
            id: 2715
            opcode: List
            args: []
          - kind: lambda
            id: 2721
            params:
              - id: 2716
                name: el
              - id: 2717
                name: rev_list
            expr:
              kind: app
              id: 2720
              opcode: append
              args:
                - kind: name
                  id: 2718
                  name: rev_list
                - kind: name
                  id: 2719
                  name: el
    depth: 0
  5393:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5394:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5399:
    kind: def
    id: 5399
    name: ics23_prove_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 5398
      params:
        - id: 5196
          name: t
        - id: 5198
          name: version
        - id: 5200
          name: key_hash
      expr:
        kind: let
        id: 5397
        opdef:
          id: 5218
          name: prefixes_list
          qualifier: val
          expr:
            kind: app
            id: 5217
            opcode: toList
            args:
              - kind: app
                id: 5215
                opcode: map
                args:
                  - kind: app
                    id: 5208
                    opcode: to
                    args:
                      - kind: int
                        id: 5205
                        value: 0
                      - kind: app
                        id: 5207
                        opcode: length
                        args:
                          - kind: name
                            id: 5206
                            name: key_hash
                  - kind: lambda
                    id: 5214
                    params:
                      - id: 5209
                        name: i
                    expr:
                      kind: app
                      id: 5213
                      opcode: slice
                      args:
                        - kind: name
                          id: 5210
                          name: key_hash
                        - kind: int
                          id: 5211
                          value: 0
                        - kind: name
                          id: 5212
                          name: i
              - kind: name
                id: 5216
                name: listCompare
          depth: ~
        expr:
          kind: let
          id: 5396
          opdef:
            id: 5385
            name: r
            qualifier: val
            expr:
              kind: app
              id: 5384
              opcode: foldl
              args:
                - kind: name
                  id: 5219
                  name: prefixes_list
                - kind: app
                  id: 5228
                  opcode: Rec
                  args:
                    - kind: str
                      id: 5221
                      value: path
                    - kind: app
                      id: 5220
                      opcode: List
                      args: []
                    - kind: str
                      id: 5223
                      value: i
                    - kind: int
                      id: 5222
                      value: 0
                    - kind: str
                      id: 5225
                      value: found
                    - kind: bool
                      id: 5224
                      value: false
                    - kind: str
                      id: 5227
                      value: child_version
                    - kind: name
                      id: 5226
                      name: version
                - kind: lambda
                  id: 5383
                  params:
                    - id: 5229
                      name: iterator
                    - id: 5230
                      name: key_prefix
                  expr:
                    kind: app
                    id: 5382
                    opcode: ite
                    args:
                      - kind: app
                        id: 5247
                        opcode: or
                        args:
                          - kind: app
                            id: 5233
                            opcode: field
                            args:
                              - kind: name
                                id: 5231
                                name: iterator
                              - kind: str
                                id: 5232
                                value: found
                          - kind: app
                            id: 5246
                            opcode: not
                            args:
                              - kind: app
                                id: 5245
                                opcode: contains
                                args:
                                  - kind: app
                                    id: 5237
                                    opcode: keys
                                    args:
                                      - kind: app
                                        id: 5236
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5234
                                            name: t
                                          - kind: str
                                            id: 5235
                                            value: nodes
                                  - kind: app
                                    id: 5244
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5239
                                        value: key_hash
                                      - kind: name
                                        id: 5238
                                        name: key_prefix
                                      - kind: str
                                        id: 5243
                                        value: version
                                      - kind: app
                                        id: 5242
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5240
                                            name: iterator
                                          - kind: str
                                            id: 5241
                                            value: child_version
                      - kind: name
                        id: 5248
                        name: iterator
                      - kind: let
                        id: 5381
                        opdef:
                          id: 5260
                          name: node
                          qualifier: val
                          expr:
                            kind: app
                            id: 5259
                            opcode: get
                            args:
                              - kind: app
                                id: 5251
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5249
                                    name: t
                                  - kind: str
                                    id: 5250
                                    value: nodes
                              - kind: app
                                id: 5258
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 5253
                                    value: key_hash
                                  - kind: name
                                    id: 5252
                                    name: key_prefix
                                  - kind: str
                                    id: 5257
                                    value: version
                                  - kind: app
                                    id: 5256
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5254
                                        name: iterator
                                      - kind: str
                                        id: 5255
                                        value: child_version
                          depth: ~
                        expr:
                          kind: app
                          id: 5374
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5261
                              name: node
                            - kind: str
                              id: 5375
                              value: Leaf
                            - kind: lambda
                              id: 5376
                              params:
                                - id: 5377
                                  name: l
                              expr:
                                kind: app
                                id: 5276
                                opcode: with
                                args:
                                  - kind: app
                                    id: 5275
                                    opcode: with
                                    args:
                                      - kind: name
                                        id: 5262
                                        name: iterator
                                      - kind: str
                                        id: 5268
                                        value: i
                                      - kind: app
                                        id: 5267
                                        opcode: iadd
                                        args:
                                          - kind: app
                                            id: 5265
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5263
                                                name: iterator
                                              - kind: str
                                                id: 5264
                                                value: i
                                          - kind: int
                                            id: 5266
                                            value: 1
                                  - kind: str
                                    id: 5274
                                    value: found
                                  - kind: app
                                    id: 5273
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5271
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5269
                                            name: l
                                          - kind: str
                                            id: 5270
                                            value: key_hash
                                      - kind: name
                                        id: 5272
                                        name: key_hash
                            - kind: str
                              id: 5378
                              value: Internal
                            - kind: lambda
                              id: 5379
                              params:
                                - id: 5380
                                  name: internal
                              expr:
                                kind: let
                                id: 5373
                                opdef:
                                  id: 5280
                                  name: next_bit_0
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5279
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 5277
                                        name: key_prefix
                                      - kind: int
                                        id: 5278
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5372
                                  opdef:
                                    id: 5303
                                    name: child_version
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5302
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 5289
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5287
                                              opcode: nth
                                              args:
                                                - kind: name
                                                  id: 5281
                                                  name: prefixes_list
                                                - kind: app
                                                  id: 5286
                                                  opcode: iadd
                                                  args:
                                                    - kind: app
                                                      id: 5284
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5282
                                                          name: iterator
                                                        - kind: str
                                                          id: 5283
                                                          value: i
                                                    - kind: int
                                                      id: 5285
                                                      value: 1
                                            - kind: name
                                              id: 5288
                                              name: next_bit_0
                                        - kind: app
                                          id: 5295
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5293
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5292
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5290
                                                      name: internal
                                                    - kind: str
                                                      id: 5291
                                                      value: left_child
                                            - kind: str
                                              id: 5294
                                              value: version
                                        - kind: app
                                          id: 5301
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5299
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5298
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5296
                                                      name: internal
                                                    - kind: str
                                                      id: 5297
                                                      value: right_child
                                            - kind: str
                                              id: 5300
                                              value: version
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 5371
                                    opdef:
                                      id: 5352
                                      name: innerOp
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 5351
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 5312
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 5310
                                                opcode: nth
                                                args:
                                                  - kind: name
                                                    id: 5304
                                                    name: prefixes_list
                                                  - kind: app
                                                    id: 5309
                                                    opcode: iadd
                                                    args:
                                                      - kind: app
                                                        id: 5307
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5305
                                                            name: iterator
                                                          - kind: str
                                                            id: 5306
                                                            value: i
                                                      - kind: int
                                                        id: 5308
                                                        value: 1
                                              - kind: name
                                                id: 5311
                                                name: next_bit_0
                                          - kind: app
                                            id: 5330
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5314
                                                value: prefix
                                              - kind: name
                                                id: 5313
                                                name: InternalNodeHashPrefix
                                              - kind: str
                                                id: 5329
                                                value: suffix
                                              - kind: app
                                                id: 5322
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 5317
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 5315
                                                        name: internal
                                                      - kind: str
                                                        id: 5316
                                                        value: right_child
                                                  - kind: str
                                                    id: 5323
                                                    value: None
                                                  - kind: lambda
                                                    id: 5324
                                                    params:
                                                      - id: 5325
                                                        name: _
                                                    expr:
                                                      kind: name
                                                      id: 5318
                                                      name: Hash256_ZERO
                                                  - kind: str
                                                    id: 5326
                                                    value: Some
                                                  - kind: lambda
                                                    id: 5327
                                                    params:
                                                      - id: 5328
                                                        name: c
                                                    expr:
                                                      kind: app
                                                      id: 5321
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5319
                                                          name: c
                                                        - kind: str
                                                          id: 5320
                                                          value: hash
                                          - kind: app
                                            id: 5350
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5347
                                                value: prefix
                                              - kind: app
                                                id: 5346
                                                opcode: termConcat
                                                args:
                                                  - kind: name
                                                    id: 5331
                                                    name: InternalNodeHashPrefix
                                                  - kind: app
                                                    id: 5339
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 5334
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5332
                                                            name: internal
                                                          - kind: str
                                                            id: 5333
                                                            value: left_child
                                                      - kind: str
                                                        id: 5340
                                                        value: None
                                                      - kind: lambda
                                                        id: 5341
                                                        params:
                                                          - id: 5342
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 5335
                                                          name: Hash256_ZERO
                                                      - kind: str
                                                        id: 5343
                                                        value: Some
                                                      - kind: lambda
                                                        id: 5344
                                                        params:
                                                          - id: 5345
                                                            name: c
                                                        expr:
                                                          kind: app
                                                          id: 5338
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 5336
                                                              name: c
                                                            - kind: str
                                                              id: 5337
                                                              value: hash
                                              - kind: str
                                                id: 5349
                                                value: suffix
                                              - kind: app
                                                id: 5348
                                                opcode: Map
                                                args: []
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 5370
                                      opcode: with
                                      args:
                                        - kind: app
                                          id: 5369
                                          opcode: with
                                          args:
                                            - kind: app
                                              id: 5368
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 5353
                                                  name: iterator
                                                - kind: str
                                                  id: 5359
                                                  value: path
                                                - kind: app
                                                  id: 5358
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 5356
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5354
                                                          name: iterator
                                                        - kind: str
                                                          id: 5355
                                                          value: path
                                                    - kind: name
                                                      id: 5357
                                                      name: innerOp
                                            - kind: str
                                              id: 5365
                                              value: i
                                            - kind: app
                                              id: 5364
                                              opcode: iadd
                                              args:
                                                - kind: app
                                                  id: 5362
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5360
                                                      name: iterator
                                                    - kind: str
                                                      id: 5361
                                                      value: i
                                                - kind: int
                                                  id: 5363
                                                  value: 1
                                        - kind: str
                                          id: 5367
                                          value: child_version
                                        - kind: name
                                          id: 5366
                                          name: child_version
            depth: ~
          expr:
            kind: app
            id: 5395
            opcode: ite
            args:
              - kind: app
                id: 5388
                opcode: field
                args:
                  - kind: name
                    id: 5386
                    name: r
                  - kind: str
                    id: 5387
                    value: found
              - kind: app
                id: 5393
                opcode: Some
                args:
                  - kind: app
                    id: 5392
                    opcode: reverse
                    args:
                      - kind: app
                        id: 5391
                        opcode: field
                        args:
                          - kind: name
                            id: 5389
                            name: r
                          - kind: str
                            id: 5390
                            value: path
              - kind: name
                id: 5394
                name: None
    depth: 0
  5400:
    kind: typedef
    id: 3273
  5402:
    kind: typedef
    id: 3258
  5404:
    kind: typedef
    id: 3897
  5407:
    id: 5401
    name: t
  5408:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  5410:
    id: 5409
    name: n
  5411:
    id: 5420
    name: l
  5414:
    id: 5403
    name: k
  5415:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  5426:
    kind: def
    id: 5426
    name: smallerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5425
      opcode: filter
      args:
        - kind: app
          id: 5408
          opcode: values
          args:
            - kind: name
              id: 5407
              name: t
        - kind: lambda
          id: 5424
          params:
            - id: 5409
              name: n
          expr:
            kind: app
            id: 5417
            opcode: matchVariant
            args:
              - kind: name
                id: 5410
                name: n
              - kind: str
                id: 5418
                value: Leaf
              - kind: lambda
                id: 5419
                params:
                  - id: 5420
                    name: l
                expr:
                  kind: app
                  id: 5415
                  opcode: less_than
                  args:
                    - kind: app
                      id: 5413
                      opcode: field
                      args:
                        - kind: name
                          id: 5411
                          name: l
                        - kind: str
                          id: 5412
                          value: key_hash
                    - kind: name
                      id: 5414
                      name: k
              - kind: str
                id: 5421
                value: Internal
              - kind: lambda
                id: 5422
                params:
                  - id: 5423
                    name: _
                expr:
                  kind: bool
                  id: 5416
                  value: false
    depth: 3
  5427:
    kind: def
    id: 5426
    name: smallerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5425
      opcode: filter
      args:
        - kind: app
          id: 5408
          opcode: values
          args:
            - kind: name
              id: 5407
              name: t
        - kind: lambda
          id: 5424
          params:
            - id: 5409
              name: n
          expr:
            kind: app
            id: 5417
            opcode: matchVariant
            args:
              - kind: name
                id: 5410
                name: n
              - kind: str
                id: 5418
                value: Leaf
              - kind: lambda
                id: 5419
                params:
                  - id: 5420
                    name: l
                expr:
                  kind: app
                  id: 5415
                  opcode: less_than
                  args:
                    - kind: app
                      id: 5413
                      opcode: field
                      args:
                        - kind: name
                          id: 5411
                          name: l
                        - kind: str
                          id: 5412
                          value: key_hash
                    - kind: name
                      id: 5414
                      name: k
              - kind: str
                id: 5421
                value: Internal
              - kind: lambda
                id: 5422
                params:
                  - id: 5423
                    name: _
                expr:
                  kind: bool
                  id: 5416
                  value: false
    depth: 3
  5428:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  5429:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5430:
    kind: def
    id: 5426
    name: smallerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5425
      opcode: filter
      args:
        - kind: app
          id: 5408
          opcode: values
          args:
            - kind: name
              id: 5407
              name: t
        - kind: lambda
          id: 5424
          params:
            - id: 5409
              name: n
          expr:
            kind: app
            id: 5417
            opcode: matchVariant
            args:
              - kind: name
                id: 5410
                name: n
              - kind: str
                id: 5418
                value: Leaf
              - kind: lambda
                id: 5419
                params:
                  - id: 5420
                    name: l
                expr:
                  kind: app
                  id: 5415
                  opcode: less_than
                  args:
                    - kind: app
                      id: 5413
                      opcode: field
                      args:
                        - kind: name
                          id: 5411
                          name: l
                        - kind: str
                          id: 5412
                          value: key_hash
                    - kind: name
                      id: 5414
                      name: k
              - kind: str
                id: 5421
                value: Internal
              - kind: lambda
                id: 5422
                params:
                  - id: 5423
                    name: _
                expr:
                  kind: bool
                  id: 5416
                  value: false
    depth: 3
  5438:
    id: 5437
    name: x
  5439:
    id: 5444
    name: l
  5440:
    id: 5436
    name: s
  5450:
    kind: def
    id: 5450
    name: someLeaf
    qualifier: val
    expr:
      kind: app
      id: 5449
      opcode: fold
      args:
        - kind: name
          id: 5430
          name: smallerKeyNodes
        - kind: app
          id: 5435
          opcode: Rec
          args:
            - kind: str
              id: 5432
              value: key_hash
            - kind: app
              id: 5431
              opcode: List
              args: []
            - kind: str
              id: 5434
              value: value_hash
            - kind: app
              id: 5433
              opcode: List
              args: []
        - kind: lambda
          id: 5448
          params:
            - id: 5436
              name: s
            - id: 5437
              name: x
          expr:
            kind: app
            id: 5441
            opcode: matchVariant
            args:
              - kind: name
                id: 5438
                name: x
              - kind: str
                id: 5442
                value: Leaf
              - kind: lambda
                id: 5443
                params:
                  - id: 5444
                    name: l
                expr:
                  kind: name
                  id: 5439
                  name: l
              - kind: str
                id: 5445
                value: Internal
              - kind: lambda
                id: 5446
                params:
                  - id: 5447
                    name: _
                expr:
                  kind: name
                  id: 5440
                  name: s
    depth: 4
  5451:
    kind: def
    id: 5426
    name: smallerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5425
      opcode: filter
      args:
        - kind: app
          id: 5408
          opcode: values
          args:
            - kind: name
              id: 5407
              name: t
        - kind: lambda
          id: 5424
          params:
            - id: 5409
              name: n
          expr:
            kind: app
            id: 5417
            opcode: matchVariant
            args:
              - kind: name
                id: 5410
                name: n
              - kind: str
                id: 5418
                value: Leaf
              - kind: lambda
                id: 5419
                params:
                  - id: 5420
                    name: l
                expr:
                  kind: app
                  id: 5415
                  opcode: less_than
                  args:
                    - kind: app
                      id: 5413
                      opcode: field
                      args:
                        - kind: name
                          id: 5411
                          name: l
                        - kind: str
                          id: 5412
                          value: key_hash
                    - kind: name
                      id: 5414
                      name: k
              - kind: str
                id: 5421
                value: Internal
              - kind: lambda
                id: 5422
                params:
                  - id: 5423
                    name: _
                expr:
                  kind: bool
                  id: 5416
                  value: false
    depth: 3
  5452:
    kind: def
    id: 5450
    name: someLeaf
    qualifier: val
    expr:
      kind: app
      id: 5449
      opcode: fold
      args:
        - kind: name
          id: 5430
          name: smallerKeyNodes
        - kind: app
          id: 5435
          opcode: Rec
          args:
            - kind: str
              id: 5432
              value: key_hash
            - kind: app
              id: 5431
              opcode: List
              args: []
            - kind: str
              id: 5434
              value: value_hash
            - kind: app
              id: 5433
              opcode: List
              args: []
        - kind: lambda
          id: 5448
          params:
            - id: 5436
              name: s
            - id: 5437
              name: x
          expr:
            kind: app
            id: 5441
            opcode: matchVariant
            args:
              - kind: name
                id: 5438
                name: x
              - kind: str
                id: 5442
                value: Leaf
              - kind: lambda
                id: 5443
                params:
                  - id: 5444
                    name: l
                expr:
                  kind: name
                  id: 5439
                  name: l
              - kind: str
                id: 5445
                value: Internal
              - kind: lambda
                id: 5446
                params:
                  - id: 5447
                    name: _
                expr:
                  kind: name
                  id: 5440
                  name: s
    depth: 4
  5455:
    id: 5454
    name: x
  5456:
    id: 5453
    name: s
  5459:
    id: 5470
    name: l
  5462:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  5463:
    id: 5470
    name: l
  5464:
    id: 5453
    name: s
  5466:
    id: 5453
    name: s
  5476:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5481:
    kind: def
    id: 5481
    name: leftNeighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5480
      params:
        - id: 5401
          name: t
        - id: 5403
          name: k
      expr:
        kind: let
        id: 5479
        opdef:
          id: 5426
          name: smallerKeyNodes
          qualifier: val
          expr:
            kind: app
            id: 5425
            opcode: filter
            args:
              - kind: app
                id: 5408
                opcode: values
                args:
                  - kind: name
                    id: 5407
                    name: t
              - kind: lambda
                id: 5424
                params:
                  - id: 5409
                    name: n
                expr:
                  kind: app
                  id: 5417
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5410
                      name: n
                    - kind: str
                      id: 5418
                      value: Leaf
                    - kind: lambda
                      id: 5419
                      params:
                        - id: 5420
                          name: l
                      expr:
                        kind: app
                        id: 5415
                        opcode: less_than
                        args:
                          - kind: app
                            id: 5413
                            opcode: field
                            args:
                              - kind: name
                                id: 5411
                                name: l
                              - kind: str
                                id: 5412
                                value: key_hash
                          - kind: name
                            id: 5414
                            name: k
                    - kind: str
                      id: 5421
                      value: Internal
                    - kind: lambda
                      id: 5422
                      params:
                        - id: 5423
                          name: _
                      expr:
                        kind: bool
                        id: 5416
                        value: false
          depth: ~
        expr:
          kind: app
          id: 5478
          opcode: ite
          args:
            - kind: app
              id: 5428
              opcode: empty
              args:
                - kind: name
                  id: 5427
                  name: smallerKeyNodes
            - kind: name
              id: 5429
              name: None
            - kind: let
              id: 5477
              opdef:
                id: 5450
                name: someLeaf
                qualifier: val
                expr:
                  kind: app
                  id: 5449
                  opcode: fold
                  args:
                    - kind: name
                      id: 5430
                      name: smallerKeyNodes
                    - kind: app
                      id: 5435
                      opcode: Rec
                      args:
                        - kind: str
                          id: 5432
                          value: key_hash
                        - kind: app
                          id: 5431
                          opcode: List
                          args: []
                        - kind: str
                          id: 5434
                          value: value_hash
                        - kind: app
                          id: 5433
                          opcode: List
                          args: []
                    - kind: lambda
                      id: 5448
                      params:
                        - id: 5436
                          name: s
                        - id: 5437
                          name: x
                      expr:
                        kind: app
                        id: 5441
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5438
                            name: x
                          - kind: str
                            id: 5442
                            value: Leaf
                          - kind: lambda
                            id: 5443
                            params:
                              - id: 5444
                                name: l
                            expr:
                              kind: name
                              id: 5439
                              name: l
                          - kind: str
                            id: 5445
                            value: Internal
                          - kind: lambda
                            id: 5446
                            params:
                              - id: 5447
                                name: _
                            expr:
                              kind: name
                              id: 5440
                              name: s
                depth: ~
              expr:
                kind: app
                id: 5476
                opcode: Some
                args:
                  - kind: app
                    id: 5475
                    opcode: fold
                    args:
                      - kind: name
                        id: 5451
                        name: smallerKeyNodes
                      - kind: name
                        id: 5452
                        name: someLeaf
                      - kind: lambda
                        id: 5474
                        params:
                          - id: 5453
                            name: s
                          - id: 5454
                            name: x
                        expr:
                          kind: app
                          id: 5467
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5455
                              name: x
                            - kind: str
                              id: 5468
                              value: Leaf
                            - kind: lambda
                              id: 5469
                              params:
                                - id: 5470
                                  name: l
                              expr:
                                kind: app
                                id: 5465
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5462
                                    opcode: less_than
                                    args:
                                      - kind: app
                                        id: 5458
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5456
                                            name: s
                                          - kind: str
                                            id: 5457
                                            value: key_hash
                                      - kind: app
                                        id: 5461
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5459
                                            name: l
                                          - kind: str
                                            id: 5460
                                            value: key_hash
                                  - kind: name
                                    id: 5463
                                    name: l
                                  - kind: name
                                    id: 5464
                                    name: s
                            - kind: str
                              id: 5471
                              value: Internal
                            - kind: lambda
                              id: 5472
                              params:
                                - id: 5473
                                  name: _
                              expr:
                                kind: name
                                id: 5466
                                name: s
    depth: 0
  5482:
    kind: typedef
    id: 3273
  5484:
    kind: typedef
    id: 3258
  5486:
    kind: typedef
    id: 3897
  5489:
    id: 5483
    name: t
  5490:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  5492:
    id: 5491
    name: n
  5493:
    id: 5485
    name: k
  5494:
    id: 5502
    name: l
  5497:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  5508:
    kind: def
    id: 5508
    name: largerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5507
      opcode: filter
      args:
        - kind: app
          id: 5490
          opcode: values
          args:
            - kind: name
              id: 5489
              name: t
        - kind: lambda
          id: 5506
          params:
            - id: 5491
              name: n
          expr:
            kind: app
            id: 5499
            opcode: matchVariant
            args:
              - kind: name
                id: 5492
                name: n
              - kind: str
                id: 5500
                value: Leaf
              - kind: lambda
                id: 5501
                params:
                  - id: 5502
                    name: l
                expr:
                  kind: app
                  id: 5497
                  opcode: less_than
                  args:
                    - kind: name
                      id: 5493
                      name: k
                    - kind: app
                      id: 5496
                      opcode: field
                      args:
                        - kind: name
                          id: 5494
                          name: l
                        - kind: str
                          id: 5495
                          value: key_hash
              - kind: str
                id: 5503
                value: Internal
              - kind: lambda
                id: 5504
                params:
                  - id: 5505
                    name: _
                expr:
                  kind: bool
                  id: 5498
                  value: false
    depth: 3
  5509:
    kind: def
    id: 5508
    name: largerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5507
      opcode: filter
      args:
        - kind: app
          id: 5490
          opcode: values
          args:
            - kind: name
              id: 5489
              name: t
        - kind: lambda
          id: 5506
          params:
            - id: 5491
              name: n
          expr:
            kind: app
            id: 5499
            opcode: matchVariant
            args:
              - kind: name
                id: 5492
                name: n
              - kind: str
                id: 5500
                value: Leaf
              - kind: lambda
                id: 5501
                params:
                  - id: 5502
                    name: l
                expr:
                  kind: app
                  id: 5497
                  opcode: less_than
                  args:
                    - kind: name
                      id: 5493
                      name: k
                    - kind: app
                      id: 5496
                      opcode: field
                      args:
                        - kind: name
                          id: 5494
                          name: l
                        - kind: str
                          id: 5495
                          value: key_hash
              - kind: str
                id: 5503
                value: Internal
              - kind: lambda
                id: 5504
                params:
                  - id: 5505
                    name: _
                expr:
                  kind: bool
                  id: 5498
                  value: false
    depth: 3
  5510:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  5511:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5512:
    kind: def
    id: 5508
    name: largerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5507
      opcode: filter
      args:
        - kind: app
          id: 5490
          opcode: values
          args:
            - kind: name
              id: 5489
              name: t
        - kind: lambda
          id: 5506
          params:
            - id: 5491
              name: n
          expr:
            kind: app
            id: 5499
            opcode: matchVariant
            args:
              - kind: name
                id: 5492
                name: n
              - kind: str
                id: 5500
                value: Leaf
              - kind: lambda
                id: 5501
                params:
                  - id: 5502
                    name: l
                expr:
                  kind: app
                  id: 5497
                  opcode: less_than
                  args:
                    - kind: name
                      id: 5493
                      name: k
                    - kind: app
                      id: 5496
                      opcode: field
                      args:
                        - kind: name
                          id: 5494
                          name: l
                        - kind: str
                          id: 5495
                          value: key_hash
              - kind: str
                id: 5503
                value: Internal
              - kind: lambda
                id: 5504
                params:
                  - id: 5505
                    name: _
                expr:
                  kind: bool
                  id: 5498
                  value: false
    depth: 3
  5520:
    id: 5519
    name: x
  5521:
    id: 5526
    name: l
  5522:
    id: 5518
    name: s
  5532:
    kind: def
    id: 5532
    name: someLeaf
    qualifier: val
    expr:
      kind: app
      id: 5531
      opcode: fold
      args:
        - kind: name
          id: 5512
          name: largerKeyNodes
        - kind: app
          id: 5517
          opcode: Rec
          args:
            - kind: str
              id: 5514
              value: key_hash
            - kind: app
              id: 5513
              opcode: List
              args: []
            - kind: str
              id: 5516
              value: value_hash
            - kind: app
              id: 5515
              opcode: List
              args: []
        - kind: lambda
          id: 5530
          params:
            - id: 5518
              name: s
            - id: 5519
              name: x
          expr:
            kind: app
            id: 5523
            opcode: matchVariant
            args:
              - kind: name
                id: 5520
                name: x
              - kind: str
                id: 5524
                value: Leaf
              - kind: lambda
                id: 5525
                params:
                  - id: 5526
                    name: l
                expr:
                  kind: name
                  id: 5521
                  name: l
              - kind: str
                id: 5527
                value: Internal
              - kind: lambda
                id: 5528
                params:
                  - id: 5529
                    name: _
                expr:
                  kind: name
                  id: 5522
                  name: s
    depth: 4
  5533:
    kind: def
    id: 5508
    name: largerKeyNodes
    qualifier: val
    expr:
      kind: app
      id: 5507
      opcode: filter
      args:
        - kind: app
          id: 5490
          opcode: values
          args:
            - kind: name
              id: 5489
              name: t
        - kind: lambda
          id: 5506
          params:
            - id: 5491
              name: n
          expr:
            kind: app
            id: 5499
            opcode: matchVariant
            args:
              - kind: name
                id: 5492
                name: n
              - kind: str
                id: 5500
                value: Leaf
              - kind: lambda
                id: 5501
                params:
                  - id: 5502
                    name: l
                expr:
                  kind: app
                  id: 5497
                  opcode: less_than
                  args:
                    - kind: name
                      id: 5493
                      name: k
                    - kind: app
                      id: 5496
                      opcode: field
                      args:
                        - kind: name
                          id: 5494
                          name: l
                        - kind: str
                          id: 5495
                          value: key_hash
              - kind: str
                id: 5503
                value: Internal
              - kind: lambda
                id: 5504
                params:
                  - id: 5505
                    name: _
                expr:
                  kind: bool
                  id: 5498
                  value: false
    depth: 3
  5534:
    kind: def
    id: 5532
    name: someLeaf
    qualifier: val
    expr:
      kind: app
      id: 5531
      opcode: fold
      args:
        - kind: name
          id: 5512
          name: largerKeyNodes
        - kind: app
          id: 5517
          opcode: Rec
          args:
            - kind: str
              id: 5514
              value: key_hash
            - kind: app
              id: 5513
              opcode: List
              args: []
            - kind: str
              id: 5516
              value: value_hash
            - kind: app
              id: 5515
              opcode: List
              args: []
        - kind: lambda
          id: 5530
          params:
            - id: 5518
              name: s
            - id: 5519
              name: x
          expr:
            kind: app
            id: 5523
            opcode: matchVariant
            args:
              - kind: name
                id: 5520
                name: x
              - kind: str
                id: 5524
                value: Leaf
              - kind: lambda
                id: 5525
                params:
                  - id: 5526
                    name: l
                expr:
                  kind: name
                  id: 5521
                  name: l
              - kind: str
                id: 5527
                value: Internal
              - kind: lambda
                id: 5528
                params:
                  - id: 5529
                    name: _
                expr:
                  kind: name
                  id: 5522
                  name: s
    depth: 4
  5537:
    id: 5536
    name: x
  5538:
    id: 5552
    name: l
  5541:
    id: 5535
    name: s
  5544:
    kind: def
    id: 2856
    name: less_than
    qualifier: puredef
    expr:
      kind: lambda
      id: 2855
      params:
        - id: 2793
          name: w1
        - id: 2795
          name: w2
      expr:
        kind: let
        id: 2854
        opdef:
          id: 2799
          name: len1
          qualifier: pureval
          expr:
            kind: app
            id: 2798
            opcode: length
            args:
              - kind: name
                id: 2797
                name: w1
          depth: ~
        expr:
          kind: let
          id: 2853
          opdef:
            id: 2802
            name: len2
            qualifier: pureval
            expr:
              kind: app
              id: 2801
              opcode: length
              args:
                - kind: name
                  id: 2800
                  name: w2
            depth: ~
          expr:
            kind: app
            id: 2852
            opcode: or
            args:
              - kind: app
                id: 2818
                opcode: and
                args:
                  - kind: app
                    id: 2805
                    opcode: ilt
                    args:
                      - kind: name
                        id: 2803
                        name: len1
                      - kind: name
                        id: 2804
                        name: len2
                  - kind: app
                    id: 2817
                    opcode: forall
                    args:
                      - kind: app
                        id: 2807
                        opcode: indices
                        args:
                          - kind: name
                            id: 2806
                            name: w1
                      - kind: lambda
                        id: 2816
                        params:
                          - id: 2808
                            name: i
                        expr:
                          kind: app
                          id: 2815
                          opcode: ilte
                          args:
                            - kind: app
                              id: 2811
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2809
                                  name: w1
                                - kind: name
                                  id: 2810
                                  name: i
                            - kind: app
                              id: 2814
                              opcode: nth
                              args:
                                - kind: name
                                  id: 2812
                                  name: w2
                                - kind: name
                                  id: 2813
                                  name: i
              - kind: app
                id: 2851
                opcode: and
                args:
                  - kind: app
                    id: 2821
                    opcode: eq
                    args:
                      - kind: name
                        id: 2819
                        name: len1
                      - kind: name
                        id: 2820
                        name: len2
                  - kind: app
                    id: 2850
                    opcode: exists
                    args:
                      - kind: app
                        id: 2823
                        opcode: indices
                        args:
                          - kind: name
                            id: 2822
                            name: w1
                      - kind: lambda
                        id: 2849
                        params:
                          - id: 2824
                            name: i
                        expr:
                          kind: app
                          id: 2848
                          opcode: and
                          args:
                            - kind: app
                              id: 2831
                              opcode: ilt
                              args:
                                - kind: app
                                  id: 2827
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2825
                                      name: w1
                                    - kind: name
                                      id: 2826
                                      name: i
                                - kind: app
                                  id: 2830
                                  opcode: nth
                                  args:
                                    - kind: name
                                      id: 2828
                                      name: w2
                                    - kind: name
                                      id: 2829
                                      name: i
                            - kind: app
                              id: 2847
                              opcode: forall
                              args:
                                - kind: app
                                  id: 2833
                                  opcode: indices
                                  args:
                                    - kind: name
                                      id: 2832
                                      name: w1
                                - kind: lambda
                                  id: 2846
                                  params:
                                    - id: 2834
                                      name: j
                                  expr:
                                    kind: app
                                    id: 2845
                                    opcode: implies
                                    args:
                                      - kind: app
                                        id: 2837
                                        opcode: ilt
                                        args:
                                          - kind: name
                                            id: 2835
                                            name: j
                                          - kind: name
                                            id: 2836
                                            name: i
                                      - kind: app
                                        id: 2844
                                        opcode: eq
                                        args:
                                          - kind: app
                                            id: 2840
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2838
                                                name: w1
                                              - kind: name
                                                id: 2839
                                                name: j
                                          - kind: app
                                            id: 2843
                                            opcode: nth
                                            args:
                                              - kind: name
                                                id: 2841
                                                name: w2
                                              - kind: name
                                                id: 2842
                                                name: j
    depth: 0
  5545:
    id: 5552
    name: l
  5546:
    id: 5535
    name: s
  5548:
    id: 5535
    name: s
  5558:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5563:
    kind: def
    id: 5563
    name: rightNeighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5562
      params:
        - id: 5483
          name: t
        - id: 5485
          name: k
      expr:
        kind: let
        id: 5561
        opdef:
          id: 5508
          name: largerKeyNodes
          qualifier: val
          expr:
            kind: app
            id: 5507
            opcode: filter
            args:
              - kind: app
                id: 5490
                opcode: values
                args:
                  - kind: name
                    id: 5489
                    name: t
              - kind: lambda
                id: 5506
                params:
                  - id: 5491
                    name: n
                expr:
                  kind: app
                  id: 5499
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5492
                      name: n
                    - kind: str
                      id: 5500
                      value: Leaf
                    - kind: lambda
                      id: 5501
                      params:
                        - id: 5502
                          name: l
                      expr:
                        kind: app
                        id: 5497
                        opcode: less_than
                        args:
                          - kind: name
                            id: 5493
                            name: k
                          - kind: app
                            id: 5496
                            opcode: field
                            args:
                              - kind: name
                                id: 5494
                                name: l
                              - kind: str
                                id: 5495
                                value: key_hash
                    - kind: str
                      id: 5503
                      value: Internal
                    - kind: lambda
                      id: 5504
                      params:
                        - id: 5505
                          name: _
                      expr:
                        kind: bool
                        id: 5498
                        value: false
          depth: ~
        expr:
          kind: app
          id: 5560
          opcode: ite
          args:
            - kind: app
              id: 5510
              opcode: empty
              args:
                - kind: name
                  id: 5509
                  name: largerKeyNodes
            - kind: name
              id: 5511
              name: None
            - kind: let
              id: 5559
              opdef:
                id: 5532
                name: someLeaf
                qualifier: val
                expr:
                  kind: app
                  id: 5531
                  opcode: fold
                  args:
                    - kind: name
                      id: 5512
                      name: largerKeyNodes
                    - kind: app
                      id: 5517
                      opcode: Rec
                      args:
                        - kind: str
                          id: 5514
                          value: key_hash
                        - kind: app
                          id: 5513
                          opcode: List
                          args: []
                        - kind: str
                          id: 5516
                          value: value_hash
                        - kind: app
                          id: 5515
                          opcode: List
                          args: []
                    - kind: lambda
                      id: 5530
                      params:
                        - id: 5518
                          name: s
                        - id: 5519
                          name: x
                      expr:
                        kind: app
                        id: 5523
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5520
                            name: x
                          - kind: str
                            id: 5524
                            value: Leaf
                          - kind: lambda
                            id: 5525
                            params:
                              - id: 5526
                                name: l
                            expr:
                              kind: name
                              id: 5521
                              name: l
                          - kind: str
                            id: 5527
                            value: Internal
                          - kind: lambda
                            id: 5528
                            params:
                              - id: 5529
                                name: _
                            expr:
                              kind: name
                              id: 5522
                              name: s
                depth: ~
              expr:
                kind: app
                id: 5558
                opcode: Some
                args:
                  - kind: app
                    id: 5557
                    opcode: fold
                    args:
                      - kind: name
                        id: 5533
                        name: largerKeyNodes
                      - kind: name
                        id: 5534
                        name: someLeaf
                      - kind: lambda
                        id: 5556
                        params:
                          - id: 5535
                            name: s
                          - id: 5536
                            name: x
                        expr:
                          kind: app
                          id: 5549
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5537
                              name: x
                            - kind: str
                              id: 5550
                              value: Leaf
                            - kind: lambda
                              id: 5551
                              params:
                                - id: 5552
                                  name: l
                              expr:
                                kind: app
                                id: 5547
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5544
                                    opcode: less_than
                                    args:
                                      - kind: app
                                        id: 5540
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5538
                                            name: l
                                          - kind: str
                                            id: 5539
                                            value: key_hash
                                      - kind: app
                                        id: 5543
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5541
                                            name: s
                                          - kind: str
                                            id: 5542
                                            value: key_hash
                                  - kind: name
                                    id: 5545
                                    name: l
                                  - kind: name
                                    id: 5546
                                    name: s
                            - kind: str
                              id: 5553
                              value: Internal
                            - kind: lambda
                              id: 5554
                              params:
                                - id: 5555
                                  name: _
                              expr:
                                kind: name
                                id: 5548
                                name: s
    depth: 0
  5564:
    kind: typedef
    id: 3278
  5566:
    kind: typedef
    id: 3258
  5568:
    kind: typedef
    id: 3260
  5570:
    kind: typedef
    id: 8463
  5573:
    id: 5565
    name: t
  5574:
    id: 5569
    name: version
  5575:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  5576:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  5578:
    id: 5577
    name: l
  5581:
    id: 5567
    name: key_hash
  5586:
    id: 5585
    name: l
  5589:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5592:
    kind: def
    id: 5592
    name: optionalValueForKey
    qualifier: val
    expr:
      kind: app
      id: 5591
      opcode: map
      args:
        - kind: app
          id: 5584
          opcode: filter
          args:
            - kind: app
              id: 5576
              opcode: allLeafs
              args:
                - kind: app
                  id: 5575
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 5573
                      name: t
                    - kind: name
                      id: 5574
                      name: version
            - kind: lambda
              id: 5583
              params:
                - id: 5577
                  name: l
              expr:
                kind: app
                id: 5582
                opcode: eq
                args:
                  - kind: app
                    id: 5580
                    opcode: field
                    args:
                      - kind: name
                        id: 5578
                        name: l
                      - kind: str
                        id: 5579
                        value: key_hash
                  - kind: name
                    id: 5581
                    name: key_hash
        - kind: lambda
          id: 5590
          params:
            - id: 5585
              name: l
          expr:
            kind: app
            id: 5589
            opcode: Some
            args:
              - kind: app
                id: 5588
                opcode: field
                args:
                  - kind: name
                    id: 5586
                    name: l
                  - kind: str
                    id: 5587
                    value: value_hash
    depth: 3
  5593:
    kind: def
    id: 5592
    name: optionalValueForKey
    qualifier: val
    expr:
      kind: app
      id: 5591
      opcode: map
      args:
        - kind: app
          id: 5584
          opcode: filter
          args:
            - kind: app
              id: 5576
              opcode: allLeafs
              args:
                - kind: app
                  id: 5575
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 5573
                      name: t
                    - kind: name
                      id: 5574
                      name: version
            - kind: lambda
              id: 5583
              params:
                - id: 5577
                  name: l
              expr:
                kind: app
                id: 5582
                opcode: eq
                args:
                  - kind: app
                    id: 5580
                    opcode: field
                    args:
                      - kind: name
                        id: 5578
                        name: l
                      - kind: str
                        id: 5579
                        value: key_hash
                  - kind: name
                    id: 5581
                    name: key_hash
        - kind: lambda
          id: 5590
          params:
            - id: 5585
              name: l
          expr:
            kind: app
            id: 5589
            opcode: Some
            args:
              - kind: app
                id: 5588
                opcode: field
                args:
                  - kind: name
                    id: 5586
                    name: l
                  - kind: str
                    id: 5587
                    value: value_hash
    depth: 3
  5594:
    kind: def
    id: 1691
    name: empty
    qualifier: puredef
    expr:
      kind: lambda
      id: 1690
      params:
        - id: 1685
          name: s
      expr:
        kind: app
        id: 1689
        opcode: eq
        args:
          - kind: name
            id: 1687
            name: s
          - kind: app
            id: 1688
            opcode: Set
            args: []
    depth: 0
  5595:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5596:
    kind: def
    id: 5592
    name: optionalValueForKey
    qualifier: val
    expr:
      kind: app
      id: 5591
      opcode: map
      args:
        - kind: app
          id: 5584
          opcode: filter
          args:
            - kind: app
              id: 5576
              opcode: allLeafs
              args:
                - kind: app
                  id: 5575
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 5573
                      name: t
                    - kind: name
                      id: 5574
                      name: version
            - kind: lambda
              id: 5583
              params:
                - id: 5577
                  name: l
              expr:
                kind: app
                id: 5582
                opcode: eq
                args:
                  - kind: app
                    id: 5580
                    opcode: field
                    args:
                      - kind: name
                        id: 5578
                        name: l
                      - kind: str
                        id: 5579
                        value: key_hash
                  - kind: name
                    id: 5581
                    name: key_hash
        - kind: lambda
          id: 5590
          params:
            - id: 5585
              name: l
          expr:
            kind: app
            id: 5589
            opcode: Some
            args:
              - kind: app
                id: 5588
                opcode: field
                args:
                  - kind: name
                    id: 5586
                    name: l
                  - kind: str
                    id: 5587
                    value: value_hash
    depth: 3
  5599:
    kind: def
    id: 5599
    name: state_storage_read
    qualifier: val
    expr:
      kind: app
      id: 5598
      opcode: ite
      args:
        - kind: app
          id: 5594
          opcode: empty
          args:
            - kind: name
              id: 5593
              name: optionalValueForKey
        - kind: name
          id: 5595
          name: None
        - kind: app
          id: 5597
          opcode: getOnlyElement
          args:
            - kind: name
              id: 5596
              name: optionalValueForKey
    depth: 4
  5600:
    kind: def
    id: 5599
    name: state_storage_read
    qualifier: val
    expr:
      kind: app
      id: 5598
      opcode: ite
      args:
        - kind: app
          id: 5594
          opcode: empty
          args:
            - kind: name
              id: 5593
              name: optionalValueForKey
        - kind: name
          id: 5595
          name: None
        - kind: app
          id: 5597
          opcode: getOnlyElement
          args:
            - kind: name
              id: 5596
              name: optionalValueForKey
    depth: 4
  5601:
    id: 5565
    name: t
  5602:
    id: 5569
    name: version
  5603:
    id: 5567
    name: key_hash
  5604:
    kind: def
    id: 5399
    name: ics23_prove_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 5398
      params:
        - id: 5196
          name: t
        - id: 5198
          name: version
        - id: 5200
          name: key_hash
      expr:
        kind: let
        id: 5397
        opdef:
          id: 5218
          name: prefixes_list
          qualifier: val
          expr:
            kind: app
            id: 5217
            opcode: toList
            args:
              - kind: app
                id: 5215
                opcode: map
                args:
                  - kind: app
                    id: 5208
                    opcode: to
                    args:
                      - kind: int
                        id: 5205
                        value: 0
                      - kind: app
                        id: 5207
                        opcode: length
                        args:
                          - kind: name
                            id: 5206
                            name: key_hash
                  - kind: lambda
                    id: 5214
                    params:
                      - id: 5209
                        name: i
                    expr:
                      kind: app
                      id: 5213
                      opcode: slice
                      args:
                        - kind: name
                          id: 5210
                          name: key_hash
                        - kind: int
                          id: 5211
                          value: 0
                        - kind: name
                          id: 5212
                          name: i
              - kind: name
                id: 5216
                name: listCompare
          depth: ~
        expr:
          kind: let
          id: 5396
          opdef:
            id: 5385
            name: r
            qualifier: val
            expr:
              kind: app
              id: 5384
              opcode: foldl
              args:
                - kind: name
                  id: 5219
                  name: prefixes_list
                - kind: app
                  id: 5228
                  opcode: Rec
                  args:
                    - kind: str
                      id: 5221
                      value: path
                    - kind: app
                      id: 5220
                      opcode: List
                      args: []
                    - kind: str
                      id: 5223
                      value: i
                    - kind: int
                      id: 5222
                      value: 0
                    - kind: str
                      id: 5225
                      value: found
                    - kind: bool
                      id: 5224
                      value: false
                    - kind: str
                      id: 5227
                      value: child_version
                    - kind: name
                      id: 5226
                      name: version
                - kind: lambda
                  id: 5383
                  params:
                    - id: 5229
                      name: iterator
                    - id: 5230
                      name: key_prefix
                  expr:
                    kind: app
                    id: 5382
                    opcode: ite
                    args:
                      - kind: app
                        id: 5247
                        opcode: or
                        args:
                          - kind: app
                            id: 5233
                            opcode: field
                            args:
                              - kind: name
                                id: 5231
                                name: iterator
                              - kind: str
                                id: 5232
                                value: found
                          - kind: app
                            id: 5246
                            opcode: not
                            args:
                              - kind: app
                                id: 5245
                                opcode: contains
                                args:
                                  - kind: app
                                    id: 5237
                                    opcode: keys
                                    args:
                                      - kind: app
                                        id: 5236
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5234
                                            name: t
                                          - kind: str
                                            id: 5235
                                            value: nodes
                                  - kind: app
                                    id: 5244
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5239
                                        value: key_hash
                                      - kind: name
                                        id: 5238
                                        name: key_prefix
                                      - kind: str
                                        id: 5243
                                        value: version
                                      - kind: app
                                        id: 5242
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5240
                                            name: iterator
                                          - kind: str
                                            id: 5241
                                            value: child_version
                      - kind: name
                        id: 5248
                        name: iterator
                      - kind: let
                        id: 5381
                        opdef:
                          id: 5260
                          name: node
                          qualifier: val
                          expr:
                            kind: app
                            id: 5259
                            opcode: get
                            args:
                              - kind: app
                                id: 5251
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5249
                                    name: t
                                  - kind: str
                                    id: 5250
                                    value: nodes
                              - kind: app
                                id: 5258
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 5253
                                    value: key_hash
                                  - kind: name
                                    id: 5252
                                    name: key_prefix
                                  - kind: str
                                    id: 5257
                                    value: version
                                  - kind: app
                                    id: 5256
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5254
                                        name: iterator
                                      - kind: str
                                        id: 5255
                                        value: child_version
                          depth: ~
                        expr:
                          kind: app
                          id: 5374
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5261
                              name: node
                            - kind: str
                              id: 5375
                              value: Leaf
                            - kind: lambda
                              id: 5376
                              params:
                                - id: 5377
                                  name: l
                              expr:
                                kind: app
                                id: 5276
                                opcode: with
                                args:
                                  - kind: app
                                    id: 5275
                                    opcode: with
                                    args:
                                      - kind: name
                                        id: 5262
                                        name: iterator
                                      - kind: str
                                        id: 5268
                                        value: i
                                      - kind: app
                                        id: 5267
                                        opcode: iadd
                                        args:
                                          - kind: app
                                            id: 5265
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5263
                                                name: iterator
                                              - kind: str
                                                id: 5264
                                                value: i
                                          - kind: int
                                            id: 5266
                                            value: 1
                                  - kind: str
                                    id: 5274
                                    value: found
                                  - kind: app
                                    id: 5273
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5271
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5269
                                            name: l
                                          - kind: str
                                            id: 5270
                                            value: key_hash
                                      - kind: name
                                        id: 5272
                                        name: key_hash
                            - kind: str
                              id: 5378
                              value: Internal
                            - kind: lambda
                              id: 5379
                              params:
                                - id: 5380
                                  name: internal
                              expr:
                                kind: let
                                id: 5373
                                opdef:
                                  id: 5280
                                  name: next_bit_0
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5279
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 5277
                                        name: key_prefix
                                      - kind: int
                                        id: 5278
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5372
                                  opdef:
                                    id: 5303
                                    name: child_version
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5302
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 5289
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5287
                                              opcode: nth
                                              args:
                                                - kind: name
                                                  id: 5281
                                                  name: prefixes_list
                                                - kind: app
                                                  id: 5286
                                                  opcode: iadd
                                                  args:
                                                    - kind: app
                                                      id: 5284
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5282
                                                          name: iterator
                                                        - kind: str
                                                          id: 5283
                                                          value: i
                                                    - kind: int
                                                      id: 5285
                                                      value: 1
                                            - kind: name
                                              id: 5288
                                              name: next_bit_0
                                        - kind: app
                                          id: 5295
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5293
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5292
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5290
                                                      name: internal
                                                    - kind: str
                                                      id: 5291
                                                      value: left_child
                                            - kind: str
                                              id: 5294
                                              value: version
                                        - kind: app
                                          id: 5301
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5299
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5298
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5296
                                                      name: internal
                                                    - kind: str
                                                      id: 5297
                                                      value: right_child
                                            - kind: str
                                              id: 5300
                                              value: version
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 5371
                                    opdef:
                                      id: 5352
                                      name: innerOp
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 5351
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 5312
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 5310
                                                opcode: nth
                                                args:
                                                  - kind: name
                                                    id: 5304
                                                    name: prefixes_list
                                                  - kind: app
                                                    id: 5309
                                                    opcode: iadd
                                                    args:
                                                      - kind: app
                                                        id: 5307
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5305
                                                            name: iterator
                                                          - kind: str
                                                            id: 5306
                                                            value: i
                                                      - kind: int
                                                        id: 5308
                                                        value: 1
                                              - kind: name
                                                id: 5311
                                                name: next_bit_0
                                          - kind: app
                                            id: 5330
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5314
                                                value: prefix
                                              - kind: name
                                                id: 5313
                                                name: InternalNodeHashPrefix
                                              - kind: str
                                                id: 5329
                                                value: suffix
                                              - kind: app
                                                id: 5322
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 5317
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 5315
                                                        name: internal
                                                      - kind: str
                                                        id: 5316
                                                        value: right_child
                                                  - kind: str
                                                    id: 5323
                                                    value: None
                                                  - kind: lambda
                                                    id: 5324
                                                    params:
                                                      - id: 5325
                                                        name: _
                                                    expr:
                                                      kind: name
                                                      id: 5318
                                                      name: Hash256_ZERO
                                                  - kind: str
                                                    id: 5326
                                                    value: Some
                                                  - kind: lambda
                                                    id: 5327
                                                    params:
                                                      - id: 5328
                                                        name: c
                                                    expr:
                                                      kind: app
                                                      id: 5321
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5319
                                                          name: c
                                                        - kind: str
                                                          id: 5320
                                                          value: hash
                                          - kind: app
                                            id: 5350
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5347
                                                value: prefix
                                              - kind: app
                                                id: 5346
                                                opcode: termConcat
                                                args:
                                                  - kind: name
                                                    id: 5331
                                                    name: InternalNodeHashPrefix
                                                  - kind: app
                                                    id: 5339
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 5334
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5332
                                                            name: internal
                                                          - kind: str
                                                            id: 5333
                                                            value: left_child
                                                      - kind: str
                                                        id: 5340
                                                        value: None
                                                      - kind: lambda
                                                        id: 5341
                                                        params:
                                                          - id: 5342
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 5335
                                                          name: Hash256_ZERO
                                                      - kind: str
                                                        id: 5343
                                                        value: Some
                                                      - kind: lambda
                                                        id: 5344
                                                        params:
                                                          - id: 5345
                                                            name: c
                                                        expr:
                                                          kind: app
                                                          id: 5338
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 5336
                                                              name: c
                                                            - kind: str
                                                              id: 5337
                                                              value: hash
                                              - kind: str
                                                id: 5349
                                                value: suffix
                                              - kind: app
                                                id: 5348
                                                opcode: Map
                                                args: []
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 5370
                                      opcode: with
                                      args:
                                        - kind: app
                                          id: 5369
                                          opcode: with
                                          args:
                                            - kind: app
                                              id: 5368
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 5353
                                                  name: iterator
                                                - kind: str
                                                  id: 5359
                                                  value: path
                                                - kind: app
                                                  id: 5358
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 5356
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5354
                                                          name: iterator
                                                        - kind: str
                                                          id: 5355
                                                          value: path
                                                    - kind: name
                                                      id: 5357
                                                      name: innerOp
                                            - kind: str
                                              id: 5365
                                              value: i
                                            - kind: app
                                              id: 5364
                                              opcode: iadd
                                              args:
                                                - kind: app
                                                  id: 5362
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5360
                                                      name: iterator
                                                    - kind: str
                                                      id: 5361
                                                      value: i
                                                - kind: int
                                                  id: 5363
                                                  value: 1
                                        - kind: str
                                          id: 5367
                                          value: child_version
                                        - kind: name
                                          id: 5366
                                          name: child_version
            depth: ~
          expr:
            kind: app
            id: 5395
            opcode: ite
            args:
              - kind: app
                id: 5388
                opcode: field
                args:
                  - kind: name
                    id: 5386
                    name: r
                  - kind: str
                    id: 5387
                    value: found
              - kind: app
                id: 5393
                opcode: Some
                args:
                  - kind: app
                    id: 5392
                    opcode: reverse
                    args:
                      - kind: app
                        id: 5391
                        opcode: field
                        args:
                          - kind: name
                            id: 5389
                            name: r
                          - kind: str
                            id: 5390
                            value: path
              - kind: name
                id: 5394
                name: None
    depth: 0
  5605:
    kind: def
    id: 5605
    name: p
    qualifier: val
    expr:
      kind: app
      id: 5604
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5601
          name: t
        - kind: name
          id: 5602
          name: version
        - kind: name
          id: 5603
          name: key_hash
    depth: 6
  5606:
    kind: def
    id: 5605
    name: p
    qualifier: val
    expr:
      kind: app
      id: 5604
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5601
          name: t
        - kind: name
          id: 5602
          name: version
        - kind: name
          id: 5603
          name: key_hash
    depth: 6
  5607:
    id: 5567
    name: key_hash
  5609:
    id: 5759
    name: value
  5611:
    kind: def
    id: 3981
    name: LeafNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3980
      opcode: raw
      args:
        - kind: name
          id: 3979
          name: LeafNodeIdentifier
    depth: 0
  5615:
    id: 5624
    name: path
  5618:
    kind: def
    id: 8470
    name: Exist
    qualifier: def
    expr:
      kind: lambda
      id: 8469
      params:
        - id: 8466
          name: __ExistParam
      expr:
        kind: app
        id: 8468
        opcode: variant
        args:
          - kind: str
            id: 8465
            value: Exist
          - kind: name
            id: 8467
            name: __ExistParam
    depth: 0
  5619:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5620:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5629:
    kind: typedef
    id: 3897
  5632:
    id: 5565
    name: t
  5633:
    id: 5569
    name: version
  5634:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  5635:
    id: 5567
    name: key_hash
  5636:
    kind: def
    id: 5481
    name: leftNeighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5480
      params:
        - id: 5401
          name: t
        - id: 5403
          name: k
      expr:
        kind: let
        id: 5479
        opdef:
          id: 5426
          name: smallerKeyNodes
          qualifier: val
          expr:
            kind: app
            id: 5425
            opcode: filter
            args:
              - kind: app
                id: 5408
                opcode: values
                args:
                  - kind: name
                    id: 5407
                    name: t
              - kind: lambda
                id: 5424
                params:
                  - id: 5409
                    name: n
                expr:
                  kind: app
                  id: 5417
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5410
                      name: n
                    - kind: str
                      id: 5418
                      value: Leaf
                    - kind: lambda
                      id: 5419
                      params:
                        - id: 5420
                          name: l
                      expr:
                        kind: app
                        id: 5415
                        opcode: less_than
                        args:
                          - kind: app
                            id: 5413
                            opcode: field
                            args:
                              - kind: name
                                id: 5411
                                name: l
                              - kind: str
                                id: 5412
                                value: key_hash
                          - kind: name
                            id: 5414
                            name: k
                    - kind: str
                      id: 5421
                      value: Internal
                    - kind: lambda
                      id: 5422
                      params:
                        - id: 5423
                          name: _
                      expr:
                        kind: bool
                        id: 5416
                        value: false
          depth: ~
        expr:
          kind: app
          id: 5478
          opcode: ite
          args:
            - kind: app
              id: 5428
              opcode: empty
              args:
                - kind: name
                  id: 5427
                  name: smallerKeyNodes
            - kind: name
              id: 5429
              name: None
            - kind: let
              id: 5477
              opdef:
                id: 5450
                name: someLeaf
                qualifier: val
                expr:
                  kind: app
                  id: 5449
                  opcode: fold
                  args:
                    - kind: name
                      id: 5430
                      name: smallerKeyNodes
                    - kind: app
                      id: 5435
                      opcode: Rec
                      args:
                        - kind: str
                          id: 5432
                          value: key_hash
                        - kind: app
                          id: 5431
                          opcode: List
                          args: []
                        - kind: str
                          id: 5434
                          value: value_hash
                        - kind: app
                          id: 5433
                          opcode: List
                          args: []
                    - kind: lambda
                      id: 5448
                      params:
                        - id: 5436
                          name: s
                        - id: 5437
                          name: x
                      expr:
                        kind: app
                        id: 5441
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5438
                            name: x
                          - kind: str
                            id: 5442
                            value: Leaf
                          - kind: lambda
                            id: 5443
                            params:
                              - id: 5444
                                name: l
                            expr:
                              kind: name
                              id: 5439
                              name: l
                          - kind: str
                            id: 5445
                            value: Internal
                          - kind: lambda
                            id: 5446
                            params:
                              - id: 5447
                                name: _
                            expr:
                              kind: name
                              id: 5440
                              name: s
                depth: ~
              expr:
                kind: app
                id: 5476
                opcode: Some
                args:
                  - kind: app
                    id: 5475
                    opcode: fold
                    args:
                      - kind: name
                        id: 5451
                        name: smallerKeyNodes
                      - kind: name
                        id: 5452
                        name: someLeaf
                      - kind: lambda
                        id: 5474
                        params:
                          - id: 5453
                            name: s
                          - id: 5454
                            name: x
                        expr:
                          kind: app
                          id: 5467
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5455
                              name: x
                            - kind: str
                              id: 5468
                              value: Leaf
                            - kind: lambda
                              id: 5469
                              params:
                                - id: 5470
                                  name: l
                              expr:
                                kind: app
                                id: 5465
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5462
                                    opcode: less_than
                                    args:
                                      - kind: app
                                        id: 5458
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5456
                                            name: s
                                          - kind: str
                                            id: 5457
                                            value: key_hash
                                      - kind: app
                                        id: 5461
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5459
                                            name: l
                                          - kind: str
                                            id: 5460
                                            value: key_hash
                                  - kind: name
                                    id: 5463
                                    name: l
                                  - kind: name
                                    id: 5464
                                    name: s
                            - kind: str
                              id: 5471
                              value: Internal
                            - kind: lambda
                              id: 5472
                              params:
                                - id: 5473
                                  name: _
                              expr:
                                kind: name
                                id: 5466
                                name: s
    depth: 0
  5637:
    kind: def
    id: 5637
    name: lneighborOption
    qualifier: val
    expr:
      kind: app
      id: 5636
      opcode: leftNeighbor
      args:
        - kind: app
          id: 5634
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5632
              name: t
            - kind: name
              id: 5633
              name: version
        - kind: name
          id: 5635
          name: key_hash
    depth: 6
  5638:
    kind: typedef
    id: 8451
  5641:
    kind: def
    id: 5637
    name: lneighborOption
    qualifier: val
    expr:
      kind: app
      id: 5636
      opcode: leftNeighbor
      args:
        - kind: app
          id: 5634
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5632
              name: t
            - kind: name
              id: 5633
              name: version
        - kind: name
          id: 5635
          name: key_hash
    depth: 6
  5642:
    id: 5565
    name: t
  5643:
    id: 5569
    name: version
  5644:
    id: 5679
    name: lneighbor
  5647:
    kind: def
    id: 5399
    name: ics23_prove_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 5398
      params:
        - id: 5196
          name: t
        - id: 5198
          name: version
        - id: 5200
          name: key_hash
      expr:
        kind: let
        id: 5397
        opdef:
          id: 5218
          name: prefixes_list
          qualifier: val
          expr:
            kind: app
            id: 5217
            opcode: toList
            args:
              - kind: app
                id: 5215
                opcode: map
                args:
                  - kind: app
                    id: 5208
                    opcode: to
                    args:
                      - kind: int
                        id: 5205
                        value: 0
                      - kind: app
                        id: 5207
                        opcode: length
                        args:
                          - kind: name
                            id: 5206
                            name: key_hash
                  - kind: lambda
                    id: 5214
                    params:
                      - id: 5209
                        name: i
                    expr:
                      kind: app
                      id: 5213
                      opcode: slice
                      args:
                        - kind: name
                          id: 5210
                          name: key_hash
                        - kind: int
                          id: 5211
                          value: 0
                        - kind: name
                          id: 5212
                          name: i
              - kind: name
                id: 5216
                name: listCompare
          depth: ~
        expr:
          kind: let
          id: 5396
          opdef:
            id: 5385
            name: r
            qualifier: val
            expr:
              kind: app
              id: 5384
              opcode: foldl
              args:
                - kind: name
                  id: 5219
                  name: prefixes_list
                - kind: app
                  id: 5228
                  opcode: Rec
                  args:
                    - kind: str
                      id: 5221
                      value: path
                    - kind: app
                      id: 5220
                      opcode: List
                      args: []
                    - kind: str
                      id: 5223
                      value: i
                    - kind: int
                      id: 5222
                      value: 0
                    - kind: str
                      id: 5225
                      value: found
                    - kind: bool
                      id: 5224
                      value: false
                    - kind: str
                      id: 5227
                      value: child_version
                    - kind: name
                      id: 5226
                      name: version
                - kind: lambda
                  id: 5383
                  params:
                    - id: 5229
                      name: iterator
                    - id: 5230
                      name: key_prefix
                  expr:
                    kind: app
                    id: 5382
                    opcode: ite
                    args:
                      - kind: app
                        id: 5247
                        opcode: or
                        args:
                          - kind: app
                            id: 5233
                            opcode: field
                            args:
                              - kind: name
                                id: 5231
                                name: iterator
                              - kind: str
                                id: 5232
                                value: found
                          - kind: app
                            id: 5246
                            opcode: not
                            args:
                              - kind: app
                                id: 5245
                                opcode: contains
                                args:
                                  - kind: app
                                    id: 5237
                                    opcode: keys
                                    args:
                                      - kind: app
                                        id: 5236
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5234
                                            name: t
                                          - kind: str
                                            id: 5235
                                            value: nodes
                                  - kind: app
                                    id: 5244
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5239
                                        value: key_hash
                                      - kind: name
                                        id: 5238
                                        name: key_prefix
                                      - kind: str
                                        id: 5243
                                        value: version
                                      - kind: app
                                        id: 5242
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5240
                                            name: iterator
                                          - kind: str
                                            id: 5241
                                            value: child_version
                      - kind: name
                        id: 5248
                        name: iterator
                      - kind: let
                        id: 5381
                        opdef:
                          id: 5260
                          name: node
                          qualifier: val
                          expr:
                            kind: app
                            id: 5259
                            opcode: get
                            args:
                              - kind: app
                                id: 5251
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5249
                                    name: t
                                  - kind: str
                                    id: 5250
                                    value: nodes
                              - kind: app
                                id: 5258
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 5253
                                    value: key_hash
                                  - kind: name
                                    id: 5252
                                    name: key_prefix
                                  - kind: str
                                    id: 5257
                                    value: version
                                  - kind: app
                                    id: 5256
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5254
                                        name: iterator
                                      - kind: str
                                        id: 5255
                                        value: child_version
                          depth: ~
                        expr:
                          kind: app
                          id: 5374
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5261
                              name: node
                            - kind: str
                              id: 5375
                              value: Leaf
                            - kind: lambda
                              id: 5376
                              params:
                                - id: 5377
                                  name: l
                              expr:
                                kind: app
                                id: 5276
                                opcode: with
                                args:
                                  - kind: app
                                    id: 5275
                                    opcode: with
                                    args:
                                      - kind: name
                                        id: 5262
                                        name: iterator
                                      - kind: str
                                        id: 5268
                                        value: i
                                      - kind: app
                                        id: 5267
                                        opcode: iadd
                                        args:
                                          - kind: app
                                            id: 5265
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5263
                                                name: iterator
                                              - kind: str
                                                id: 5264
                                                value: i
                                          - kind: int
                                            id: 5266
                                            value: 1
                                  - kind: str
                                    id: 5274
                                    value: found
                                  - kind: app
                                    id: 5273
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5271
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5269
                                            name: l
                                          - kind: str
                                            id: 5270
                                            value: key_hash
                                      - kind: name
                                        id: 5272
                                        name: key_hash
                            - kind: str
                              id: 5378
                              value: Internal
                            - kind: lambda
                              id: 5379
                              params:
                                - id: 5380
                                  name: internal
                              expr:
                                kind: let
                                id: 5373
                                opdef:
                                  id: 5280
                                  name: next_bit_0
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5279
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 5277
                                        name: key_prefix
                                      - kind: int
                                        id: 5278
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5372
                                  opdef:
                                    id: 5303
                                    name: child_version
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5302
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 5289
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5287
                                              opcode: nth
                                              args:
                                                - kind: name
                                                  id: 5281
                                                  name: prefixes_list
                                                - kind: app
                                                  id: 5286
                                                  opcode: iadd
                                                  args:
                                                    - kind: app
                                                      id: 5284
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5282
                                                          name: iterator
                                                        - kind: str
                                                          id: 5283
                                                          value: i
                                                    - kind: int
                                                      id: 5285
                                                      value: 1
                                            - kind: name
                                              id: 5288
                                              name: next_bit_0
                                        - kind: app
                                          id: 5295
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5293
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5292
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5290
                                                      name: internal
                                                    - kind: str
                                                      id: 5291
                                                      value: left_child
                                            - kind: str
                                              id: 5294
                                              value: version
                                        - kind: app
                                          id: 5301
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5299
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5298
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5296
                                                      name: internal
                                                    - kind: str
                                                      id: 5297
                                                      value: right_child
                                            - kind: str
                                              id: 5300
                                              value: version
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 5371
                                    opdef:
                                      id: 5352
                                      name: innerOp
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 5351
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 5312
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 5310
                                                opcode: nth
                                                args:
                                                  - kind: name
                                                    id: 5304
                                                    name: prefixes_list
                                                  - kind: app
                                                    id: 5309
                                                    opcode: iadd
                                                    args:
                                                      - kind: app
                                                        id: 5307
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5305
                                                            name: iterator
                                                          - kind: str
                                                            id: 5306
                                                            value: i
                                                      - kind: int
                                                        id: 5308
                                                        value: 1
                                              - kind: name
                                                id: 5311
                                                name: next_bit_0
                                          - kind: app
                                            id: 5330
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5314
                                                value: prefix
                                              - kind: name
                                                id: 5313
                                                name: InternalNodeHashPrefix
                                              - kind: str
                                                id: 5329
                                                value: suffix
                                              - kind: app
                                                id: 5322
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 5317
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 5315
                                                        name: internal
                                                      - kind: str
                                                        id: 5316
                                                        value: right_child
                                                  - kind: str
                                                    id: 5323
                                                    value: None
                                                  - kind: lambda
                                                    id: 5324
                                                    params:
                                                      - id: 5325
                                                        name: _
                                                    expr:
                                                      kind: name
                                                      id: 5318
                                                      name: Hash256_ZERO
                                                  - kind: str
                                                    id: 5326
                                                    value: Some
                                                  - kind: lambda
                                                    id: 5327
                                                    params:
                                                      - id: 5328
                                                        name: c
                                                    expr:
                                                      kind: app
                                                      id: 5321
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5319
                                                          name: c
                                                        - kind: str
                                                          id: 5320
                                                          value: hash
                                          - kind: app
                                            id: 5350
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5347
                                                value: prefix
                                              - kind: app
                                                id: 5346
                                                opcode: termConcat
                                                args:
                                                  - kind: name
                                                    id: 5331
                                                    name: InternalNodeHashPrefix
                                                  - kind: app
                                                    id: 5339
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 5334
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5332
                                                            name: internal
                                                          - kind: str
                                                            id: 5333
                                                            value: left_child
                                                      - kind: str
                                                        id: 5340
                                                        value: None
                                                      - kind: lambda
                                                        id: 5341
                                                        params:
                                                          - id: 5342
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 5335
                                                          name: Hash256_ZERO
                                                      - kind: str
                                                        id: 5343
                                                        value: Some
                                                      - kind: lambda
                                                        id: 5344
                                                        params:
                                                          - id: 5345
                                                            name: c
                                                        expr:
                                                          kind: app
                                                          id: 5338
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 5336
                                                              name: c
                                                            - kind: str
                                                              id: 5337
                                                              value: hash
                                              - kind: str
                                                id: 5349
                                                value: suffix
                                              - kind: app
                                                id: 5348
                                                opcode: Map
                                                args: []
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 5370
                                      opcode: with
                                      args:
                                        - kind: app
                                          id: 5369
                                          opcode: with
                                          args:
                                            - kind: app
                                              id: 5368
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 5353
                                                  name: iterator
                                                - kind: str
                                                  id: 5359
                                                  value: path
                                                - kind: app
                                                  id: 5358
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 5356
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5354
                                                          name: iterator
                                                        - kind: str
                                                          id: 5355
                                                          value: path
                                                    - kind: name
                                                      id: 5357
                                                      name: innerOp
                                            - kind: str
                                              id: 5365
                                              value: i
                                            - kind: app
                                              id: 5364
                                              opcode: iadd
                                              args:
                                                - kind: app
                                                  id: 5362
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5360
                                                      name: iterator
                                                    - kind: str
                                                      id: 5361
                                                      value: i
                                                - kind: int
                                                  id: 5363
                                                  value: 1
                                        - kind: str
                                          id: 5367
                                          value: child_version
                                        - kind: name
                                          id: 5366
                                          name: child_version
            depth: ~
          expr:
            kind: app
            id: 5395
            opcode: ite
            args:
              - kind: app
                id: 5388
                opcode: field
                args:
                  - kind: name
                    id: 5386
                    name: r
                  - kind: str
                    id: 5387
                    value: found
              - kind: app
                id: 5393
                opcode: Some
                args:
                  - kind: app
                    id: 5392
                    opcode: reverse
                    args:
                      - kind: app
                        id: 5391
                        opcode: field
                        args:
                          - kind: name
                            id: 5389
                            name: r
                          - kind: str
                            id: 5390
                            value: path
              - kind: name
                id: 5394
                name: None
    depth: 0
  5648:
    kind: def
    id: 5648
    name: pathOption
    qualifier: val
    expr:
      kind: app
      id: 5647
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5642
          name: t
        - kind: name
          id: 5643
          name: version
        - kind: app
          id: 5646
          opcode: field
          args:
            - kind: name
              id: 5644
              name: lneighbor
            - kind: str
              id: 5645
              value: key_hash
    depth: 10
  5649:
    kind: def
    id: 5648
    name: pathOption
    qualifier: val
    expr:
      kind: app
      id: 5647
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5642
          name: t
        - kind: name
          id: 5643
          name: version
        - kind: app
          id: 5646
          opcode: field
          args:
            - kind: name
              id: 5644
              name: lneighbor
            - kind: str
              id: 5645
              value: key_hash
    depth: 10
  5650:
    id: 5679
    name: lneighbor
  5654:
    id: 5679
    name: lneighbor
  5658:
    kind: def
    id: 3981
    name: LeafNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3980
      opcode: raw
      args:
        - kind: name
          id: 3979
          name: LeafNodeIdentifier
    depth: 0
  5662:
    id: 5670
    name: path
  5665:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5666:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5675:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5683:
    kind: def
    id: 5683
    name: leftNeighborExistenceProof
    qualifier: val
    expr:
      kind: app
      id: 5676
      opcode: matchVariant
      args:
        - kind: name
          id: 5641
          name: lneighborOption
        - kind: str
          id: 5677
          value: Some
        - kind: lambda
          id: 5678
          params:
            - id: 5679
              name: lneighbor
          expr:
            kind: let
            id: 5674
            opdef:
              id: 5648
              name: pathOption
              qualifier: val
              expr:
                kind: app
                id: 5647
                opcode: ics23_prove_existence
                args:
                  - kind: name
                    id: 5642
                    name: t
                  - kind: name
                    id: 5643
                    name: version
                  - kind: app
                    id: 5646
                    opcode: field
                    args:
                      - kind: name
                        id: 5644
                        name: lneighbor
                      - kind: str
                        id: 5645
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 5667
              opcode: matchVariant
              args:
                - kind: name
                  id: 5649
                  name: pathOption
                - kind: str
                  id: 5668
                  value: Some
                - kind: lambda
                  id: 5669
                  params:
                    - id: 5670
                      name: path
                  expr:
                    kind: app
                    id: 5665
                    opcode: Some
                    args:
                      - kind: app
                        id: 5664
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5653
                            value: key
                          - kind: app
                            id: 5652
                            opcode: field
                            args:
                              - kind: name
                                id: 5650
                                name: lneighbor
                              - kind: str
                                id: 5651
                                value: key_hash
                          - kind: str
                            id: 5657
                            value: value
                          - kind: app
                            id: 5656
                            opcode: field
                            args:
                              - kind: name
                                id: 5654
                                name: lneighbor
                              - kind: str
                                id: 5655
                                value: value_hash
                          - kind: str
                            id: 5661
                            value: leaf
                          - kind: app
                            id: 5660
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5659
                                value: prefix
                              - kind: name
                                id: 5658
                                name: LeafNodeHashPrefix
                          - kind: str
                            id: 5663
                            value: path
                          - kind: name
                            id: 5662
                            name: path
                - kind: str
                  id: 5671
                  value: None
                - kind: lambda
                  id: 5672
                  params:
                    - id: 5673
                      name: _
                  expr:
                    kind: name
                    id: 5666
                    name: None
        - kind: str
          id: 5680
          value: None
        - kind: lambda
          id: 5681
          params:
            - id: 5682
              name: _
          expr:
            kind: name
            id: 5675
            name: None
    depth: 7
  5684:
    kind: typedef
    id: 3897
  5687:
    id: 5565
    name: t
  5688:
    id: 5569
    name: version
  5689:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  5690:
    id: 5567
    name: key_hash
  5691:
    kind: def
    id: 5563
    name: rightNeighbor
    qualifier: puredef
    expr:
      kind: lambda
      id: 5562
      params:
        - id: 5483
          name: t
        - id: 5485
          name: k
      expr:
        kind: let
        id: 5561
        opdef:
          id: 5508
          name: largerKeyNodes
          qualifier: val
          expr:
            kind: app
            id: 5507
            opcode: filter
            args:
              - kind: app
                id: 5490
                opcode: values
                args:
                  - kind: name
                    id: 5489
                    name: t
              - kind: lambda
                id: 5506
                params:
                  - id: 5491
                    name: n
                expr:
                  kind: app
                  id: 5499
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 5492
                      name: n
                    - kind: str
                      id: 5500
                      value: Leaf
                    - kind: lambda
                      id: 5501
                      params:
                        - id: 5502
                          name: l
                      expr:
                        kind: app
                        id: 5497
                        opcode: less_than
                        args:
                          - kind: name
                            id: 5493
                            name: k
                          - kind: app
                            id: 5496
                            opcode: field
                            args:
                              - kind: name
                                id: 5494
                                name: l
                              - kind: str
                                id: 5495
                                value: key_hash
                    - kind: str
                      id: 5503
                      value: Internal
                    - kind: lambda
                      id: 5504
                      params:
                        - id: 5505
                          name: _
                      expr:
                        kind: bool
                        id: 5498
                        value: false
          depth: ~
        expr:
          kind: app
          id: 5560
          opcode: ite
          args:
            - kind: app
              id: 5510
              opcode: empty
              args:
                - kind: name
                  id: 5509
                  name: largerKeyNodes
            - kind: name
              id: 5511
              name: None
            - kind: let
              id: 5559
              opdef:
                id: 5532
                name: someLeaf
                qualifier: val
                expr:
                  kind: app
                  id: 5531
                  opcode: fold
                  args:
                    - kind: name
                      id: 5512
                      name: largerKeyNodes
                    - kind: app
                      id: 5517
                      opcode: Rec
                      args:
                        - kind: str
                          id: 5514
                          value: key_hash
                        - kind: app
                          id: 5513
                          opcode: List
                          args: []
                        - kind: str
                          id: 5516
                          value: value_hash
                        - kind: app
                          id: 5515
                          opcode: List
                          args: []
                    - kind: lambda
                      id: 5530
                      params:
                        - id: 5518
                          name: s
                        - id: 5519
                          name: x
                      expr:
                        kind: app
                        id: 5523
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5520
                            name: x
                          - kind: str
                            id: 5524
                            value: Leaf
                          - kind: lambda
                            id: 5525
                            params:
                              - id: 5526
                                name: l
                            expr:
                              kind: name
                              id: 5521
                              name: l
                          - kind: str
                            id: 5527
                            value: Internal
                          - kind: lambda
                            id: 5528
                            params:
                              - id: 5529
                                name: _
                            expr:
                              kind: name
                              id: 5522
                              name: s
                depth: ~
              expr:
                kind: app
                id: 5558
                opcode: Some
                args:
                  - kind: app
                    id: 5557
                    opcode: fold
                    args:
                      - kind: name
                        id: 5533
                        name: largerKeyNodes
                      - kind: name
                        id: 5534
                        name: someLeaf
                      - kind: lambda
                        id: 5556
                        params:
                          - id: 5535
                            name: s
                          - id: 5536
                            name: x
                        expr:
                          kind: app
                          id: 5549
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5537
                              name: x
                            - kind: str
                              id: 5550
                              value: Leaf
                            - kind: lambda
                              id: 5551
                              params:
                                - id: 5552
                                  name: l
                              expr:
                                kind: app
                                id: 5547
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 5544
                                    opcode: less_than
                                    args:
                                      - kind: app
                                        id: 5540
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5538
                                            name: l
                                          - kind: str
                                            id: 5539
                                            value: key_hash
                                      - kind: app
                                        id: 5543
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5541
                                            name: s
                                          - kind: str
                                            id: 5542
                                            value: key_hash
                                  - kind: name
                                    id: 5545
                                    name: l
                                  - kind: name
                                    id: 5546
                                    name: s
                            - kind: str
                              id: 5553
                              value: Internal
                            - kind: lambda
                              id: 5554
                              params:
                                - id: 5555
                                  name: _
                              expr:
                                kind: name
                                id: 5548
                                name: s
    depth: 0
  5692:
    kind: def
    id: 5692
    name: rneighborOption
    qualifier: val
    expr:
      kind: app
      id: 5691
      opcode: rightNeighbor
      args:
        - kind: app
          id: 5689
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5687
              name: t
            - kind: name
              id: 5688
              name: version
        - kind: name
          id: 5690
          name: key_hash
    depth: 8
  5693:
    kind: typedef
    id: 8451
  5696:
    kind: def
    id: 5692
    name: rneighborOption
    qualifier: val
    expr:
      kind: app
      id: 5691
      opcode: rightNeighbor
      args:
        - kind: app
          id: 5689
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5687
              name: t
            - kind: name
              id: 5688
              name: version
        - kind: name
          id: 5690
          name: key_hash
    depth: 8
  5697:
    id: 5565
    name: t
  5698:
    id: 5569
    name: version
  5699:
    id: 5734
    name: rneighbor
  5702:
    kind: def
    id: 5399
    name: ics23_prove_existence
    qualifier: puredef
    expr:
      kind: lambda
      id: 5398
      params:
        - id: 5196
          name: t
        - id: 5198
          name: version
        - id: 5200
          name: key_hash
      expr:
        kind: let
        id: 5397
        opdef:
          id: 5218
          name: prefixes_list
          qualifier: val
          expr:
            kind: app
            id: 5217
            opcode: toList
            args:
              - kind: app
                id: 5215
                opcode: map
                args:
                  - kind: app
                    id: 5208
                    opcode: to
                    args:
                      - kind: int
                        id: 5205
                        value: 0
                      - kind: app
                        id: 5207
                        opcode: length
                        args:
                          - kind: name
                            id: 5206
                            name: key_hash
                  - kind: lambda
                    id: 5214
                    params:
                      - id: 5209
                        name: i
                    expr:
                      kind: app
                      id: 5213
                      opcode: slice
                      args:
                        - kind: name
                          id: 5210
                          name: key_hash
                        - kind: int
                          id: 5211
                          value: 0
                        - kind: name
                          id: 5212
                          name: i
              - kind: name
                id: 5216
                name: listCompare
          depth: ~
        expr:
          kind: let
          id: 5396
          opdef:
            id: 5385
            name: r
            qualifier: val
            expr:
              kind: app
              id: 5384
              opcode: foldl
              args:
                - kind: name
                  id: 5219
                  name: prefixes_list
                - kind: app
                  id: 5228
                  opcode: Rec
                  args:
                    - kind: str
                      id: 5221
                      value: path
                    - kind: app
                      id: 5220
                      opcode: List
                      args: []
                    - kind: str
                      id: 5223
                      value: i
                    - kind: int
                      id: 5222
                      value: 0
                    - kind: str
                      id: 5225
                      value: found
                    - kind: bool
                      id: 5224
                      value: false
                    - kind: str
                      id: 5227
                      value: child_version
                    - kind: name
                      id: 5226
                      name: version
                - kind: lambda
                  id: 5383
                  params:
                    - id: 5229
                      name: iterator
                    - id: 5230
                      name: key_prefix
                  expr:
                    kind: app
                    id: 5382
                    opcode: ite
                    args:
                      - kind: app
                        id: 5247
                        opcode: or
                        args:
                          - kind: app
                            id: 5233
                            opcode: field
                            args:
                              - kind: name
                                id: 5231
                                name: iterator
                              - kind: str
                                id: 5232
                                value: found
                          - kind: app
                            id: 5246
                            opcode: not
                            args:
                              - kind: app
                                id: 5245
                                opcode: contains
                                args:
                                  - kind: app
                                    id: 5237
                                    opcode: keys
                                    args:
                                      - kind: app
                                        id: 5236
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5234
                                            name: t
                                          - kind: str
                                            id: 5235
                                            value: nodes
                                  - kind: app
                                    id: 5244
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 5239
                                        value: key_hash
                                      - kind: name
                                        id: 5238
                                        name: key_prefix
                                      - kind: str
                                        id: 5243
                                        value: version
                                      - kind: app
                                        id: 5242
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5240
                                            name: iterator
                                          - kind: str
                                            id: 5241
                                            value: child_version
                      - kind: name
                        id: 5248
                        name: iterator
                      - kind: let
                        id: 5381
                        opdef:
                          id: 5260
                          name: node
                          qualifier: val
                          expr:
                            kind: app
                            id: 5259
                            opcode: get
                            args:
                              - kind: app
                                id: 5251
                                opcode: field
                                args:
                                  - kind: name
                                    id: 5249
                                    name: t
                                  - kind: str
                                    id: 5250
                                    value: nodes
                              - kind: app
                                id: 5258
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 5253
                                    value: key_hash
                                  - kind: name
                                    id: 5252
                                    name: key_prefix
                                  - kind: str
                                    id: 5257
                                    value: version
                                  - kind: app
                                    id: 5256
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 5254
                                        name: iterator
                                      - kind: str
                                        id: 5255
                                        value: child_version
                          depth: ~
                        expr:
                          kind: app
                          id: 5374
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 5261
                              name: node
                            - kind: str
                              id: 5375
                              value: Leaf
                            - kind: lambda
                              id: 5376
                              params:
                                - id: 5377
                                  name: l
                              expr:
                                kind: app
                                id: 5276
                                opcode: with
                                args:
                                  - kind: app
                                    id: 5275
                                    opcode: with
                                    args:
                                      - kind: name
                                        id: 5262
                                        name: iterator
                                      - kind: str
                                        id: 5268
                                        value: i
                                      - kind: app
                                        id: 5267
                                        opcode: iadd
                                        args:
                                          - kind: app
                                            id: 5265
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 5263
                                                name: iterator
                                              - kind: str
                                                id: 5264
                                                value: i
                                          - kind: int
                                            id: 5266
                                            value: 1
                                  - kind: str
                                    id: 5274
                                    value: found
                                  - kind: app
                                    id: 5273
                                    opcode: eq
                                    args:
                                      - kind: app
                                        id: 5271
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 5269
                                            name: l
                                          - kind: str
                                            id: 5270
                                            value: key_hash
                                      - kind: name
                                        id: 5272
                                        name: key_hash
                            - kind: str
                              id: 5378
                              value: Internal
                            - kind: lambda
                              id: 5379
                              params:
                                - id: 5380
                                  name: internal
                              expr:
                                kind: let
                                id: 5373
                                opdef:
                                  id: 5280
                                  name: next_bit_0
                                  qualifier: val
                                  expr:
                                    kind: app
                                    id: 5279
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 5277
                                        name: key_prefix
                                      - kind: int
                                        id: 5278
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 5372
                                  opdef:
                                    id: 5303
                                    name: child_version
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5302
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 5289
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5287
                                              opcode: nth
                                              args:
                                                - kind: name
                                                  id: 5281
                                                  name: prefixes_list
                                                - kind: app
                                                  id: 5286
                                                  opcode: iadd
                                                  args:
                                                    - kind: app
                                                      id: 5284
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5282
                                                          name: iterator
                                                        - kind: str
                                                          id: 5283
                                                          value: i
                                                    - kind: int
                                                      id: 5285
                                                      value: 1
                                            - kind: name
                                              id: 5288
                                              name: next_bit_0
                                        - kind: app
                                          id: 5295
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5293
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5292
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5290
                                                      name: internal
                                                    - kind: str
                                                      id: 5291
                                                      value: left_child
                                            - kind: str
                                              id: 5294
                                              value: version
                                        - kind: app
                                          id: 5301
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 5299
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 5298
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5296
                                                      name: internal
                                                    - kind: str
                                                      id: 5297
                                                      value: right_child
                                            - kind: str
                                              id: 5300
                                              value: version
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 5371
                                    opdef:
                                      id: 5352
                                      name: innerOp
                                      qualifier: val
                                      expr:
                                        kind: app
                                        id: 5351
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 5312
                                            opcode: eq
                                            args:
                                              - kind: app
                                                id: 5310
                                                opcode: nth
                                                args:
                                                  - kind: name
                                                    id: 5304
                                                    name: prefixes_list
                                                  - kind: app
                                                    id: 5309
                                                    opcode: iadd
                                                    args:
                                                      - kind: app
                                                        id: 5307
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5305
                                                            name: iterator
                                                          - kind: str
                                                            id: 5306
                                                            value: i
                                                      - kind: int
                                                        id: 5308
                                                        value: 1
                                              - kind: name
                                                id: 5311
                                                name: next_bit_0
                                          - kind: app
                                            id: 5330
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5314
                                                value: prefix
                                              - kind: name
                                                id: 5313
                                                name: InternalNodeHashPrefix
                                              - kind: str
                                                id: 5329
                                                value: suffix
                                              - kind: app
                                                id: 5322
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 5317
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 5315
                                                        name: internal
                                                      - kind: str
                                                        id: 5316
                                                        value: right_child
                                                  - kind: str
                                                    id: 5323
                                                    value: None
                                                  - kind: lambda
                                                    id: 5324
                                                    params:
                                                      - id: 5325
                                                        name: _
                                                    expr:
                                                      kind: name
                                                      id: 5318
                                                      name: Hash256_ZERO
                                                  - kind: str
                                                    id: 5326
                                                    value: Some
                                                  - kind: lambda
                                                    id: 5327
                                                    params:
                                                      - id: 5328
                                                        name: c
                                                    expr:
                                                      kind: app
                                                      id: 5321
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5319
                                                          name: c
                                                        - kind: str
                                                          id: 5320
                                                          value: hash
                                          - kind: app
                                            id: 5350
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 5347
                                                value: prefix
                                              - kind: app
                                                id: 5346
                                                opcode: termConcat
                                                args:
                                                  - kind: name
                                                    id: 5331
                                                    name: InternalNodeHashPrefix
                                                  - kind: app
                                                    id: 5339
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 5334
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 5332
                                                            name: internal
                                                          - kind: str
                                                            id: 5333
                                                            value: left_child
                                                      - kind: str
                                                        id: 5340
                                                        value: None
                                                      - kind: lambda
                                                        id: 5341
                                                        params:
                                                          - id: 5342
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 5335
                                                          name: Hash256_ZERO
                                                      - kind: str
                                                        id: 5343
                                                        value: Some
                                                      - kind: lambda
                                                        id: 5344
                                                        params:
                                                          - id: 5345
                                                            name: c
                                                        expr:
                                                          kind: app
                                                          id: 5338
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 5336
                                                              name: c
                                                            - kind: str
                                                              id: 5337
                                                              value: hash
                                              - kind: str
                                                id: 5349
                                                value: suffix
                                              - kind: app
                                                id: 5348
                                                opcode: Map
                                                args: []
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 5370
                                      opcode: with
                                      args:
                                        - kind: app
                                          id: 5369
                                          opcode: with
                                          args:
                                            - kind: app
                                              id: 5368
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 5353
                                                  name: iterator
                                                - kind: str
                                                  id: 5359
                                                  value: path
                                                - kind: app
                                                  id: 5358
                                                  opcode: append
                                                  args:
                                                    - kind: app
                                                      id: 5356
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 5354
                                                          name: iterator
                                                        - kind: str
                                                          id: 5355
                                                          value: path
                                                    - kind: name
                                                      id: 5357
                                                      name: innerOp
                                            - kind: str
                                              id: 5365
                                              value: i
                                            - kind: app
                                              id: 5364
                                              opcode: iadd
                                              args:
                                                - kind: app
                                                  id: 5362
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5360
                                                      name: iterator
                                                    - kind: str
                                                      id: 5361
                                                      value: i
                                                - kind: int
                                                  id: 5363
                                                  value: 1
                                        - kind: str
                                          id: 5367
                                          value: child_version
                                        - kind: name
                                          id: 5366
                                          name: child_version
            depth: ~
          expr:
            kind: app
            id: 5395
            opcode: ite
            args:
              - kind: app
                id: 5388
                opcode: field
                args:
                  - kind: name
                    id: 5386
                    name: r
                  - kind: str
                    id: 5387
                    value: found
              - kind: app
                id: 5393
                opcode: Some
                args:
                  - kind: app
                    id: 5392
                    opcode: reverse
                    args:
                      - kind: app
                        id: 5391
                        opcode: field
                        args:
                          - kind: name
                            id: 5389
                            name: r
                          - kind: str
                            id: 5390
                            value: path
              - kind: name
                id: 5394
                name: None
    depth: 0
  5703:
    kind: def
    id: 5703
    name: pathOption
    qualifier: val
    expr:
      kind: app
      id: 5702
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5697
          name: t
        - kind: name
          id: 5698
          name: version
        - kind: app
          id: 5701
          opcode: field
          args:
            - kind: name
              id: 5699
              name: rneighbor
            - kind: str
              id: 5700
              value: key_hash
    depth: 12
  5704:
    kind: def
    id: 5703
    name: pathOption
    qualifier: val
    expr:
      kind: app
      id: 5702
      opcode: ics23_prove_existence
      args:
        - kind: name
          id: 5697
          name: t
        - kind: name
          id: 5698
          name: version
        - kind: app
          id: 5701
          opcode: field
          args:
            - kind: name
              id: 5699
              name: rneighbor
            - kind: str
              id: 5700
              value: key_hash
    depth: 12
  5705:
    id: 5734
    name: rneighbor
  5709:
    id: 5734
    name: rneighbor
  5713:
    kind: def
    id: 3981
    name: LeafNodeHashPrefix
    qualifier: val
    expr:
      kind: app
      id: 3980
      opcode: raw
      args:
        - kind: name
          id: 3979
          name: LeafNodeIdentifier
    depth: 0
  5717:
    id: 5725
    name: path
  5720:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5721:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5730:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  5738:
    kind: def
    id: 5738
    name: rightNeighborExistenceProof
    qualifier: val
    expr:
      kind: app
      id: 5731
      opcode: matchVariant
      args:
        - kind: name
          id: 5696
          name: rneighborOption
        - kind: str
          id: 5732
          value: Some
        - kind: lambda
          id: 5733
          params:
            - id: 5734
              name: rneighbor
          expr:
            kind: let
            id: 5729
            opdef:
              id: 5703
              name: pathOption
              qualifier: val
              expr:
                kind: app
                id: 5702
                opcode: ics23_prove_existence
                args:
                  - kind: name
                    id: 5697
                    name: t
                  - kind: name
                    id: 5698
                    name: version
                  - kind: app
                    id: 5701
                    opcode: field
                    args:
                      - kind: name
                        id: 5699
                        name: rneighbor
                      - kind: str
                        id: 5700
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 5722
              opcode: matchVariant
              args:
                - kind: name
                  id: 5704
                  name: pathOption
                - kind: str
                  id: 5723
                  value: Some
                - kind: lambda
                  id: 5724
                  params:
                    - id: 5725
                      name: path
                  expr:
                    kind: app
                    id: 5720
                    opcode: Some
                    args:
                      - kind: app
                        id: 5719
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5708
                            value: key
                          - kind: app
                            id: 5707
                            opcode: field
                            args:
                              - kind: name
                                id: 5705
                                name: rneighbor
                              - kind: str
                                id: 5706
                                value: key_hash
                          - kind: str
                            id: 5712
                            value: value
                          - kind: app
                            id: 5711
                            opcode: field
                            args:
                              - kind: name
                                id: 5709
                                name: rneighbor
                              - kind: str
                                id: 5710
                                value: value_hash
                          - kind: str
                            id: 5716
                            value: leaf
                          - kind: app
                            id: 5715
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5714
                                value: prefix
                              - kind: name
                                id: 5713
                                name: LeafNodeHashPrefix
                          - kind: str
                            id: 5718
                            value: path
                          - kind: name
                            id: 5717
                            name: path
                - kind: str
                  id: 5726
                  value: None
                - kind: lambda
                  id: 5727
                  params:
                    - id: 5728
                      name: _
                  expr:
                    kind: name
                    id: 5721
                    name: None
        - kind: str
          id: 5735
          value: None
        - kind: lambda
          id: 5736
          params:
            - id: 5737
              name: _
          expr:
            kind: name
            id: 5730
            name: None
    depth: 9
  5739:
    kind: typedef
    id: 8460
  5740:
    id: 5567
    name: key_hash
  5742:
    kind: def
    id: 5683
    name: leftNeighborExistenceProof
    qualifier: val
    expr:
      kind: app
      id: 5676
      opcode: matchVariant
      args:
        - kind: name
          id: 5641
          name: lneighborOption
        - kind: str
          id: 5677
          value: Some
        - kind: lambda
          id: 5678
          params:
            - id: 5679
              name: lneighbor
          expr:
            kind: let
            id: 5674
            opdef:
              id: 5648
              name: pathOption
              qualifier: val
              expr:
                kind: app
                id: 5647
                opcode: ics23_prove_existence
                args:
                  - kind: name
                    id: 5642
                    name: t
                  - kind: name
                    id: 5643
                    name: version
                  - kind: app
                    id: 5646
                    opcode: field
                    args:
                      - kind: name
                        id: 5644
                        name: lneighbor
                      - kind: str
                        id: 5645
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 5667
              opcode: matchVariant
              args:
                - kind: name
                  id: 5649
                  name: pathOption
                - kind: str
                  id: 5668
                  value: Some
                - kind: lambda
                  id: 5669
                  params:
                    - id: 5670
                      name: path
                  expr:
                    kind: app
                    id: 5665
                    opcode: Some
                    args:
                      - kind: app
                        id: 5664
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5653
                            value: key
                          - kind: app
                            id: 5652
                            opcode: field
                            args:
                              - kind: name
                                id: 5650
                                name: lneighbor
                              - kind: str
                                id: 5651
                                value: key_hash
                          - kind: str
                            id: 5657
                            value: value
                          - kind: app
                            id: 5656
                            opcode: field
                            args:
                              - kind: name
                                id: 5654
                                name: lneighbor
                              - kind: str
                                id: 5655
                                value: value_hash
                          - kind: str
                            id: 5661
                            value: leaf
                          - kind: app
                            id: 5660
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5659
                                value: prefix
                              - kind: name
                                id: 5658
                                name: LeafNodeHashPrefix
                          - kind: str
                            id: 5663
                            value: path
                          - kind: name
                            id: 5662
                            name: path
                - kind: str
                  id: 5671
                  value: None
                - kind: lambda
                  id: 5672
                  params:
                    - id: 5673
                      name: _
                  expr:
                    kind: name
                    id: 5666
                    name: None
        - kind: str
          id: 5680
          value: None
        - kind: lambda
          id: 5681
          params:
            - id: 5682
              name: _
          expr:
            kind: name
            id: 5675
            name: None
    depth: 7
  5744:
    kind: def
    id: 5738
    name: rightNeighborExistenceProof
    qualifier: val
    expr:
      kind: app
      id: 5731
      opcode: matchVariant
      args:
        - kind: name
          id: 5696
          name: rneighborOption
        - kind: str
          id: 5732
          value: Some
        - kind: lambda
          id: 5733
          params:
            - id: 5734
              name: rneighbor
          expr:
            kind: let
            id: 5729
            opdef:
              id: 5703
              name: pathOption
              qualifier: val
              expr:
                kind: app
                id: 5702
                opcode: ics23_prove_existence
                args:
                  - kind: name
                    id: 5697
                    name: t
                  - kind: name
                    id: 5698
                    name: version
                  - kind: app
                    id: 5701
                    opcode: field
                    args:
                      - kind: name
                        id: 5699
                        name: rneighbor
                      - kind: str
                        id: 5700
                        value: key_hash
              depth: ~
            expr:
              kind: app
              id: 5722
              opcode: matchVariant
              args:
                - kind: name
                  id: 5704
                  name: pathOption
                - kind: str
                  id: 5723
                  value: Some
                - kind: lambda
                  id: 5724
                  params:
                    - id: 5725
                      name: path
                  expr:
                    kind: app
                    id: 5720
                    opcode: Some
                    args:
                      - kind: app
                        id: 5719
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5708
                            value: key
                          - kind: app
                            id: 5707
                            opcode: field
                            args:
                              - kind: name
                                id: 5705
                                name: rneighbor
                              - kind: str
                                id: 5706
                                value: key_hash
                          - kind: str
                            id: 5712
                            value: value
                          - kind: app
                            id: 5711
                            opcode: field
                            args:
                              - kind: name
                                id: 5709
                                name: rneighbor
                              - kind: str
                                id: 5710
                                value: value_hash
                          - kind: str
                            id: 5716
                            value: leaf
                          - kind: app
                            id: 5715
                            opcode: Rec
                            args:
                              - kind: str
                                id: 5714
                                value: prefix
                              - kind: name
                                id: 5713
                                name: LeafNodeHashPrefix
                          - kind: str
                            id: 5718
                            value: path
                          - kind: name
                            id: 5717
                            name: path
                - kind: str
                  id: 5726
                  value: None
                - kind: lambda
                  id: 5727
                  params:
                    - id: 5728
                      name: _
                  expr:
                    kind: name
                    id: 5721
                    name: None
        - kind: str
          id: 5735
          value: None
        - kind: lambda
          id: 5736
          params:
            - id: 5737
              name: _
          expr:
            kind: name
            id: 5730
            name: None
    depth: 9
  5747:
    kind: def
    id: 5747
    name: nep
    qualifier: val
    expr:
      kind: app
      id: 5746
      opcode: Rec
      args:
        - kind: str
          id: 5741
          value: key
        - kind: name
          id: 5740
          name: key_hash
        - kind: str
          id: 5743
          value: left
        - kind: name
          id: 5742
          name: leftNeighborExistenceProof
        - kind: str
          id: 5745
          value: right
        - kind: name
          id: 5744
          name: rightNeighborExistenceProof
    depth: 10
  5748:
    kind: def
    id: 5747
    name: nep
    qualifier: val
    expr:
      kind: app
      id: 5746
      opcode: Rec
      args:
        - kind: str
          id: 5741
          value: key
        - kind: name
          id: 5740
          name: key_hash
        - kind: str
          id: 5743
          value: left
        - kind: name
          id: 5742
          name: leftNeighborExistenceProof
        - kind: str
          id: 5745
          value: right
        - kind: name
          id: 5744
          name: rightNeighborExistenceProof
    depth: 10
  5749:
    kind: def
    id: 8476
    name: NonExist
    qualifier: def
    expr:
      kind: lambda
      id: 8475
      params:
        - id: 8472
          name: __NonExistParam
      expr:
        kind: app
        id: 8474
        opcode: variant
        args:
          - kind: str
            id: 8471
            value: NonExist
          - kind: name
            id: 8473
            name: __NonExistParam
    depth: 0
  5750:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  5766:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  5773:
    kind: typedef
    id: 3278
  5775:
    kind: typedef
    id: 3260
  5777:
    kind: typedef
    id: 3260
  5779:
    kind: typedef
    id: 3251
  5782:
    kind: typedef
    id: 3278
  5783:
    id: 5774
    name: tree
  5784:
    id: 5776
    name: old_version
  5785:
    id: 5778
    name: new_version
  5786:
    id: 5781
    name: batch
  5787:
    kind: def
    id: 6658
    name: simple_apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 6657
      params:
        - id: 6230
          name: tree
        - id: 6232
          name: old_version
        - id: 6234
          name: new_version
        - id: 6237
          name: batch
      expr:
        kind: let
        id: 6656
        opdef:
          id: 6242
          name: treeForVersion
          qualifier: val
          expr:
            kind: app
            id: 6241
            opcode: treeAtVersion
            args:
              - kind: name
                id: 6239
                name: tree
              - kind: name
                id: 6240
                name: old_version
          depth: ~
        expr:
          kind: let
          id: 6655
          opdef:
            id: 6248
            name: treeRoot
            qualifier: val
            expr:
              kind: app
              id: 6247
              opcode: Rec
              args:
                - kind: str
                  id: 6244
                  value: key_hash
                - kind: name
                  id: 6243
                  name: ROOT_BITS
                - kind: str
                  id: 6246
                  value: version
                - kind: name
                  id: 6245
                  name: new_version
            depth: ~
          expr:
            kind: let
            id: 6654
            opdef:
              id: 6273
              name: existing_keys_with_values
              qualifier: pureval
              expr:
                kind: app
                id: 6272
                opcode: fold
                args:
                  - kind: app
                    id: 6250
                    opcode: keys
                    args:
                      - kind: name
                        id: 6249
                        name: treeForVersion
                  - kind: app
                    id: 6251
                    opcode: Set
                    args: []
                  - kind: lambda
                    id: 6271
                    params:
                      - id: 6252
                        name: acc
                      - id: 6253
                        name: k
                    expr:
                      kind: app
                      id: 6264
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 6258
                          opcode: get
                          args:
                            - kind: app
                              id: 6256
                              opcode: field
                              args:
                                - kind: name
                                  id: 6254
                                  name: tree
                                - kind: str
                                  id: 6255
                                  value: nodes
                            - kind: name
                              id: 6257
                              name: k
                        - kind: str
                          id: 6265
                          value: Leaf
                        - kind: lambda
                          id: 6266
                          params:
                            - id: 6267
                              name: leaf
                          expr:
                            kind: app
                            id: 6262
                            opcode: union
                            args:
                              - kind: name
                                id: 6259
                                name: acc
                              - kind: app
                                id: 6261
                                opcode: Set
                                args:
                                  - kind: name
                                    id: 6260
                                    name: leaf
                        - kind: str
                          id: 6268
                          value: _
                        - kind: lambda
                          id: 6269
                          params:
                            - id: 6270
                              name: _
                          expr:
                            kind: name
                            id: 6263
                            name: acc
              depth: ~
            expr:
              kind: let
              id: 6653
              opdef:
                id: 6290
                name: keys_with_values_without_new
                qualifier: pureval
                expr:
                  kind: app
                  id: 6289
                  opcode: filter
                  args:
                    - kind: name
                      id: 6274
                      name: existing_keys_with_values
                    - kind: lambda
                      id: 6288
                      params:
                        - id: 6275
                          name: x
                      expr:
                        kind: app
                        id: 6287
                        opcode: not
                        args:
                          - kind: app
                            id: 6286
                            opcode: contains
                            args:
                              - kind: app
                                id: 6282
                                opcode: map
                                args:
                                  - kind: name
                                    id: 6276
                                    name: batch
                                  - kind: lambda
                                    id: 6281
                                    params:
                                      - id: 6277
                                        name: op
                                    expr:
                                      kind: app
                                      id: 6280
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 6278
                                          name: op
                                        - kind: str
                                          id: 6279
                                          value: key_hash
                              - kind: app
                                id: 6285
                                opcode: field
                                args:
                                  - kind: name
                                    id: 6283
                                    name: x
                                  - kind: str
                                    id: 6284
                                    value: key_hash
                depth: ~
              expr:
                kind: let
                id: 6652
                opdef:
                  id: 6318
                  name: keys_and_values_and_op
                  qualifier: val
                  expr:
                    kind: app
                    id: 6317
                    opcode: fold
                    args:
                      - kind: name
                        id: 6291
                        name: batch
                      - kind: name
                        id: 6292
                        name: keys_with_values_without_new
                      - kind: lambda
                        id: 6316
                        params:
                          - id: 6293
                            name: kv_set
                          - id: 6294
                            name: op
                        expr:
                          kind: app
                          id: 6309
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 6297
                              opcode: field
                              args:
                                - kind: name
                                  id: 6295
                                  name: op
                                - kind: str
                                  id: 6296
                                  value: op
                            - kind: str
                              id: 6310
                              value: Insert
                            - kind: lambda
                              id: 6311
                              params:
                                - id: 6312
                                  name: value_hash
                              expr:
                                kind: app
                                id: 6307
                                opcode: union
                                args:
                                  - kind: name
                                    id: 6298
                                    name: kv_set
                                  - kind: app
                                    id: 6306
                                    opcode: Set
                                    args:
                                      - kind: app
                                        id: 6305
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 6302
                                            value: key_hash
                                          - kind: app
                                            id: 6301
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 6299
                                                name: op
                                              - kind: str
                                                id: 6300
                                                value: key_hash
                                          - kind: str
                                            id: 6304
                                            value: value_hash
                                          - kind: name
                                            id: 6303
                                            name: value_hash
                            - kind: str
                              id: 6313
                              value: Delete
                            - kind: lambda
                              id: 6314
                              params:
                                - id: 6315
                                  name: _
                              expr:
                                kind: name
                                id: 6308
                                name: kv_set
                  depth: ~
                expr:
                  kind: let
                  id: 6651
                  opdef:
                    id: 6590
                    name: result
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 6589
                      opcode: foldr
                      args:
                        - kind: app
                          id: 6321
                          opcode: range
                          args:
                            - kind: int
                              id: 6319
                              value: 0
                            - kind: name
                              id: 6320
                              name: MAX_HASH_LENGTH
                        - kind: app
                          id: 6335
                          opcode: Tup
                          args:
                            - kind: app
                              id: 6322
                              opcode: Set
                              args: []
                            - kind: app
                              id: 6334
                              opcode: map
                              args:
                                - kind: name
                                  id: 6323
                                  name: keys_and_values_and_op
                                - kind: lambda
                                  id: 6333
                                  params:
                                    - id: 6324
                                      name: kv
                                  expr:
                                    kind: app
                                    id: 6332
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6328
                                        value: key_hash
                                      - kind: app
                                        id: 6327
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 6325
                                            name: kv
                                          - kind: str
                                            id: 6326
                                            value: key_hash
                                      - kind: str
                                        id: 6331
                                        value: node
                                      - kind: app
                                        id: 6330
                                        opcode: Leaf
                                        args:
                                          - kind: name
                                            id: 6329
                                            name: kv
                        - kind: lambda
                          id: 6588
                          params:
                            - id: 6336
                              name: i
                            - id: 6337
                              name: acc
                          expr:
                            kind: let
                            id: 6587
                            opdef:
                              id: 6350
                              name: prefixes_of_length_i
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 6349
                                opcode: map
                                args:
                                  - kind: app
                                    id: 6340
                                    opcode: item
                                    args:
                                      - kind: name
                                        id: 6338
                                        name: acc
                                      - kind: int
                                        id: 6339
                                        value: 2
                                  - kind: lambda
                                    id: 6348
                                    params:
                                      - id: 6341
                                        name: kv
                                    expr:
                                      kind: app
                                      id: 6347
                                      opcode: slice
                                      args:
                                        - kind: app
                                          id: 6344
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6342
                                              name: kv
                                            - kind: str
                                              id: 6343
                                              value: key_hash
                                        - kind: int
                                          id: 6345
                                          value: 0
                                        - kind: name
                                          id: 6346
                                          name: i
                              depth: ~
                            expr:
                              kind: app
                              id: 6586
                              opcode: fold
                              args:
                                - kind: name
                                  id: 6351
                                  name: prefixes_of_length_i
                                - kind: name
                                  id: 6352
                                  name: acc
                                - kind: lambda
                                  id: 6585
                                  params:
                                    - id: 6353
                                      name: acc
                                    - id: 6354
                                      name: prefix
                                  expr:
                                    kind: let
                                    id: 6584
                                    opdef:
                                      id: 6368
                                      name: left
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 6367
                                        opcode: find
                                        args:
                                          - kind: app
                                            id: 6357
                                            opcode: item
                                            args:
                                              - kind: name
                                                id: 6355
                                                name: acc
                                              - kind: int
                                                id: 6356
                                                value: 2
                                          - kind: lambda
                                            id: 6366
                                            params:
                                              - id: 6358
                                                name: k
                                            expr:
                                              kind: app
                                              id: 6365
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 6361
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6359
                                                      name: k
                                                    - kind: str
                                                      id: 6360
                                                      value: key_hash
                                                - kind: app
                                                  id: 6364
                                                  opcode: append
                                                  args:
                                                    - kind: name
                                                      id: 6362
                                                      name: prefix
                                                    - kind: int
                                                      id: 6363
                                                      value: 0
                                      depth: ~
                                    expr:
                                      kind: let
                                      id: 6583
                                      opdef:
                                        id: 6382
                                        name: right
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 6381
                                          opcode: find
                                          args:
                                            - kind: app
                                              id: 6371
                                              opcode: item
                                              args:
                                                - kind: name
                                                  id: 6369
                                                  name: acc
                                                - kind: int
                                                  id: 6370
                                                  value: 2
                                            - kind: lambda
                                              id: 6380
                                              params:
                                                - id: 6372
                                                  name: k
                                              expr:
                                                kind: app
                                                id: 6379
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 6375
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 6373
                                                        name: k
                                                      - kind: str
                                                        id: 6374
                                                        value: key_hash
                                                  - kind: app
                                                    id: 6378
                                                    opcode: append
                                                    args:
                                                      - kind: name
                                                        id: 6376
                                                        name: prefix
                                                      - kind: int
                                                        id: 6377
                                                        value: 1
                                        depth: ~
                                      expr:
                                        kind: let
                                        id: 6582
                                        opdef:
                                          id: 6404
                                          name: popped_queue
                                          qualifier: pureval
                                          expr:
                                            kind: app
                                            id: 6403
                                            opcode: filter
                                            args:
                                              - kind: app
                                                id: 6385
                                                opcode: item
                                                args:
                                                  - kind: name
                                                    id: 6383
                                                    name: acc
                                                  - kind: int
                                                    id: 6384
                                                    value: 2
                                              - kind: lambda
                                                id: 6402
                                                params:
                                                  - id: 6386
                                                    name: k
                                                expr:
                                                  kind: app
                                                  id: 6401
                                                  opcode: and
                                                  args:
                                                    - kind: app
                                                      id: 6393
                                                      opcode: neq
                                                      args:
                                                        - kind: app
                                                          id: 6389
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6387
                                                              name: k
                                                            - kind: str
                                                              id: 6388
                                                              value: key_hash
                                                        - kind: app
                                                          id: 6392
                                                          opcode: append
                                                          args:
                                                            - kind: name
                                                              id: 6390
                                                              name: prefix
                                                            - kind: int
                                                              id: 6391
                                                              value: 0
                                                    - kind: app
                                                      id: 6400
                                                      opcode: neq
                                                      args:
                                                        - kind: app
                                                          id: 6396
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6394
                                                              name: k
                                                            - kind: str
                                                              id: 6395
                                                              value: key_hash
                                                        - kind: app
                                                          id: 6399
                                                          opcode: append
                                                          args:
                                                            - kind: name
                                                              id: 6397
                                                              name: prefix
                                                            - kind: int
                                                              id: 6398
                                                              value: 1
                                          depth: ~
                                        expr:
                                          kind: let
                                          id: 6581
                                          opdef:
                                            id: 6408
                                            name: unpopped_queue
                                            qualifier: pureval
                                            expr:
                                              kind: app
                                              id: 6407
                                              opcode: item
                                              args:
                                                - kind: name
                                                  id: 6405
                                                  name: acc
                                                - kind: int
                                                  id: 6406
                                                  value: 2
                                            depth: ~
                                          expr:
                                            kind: let
                                            id: 6580
                                            opdef:
                                              id: 6572
                                              name: queue_2
                                              qualifier: pureval
                                              expr:
                                                kind: app
                                                id: 6571
                                                opcode: ite
                                                args:
                                                  - kind: app
                                                    id: 6415
                                                    opcode: and
                                                    args:
                                                      - kind: app
                                                        id: 6411
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6409
                                                            name: left
                                                          - kind: name
                                                            id: 6410
                                                            name: None
                                                      - kind: app
                                                        id: 6414
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6412
                                                            name: right
                                                          - kind: name
                                                            id: 6413
                                                            name: None
                                                  - kind: let
                                                    id: 6449
                                                    opdef:
                                                      id: 6440
                                                      name: internal_node
                                                      qualifier: pureval
                                                      expr:
                                                        kind: app
                                                        id: 6439
                                                        opcode: Internal
                                                        args:
                                                          - kind: app
                                                            id: 6438
                                                            opcode: Rec
                                                            args:
                                                              - kind: str
                                                                id: 6426
                                                                value: left_child
                                                              - kind: app
                                                                id: 6425
                                                                opcode: Some
                                                                args:
                                                                  - kind: app
                                                                    id: 6424
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 6417
                                                                        value: version
                                                                      - kind: name
                                                                        id: 6416
                                                                        name: new_version
                                                                      - kind: str
                                                                        id: 6423
                                                                        value: hash
                                                                      - kind: app
                                                                        id: 6422
                                                                        opcode: hash
                                                                        args:
                                                                          - kind: app
                                                                            id: 6421
                                                                            opcode: field
                                                                            args:
                                                                              - kind: app
                                                                                id: 6419
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 6418
                                                                                    name: left
                                                                              - kind: str
                                                                                id: 6420
                                                                                value: node
                                                              - kind: str
                                                                id: 6437
                                                                value: right_child
                                                              - kind: app
                                                                id: 6436
                                                                opcode: Some
                                                                args:
                                                                  - kind: app
                                                                    id: 6435
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 6428
                                                                        value: version
                                                                      - kind: name
                                                                        id: 6427
                                                                        name: new_version
                                                                      - kind: str
                                                                        id: 6434
                                                                        value: hash
                                                                      - kind: app
                                                                        id: 6433
                                                                        opcode: hash
                                                                        args:
                                                                          - kind: app
                                                                            id: 6432
                                                                            opcode: field
                                                                            args:
                                                                              - kind: app
                                                                                id: 6430
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 6429
                                                                                    name: right
                                                                              - kind: str
                                                                                id: 6431
                                                                                value: node
                                                      depth: ~
                                                    expr:
                                                      kind: app
                                                      id: 6448
                                                      opcode: union
                                                      args:
                                                        - kind: name
                                                          id: 6441
                                                          name: unpopped_queue
                                                        - kind: app
                                                          id: 6447
                                                          opcode: Set
                                                          args:
                                                            - kind: app
                                                              id: 6446
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 6443
                                                                  value: key_hash
                                                                - kind: name
                                                                  id: 6442
                                                                  name: prefix
                                                                - kind: str
                                                                  id: 6445
                                                                  value: node
                                                                - kind: name
                                                                  id: 6444
                                                                  name: internal_node
                                                  - kind: app
                                                    id: 6570
                                                    opcode: ite
                                                    args:
                                                      - kind: app
                                                        id: 6452
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6450
                                                            name: left
                                                          - kind: name
                                                            id: 6451
                                                            name: None
                                                      - kind: app
                                                        id: 6493
                                                        opcode: matchVariant
                                                        args:
                                                          - kind: app
                                                            id: 6456
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6454
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6453
                                                                    name: left
                                                              - kind: str
                                                                id: 6455
                                                                value: node
                                                          - kind: str
                                                            id: 6494
                                                            value: Internal
                                                          - kind: lambda
                                                            id: 6495
                                                            params:
                                                              - id: 6496
                                                                name: _
                                                            expr:
                                                              kind: let
                                                              id: 6481
                                                              opdef:
                                                                id: 6472
                                                                name: internal_node
                                                                qualifier: pureval
                                                                expr:
                                                                  kind: app
                                                                  id: 6471
                                                                  opcode: Internal
                                                                  args:
                                                                    - kind: app
                                                                      id: 6470
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 6467
                                                                          value: left_child
                                                                        - kind: app
                                                                          id: 6466
                                                                          opcode: Some
                                                                          args:
                                                                            - kind: app
                                                                              id: 6465
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 6458
                                                                                  value: version
                                                                                - kind: name
                                                                                  id: 6457
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 6464
                                                                                  value: hash
                                                                                - kind: app
                                                                                  id: 6463
                                                                                  opcode: hash
                                                                                  args:
                                                                                    - kind: app
                                                                                      id: 6462
                                                                                      opcode: field
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 6460
                                                                                          opcode: unwrap
                                                                                          args:
                                                                                            - kind: name
                                                                                              id: 6459
                                                                                              name: left
                                                                                        - kind: str
                                                                                          id: 6461
                                                                                          value: node
                                                                        - kind: str
                                                                          id: 6469
                                                                          value: right_child
                                                                        - kind: name
                                                                          id: 6468
                                                                          name: None
                                                                depth: ~
                                                              expr:
                                                                kind: app
                                                                id: 6480
                                                                opcode: union
                                                                args:
                                                                  - kind: name
                                                                    id: 6473
                                                                    name: unpopped_queue
                                                                  - kind: app
                                                                    id: 6479
                                                                    opcode: Set
                                                                    args:
                                                                      - kind: app
                                                                        id: 6478
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 6475
                                                                            value: key_hash
                                                                          - kind: name
                                                                            id: 6474
                                                                            name: prefix
                                                                          - kind: str
                                                                            id: 6477
                                                                            value: node
                                                                          - kind: name
                                                                            id: 6476
                                                                            name: internal_node
                                                          - kind: str
                                                            id: 6497
                                                            value: Leaf
                                                          - kind: lambda
                                                            id: 6498
                                                            params:
                                                              - id: 6499
                                                                name: leaf
                                                            expr:
                                                              kind: app
                                                              id: 6492
                                                              opcode: union
                                                              args:
                                                                - kind: name
                                                                  id: 6482
                                                                  name: popped_queue
                                                                - kind: app
                                                                  id: 6491
                                                                  opcode: Set
                                                                  args:
                                                                    - kind: app
                                                                      id: 6490
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 6484
                                                                          value: key_hash
                                                                        - kind: name
                                                                          id: 6483
                                                                          name: prefix
                                                                        - kind: str
                                                                          id: 6489
                                                                          value: node
                                                                        - kind: app
                                                                          id: 6488
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 6486
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6485
                                                                                  name: left
                                                                            - kind: str
                                                                              id: 6487
                                                                              value: node
                                                      - kind: app
                                                        id: 6569
                                                        opcode: ite
                                                        args:
                                                          - kind: app
                                                            id: 6502
                                                            opcode: neq
                                                            args:
                                                              - kind: name
                                                                id: 6500
                                                                name: right
                                                              - kind: name
                                                                id: 6501
                                                                name: None
                                                          - kind: app
                                                            id: 6543
                                                            opcode: matchVariant
                                                            args:
                                                              - kind: app
                                                                id: 6506
                                                                opcode: field
                                                                args:
                                                                  - kind: app
                                                                    id: 6504
                                                                    opcode: unwrap
                                                                    args:
                                                                      - kind: name
                                                                        id: 6503
                                                                        name: right
                                                                  - kind: str
                                                                    id: 6505
                                                                    value: node
                                                              - kind: str
                                                                id: 6544
                                                                value: Internal
                                                              - kind: lambda
                                                                id: 6545
                                                                params:
                                                                  - id: 6546
                                                                    name: _
                                                                expr:
                                                                  kind: let
                                                                  id: 6531
                                                                  opdef:
                                                                    id: 6522
                                                                    name: internal_node
                                                                    qualifier: pureval
                                                                    expr:
                                                                      kind: app
                                                                      id: 6521
                                                                      opcode: Internal
                                                                      args:
                                                                        - kind: app
                                                                          id: 6520
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6508
                                                                              value: left_child
                                                                            - kind: name
                                                                              id: 6507
                                                                              name: None
                                                                            - kind: str
                                                                              id: 6519
                                                                              value: right_child
                                                                            - kind: app
                                                                              id: 6518
                                                                              opcode: Some
                                                                              args:
                                                                                - kind: app
                                                                                  id: 6517
                                                                                  opcode: Rec
                                                                                  args:
                                                                                    - kind: str
                                                                                      id: 6510
                                                                                      value: version
                                                                                    - kind: name
                                                                                      id: 6509
                                                                                      name: new_version
                                                                                    - kind: str
                                                                                      id: 6516
                                                                                      value: hash
                                                                                    - kind: app
                                                                                      id: 6515
                                                                                      opcode: hash
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 6514
                                                                                          opcode: field
                                                                                          args:
                                                                                            - kind: app
                                                                                              id: 6512
                                                                                              opcode: unwrap
                                                                                              args:
                                                                                                - kind: name
                                                                                                  id: 6511
                                                                                                  name: right
                                                                                            - kind: str
                                                                                              id: 6513
                                                                                              value: node
                                                                    depth: ~
                                                                  expr:
                                                                    kind: app
                                                                    id: 6530
                                                                    opcode: union
                                                                    args:
                                                                      - kind: name
                                                                        id: 6523
                                                                        name: unpopped_queue
                                                                      - kind: app
                                                                        id: 6529
                                                                        opcode: Set
                                                                        args:
                                                                          - kind: app
                                                                            id: 6528
                                                                            opcode: Rec
                                                                            args:
                                                                              - kind: str
                                                                                id: 6525
                                                                                value: key_hash
                                                                              - kind: name
                                                                                id: 6524
                                                                                name: prefix
                                                                              - kind: str
                                                                                id: 6527
                                                                                value: node
                                                                              - kind: name
                                                                                id: 6526
                                                                                name: internal_node
                                                              - kind: str
                                                                id: 6547
                                                                value: Leaf
                                                              - kind: lambda
                                                                id: 6548
                                                                params:
                                                                  - id: 6549
                                                                    name: leaf
                                                                expr:
                                                                  kind: app
                                                                  id: 6542
                                                                  opcode: union
                                                                  args:
                                                                    - kind: name
                                                                      id: 6532
                                                                      name: popped_queue
                                                                    - kind: app
                                                                      id: 6541
                                                                      opcode: Set
                                                                      args:
                                                                        - kind: app
                                                                          id: 6540
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6534
                                                                              value: key_hash
                                                                            - kind: name
                                                                              id: 6533
                                                                              name: prefix
                                                                            - kind: str
                                                                              id: 6539
                                                                              value: node
                                                                            - kind: app
                                                                              id: 6538
                                                                              opcode: field
                                                                              args:
                                                                                - kind: app
                                                                                  id: 6536
                                                                                  opcode: unwrap
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 6535
                                                                                      name: right
                                                                                - kind: str
                                                                                  id: 6537
                                                                                  value: node
                                                          - kind: app
                                                            id: 6568
                                                            opcode: ite
                                                            args:
                                                              - kind: app
                                                                id: 6552
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 6550
                                                                    name: i
                                                                  - kind: int
                                                                    id: 6551
                                                                    value: 0
                                                              - kind: let
                                                                id: 6566
                                                                opdef:
                                                                  id: 6555
                                                                  name: root
                                                                  qualifier: pureval
                                                                  expr:
                                                                    kind: app
                                                                    id: 6554
                                                                    opcode: getOnlyElement
                                                                    args:
                                                                      - kind: name
                                                                        id: 6553
                                                                        name: popped_queue
                                                                  depth: ~
                                                                expr:
                                                                  kind: app
                                                                  id: 6565
                                                                  opcode: union
                                                                  args:
                                                                    - kind: name
                                                                      id: 6556
                                                                      name: unpopped_queue
                                                                    - kind: app
                                                                      id: 6564
                                                                      opcode: Set
                                                                      args:
                                                                        - kind: app
                                                                          id: 6563
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6558
                                                                              value: key_hash
                                                                            - kind: name
                                                                              id: 6557
                                                                              name: prefix
                                                                            - kind: str
                                                                              id: 6562
                                                                              value: node
                                                                            - kind: app
                                                                              id: 6561
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6559
                                                                                  name: root
                                                                                - kind: str
                                                                                  id: 6560
                                                                                  value: node
                                                              - kind: name
                                                                id: 6567
                                                                name: unpopped_queue
                                              depth: ~
                                            expr:
                                              kind: app
                                              id: 6579
                                              opcode: Tup
                                              args:
                                                - kind: app
                                                  id: 6577
                                                  opcode: union
                                                  args:
                                                    - kind: app
                                                      id: 6575
                                                      opcode: item
                                                      args:
                                                        - kind: name
                                                          id: 6573
                                                          name: acc
                                                        - kind: int
                                                          id: 6574
                                                          value: 1
                                                    - kind: name
                                                      id: 6576
                                                      name: queue_2
                                                - kind: name
                                                  id: 6578
                                                  name: queue_2
                    depth: ~
                  expr:
                    kind: let
                    id: 6650
                    opdef:
                      id: 6633
                      name: nodes
                      qualifier: val
                      expr:
                        kind: app
                        id: 6632
                        opcode: updateChildVersions
                        args:
                          - kind: app
                            id: 6627
                            opcode: removeDuplicateEntries
                            args:
                              - kind: app
                                id: 6622
                                opcode: fold
                                args:
                                  - kind: app
                                    id: 6607
                                    opcode: map
                                    args:
                                      - kind: app
                                        id: 6593
                                        opcode: item
                                        args:
                                          - kind: name
                                            id: 6591
                                            name: result
                                          - kind: int
                                            id: 6592
                                            value: 2
                                      - kind: lambda
                                        id: 6606
                                        params:
                                          - id: 6594
                                            name: kv
                                        expr:
                                          kind: app
                                          id: 6605
                                          opcode: Tup
                                          args:
                                            - kind: app
                                              id: 6601
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 6596
                                                  value: version
                                                - kind: name
                                                  id: 6595
                                                  name: new_version
                                                - kind: str
                                                  id: 6600
                                                  value: key_hash
                                                - kind: app
                                                  id: 6599
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6597
                                                      name: kv
                                                    - kind: str
                                                      id: 6598
                                                      value: key_hash
                                            - kind: app
                                              id: 6604
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 6602
                                                  name: kv
                                                - kind: str
                                                  id: 6603
                                                  value: node
                                  - kind: app
                                    id: 6610
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6608
                                        name: tree
                                      - kind: str
                                        id: 6609
                                        value: nodes
                                  - kind: lambda
                                    id: 6621
                                    params:
                                      - id: 6611
                                        name: nodes
                                      - id: 6612
                                        name: kv
                                    expr:
                                      kind: app
                                      id: 6620
                                      opcode: put
                                      args:
                                        - kind: name
                                          id: 6613
                                          name: nodes
                                        - kind: app
                                          id: 6616
                                          opcode: item
                                          args:
                                            - kind: name
                                              id: 6614
                                              name: kv
                                            - kind: int
                                              id: 6615
                                              value: 1
                                        - kind: app
                                          id: 6619
                                          opcode: item
                                          args:
                                            - kind: name
                                              id: 6617
                                              name: kv
                                            - kind: int
                                              id: 6618
                                              value: 2
                              - kind: app
                                id: 6625
                                opcode: treeAtVersion
                                args:
                                  - kind: name
                                    id: 6623
                                    name: tree
                                  - kind: name
                                    id: 6624
                                    name: old_version
                              - kind: name
                                id: 6626
                                name: new_version
                          - kind: app
                            id: 6630
                            opcode: treeAtVersion
                            args:
                              - kind: name
                                id: 6628
                                name: tree
                              - kind: name
                                id: 6629
                                name: old_version
                          - kind: name
                            id: 6631
                            name: new_version
                      depth: ~
                    expr:
                      kind: let
                      id: 6649
                      opdef:
                        id: 6643
                        name: orphans
                        qualifier: val
                        expr:
                          kind: app
                          id: 6642
                          opcode: extractOrphansFromNewVersion
                          args:
                            - kind: name
                              id: 6634
                              name: tree
                            - kind: app
                              id: 6639
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6636
                                  value: nodes
                                - kind: name
                                  id: 6635
                                  name: nodes
                                - kind: str
                                  id: 6638
                                  value: orphans
                                - kind: app
                                  id: 6637
                                  opcode: Set
                                  args: []
                            - kind: name
                              id: 6640
                              name: old_version
                            - kind: name
                              id: 6641
                              name: new_version
                        depth: ~
                      expr:
                        kind: app
                        id: 6648
                        opcode: Rec
                        args:
                          - kind: str
                            id: 6645
                            value: nodes
                          - kind: name
                            id: 6644
                            name: nodes
                          - kind: str
                            id: 6647
                            value: orphans
                          - kind: name
                            id: 6646
                            name: orphans
    depth: 0
  5789:
    kind: def
    id: 5789
    name: apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 5788
      params:
        - id: 5774
          name: tree
        - id: 5776
          name: old_version
        - id: 5778
          name: new_version
        - id: 5781
          name: batch
      expr:
        kind: app
        id: 5787
        opcode: simple_apply
        args:
          - kind: name
            id: 5783
            name: tree
          - kind: name
            id: 5784
            name: old_version
          - kind: name
            id: 5785
            name: new_version
          - kind: name
            id: 5786
            name: batch
    depth: 0
  5790:
    kind: typedef
    id: 3278
  5792:
    kind: typedef
    id: 3278
  5794:
    kind: typedef
    id: 3260
  5796:
    kind: typedef
    id: 3260
  5798:
    kind: typedef
    id: 3269
  5800:
    id: 5793
    name: updatedTree
  5801:
    id: 5795
    name: old_version
  5802:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  5804:
    kind: def
    id: 5804
    name: nodes_at_old
    qualifier: pureval
    expr:
      kind: app
      id: 5803
      opcode: keys
      args:
        - kind: app
          id: 5802
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5800
              name: updatedTree
            - kind: name
              id: 5801
              name: old_version
    depth: 3
  5805:
    id: 5793
    name: updatedTree
  5806:
    id: 5797
    name: new_version
  5807:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  5809:
    kind: def
    id: 5809
    name: nodes_at_new
    qualifier: pureval
    expr:
      kind: app
      id: 5808
      opcode: keys
      args:
        - kind: app
          id: 5807
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5805
              name: updatedTree
            - kind: name
              id: 5806
              name: new_version
    depth: 4
  5810:
    kind: def
    id: 5804
    name: nodes_at_old
    qualifier: pureval
    expr:
      kind: app
      id: 5803
      opcode: keys
      args:
        - kind: app
          id: 5802
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5800
              name: updatedTree
            - kind: name
              id: 5801
              name: old_version
    depth: 3
  5811:
    kind: def
    id: 5809
    name: nodes_at_new
    qualifier: pureval
    expr:
      kind: app
      id: 5808
      opcode: keys
      args:
        - kind: app
          id: 5807
          opcode: treeAtVersion
          args:
            - kind: name
              id: 5805
              name: updatedTree
            - kind: name
              id: 5806
              name: new_version
    depth: 4
  5813:
    kind: def
    id: 5813
    name: orphaned_nodes
    qualifier: pureval
    expr:
      kind: app
      id: 5812
      opcode: exclude
      args:
        - kind: name
          id: 5810
          name: nodes_at_old
        - kind: name
          id: 5811
          name: nodes_at_new
    depth: 5
  5814:
    kind: def
    id: 5813
    name: orphaned_nodes
    qualifier: pureval
    expr:
      kind: app
      id: 5812
      opcode: exclude
      args:
        - kind: name
          id: 5810
          name: nodes_at_old
        - kind: name
          id: 5811
          name: nodes_at_new
    depth: 5
  5816:
    id: 5797
    name: new_version
  5818:
    id: 5815
    name: node
  5822:
    id: 5815
    name: node
  5829:
    kind: def
    id: 5829
    name: new_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 5828
      opcode: map
      args:
        - kind: name
          id: 5814
          name: orphaned_nodes
        - kind: lambda
          id: 5827
          params:
            - id: 5815
              name: node
          expr:
            kind: app
            id: 5826
            opcode: Rec
            args:
              - kind: str
                id: 5817
                value: orphaned_since_version
              - kind: name
                id: 5816
                name: new_version
              - kind: str
                id: 5821
                value: version
              - kind: app
                id: 5820
                opcode: field
                args:
                  - kind: name
                    id: 5818
                    name: node
                  - kind: str
                    id: 5819
                    value: version
              - kind: str
                id: 5825
                value: key_hash
              - kind: app
                id: 5824
                opcode: field
                args:
                  - kind: name
                    id: 5822
                    name: node
                  - kind: str
                    id: 5823
                    value: key_hash
    depth: 6
  5830:
    id: 5791
    name: oldTree
  5833:
    kind: def
    id: 5829
    name: new_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 5828
      opcode: map
      args:
        - kind: name
          id: 5814
          name: orphaned_nodes
        - kind: lambda
          id: 5827
          params:
            - id: 5815
              name: node
          expr:
            kind: app
            id: 5826
            opcode: Rec
            args:
              - kind: str
                id: 5817
                value: orphaned_since_version
              - kind: name
                id: 5816
                name: new_version
              - kind: str
                id: 5821
                value: version
              - kind: app
                id: 5820
                opcode: field
                args:
                  - kind: name
                    id: 5818
                    name: node
                  - kind: str
                    id: 5819
                    value: version
              - kind: str
                id: 5825
                value: key_hash
              - kind: app
                id: 5824
                opcode: field
                args:
                  - kind: name
                    id: 5822
                    name: node
                  - kind: str
                    id: 5823
                    value: key_hash
    depth: 6
  5840:
    kind: def
    id: 5840
    name: extractOrphansFromNewVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 5839
      params:
        - id: 5791
          name: oldTree
        - id: 5793
          name: updatedTree
        - id: 5795
          name: old_version
        - id: 5797
          name: new_version
      expr:
        kind: let
        id: 5838
        opdef:
          id: 5804
          name: nodes_at_old
          qualifier: pureval
          expr:
            kind: app
            id: 5803
            opcode: keys
            args:
              - kind: app
                id: 5802
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 5800
                    name: updatedTree
                  - kind: name
                    id: 5801
                    name: old_version
          depth: ~
        expr:
          kind: let
          id: 5837
          opdef:
            id: 5809
            name: nodes_at_new
            qualifier: pureval
            expr:
              kind: app
              id: 5808
              opcode: keys
              args:
                - kind: app
                  id: 5807
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 5805
                      name: updatedTree
                    - kind: name
                      id: 5806
                      name: new_version
            depth: ~
          expr:
            kind: let
            id: 5836
            opdef:
              id: 5813
              name: orphaned_nodes
              qualifier: pureval
              expr:
                kind: app
                id: 5812
                opcode: exclude
                args:
                  - kind: name
                    id: 5810
                    name: nodes_at_old
                  - kind: name
                    id: 5811
                    name: nodes_at_new
              depth: ~
            expr:
              kind: let
              id: 5835
              opdef:
                id: 5829
                name: new_orphans
                qualifier: pureval
                expr:
                  kind: app
                  id: 5828
                  opcode: map
                  args:
                    - kind: name
                      id: 5814
                      name: orphaned_nodes
                    - kind: lambda
                      id: 5827
                      params:
                        - id: 5815
                          name: node
                      expr:
                        kind: app
                        id: 5826
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5817
                            value: orphaned_since_version
                          - kind: name
                            id: 5816
                            name: new_version
                          - kind: str
                            id: 5821
                            value: version
                          - kind: app
                            id: 5820
                            opcode: field
                            args:
                              - kind: name
                                id: 5818
                                name: node
                              - kind: str
                                id: 5819
                                value: version
                          - kind: str
                            id: 5825
                            value: key_hash
                          - kind: app
                            id: 5824
                            opcode: field
                            args:
                              - kind: name
                                id: 5822
                                name: node
                              - kind: str
                                id: 5823
                                value: key_hash
                depth: ~
              expr:
                kind: app
                id: 5834
                opcode: union
                args:
                  - kind: app
                    id: 5832
                    opcode: field
                    args:
                      - kind: name
                        id: 5830
                        name: oldTree
                      - kind: str
                        id: 5831
                        value: orphans
                  - kind: name
                    id: 5833
                    name: new_orphans
    depth: 0
  5841:
    kind: typedef
    id: 3885
  5845:
    kind: typedef
    id: 3885
  5847:
    kind: def
    id: 5847
    name: EMPTY_MAP
    qualifier: pureval
    expr:
      kind: app
      id: 5846
      opcode: Map
      args: []
    depth: 3
  5848:
    id: 5844
    name: child
  5849:
    id: 5867
    name: c
  5853:
    id: 5867
    name: c
  5861:
    kind: def
    id: 5847
    name: EMPTY_MAP
    qualifier: pureval
    expr:
      kind: app
      id: 5846
      opcode: Map
      args: []
    depth: 3
  5873:
    kind: def
    id: 5873
    name: unpackChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 5872
      params:
        - id: 5844
          name: child
      expr:
        kind: let
        id: 5871
        opdef:
          id: 5847
          name: EMPTY_MAP
          qualifier: pureval
          expr:
            kind: app
            id: 5846
            opcode: Map
            args: []
          depth: ~
        expr:
          kind: app
          id: 5864
          opcode: matchVariant
          args:
            - kind: name
              id: 5848
              name: child
            - kind: str
              id: 5865
              value: Some
            - kind: lambda
              id: 5866
              params:
                - id: 5867
                  name: c
              expr:
                kind: app
                id: 5857
                opcode: Rec
                args:
                  - kind: str
                    id: 5852
                    value: version
                  - kind: app
                    id: 5851
                    opcode: field
                    args:
                      - kind: name
                        id: 5849
                        name: c
                      - kind: str
                        id: 5850
                        value: version
                  - kind: str
                    id: 5856
                    value: hash
                  - kind: app
                    id: 5855
                    opcode: field
                    args:
                      - kind: name
                        id: 5853
                        name: c
                      - kind: str
                        id: 5854
                        value: hash
            - kind: str
              id: 5868
              value: None
            - kind: lambda
              id: 5869
              params:
                - id: 5870
                  name: _
              expr:
                kind: app
                id: 5863
                opcode: Rec
                args:
                  - kind: str
                    id: 5860
                    value: version
                  - kind: app
                    id: 5859
                    opcode: iuminus
                    args:
                      - kind: int
                        id: 5858
                        value: 1
                  - kind: str
                    id: 5862
                    value: hash
                  - kind: name
                    id: 5861
                    name: EMPTY_MAP
    depth: 0
  5874:
    kind: typedef
    id: 3893
  5876:
    kind: typedef
    id: 3885
  5877:
    kind: typedef
    id: 3885
  5879:
    id: 5875
    name: internal
  5882:
    kind: def
    id: 5873
    name: unpackChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 5872
      params:
        - id: 5844
          name: child
      expr:
        kind: let
        id: 5871
        opdef:
          id: 5847
          name: EMPTY_MAP
          qualifier: pureval
          expr:
            kind: app
            id: 5846
            opcode: Map
            args: []
          depth: ~
        expr:
          kind: app
          id: 5864
          opcode: matchVariant
          args:
            - kind: name
              id: 5848
              name: child
            - kind: str
              id: 5865
              value: Some
            - kind: lambda
              id: 5866
              params:
                - id: 5867
                  name: c
              expr:
                kind: app
                id: 5857
                opcode: Rec
                args:
                  - kind: str
                    id: 5852
                    value: version
                  - kind: app
                    id: 5851
                    opcode: field
                    args:
                      - kind: name
                        id: 5849
                        name: c
                      - kind: str
                        id: 5850
                        value: version
                  - kind: str
                    id: 5856
                    value: hash
                  - kind: app
                    id: 5855
                    opcode: field
                    args:
                      - kind: name
                        id: 5853
                        name: c
                      - kind: str
                        id: 5854
                        value: hash
            - kind: str
              id: 5868
              value: None
            - kind: lambda
              id: 5869
              params:
                - id: 5870
                  name: _
              expr:
                kind: app
                id: 5863
                opcode: Rec
                args:
                  - kind: str
                    id: 5860
                    value: version
                  - kind: app
                    id: 5859
                    opcode: iuminus
                    args:
                      - kind: int
                        id: 5858
                        value: 1
                  - kind: str
                    id: 5862
                    value: hash
                  - kind: name
                    id: 5861
                    name: EMPTY_MAP
    depth: 0
  5884:
    id: 5875
    name: internal
  5887:
    kind: def
    id: 5873
    name: unpackChild
    qualifier: puredef
    expr:
      kind: lambda
      id: 5872
      params:
        - id: 5844
          name: child
      expr:
        kind: let
        id: 5871
        opdef:
          id: 5847
          name: EMPTY_MAP
          qualifier: pureval
          expr:
            kind: app
            id: 5846
            opcode: Map
            args: []
          depth: ~
        expr:
          kind: app
          id: 5864
          opcode: matchVariant
          args:
            - kind: name
              id: 5848
              name: child
            - kind: str
              id: 5865
              value: Some
            - kind: lambda
              id: 5866
              params:
                - id: 5867
                  name: c
              expr:
                kind: app
                id: 5857
                opcode: Rec
                args:
                  - kind: str
                    id: 5852
                    value: version
                  - kind: app
                    id: 5851
                    opcode: field
                    args:
                      - kind: name
                        id: 5849
                        name: c
                      - kind: str
                        id: 5850
                        value: version
                  - kind: str
                    id: 5856
                    value: hash
                  - kind: app
                    id: 5855
                    opcode: field
                    args:
                      - kind: name
                        id: 5853
                        name: c
                      - kind: str
                        id: 5854
                        value: hash
            - kind: str
              id: 5868
              value: None
            - kind: lambda
              id: 5869
              params:
                - id: 5870
                  name: _
              expr:
                kind: app
                id: 5863
                opcode: Rec
                args:
                  - kind: str
                    id: 5860
                    value: version
                  - kind: app
                    id: 5859
                    opcode: iuminus
                    args:
                      - kind: int
                        id: 5858
                        value: 1
                  - kind: str
                    id: 5862
                    value: hash
                  - kind: name
                    id: 5861
                    name: EMPTY_MAP
    depth: 0
  5891:
    kind: def
    id: 5891
    name: unpackInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5890
      params:
        - id: 5875
          name: internal
      expr:
        kind: app
        id: 5889
        opcode: Rec
        args:
          - kind: str
            id: 5883
            value: left
          - kind: app
            id: 5882
            opcode: unpackChild
            args:
              - kind: app
                id: 5881
                opcode: field
                args:
                  - kind: name
                    id: 5879
                    name: internal
                  - kind: str
                    id: 5880
                    value: left_child
          - kind: str
            id: 5888
            value: right
          - kind: app
            id: 5887
            opcode: unpackChild
            args:
              - kind: app
                id: 5886
                opcode: field
                args:
                  - kind: name
                    id: 5884
                    name: internal
                  - kind: str
                    id: 5885
                    value: right_child
    depth: 0
  5892:
    kind: typedef
    id: 3893
  5894:
    kind: typedef
    id: 3893
  5897:
    id: 5893
    name: internal
  5898:
    kind: def
    id: 5891
    name: unpackInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5890
      params:
        - id: 5875
          name: internal
      expr:
        kind: app
        id: 5889
        opcode: Rec
        args:
          - kind: str
            id: 5883
            value: left
          - kind: app
            id: 5882
            opcode: unpackChild
            args:
              - kind: app
                id: 5881
                opcode: field
                args:
                  - kind: name
                    id: 5879
                    name: internal
                  - kind: str
                    id: 5880
                    value: left_child
          - kind: str
            id: 5888
            value: right
          - kind: app
            id: 5887
            opcode: unpackChild
            args:
              - kind: app
                id: 5886
                opcode: field
                args:
                  - kind: name
                    id: 5884
                    name: internal
                  - kind: str
                    id: 5885
                    value: right_child
    depth: 0
  5899:
    kind: def
    id: 5899
    name: unpackedNew
    qualifier: pureval
    expr:
      kind: app
      id: 5898
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5897
          name: internal
    depth: 3
  5900:
    id: 5895
    name: internalOldVersion
  5901:
    kind: def
    id: 5891
    name: unpackInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5890
      params:
        - id: 5875
          name: internal
      expr:
        kind: app
        id: 5889
        opcode: Rec
        args:
          - kind: str
            id: 5883
            value: left
          - kind: app
            id: 5882
            opcode: unpackChild
            args:
              - kind: app
                id: 5881
                opcode: field
                args:
                  - kind: name
                    id: 5879
                    name: internal
                  - kind: str
                    id: 5880
                    value: left_child
          - kind: str
            id: 5888
            value: right
          - kind: app
            id: 5887
            opcode: unpackChild
            args:
              - kind: app
                id: 5886
                opcode: field
                args:
                  - kind: name
                    id: 5884
                    name: internal
                  - kind: str
                    id: 5885
                    value: right_child
    depth: 0
  5902:
    kind: def
    id: 5902
    name: unpackedOld
    qualifier: pureval
    expr:
      kind: app
      id: 5901
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5900
          name: internalOldVersion
    depth: 4
  5903:
    kind: def
    id: 5899
    name: unpackedNew
    qualifier: pureval
    expr:
      kind: app
      id: 5898
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5897
          name: internal
    depth: 3
  5908:
    kind: def
    id: 5902
    name: unpackedOld
    qualifier: pureval
    expr:
      kind: app
      id: 5901
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5900
          name: internalOldVersion
    depth: 4
  5914:
    kind: def
    id: 5899
    name: unpackedNew
    qualifier: pureval
    expr:
      kind: app
      id: 5898
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5897
          name: internal
    depth: 3
  5919:
    kind: def
    id: 5902
    name: unpackedOld
    qualifier: pureval
    expr:
      kind: app
      id: 5901
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5900
          name: internalOldVersion
    depth: 4
  5929:
    kind: def
    id: 5929
    name: cmpInternalAndNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5928
      params:
        - id: 5893
          name: internal
        - id: 5895
          name: internalOldVersion
      expr:
        kind: let
        id: 5927
        opdef:
          id: 5899
          name: unpackedNew
          qualifier: pureval
          expr:
            kind: app
            id: 5898
            opcode: unpackInternalNode
            args:
              - kind: name
                id: 5897
                name: internal
          depth: ~
        expr:
          kind: let
          id: 5926
          opdef:
            id: 5902
            name: unpackedOld
            qualifier: pureval
            expr:
              kind: app
              id: 5901
              opcode: unpackInternalNode
              args:
                - kind: name
                  id: 5900
                  name: internalOldVersion
            depth: ~
          expr:
            kind: app
            id: 5925
            opcode: and
            args:
              - kind: app
                id: 5913
                opcode: eq
                args:
                  - kind: app
                    id: 5907
                    opcode: field
                    args:
                      - kind: app
                        id: 5905
                        opcode: field
                        args:
                          - kind: name
                            id: 5903
                            name: unpackedNew
                          - kind: str
                            id: 5904
                            value: left
                      - kind: str
                        id: 5906
                        value: hash
                  - kind: app
                    id: 5912
                    opcode: field
                    args:
                      - kind: app
                        id: 5910
                        opcode: field
                        args:
                          - kind: name
                            id: 5908
                            name: unpackedOld
                          - kind: str
                            id: 5909
                            value: left
                      - kind: str
                        id: 5911
                        value: hash
              - kind: app
                id: 5924
                opcode: eq
                args:
                  - kind: app
                    id: 5918
                    opcode: field
                    args:
                      - kind: app
                        id: 5916
                        opcode: field
                        args:
                          - kind: name
                            id: 5914
                            name: unpackedNew
                          - kind: str
                            id: 5915
                            value: right
                      - kind: str
                        id: 5917
                        value: hash
                  - kind: app
                    id: 5923
                    opcode: field
                    args:
                      - kind: app
                        id: 5921
                        opcode: field
                        args:
                          - kind: name
                            id: 5919
                            name: unpackedOld
                          - kind: str
                            id: 5920
                            value: right
                      - kind: str
                        id: 5922
                        value: hash
    depth: 0
  5930:
    kind: typedef
    id: 3264
  5931:
    kind: typedef
    id: 3900
  5934:
    kind: typedef
    id: 3273
  5936:
    kind: typedef
    id: 3260
  5938:
    kind: typedef
    id: 3264
  5939:
    kind: typedef
    id: 3900
  5941:
    id: 5933
    name: nodes
  5942:
    kind: def
    id: 3478
    name: allInternals
    qualifier: puredef
    expr:
      kind: lambda
      id: 3477
      params:
        - id: 3451
          name: t
      expr:
        kind: app
        id: 3476
        opcode: fold
        args:
          - kind: app
            id: 3456
            opcode: keys
            args:
              - kind: name
                id: 3455
                name: t
          - kind: app
            id: 3457
            opcode: Map
            args: []
          - kind: lambda
            id: 3475
            params:
              - id: 3458
                name: internals
              - id: 3459
                name: key
            expr:
              kind: app
              id: 3468
              opcode: matchVariant
              args:
                - kind: app
                  id: 3462
                  opcode: get
                  args:
                    - kind: name
                      id: 3460
                      name: t
                    - kind: name
                      id: 3461
                      name: key
                - kind: str
                  id: 3469
                  value: Internal
                - kind: lambda
                  id: 3470
                  params:
                    - id: 3471
                      name: x
                  expr:
                    kind: app
                    id: 3466
                    opcode: put
                    args:
                      - kind: name
                        id: 3463
                        name: internals
                      - kind: name
                        id: 3464
                        name: key
                      - kind: name
                        id: 3465
                        name: x
                - kind: str
                  id: 3472
                  value: Leaf
                - kind: lambda
                  id: 3473
                  params:
                    - id: 3474
                      name: _
                  expr:
                    kind: name
                    id: 3467
                    name: internals
    depth: 0
  5943:
    kind: def
    id: 5943
    name: internalNodes
    qualifier: val
    expr:
      kind: app
      id: 5942
      opcode: allInternals
      args:
        - kind: name
          id: 5941
          name: nodes
    depth: 3
  5944:
    id: 5935
    name: old_version_nodes
  5945:
    kind: def
    id: 3478
    name: allInternals
    qualifier: puredef
    expr:
      kind: lambda
      id: 3477
      params:
        - id: 3451
          name: t
      expr:
        kind: app
        id: 3476
        opcode: fold
        args:
          - kind: app
            id: 3456
            opcode: keys
            args:
              - kind: name
                id: 3455
                name: t
          - kind: app
            id: 3457
            opcode: Map
            args: []
          - kind: lambda
            id: 3475
            params:
              - id: 3458
                name: internals
              - id: 3459
                name: key
            expr:
              kind: app
              id: 3468
              opcode: matchVariant
              args:
                - kind: app
                  id: 3462
                  opcode: get
                  args:
                    - kind: name
                      id: 3460
                      name: t
                    - kind: name
                      id: 3461
                      name: key
                - kind: str
                  id: 3469
                  value: Internal
                - kind: lambda
                  id: 3470
                  params:
                    - id: 3471
                      name: x
                  expr:
                    kind: app
                    id: 3466
                    opcode: put
                    args:
                      - kind: name
                        id: 3463
                        name: internals
                      - kind: name
                        id: 3464
                        name: key
                      - kind: name
                        id: 3465
                        name: x
                - kind: str
                  id: 3472
                  value: Leaf
                - kind: lambda
                  id: 3473
                  params:
                    - id: 3474
                      name: _
                  expr:
                    kind: name
                    id: 3467
                    name: internals
    depth: 0
  5946:
    kind: def
    id: 5946
    name: internalNodesOld
    qualifier: val
    expr:
      kind: app
      id: 5945
      opcode: allInternals
      args:
        - kind: name
          id: 5944
          name: old_version_nodes
    depth: 4
  5947:
    kind: def
    id: 5946
    name: internalNodesOld
    qualifier: val
    expr:
      kind: app
      id: 5945
      opcode: allInternals
      args:
        - kind: name
          id: 5944
          name: old_version_nodes
    depth: 4
  5949:
    id: 5933
    name: nodes
  5952:
    id: 5937
    name: new_version
  5953:
    id: 5951
    name: key
  5957:
    kind: def
    id: 5943
    name: internalNodes
    qualifier: val
    expr:
      kind: app
      id: 5942
      opcode: allInternals
      args:
        - kind: name
          id: 5941
          name: nodes
    depth: 3
  5958:
    id: 5951
    name: key
  5959:
    id: 5937
    name: new_version
  5962:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  5964:
    kind: def
    id: 5943
    name: internalNodes
    qualifier: val
    expr:
      kind: app
      id: 5942
      opcode: allInternals
      args:
        - kind: name
          id: 5941
          name: nodes
    depth: 3
  5965:
    id: 5951
    name: key
  5967:
    kind: def
    id: 5967
    name: internalOld
    qualifier: val
    expr:
      kind: app
      id: 5966
      opcode: get
      args:
        - kind: name
          id: 5964
          name: internalNodes
        - kind: name
          id: 5965
          name: key
    depth: 6
  5968:
    kind: def
    id: 5943
    name: internalNodes
    qualifier: val
    expr:
      kind: app
      id: 5942
      opcode: allInternals
      args:
        - kind: name
          id: 5941
          name: nodes
    depth: 3
  5969:
    id: 5951
    name: key
  5970:
    id: 5937
    name: new_version
  5974:
    kind: def
    id: 5974
    name: internalNew
    qualifier: val
    expr:
      kind: app
      id: 5973
      opcode: get
      args:
        - kind: name
          id: 5968
          name: internalNodes
        - kind: app
          id: 5972
          opcode: with
          args:
            - kind: name
              id: 5969
              name: key
            - kind: str
              id: 5971
              value: version
            - kind: name
              id: 5970
              name: new_version
    depth: 7
  5975:
    kind: def
    id: 5967
    name: internalOld
    qualifier: val
    expr:
      kind: app
      id: 5966
      opcode: get
      args:
        - kind: name
          id: 5964
          name: internalNodes
        - kind: name
          id: 5965
          name: key
    depth: 6
  5976:
    kind: def
    id: 5891
    name: unpackInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5890
      params:
        - id: 5875
          name: internal
      expr:
        kind: app
        id: 5889
        opcode: Rec
        args:
          - kind: str
            id: 5883
            value: left
          - kind: app
            id: 5882
            opcode: unpackChild
            args:
              - kind: app
                id: 5881
                opcode: field
                args:
                  - kind: name
                    id: 5879
                    name: internal
                  - kind: str
                    id: 5880
                    value: left_child
          - kind: str
            id: 5888
            value: right
          - kind: app
            id: 5887
            opcode: unpackChild
            args:
              - kind: app
                id: 5886
                opcode: field
                args:
                  - kind: name
                    id: 5884
                    name: internal
                  - kind: str
                    id: 5885
                    value: right_child
    depth: 0
  5977:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  5978:
    kind: def
    id: 5974
    name: internalNew
    qualifier: val
    expr:
      kind: app
      id: 5973
      opcode: get
      args:
        - kind: name
          id: 5968
          name: internalNodes
        - kind: app
          id: 5972
          opcode: with
          args:
            - kind: name
              id: 5969
              name: key
            - kind: str
              id: 5971
              value: version
            - kind: name
              id: 5970
              name: new_version
    depth: 7
  5979:
    kind: def
    id: 5891
    name: unpackInternalNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5890
      params:
        - id: 5875
          name: internal
      expr:
        kind: app
        id: 5889
        opcode: Rec
        args:
          - kind: str
            id: 5883
            value: left
          - kind: app
            id: 5882
            opcode: unpackChild
            args:
              - kind: app
                id: 5881
                opcode: field
                args:
                  - kind: name
                    id: 5879
                    name: internal
                  - kind: str
                    id: 5880
                    value: left_child
          - kind: str
            id: 5888
            value: right
          - kind: app
            id: 5887
            opcode: unpackChild
            args:
              - kind: app
                id: 5886
                opcode: field
                args:
                  - kind: name
                    id: 5884
                    name: internal
                  - kind: str
                    id: 5885
                    value: right_child
    depth: 0
  5980:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  5981:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  5986:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  5992:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  5997:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6004:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6009:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6015:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6020:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6028:
    id: 5950
    name: nodes
  6029:
    id: 5951
    name: key
  6030:
    id: 5937
    name: new_version
  6033:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6036:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6038:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6041:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6044:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6046:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6051:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6057:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6062:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6069:
    id: 5950
    name: nodes
  6070:
    id: 5951
    name: key
  6071:
    id: 5937
    name: new_version
  6074:
    kind: def
    id: 5974
    name: internalNew
    qualifier: val
    expr:
      kind: app
      id: 5973
      opcode: get
      args:
        - kind: name
          id: 5968
          name: internalNodes
        - kind: app
          id: 5972
          opcode: with
          args:
            - kind: name
              id: 5969
              name: key
            - kind: str
              id: 5971
              value: version
            - kind: name
              id: 5970
              name: new_version
    depth: 7
  6075:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6078:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6081:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6083:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6088:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6094:
    kind: def
    id: 5980
    name: unpackedNew
    qualifier: val
    expr:
      kind: app
      id: 5979
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5978
          name: internalNew
    depth: 9
  6099:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6106:
    id: 5950
    name: nodes
  6107:
    id: 5951
    name: key
  6108:
    id: 5937
    name: new_version
  6111:
    kind: def
    id: 5974
    name: internalNew
    qualifier: val
    expr:
      kind: app
      id: 5973
      opcode: get
      args:
        - kind: name
          id: 5968
          name: internalNodes
        - kind: app
          id: 5972
          opcode: with
          args:
            - kind: name
              id: 5969
              name: key
            - kind: str
              id: 5971
              value: version
            - kind: name
              id: 5970
              name: new_version
    depth: 7
  6112:
    kind: def
    id: 5977
    name: unpackedOld
    qualifier: val
    expr:
      kind: app
      id: 5976
      opcode: unpackInternalNode
      args:
        - kind: name
          id: 5975
          name: internalOld
    depth: 8
  6115:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6118:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6120:
    id: 5950
    name: nodes
  6128:
    id: 5950
    name: nodes
  6135:
    kind: def
    id: 6135
    name: updateChildVersions
    qualifier: puredef
    expr:
      kind: lambda
      id: 6134
      params:
        - id: 5933
          name: nodes
        - id: 5935
          name: old_version_nodes
        - id: 5937
          name: new_version
      expr:
        kind: let
        id: 6133
        opdef:
          id: 5943
          name: internalNodes
          qualifier: val
          expr:
            kind: app
            id: 5942
            opcode: allInternals
            args:
              - kind: name
                id: 5941
                name: nodes
          depth: ~
        expr:
          kind: let
          id: 6132
          opdef:
            id: 5946
            name: internalNodesOld
            qualifier: val
            expr:
              kind: app
              id: 5945
              opcode: allInternals
              args:
                - kind: name
                  id: 5944
                  name: old_version_nodes
            depth: ~
          expr:
            kind: app
            id: 6131
            opcode: fold
            args:
              - kind: app
                id: 5948
                opcode: keys
                args:
                  - kind: name
                    id: 5947
                    name: internalNodesOld
              - kind: name
                id: 5949
                name: nodes
              - kind: lambda
                id: 6130
                params:
                  - id: 5950
                    name: nodes
                  - id: 5951
                    name: key
                expr:
                  kind: app
                  id: 6129
                  opcode: ite
                  args:
                    - kind: app
                      id: 5963
                      opcode: and
                      args:
                        - kind: app
                          id: 5956
                          opcode: igt
                          args:
                            - kind: name
                              id: 5952
                              name: new_version
                            - kind: app
                              id: 5955
                              opcode: field
                              args:
                                - kind: name
                                  id: 5953
                                  name: key
                                - kind: str
                                  id: 5954
                                  value: version
                        - kind: app
                          id: 5962
                          opcode: has
                          args:
                            - kind: name
                              id: 5957
                              name: internalNodes
                            - kind: app
                              id: 5961
                              opcode: with
                              args:
                                - kind: name
                                  id: 5958
                                  name: key
                                - kind: str
                                  id: 5960
                                  value: version
                                - kind: name
                                  id: 5959
                                  name: new_version
                    - kind: let
                      id: 6127
                      opdef:
                        id: 5967
                        name: internalOld
                        qualifier: val
                        expr:
                          kind: app
                          id: 5966
                          opcode: get
                          args:
                            - kind: name
                              id: 5964
                              name: internalNodes
                            - kind: name
                              id: 5965
                              name: key
                        depth: ~
                      expr:
                        kind: let
                        id: 6126
                        opdef:
                          id: 5974
                          name: internalNew
                          qualifier: val
                          expr:
                            kind: app
                            id: 5973
                            opcode: get
                            args:
                              - kind: name
                                id: 5968
                                name: internalNodes
                              - kind: app
                                id: 5972
                                opcode: with
                                args:
                                  - kind: name
                                    id: 5969
                                    name: key
                                  - kind: str
                                    id: 5971
                                    value: version
                                  - kind: name
                                    id: 5970
                                    name: new_version
                          depth: ~
                        expr:
                          kind: let
                          id: 6125
                          opdef:
                            id: 5977
                            name: unpackedOld
                            qualifier: val
                            expr:
                              kind: app
                              id: 5976
                              opcode: unpackInternalNode
                              args:
                                - kind: name
                                  id: 5975
                                  name: internalOld
                            depth: ~
                          expr:
                            kind: let
                            id: 6124
                            opdef:
                              id: 5980
                              name: unpackedNew
                              qualifier: val
                              expr:
                                kind: app
                                id: 5979
                                opcode: unpackInternalNode
                                args:
                                  - kind: name
                                    id: 5978
                                    name: internalNew
                              depth: ~
                            expr:
                              kind: app
                              id: 6123
                              opcode: ite
                              args:
                                - kind: app
                                  id: 6027
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 6003
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 5991
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5985
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5983
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5981
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 5982
                                                      value: left
                                                - kind: str
                                                  id: 5984
                                                  value: hash
                                            - kind: app
                                              id: 5990
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5988
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5986
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 5987
                                                      value: left
                                                - kind: str
                                                  id: 5989
                                                  value: hash
                                        - kind: app
                                          id: 6002
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 5996
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5994
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5992
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 5993
                                                      value: left
                                                - kind: str
                                                  id: 5995
                                                  value: version
                                            - kind: app
                                              id: 6001
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5999
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5997
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 5998
                                                      value: left
                                                - kind: str
                                                  id: 6000
                                                  value: version
                                    - kind: app
                                      id: 6026
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 6014
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 6008
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6006
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6004
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6005
                                                      value: right
                                                - kind: str
                                                  id: 6007
                                                  value: hash
                                            - kind: app
                                              id: 6013
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6011
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6009
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6010
                                                      value: right
                                                - kind: str
                                                  id: 6012
                                                  value: hash
                                        - kind: app
                                          id: 6025
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 6019
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6017
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6015
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6016
                                                      value: right
                                                - kind: str
                                                  id: 6018
                                                  value: version
                                            - kind: app
                                              id: 6024
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6022
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6020
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6021
                                                      value: right
                                                - kind: str
                                                  id: 6023
                                                  value: version
                                - kind: app
                                  id: 6045
                                  opcode: set
                                  args:
                                    - kind: name
                                      id: 6028
                                      name: nodes
                                    - kind: app
                                      id: 6032
                                      opcode: with
                                      args:
                                        - kind: name
                                          id: 6029
                                          name: key
                                        - kind: str
                                          id: 6031
                                          value: version
                                        - kind: name
                                          id: 6030
                                          name: new_version
                                    - kind: app
                                      id: 6044
                                      opcode: Internal
                                      args:
                                        - kind: app
                                          id: 6043
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 6037
                                              value: left_child
                                            - kind: app
                                              id: 6036
                                              opcode: Some
                                              args:
                                                - kind: app
                                                  id: 6035
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6033
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6034
                                                      value: left
                                            - kind: str
                                              id: 6042
                                              value: right_child
                                            - kind: app
                                              id: 6041
                                              opcode: Some
                                              args:
                                                - kind: app
                                                  id: 6040
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6038
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6039
                                                      value: right
                                - kind: app
                                  id: 6122
                                  opcode: ite
                                  args:
                                    - kind: app
                                      id: 6068
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 6056
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 6050
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6048
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6046
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6047
                                                      value: left
                                                - kind: str
                                                  id: 6049
                                                  value: hash
                                            - kind: app
                                              id: 6055
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6053
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6051
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6052
                                                      value: left
                                                - kind: str
                                                  id: 6054
                                                  value: hash
                                        - kind: app
                                          id: 6067
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 6061
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6059
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6057
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6058
                                                      value: left
                                                - kind: str
                                                  id: 6060
                                                  value: version
                                            - kind: app
                                              id: 6066
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6064
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6062
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6063
                                                      value: left
                                                - kind: str
                                                  id: 6065
                                                  value: version
                                    - kind: app
                                      id: 6082
                                      opcode: set
                                      args:
                                        - kind: name
                                          id: 6069
                                          name: nodes
                                        - kind: app
                                          id: 6073
                                          opcode: with
                                          args:
                                            - kind: name
                                              id: 6070
                                              name: key
                                            - kind: str
                                              id: 6072
                                              value: version
                                            - kind: name
                                              id: 6071
                                              name: new_version
                                        - kind: app
                                          id: 6081
                                          opcode: Internal
                                          args:
                                            - kind: app
                                              id: 6080
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6074
                                                  name: internalNew
                                                - kind: str
                                                  id: 6079
                                                  value: left_child
                                                - kind: app
                                                  id: 6078
                                                  opcode: Some
                                                  args:
                                                    - kind: app
                                                      id: 6077
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6075
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6076
                                                          value: left
                                    - kind: app
                                      id: 6121
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 6105
                                          opcode: and
                                          args:
                                            - kind: app
                                              id: 6093
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 6087
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6085
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6083
                                                          name: unpackedNew
                                                        - kind: str
                                                          id: 6084
                                                          value: right
                                                    - kind: str
                                                      id: 6086
                                                      value: hash
                                                - kind: app
                                                  id: 6092
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6090
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6088
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6089
                                                          value: right
                                                    - kind: str
                                                      id: 6091
                                                      value: hash
                                            - kind: app
                                              id: 6104
                                              opcode: neq
                                              args:
                                                - kind: app
                                                  id: 6098
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6096
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6094
                                                          name: unpackedNew
                                                        - kind: str
                                                          id: 6095
                                                          value: right
                                                    - kind: str
                                                      id: 6097
                                                      value: version
                                                - kind: app
                                                  id: 6103
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6101
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6099
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6100
                                                          value: right
                                                    - kind: str
                                                      id: 6102
                                                      value: version
                                        - kind: app
                                          id: 6119
                                          opcode: set
                                          args:
                                            - kind: name
                                              id: 6106
                                              name: nodes
                                            - kind: app
                                              id: 6110
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6107
                                                  name: key
                                                - kind: str
                                                  id: 6109
                                                  value: version
                                                - kind: name
                                                  id: 6108
                                                  name: new_version
                                            - kind: app
                                              id: 6118
                                              opcode: Internal
                                              args:
                                                - kind: app
                                                  id: 6117
                                                  opcode: with
                                                  args:
                                                    - kind: name
                                                      id: 6111
                                                      name: internalNew
                                                    - kind: str
                                                      id: 6116
                                                      value: right_child
                                                    - kind: app
                                                      id: 6115
                                                      opcode: Some
                                                      args:
                                                        - kind: app
                                                          id: 6114
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6112
                                                              name: unpackedOld
                                                            - kind: str
                                                              id: 6113
                                                              value: right
                                        - kind: name
                                          id: 6120
                                          name: nodes
                    - kind: name
                      id: 6128
                      name: nodes
    depth: 0
  6136:
    kind: typedef
    id: 3273
  6138:
    kind: typedef
    id: 3273
  6140:
    kind: typedef
    id: 3260
  6142:
    kind: typedef
    id: 3264
  6143:
    kind: typedef
    id: 3900
  6145:
    id: 6139
    name: old_version_nodes
  6147:
    id: 6137
    name: nodes
  6150:
    id: 6141
    name: current_version
  6151:
    id: 6149
    name: key
  6155:
    id: 6148
    name: nodes
  6157:
    id: 6149
    name: key
  6158:
    id: 6141
    name: current_version
  6163:
    id: 6148
    name: nodes
  6164:
    id: 6149
    name: key
  6166:
    kind: def
    id: 6166
    name: nodeForKey
    qualifier: val
    expr:
      kind: app
      id: 6165
      opcode: get
      args:
        - kind: name
          id: 6163
          name: nodes
        - kind: name
          id: 6164
          name: key
    depth: 4
  6167:
    id: 6148
    name: nodes
  6168:
    id: 6149
    name: key
  6169:
    id: 6141
    name: current_version
  6173:
    kind: def
    id: 6173
    name: nodeForKeyWithNewVersion
    qualifier: val
    expr:
      kind: app
      id: 6172
      opcode: get
      args:
        - kind: name
          id: 6167
          name: nodes
        - kind: app
          id: 6171
          opcode: with
          args:
            - kind: name
              id: 6168
              name: key
            - kind: str
              id: 6170
              value: version
            - kind: name
              id: 6169
              name: current_version
    depth: 5
  6174:
    kind: def
    id: 6166
    name: nodeForKey
    qualifier: val
    expr:
      kind: app
      id: 6165
      opcode: get
      args:
        - kind: name
          id: 6163
          name: nodes
        - kind: name
          id: 6164
          name: key
    depth: 4
  6175:
    kind: def
    id: 6173
    name: nodeForKeyWithNewVersion
    qualifier: val
    expr:
      kind: app
      id: 6172
      opcode: get
      args:
        - kind: name
          id: 6167
          name: nodes
        - kind: app
          id: 6171
          opcode: with
          args:
            - kind: name
              id: 6168
              name: key
            - kind: str
              id: 6170
              value: version
            - kind: name
              id: 6169
              name: current_version
    depth: 5
  6177:
    id: 6149
    name: key
  6178:
    kind: def
    id: 3347
    name: isRoot
    qualifier: puredef
    expr:
      kind: lambda
      id: 3346
      params:
        - id: 3339
          name: key
      expr:
        kind: app
        id: 3345
        opcode: eq
        args:
          - kind: app
            id: 3343
            opcode: field
            args:
              - kind: name
                id: 3341
                name: key
              - kind: str
                id: 3342
                value: key_hash
          - kind: name
            id: 3344
            name: ROOT_BITS
    depth: 0
  6181:
    id: 6148
    name: nodes
  6182:
    id: 6149
    name: key
  6183:
    id: 6141
    name: current_version
  6186:
    kind: def
    id: 1540
    name: mapRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1539
      params:
        - id: 1523
          name: m
        - id: 1525
          name: key
      expr:
        kind: app
        id: 1538
        opcode: mapBy
        args:
          - kind: app
            id: 1532
            opcode: setRemove
            args:
              - kind: app
                id: 1530
                opcode: keys
                args:
                  - kind: name
                    id: 1529
                    name: m
              - kind: name
                id: 1531
                name: key
          - kind: lambda
            id: 1537
            params:
              - id: 1533
                name: k
            expr:
              kind: app
              id: 1536
              opcode: get
              args:
                - kind: name
                  id: 1534
                  name: m
                - kind: name
                  id: 1535
                  name: k
    depth: 0
  6187:
    kind: def
    id: 6173
    name: nodeForKeyWithNewVersion
    qualifier: val
    expr:
      kind: app
      id: 6172
      opcode: get
      args:
        - kind: name
          id: 6167
          name: nodes
        - kind: app
          id: 6171
          opcode: with
          args:
            - kind: name
              id: 6168
              name: key
            - kind: str
              id: 6170
              value: version
            - kind: name
              id: 6169
              name: current_version
    depth: 5
  6188:
    kind: def
    id: 6166
    name: nodeForKey
    qualifier: val
    expr:
      kind: app
      id: 6165
      opcode: get
      args:
        - kind: name
          id: 6163
          name: nodes
        - kind: name
          id: 6164
          name: key
    depth: 4
  6189:
    id: 6216
    name: internalNewVersion
  6190:
    id: 6208
    name: internalOldVersion
  6191:
    kind: def
    id: 5929
    name: cmpInternalAndNode
    qualifier: puredef
    expr:
      kind: lambda
      id: 5928
      params:
        - id: 5893
          name: internal
        - id: 5895
          name: internalOldVersion
      expr:
        kind: let
        id: 5927
        opdef:
          id: 5899
          name: unpackedNew
          qualifier: pureval
          expr:
            kind: app
            id: 5898
            opcode: unpackInternalNode
            args:
              - kind: name
                id: 5897
                name: internal
          depth: ~
        expr:
          kind: let
          id: 5926
          opdef:
            id: 5902
            name: unpackedOld
            qualifier: pureval
            expr:
              kind: app
              id: 5901
              opcode: unpackInternalNode
              args:
                - kind: name
                  id: 5900
                  name: internalOldVersion
            depth: ~
          expr:
            kind: app
            id: 5925
            opcode: and
            args:
              - kind: app
                id: 5913
                opcode: eq
                args:
                  - kind: app
                    id: 5907
                    opcode: field
                    args:
                      - kind: app
                        id: 5905
                        opcode: field
                        args:
                          - kind: name
                            id: 5903
                            name: unpackedNew
                          - kind: str
                            id: 5904
                            value: left
                      - kind: str
                        id: 5906
                        value: hash
                  - kind: app
                    id: 5912
                    opcode: field
                    args:
                      - kind: app
                        id: 5910
                        opcode: field
                        args:
                          - kind: name
                            id: 5908
                            name: unpackedOld
                          - kind: str
                            id: 5909
                            value: left
                      - kind: str
                        id: 5911
                        value: hash
              - kind: app
                id: 5924
                opcode: eq
                args:
                  - kind: app
                    id: 5918
                    opcode: field
                    args:
                      - kind: app
                        id: 5916
                        opcode: field
                        args:
                          - kind: name
                            id: 5914
                            name: unpackedNew
                          - kind: str
                            id: 5915
                            value: right
                      - kind: str
                        id: 5917
                        value: hash
                  - kind: app
                    id: 5923
                    opcode: field
                    args:
                      - kind: app
                        id: 5921
                        opcode: field
                        args:
                          - kind: name
                            id: 5919
                            name: unpackedOld
                          - kind: str
                            id: 5920
                            value: right
                      - kind: str
                        id: 5922
                        value: hash
    depth: 0
  6192:
    id: 6149
    name: key
  6193:
    kind: def
    id: 3347
    name: isRoot
    qualifier: puredef
    expr:
      kind: lambda
      id: 3346
      params:
        - id: 3339
          name: key
      expr:
        kind: app
        id: 3345
        opcode: eq
        args:
          - kind: app
            id: 3343
            opcode: field
            args:
              - kind: name
                id: 3341
                name: key
              - kind: str
                id: 3342
                value: key_hash
          - kind: name
            id: 3344
            name: ROOT_BITS
    depth: 0
  6196:
    id: 6148
    name: nodes
  6197:
    id: 6149
    name: key
  6198:
    id: 6141
    name: current_version
  6201:
    kind: def
    id: 1540
    name: mapRemove
    qualifier: puredef
    expr:
      kind: lambda
      id: 1539
      params:
        - id: 1523
          name: m
        - id: 1525
          name: key
      expr:
        kind: app
        id: 1538
        opcode: mapBy
        args:
          - kind: app
            id: 1532
            opcode: setRemove
            args:
              - kind: app
                id: 1530
                opcode: keys
                args:
                  - kind: name
                    id: 1529
                    name: m
              - kind: name
                id: 1531
                name: key
          - kind: lambda
            id: 1537
            params:
              - id: 1533
                name: k
            expr:
              kind: app
              id: 1536
              opcode: get
              args:
                - kind: name
                  id: 1534
                  name: m
                - kind: name
                  id: 1535
                  name: k
    depth: 0
  6202:
    id: 6148
    name: nodes
  6204:
    id: 6148
    name: nodes
  6212:
    id: 6148
    name: nodes
  6223:
    id: 6148
    name: nodes
  6228:
    kind: def
    id: 6228
    name: removeDuplicateEntries
    qualifier: puredef
    expr:
      kind: lambda
      id: 6227
      params:
        - id: 6137
          name: nodes
        - id: 6139
          name: old_version_nodes
        - id: 6141
          name: current_version
      expr:
        kind: app
        id: 6226
        opcode: fold
        args:
          - kind: app
            id: 6146
            opcode: keys
            args:
              - kind: name
                id: 6145
                name: old_version_nodes
          - kind: name
            id: 6147
            name: nodes
          - kind: lambda
            id: 6225
            params:
              - id: 6148
                name: nodes
              - id: 6149
                name: key
            expr:
              kind: app
              id: 6224
              opcode: ite
              args:
                - kind: app
                  id: 6162
                  opcode: and
                  args:
                    - kind: app
                      id: 6154
                      opcode: igt
                      args:
                        - kind: name
                          id: 6150
                          name: current_version
                        - kind: app
                          id: 6153
                          opcode: field
                          args:
                            - kind: name
                              id: 6151
                              name: key
                            - kind: str
                              id: 6152
                              value: version
                    - kind: app
                      id: 6161
                      opcode: contains
                      args:
                        - kind: app
                          id: 6156
                          opcode: keys
                          args:
                            - kind: name
                              id: 6155
                              name: nodes
                        - kind: app
                          id: 6160
                          opcode: with
                          args:
                            - kind: name
                              id: 6157
                              name: key
                            - kind: str
                              id: 6159
                              value: version
                            - kind: name
                              id: 6158
                              name: current_version
                - kind: let
                  id: 6222
                  opdef:
                    id: 6166
                    name: nodeForKey
                    qualifier: val
                    expr:
                      kind: app
                      id: 6165
                      opcode: get
                      args:
                        - kind: name
                          id: 6163
                          name: nodes
                        - kind: name
                          id: 6164
                          name: key
                    depth: ~
                  expr:
                    kind: let
                    id: 6221
                    opdef:
                      id: 6173
                      name: nodeForKeyWithNewVersion
                      qualifier: val
                      expr:
                        kind: app
                        id: 6172
                        opcode: get
                        args:
                          - kind: name
                            id: 6167
                            name: nodes
                          - kind: app
                            id: 6171
                            opcode: with
                            args:
                              - kind: name
                                id: 6168
                                name: key
                              - kind: str
                                id: 6170
                                value: version
                              - kind: name
                                id: 6169
                                name: current_version
                      depth: ~
                    expr:
                      kind: app
                      id: 6220
                      opcode: ite
                      args:
                        - kind: app
                          id: 6180
                          opcode: and
                          args:
                            - kind: app
                              id: 6176
                              opcode: eq
                              args:
                                - kind: name
                                  id: 6174
                                  name: nodeForKey
                                - kind: name
                                  id: 6175
                                  name: nodeForKeyWithNewVersion
                            - kind: app
                              id: 6179
                              opcode: not
                              args:
                                - kind: app
                                  id: 6178
                                  opcode: isRoot
                                  args:
                                    - kind: name
                                      id: 6177
                                      name: key
                        - kind: app
                          id: 6186
                          opcode: mapRemove
                          args:
                            - kind: name
                              id: 6181
                              name: nodes
                            - kind: app
                              id: 6185
                              opcode: with
                              args:
                                - kind: name
                                  id: 6182
                                  name: key
                                - kind: str
                                  id: 6184
                                  value: version
                                - kind: name
                                  id: 6183
                                  name: current_version
                        - kind: app
                          id: 6213
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 6187
                              name: nodeForKeyWithNewVersion
                            - kind: str
                              id: 6214
                              value: Internal
                            - kind: lambda
                              id: 6215
                              params:
                                - id: 6216
                                  name: internalNewVersion
                              expr:
                                kind: app
                                id: 6205
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 6188
                                    name: nodeForKey
                                  - kind: str
                                    id: 6206
                                    value: Internal
                                  - kind: lambda
                                    id: 6207
                                    params:
                                      - id: 6208
                                        name: internalOldVersion
                                    expr:
                                      kind: app
                                      id: 6203
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 6195
                                          opcode: and
                                          args:
                                            - kind: app
                                              id: 6191
                                              opcode: cmpInternalAndNode
                                              args:
                                                - kind: name
                                                  id: 6189
                                                  name: internalNewVersion
                                                - kind: name
                                                  id: 6190
                                                  name: internalOldVersion
                                            - kind: app
                                              id: 6194
                                              opcode: not
                                              args:
                                                - kind: app
                                                  id: 6193
                                                  opcode: isRoot
                                                  args:
                                                    - kind: name
                                                      id: 6192
                                                      name: key
                                        - kind: app
                                          id: 6201
                                          opcode: mapRemove
                                          args:
                                            - kind: name
                                              id: 6196
                                              name: nodes
                                            - kind: app
                                              id: 6200
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6197
                                                  name: key
                                                - kind: str
                                                  id: 6199
                                                  value: version
                                                - kind: name
                                                  id: 6198
                                                  name: current_version
                                        - kind: name
                                          id: 6202
                                          name: nodes
                                  - kind: str
                                    id: 6209
                                    value: Leaf
                                  - kind: lambda
                                    id: 6210
                                    params:
                                      - id: 6211
                                        name: _
                                    expr:
                                      kind: name
                                      id: 6204
                                      name: nodes
                            - kind: str
                              id: 6217
                              value: Leaf
                            - kind: lambda
                              id: 6218
                              params:
                                - id: 6219
                                  name: _
                              expr:
                                kind: name
                                id: 6212
                                name: nodes
                - kind: name
                  id: 6223
                  name: nodes
    depth: 0
  6229:
    kind: typedef
    id: 3278
  6231:
    kind: typedef
    id: 3260
  6233:
    kind: typedef
    id: 3260
  6235:
    kind: typedef
    id: 3251
  6238:
    kind: typedef
    id: 3278
  6239:
    id: 6230
    name: tree
  6240:
    id: 6232
    name: old_version
  6241:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  6242:
    kind: def
    id: 6242
    name: treeForVersion
    qualifier: val
    expr:
      kind: app
      id: 6241
      opcode: treeAtVersion
      args:
        - kind: name
          id: 6239
          name: tree
        - kind: name
          id: 6240
          name: old_version
    depth: 3
  6243:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6245:
    id: 6234
    name: new_version
  6248:
    kind: def
    id: 6248
    name: treeRoot
    qualifier: val
    expr:
      kind: app
      id: 6247
      opcode: Rec
      args:
        - kind: str
          id: 6244
          value: key_hash
        - kind: name
          id: 6243
          name: ROOT_BITS
        - kind: str
          id: 6246
          value: version
        - kind: name
          id: 6245
          name: new_version
    depth: 4
  6249:
    kind: def
    id: 6242
    name: treeForVersion
    qualifier: val
    expr:
      kind: app
      id: 6241
      opcode: treeAtVersion
      args:
        - kind: name
          id: 6239
          name: tree
        - kind: name
          id: 6240
          name: old_version
    depth: 3
  6254:
    id: 6230
    name: tree
  6257:
    id: 6253
    name: k
  6259:
    id: 6252
    name: acc
  6260:
    id: 6267
    name: leaf
  6263:
    id: 6252
    name: acc
  6273:
    kind: def
    id: 6273
    name: existing_keys_with_values
    qualifier: pureval
    expr:
      kind: app
      id: 6272
      opcode: fold
      args:
        - kind: app
          id: 6250
          opcode: keys
          args:
            - kind: name
              id: 6249
              name: treeForVersion
        - kind: app
          id: 6251
          opcode: Set
          args: []
        - kind: lambda
          id: 6271
          params:
            - id: 6252
              name: acc
            - id: 6253
              name: k
          expr:
            kind: app
            id: 6264
            opcode: matchVariant
            args:
              - kind: app
                id: 6258
                opcode: get
                args:
                  - kind: app
                    id: 6256
                    opcode: field
                    args:
                      - kind: name
                        id: 6254
                        name: tree
                      - kind: str
                        id: 6255
                        value: nodes
                  - kind: name
                    id: 6257
                    name: k
              - kind: str
                id: 6265
                value: Leaf
              - kind: lambda
                id: 6266
                params:
                  - id: 6267
                    name: leaf
                expr:
                  kind: app
                  id: 6262
                  opcode: union
                  args:
                    - kind: name
                      id: 6259
                      name: acc
                    - kind: app
                      id: 6261
                      opcode: Set
                      args:
                        - kind: name
                          id: 6260
                          name: leaf
              - kind: str
                id: 6268
                value: _
              - kind: lambda
                id: 6269
                params:
                  - id: 6270
                    name: _
                expr:
                  kind: name
                  id: 6263
                  name: acc
    depth: 5
  6274:
    kind: def
    id: 6273
    name: existing_keys_with_values
    qualifier: pureval
    expr:
      kind: app
      id: 6272
      opcode: fold
      args:
        - kind: app
          id: 6250
          opcode: keys
          args:
            - kind: name
              id: 6249
              name: treeForVersion
        - kind: app
          id: 6251
          opcode: Set
          args: []
        - kind: lambda
          id: 6271
          params:
            - id: 6252
              name: acc
            - id: 6253
              name: k
          expr:
            kind: app
            id: 6264
            opcode: matchVariant
            args:
              - kind: app
                id: 6258
                opcode: get
                args:
                  - kind: app
                    id: 6256
                    opcode: field
                    args:
                      - kind: name
                        id: 6254
                        name: tree
                      - kind: str
                        id: 6255
                        value: nodes
                  - kind: name
                    id: 6257
                    name: k
              - kind: str
                id: 6265
                value: Leaf
              - kind: lambda
                id: 6266
                params:
                  - id: 6267
                    name: leaf
                expr:
                  kind: app
                  id: 6262
                  opcode: union
                  args:
                    - kind: name
                      id: 6259
                      name: acc
                    - kind: app
                      id: 6261
                      opcode: Set
                      args:
                        - kind: name
                          id: 6260
                          name: leaf
              - kind: str
                id: 6268
                value: _
              - kind: lambda
                id: 6269
                params:
                  - id: 6270
                    name: _
                expr:
                  kind: name
                  id: 6263
                  name: acc
    depth: 5
  6276:
    id: 6237
    name: batch
  6278:
    id: 6277
    name: op
  6283:
    id: 6275
    name: x
  6290:
    kind: def
    id: 6290
    name: keys_with_values_without_new
    qualifier: pureval
    expr:
      kind: app
      id: 6289
      opcode: filter
      args:
        - kind: name
          id: 6274
          name: existing_keys_with_values
        - kind: lambda
          id: 6288
          params:
            - id: 6275
              name: x
          expr:
            kind: app
            id: 6287
            opcode: not
            args:
              - kind: app
                id: 6286
                opcode: contains
                args:
                  - kind: app
                    id: 6282
                    opcode: map
                    args:
                      - kind: name
                        id: 6276
                        name: batch
                      - kind: lambda
                        id: 6281
                        params:
                          - id: 6277
                            name: op
                        expr:
                          kind: app
                          id: 6280
                          opcode: field
                          args:
                            - kind: name
                              id: 6278
                              name: op
                            - kind: str
                              id: 6279
                              value: key_hash
                  - kind: app
                    id: 6285
                    opcode: field
                    args:
                      - kind: name
                        id: 6283
                        name: x
                      - kind: str
                        id: 6284
                        value: key_hash
    depth: 6
  6291:
    id: 6237
    name: batch
  6292:
    kind: def
    id: 6290
    name: keys_with_values_without_new
    qualifier: pureval
    expr:
      kind: app
      id: 6289
      opcode: filter
      args:
        - kind: name
          id: 6274
          name: existing_keys_with_values
        - kind: lambda
          id: 6288
          params:
            - id: 6275
              name: x
          expr:
            kind: app
            id: 6287
            opcode: not
            args:
              - kind: app
                id: 6286
                opcode: contains
                args:
                  - kind: app
                    id: 6282
                    opcode: map
                    args:
                      - kind: name
                        id: 6276
                        name: batch
                      - kind: lambda
                        id: 6281
                        params:
                          - id: 6277
                            name: op
                        expr:
                          kind: app
                          id: 6280
                          opcode: field
                          args:
                            - kind: name
                              id: 6278
                              name: op
                            - kind: str
                              id: 6279
                              value: key_hash
                  - kind: app
                    id: 6285
                    opcode: field
                    args:
                      - kind: name
                        id: 6283
                        name: x
                      - kind: str
                        id: 6284
                        value: key_hash
    depth: 6
  6295:
    id: 6294
    name: op
  6298:
    id: 6293
    name: kv_set
  6299:
    id: 6294
    name: op
  6303:
    id: 6312
    name: value_hash
  6308:
    id: 6293
    name: kv_set
  6318:
    kind: def
    id: 6318
    name: keys_and_values_and_op
    qualifier: val
    expr:
      kind: app
      id: 6317
      opcode: fold
      args:
        - kind: name
          id: 6291
          name: batch
        - kind: name
          id: 6292
          name: keys_with_values_without_new
        - kind: lambda
          id: 6316
          params:
            - id: 6293
              name: kv_set
            - id: 6294
              name: op
          expr:
            kind: app
            id: 6309
            opcode: matchVariant
            args:
              - kind: app
                id: 6297
                opcode: field
                args:
                  - kind: name
                    id: 6295
                    name: op
                  - kind: str
                    id: 6296
                    value: op
              - kind: str
                id: 6310
                value: Insert
              - kind: lambda
                id: 6311
                params:
                  - id: 6312
                    name: value_hash
                expr:
                  kind: app
                  id: 6307
                  opcode: union
                  args:
                    - kind: name
                      id: 6298
                      name: kv_set
                    - kind: app
                      id: 6306
                      opcode: Set
                      args:
                        - kind: app
                          id: 6305
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6302
                              value: key_hash
                            - kind: app
                              id: 6301
                              opcode: field
                              args:
                                - kind: name
                                  id: 6299
                                  name: op
                                - kind: str
                                  id: 6300
                                  value: key_hash
                            - kind: str
                              id: 6304
                              value: value_hash
                            - kind: name
                              id: 6303
                              name: value_hash
              - kind: str
                id: 6313
                value: Delete
              - kind: lambda
                id: 6314
                params:
                  - id: 6315
                    name: _
                expr:
                  kind: name
                  id: 6308
                  name: kv_set
    depth: 7
  6320:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  6323:
    kind: def
    id: 6318
    name: keys_and_values_and_op
    qualifier: val
    expr:
      kind: app
      id: 6317
      opcode: fold
      args:
        - kind: name
          id: 6291
          name: batch
        - kind: name
          id: 6292
          name: keys_with_values_without_new
        - kind: lambda
          id: 6316
          params:
            - id: 6293
              name: kv_set
            - id: 6294
              name: op
          expr:
            kind: app
            id: 6309
            opcode: matchVariant
            args:
              - kind: app
                id: 6297
                opcode: field
                args:
                  - kind: name
                    id: 6295
                    name: op
                  - kind: str
                    id: 6296
                    value: op
              - kind: str
                id: 6310
                value: Insert
              - kind: lambda
                id: 6311
                params:
                  - id: 6312
                    name: value_hash
                expr:
                  kind: app
                  id: 6307
                  opcode: union
                  args:
                    - kind: name
                      id: 6298
                      name: kv_set
                    - kind: app
                      id: 6306
                      opcode: Set
                      args:
                        - kind: app
                          id: 6305
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6302
                              value: key_hash
                            - kind: app
                              id: 6301
                              opcode: field
                              args:
                                - kind: name
                                  id: 6299
                                  name: op
                                - kind: str
                                  id: 6300
                                  value: key_hash
                            - kind: str
                              id: 6304
                              value: value_hash
                            - kind: name
                              id: 6303
                              name: value_hash
              - kind: str
                id: 6313
                value: Delete
              - kind: lambda
                id: 6314
                params:
                  - id: 6315
                    name: _
                expr:
                  kind: name
                  id: 6308
                  name: kv_set
    depth: 7
  6325:
    id: 6324
    name: kv
  6329:
    id: 6324
    name: kv
  6330:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  6338:
    id: 6337
    name: acc
  6342:
    id: 6341
    name: kv
  6346:
    id: 6336
    name: i
  6350:
    kind: def
    id: 6350
    name: prefixes_of_length_i
    qualifier: pureval
    expr:
      kind: app
      id: 6349
      opcode: map
      args:
        - kind: app
          id: 6340
          opcode: item
          args:
            - kind: name
              id: 6338
              name: acc
            - kind: int
              id: 6339
              value: 2
        - kind: lambda
          id: 6348
          params:
            - id: 6341
              name: kv
          expr:
            kind: app
            id: 6347
            opcode: slice
            args:
              - kind: app
                id: 6344
                opcode: field
                args:
                  - kind: name
                    id: 6342
                    name: kv
                  - kind: str
                    id: 6343
                    value: key_hash
              - kind: int
                id: 6345
                value: 0
              - kind: name
                id: 6346
                name: i
    depth: 11
  6351:
    kind: def
    id: 6350
    name: prefixes_of_length_i
    qualifier: pureval
    expr:
      kind: app
      id: 6349
      opcode: map
      args:
        - kind: app
          id: 6340
          opcode: item
          args:
            - kind: name
              id: 6338
              name: acc
            - kind: int
              id: 6339
              value: 2
        - kind: lambda
          id: 6348
          params:
            - id: 6341
              name: kv
          expr:
            kind: app
            id: 6347
            opcode: slice
            args:
              - kind: app
                id: 6344
                opcode: field
                args:
                  - kind: name
                    id: 6342
                    name: kv
                  - kind: str
                    id: 6343
                    value: key_hash
              - kind: int
                id: 6345
                value: 0
              - kind: name
                id: 6346
                name: i
    depth: 11
  6352:
    id: 6337
    name: acc
  6355:
    id: 6353
    name: acc
  6359:
    id: 6358
    name: k
  6362:
    id: 6354
    name: prefix
  6367:
    kind: def
    id: 2134
    name: find
    qualifier: puredef
    expr:
      kind: lambda
      id: 2133
      params:
        - id: 2119
          name: s
        - id: 2120
          name: f
      expr:
        kind: app
        id: 2132
        opcode: fold
        args:
          - kind: name
            id: 2121
            name: s
          - kind: name
            id: 2122
            name: None
          - kind: lambda
            id: 2131
            params:
              - id: 2123
                name: a
              - id: 2124
                name: i
            expr:
              kind: app
              id: 2130
              opcode: ite
              args:
                - kind: app
                  id: 2126
                  opcode: f
                  args:
                    - kind: name
                      id: 2125
                      name: i
                - kind: app
                  id: 2128
                  opcode: Some
                  args:
                    - kind: name
                      id: 2127
                      name: i
                - kind: name
                  id: 2129
                  name: a
    depth: 0
  6368:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6369:
    id: 6353
    name: acc
  6373:
    id: 6372
    name: k
  6376:
    id: 6354
    name: prefix
  6381:
    kind: def
    id: 2134
    name: find
    qualifier: puredef
    expr:
      kind: lambda
      id: 2133
      params:
        - id: 2119
          name: s
        - id: 2120
          name: f
      expr:
        kind: app
        id: 2132
        opcode: fold
        args:
          - kind: name
            id: 2121
            name: s
          - kind: name
            id: 2122
            name: None
          - kind: lambda
            id: 2131
            params:
              - id: 2123
                name: a
              - id: 2124
                name: i
            expr:
              kind: app
              id: 2130
              opcode: ite
              args:
                - kind: app
                  id: 2126
                  opcode: f
                  args:
                    - kind: name
                      id: 2125
                      name: i
                - kind: app
                  id: 2128
                  opcode: Some
                  args:
                    - kind: name
                      id: 2127
                      name: i
                - kind: name
                  id: 2129
                  name: a
    depth: 0
  6382:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6383:
    id: 6353
    name: acc
  6387:
    id: 6386
    name: k
  6390:
    id: 6354
    name: prefix
  6394:
    id: 6386
    name: k
  6397:
    id: 6354
    name: prefix
  6404:
    kind: def
    id: 6404
    name: popped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6403
      opcode: filter
      args:
        - kind: app
          id: 6385
          opcode: item
          args:
            - kind: name
              id: 6383
              name: acc
            - kind: int
              id: 6384
              value: 2
        - kind: lambda
          id: 6402
          params:
            - id: 6386
              name: k
          expr:
            kind: app
            id: 6401
            opcode: and
            args:
              - kind: app
                id: 6393
                opcode: neq
                args:
                  - kind: app
                    id: 6389
                    opcode: field
                    args:
                      - kind: name
                        id: 6387
                        name: k
                      - kind: str
                        id: 6388
                        value: key_hash
                  - kind: app
                    id: 6392
                    opcode: append
                    args:
                      - kind: name
                        id: 6390
                        name: prefix
                      - kind: int
                        id: 6391
                        value: 0
              - kind: app
                id: 6400
                opcode: neq
                args:
                  - kind: app
                    id: 6396
                    opcode: field
                    args:
                      - kind: name
                        id: 6394
                        name: k
                      - kind: str
                        id: 6395
                        value: key_hash
                  - kind: app
                    id: 6399
                    opcode: append
                    args:
                      - kind: name
                        id: 6397
                        name: prefix
                      - kind: int
                        id: 6398
                        value: 1
    depth: 15
  6405:
    id: 6353
    name: acc
  6408:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6409:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6410:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6412:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6413:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6416:
    id: 6234
    name: new_version
  6418:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6419:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6422:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  6425:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6427:
    id: 6234
    name: new_version
  6429:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6430:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6433:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  6436:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6439:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6440:
    kind: def
    id: 6440
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6439
      opcode: Internal
      args:
        - kind: app
          id: 6438
          opcode: Rec
          args:
            - kind: str
              id: 6426
              value: left_child
            - kind: app
              id: 6425
              opcode: Some
              args:
                - kind: app
                  id: 6424
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6417
                      value: version
                    - kind: name
                      id: 6416
                      name: new_version
                    - kind: str
                      id: 6423
                      value: hash
                    - kind: app
                      id: 6422
                      opcode: hash
                      args:
                        - kind: app
                          id: 6421
                          opcode: field
                          args:
                            - kind: app
                              id: 6419
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6418
                                  name: left
                            - kind: str
                              id: 6420
                              value: node
            - kind: str
              id: 6437
              value: right_child
            - kind: app
              id: 6436
              opcode: Some
              args:
                - kind: app
                  id: 6435
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6428
                      value: version
                    - kind: name
                      id: 6427
                      name: new_version
                    - kind: str
                      id: 6434
                      value: hash
                    - kind: app
                      id: 6433
                      opcode: hash
                      args:
                        - kind: app
                          id: 6432
                          opcode: field
                          args:
                            - kind: app
                              id: 6430
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6429
                                  name: right
                            - kind: str
                              id: 6431
                              value: node
    depth: 19
  6441:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6442:
    id: 6354
    name: prefix
  6444:
    kind: def
    id: 6440
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6439
      opcode: Internal
      args:
        - kind: app
          id: 6438
          opcode: Rec
          args:
            - kind: str
              id: 6426
              value: left_child
            - kind: app
              id: 6425
              opcode: Some
              args:
                - kind: app
                  id: 6424
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6417
                      value: version
                    - kind: name
                      id: 6416
                      name: new_version
                    - kind: str
                      id: 6423
                      value: hash
                    - kind: app
                      id: 6422
                      opcode: hash
                      args:
                        - kind: app
                          id: 6421
                          opcode: field
                          args:
                            - kind: app
                              id: 6419
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6418
                                  name: left
                            - kind: str
                              id: 6420
                              value: node
            - kind: str
              id: 6437
              value: right_child
            - kind: app
              id: 6436
              opcode: Some
              args:
                - kind: app
                  id: 6435
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6428
                      value: version
                    - kind: name
                      id: 6427
                      name: new_version
                    - kind: str
                      id: 6434
                      value: hash
                    - kind: app
                      id: 6433
                      opcode: hash
                      args:
                        - kind: app
                          id: 6432
                          opcode: field
                          args:
                            - kind: app
                              id: 6430
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6429
                                  name: right
                            - kind: str
                              id: 6431
                              value: node
    depth: 19
  6450:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6451:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6453:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6454:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6457:
    id: 6234
    name: new_version
  6459:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6460:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6463:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  6466:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6468:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6471:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6472:
    kind: def
    id: 6472
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6471
      opcode: Internal
      args:
        - kind: app
          id: 6470
          opcode: Rec
          args:
            - kind: str
              id: 6467
              value: left_child
            - kind: app
              id: 6466
              opcode: Some
              args:
                - kind: app
                  id: 6465
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6458
                      value: version
                    - kind: name
                      id: 6457
                      name: new_version
                    - kind: str
                      id: 6464
                      value: hash
                    - kind: app
                      id: 6463
                      opcode: hash
                      args:
                        - kind: app
                          id: 6462
                          opcode: field
                          args:
                            - kind: app
                              id: 6460
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6459
                                  name: left
                            - kind: str
                              id: 6461
                              value: node
            - kind: str
              id: 6469
              value: right_child
            - kind: name
              id: 6468
              name: None
    depth: 20
  6473:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6474:
    id: 6354
    name: prefix
  6476:
    kind: def
    id: 6472
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6471
      opcode: Internal
      args:
        - kind: app
          id: 6470
          opcode: Rec
          args:
            - kind: str
              id: 6467
              value: left_child
            - kind: app
              id: 6466
              opcode: Some
              args:
                - kind: app
                  id: 6465
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6458
                      value: version
                    - kind: name
                      id: 6457
                      name: new_version
                    - kind: str
                      id: 6464
                      value: hash
                    - kind: app
                      id: 6463
                      opcode: hash
                      args:
                        - kind: app
                          id: 6462
                          opcode: field
                          args:
                            - kind: app
                              id: 6460
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6459
                                  name: left
                            - kind: str
                              id: 6461
                              value: node
            - kind: str
              id: 6469
              value: right_child
            - kind: name
              id: 6468
              name: None
    depth: 20
  6482:
    kind: def
    id: 6404
    name: popped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6403
      opcode: filter
      args:
        - kind: app
          id: 6385
          opcode: item
          args:
            - kind: name
              id: 6383
              name: acc
            - kind: int
              id: 6384
              value: 2
        - kind: lambda
          id: 6402
          params:
            - id: 6386
              name: k
          expr:
            kind: app
            id: 6401
            opcode: and
            args:
              - kind: app
                id: 6393
                opcode: neq
                args:
                  - kind: app
                    id: 6389
                    opcode: field
                    args:
                      - kind: name
                        id: 6387
                        name: k
                      - kind: str
                        id: 6388
                        value: key_hash
                  - kind: app
                    id: 6392
                    opcode: append
                    args:
                      - kind: name
                        id: 6390
                        name: prefix
                      - kind: int
                        id: 6391
                        value: 0
              - kind: app
                id: 6400
                opcode: neq
                args:
                  - kind: app
                    id: 6396
                    opcode: field
                    args:
                      - kind: name
                        id: 6394
                        name: k
                      - kind: str
                        id: 6395
                        value: key_hash
                  - kind: app
                    id: 6399
                    opcode: append
                    args:
                      - kind: name
                        id: 6397
                        name: prefix
                      - kind: int
                        id: 6398
                        value: 1
    depth: 15
  6483:
    id: 6354
    name: prefix
  6485:
    kind: def
    id: 6368
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 6367
      opcode: find
      args:
        - kind: app
          id: 6357
          opcode: item
          args:
            - kind: name
              id: 6355
              name: acc
            - kind: int
              id: 6356
              value: 2
        - kind: lambda
          id: 6366
          params:
            - id: 6358
              name: k
          expr:
            kind: app
            id: 6365
            opcode: eq
            args:
              - kind: app
                id: 6361
                opcode: field
                args:
                  - kind: name
                    id: 6359
                    name: k
                  - kind: str
                    id: 6360
                    value: key_hash
              - kind: app
                id: 6364
                opcode: append
                args:
                  - kind: name
                    id: 6362
                    name: prefix
                  - kind: int
                    id: 6363
                    value: 0
    depth: 13
  6486:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6500:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6501:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6503:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6504:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6507:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6509:
    id: 6234
    name: new_version
  6511:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6512:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6515:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  6518:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  6521:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  6522:
    kind: def
    id: 6522
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6521
      opcode: Internal
      args:
        - kind: app
          id: 6520
          opcode: Rec
          args:
            - kind: str
              id: 6508
              value: left_child
            - kind: name
              id: 6507
              name: None
            - kind: str
              id: 6519
              value: right_child
            - kind: app
              id: 6518
              opcode: Some
              args:
                - kind: app
                  id: 6517
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6510
                      value: version
                    - kind: name
                      id: 6509
                      name: new_version
                    - kind: str
                      id: 6516
                      value: hash
                    - kind: app
                      id: 6515
                      opcode: hash
                      args:
                        - kind: app
                          id: 6514
                          opcode: field
                          args:
                            - kind: app
                              id: 6512
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6511
                                  name: right
                            - kind: str
                              id: 6513
                              value: node
    depth: 20
  6523:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6524:
    id: 6354
    name: prefix
  6526:
    kind: def
    id: 6522
    name: internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 6521
      opcode: Internal
      args:
        - kind: app
          id: 6520
          opcode: Rec
          args:
            - kind: str
              id: 6508
              value: left_child
            - kind: name
              id: 6507
              name: None
            - kind: str
              id: 6519
              value: right_child
            - kind: app
              id: 6518
              opcode: Some
              args:
                - kind: app
                  id: 6517
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6510
                      value: version
                    - kind: name
                      id: 6509
                      name: new_version
                    - kind: str
                      id: 6516
                      value: hash
                    - kind: app
                      id: 6515
                      opcode: hash
                      args:
                        - kind: app
                          id: 6514
                          opcode: field
                          args:
                            - kind: app
                              id: 6512
                              opcode: unwrap
                              args:
                                - kind: name
                                  id: 6511
                                  name: right
                            - kind: str
                              id: 6513
                              value: node
    depth: 20
  6532:
    kind: def
    id: 6404
    name: popped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6403
      opcode: filter
      args:
        - kind: app
          id: 6385
          opcode: item
          args:
            - kind: name
              id: 6383
              name: acc
            - kind: int
              id: 6384
              value: 2
        - kind: lambda
          id: 6402
          params:
            - id: 6386
              name: k
          expr:
            kind: app
            id: 6401
            opcode: and
            args:
              - kind: app
                id: 6393
                opcode: neq
                args:
                  - kind: app
                    id: 6389
                    opcode: field
                    args:
                      - kind: name
                        id: 6387
                        name: k
                      - kind: str
                        id: 6388
                        value: key_hash
                  - kind: app
                    id: 6392
                    opcode: append
                    args:
                      - kind: name
                        id: 6390
                        name: prefix
                      - kind: int
                        id: 6391
                        value: 0
              - kind: app
                id: 6400
                opcode: neq
                args:
                  - kind: app
                    id: 6396
                    opcode: field
                    args:
                      - kind: name
                        id: 6394
                        name: k
                      - kind: str
                        id: 6395
                        value: key_hash
                  - kind: app
                    id: 6399
                    opcode: append
                    args:
                      - kind: name
                        id: 6397
                        name: prefix
                      - kind: int
                        id: 6398
                        value: 1
    depth: 15
  6533:
    id: 6354
    name: prefix
  6535:
    kind: def
    id: 6382
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 6381
      opcode: find
      args:
        - kind: app
          id: 6371
          opcode: item
          args:
            - kind: name
              id: 6369
              name: acc
            - kind: int
              id: 6370
              value: 2
        - kind: lambda
          id: 6380
          params:
            - id: 6372
              name: k
          expr:
            kind: app
            id: 6379
            opcode: eq
            args:
              - kind: app
                id: 6375
                opcode: field
                args:
                  - kind: name
                    id: 6373
                    name: k
                  - kind: str
                    id: 6374
                    value: key_hash
              - kind: app
                id: 6378
                opcode: append
                args:
                  - kind: name
                    id: 6376
                    name: prefix
                  - kind: int
                    id: 6377
                    value: 1
    depth: 14
  6536:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  6550:
    id: 6336
    name: i
  6553:
    kind: def
    id: 6404
    name: popped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6403
      opcode: filter
      args:
        - kind: app
          id: 6385
          opcode: item
          args:
            - kind: name
              id: 6383
              name: acc
            - kind: int
              id: 6384
              value: 2
        - kind: lambda
          id: 6402
          params:
            - id: 6386
              name: k
          expr:
            kind: app
            id: 6401
            opcode: and
            args:
              - kind: app
                id: 6393
                opcode: neq
                args:
                  - kind: app
                    id: 6389
                    opcode: field
                    args:
                      - kind: name
                        id: 6387
                        name: k
                      - kind: str
                        id: 6388
                        value: key_hash
                  - kind: app
                    id: 6392
                    opcode: append
                    args:
                      - kind: name
                        id: 6390
                        name: prefix
                      - kind: int
                        id: 6391
                        value: 0
              - kind: app
                id: 6400
                opcode: neq
                args:
                  - kind: app
                    id: 6396
                    opcode: field
                    args:
                      - kind: name
                        id: 6394
                        name: k
                      - kind: str
                        id: 6395
                        value: key_hash
                  - kind: app
                    id: 6399
                    opcode: append
                    args:
                      - kind: name
                        id: 6397
                        name: prefix
                      - kind: int
                        id: 6398
                        value: 1
    depth: 15
  6555:
    kind: def
    id: 6555
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 6554
      opcode: getOnlyElement
      args:
        - kind: name
          id: 6553
          name: popped_queue
    depth: 19
  6556:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6557:
    id: 6354
    name: prefix
  6559:
    kind: def
    id: 6555
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 6554
      opcode: getOnlyElement
      args:
        - kind: name
          id: 6553
          name: popped_queue
    depth: 19
  6567:
    kind: def
    id: 6408
    name: unpopped_queue
    qualifier: pureval
    expr:
      kind: app
      id: 6407
      opcode: item
      args:
        - kind: name
          id: 6405
          name: acc
        - kind: int
          id: 6406
          value: 2
    depth: 16
  6572:
    kind: def
    id: 6572
    name: queue_2
    qualifier: pureval
    expr:
      kind: app
      id: 6571
      opcode: ite
      args:
        - kind: app
          id: 6415
          opcode: and
          args:
            - kind: app
              id: 6411
              opcode: neq
              args:
                - kind: name
                  id: 6409
                  name: left
                - kind: name
                  id: 6410
                  name: None
            - kind: app
              id: 6414
              opcode: neq
              args:
                - kind: name
                  id: 6412
                  name: right
                - kind: name
                  id: 6413
                  name: None
        - kind: let
          id: 6449
          opdef:
            id: 6440
            name: internal_node
            qualifier: pureval
            expr:
              kind: app
              id: 6439
              opcode: Internal
              args:
                - kind: app
                  id: 6438
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6426
                      value: left_child
                    - kind: app
                      id: 6425
                      opcode: Some
                      args:
                        - kind: app
                          id: 6424
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6417
                              value: version
                            - kind: name
                              id: 6416
                              name: new_version
                            - kind: str
                              id: 6423
                              value: hash
                            - kind: app
                              id: 6422
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6421
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6419
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6418
                                          name: left
                                    - kind: str
                                      id: 6420
                                      value: node
                    - kind: str
                      id: 6437
                      value: right_child
                    - kind: app
                      id: 6436
                      opcode: Some
                      args:
                        - kind: app
                          id: 6435
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6428
                              value: version
                            - kind: name
                              id: 6427
                              name: new_version
                            - kind: str
                              id: 6434
                              value: hash
                            - kind: app
                              id: 6433
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6432
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6430
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6429
                                          name: right
                                    - kind: str
                                      id: 6431
                                      value: node
            depth: ~
          expr:
            kind: app
            id: 6448
            opcode: union
            args:
              - kind: name
                id: 6441
                name: unpopped_queue
              - kind: app
                id: 6447
                opcode: Set
                args:
                  - kind: app
                    id: 6446
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6443
                        value: key_hash
                      - kind: name
                        id: 6442
                        name: prefix
                      - kind: str
                        id: 6445
                        value: node
                      - kind: name
                        id: 6444
                        name: internal_node
        - kind: app
          id: 6570
          opcode: ite
          args:
            - kind: app
              id: 6452
              opcode: neq
              args:
                - kind: name
                  id: 6450
                  name: left
                - kind: name
                  id: 6451
                  name: None
            - kind: app
              id: 6493
              opcode: matchVariant
              args:
                - kind: app
                  id: 6456
                  opcode: field
                  args:
                    - kind: app
                      id: 6454
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 6453
                          name: left
                    - kind: str
                      id: 6455
                      value: node
                - kind: str
                  id: 6494
                  value: Internal
                - kind: lambda
                  id: 6495
                  params:
                    - id: 6496
                      name: _
                  expr:
                    kind: let
                    id: 6481
                    opdef:
                      id: 6472
                      name: internal_node
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6471
                        opcode: Internal
                        args:
                          - kind: app
                            id: 6470
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6467
                                value: left_child
                              - kind: app
                                id: 6466
                                opcode: Some
                                args:
                                  - kind: app
                                    id: 6465
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6458
                                        value: version
                                      - kind: name
                                        id: 6457
                                        name: new_version
                                      - kind: str
                                        id: 6464
                                        value: hash
                                      - kind: app
                                        id: 6463
                                        opcode: hash
                                        args:
                                          - kind: app
                                            id: 6462
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 6460
                                                opcode: unwrap
                                                args:
                                                  - kind: name
                                                    id: 6459
                                                    name: left
                                              - kind: str
                                                id: 6461
                                                value: node
                              - kind: str
                                id: 6469
                                value: right_child
                              - kind: name
                                id: 6468
                                name: None
                      depth: ~
                    expr:
                      kind: app
                      id: 6480
                      opcode: union
                      args:
                        - kind: name
                          id: 6473
                          name: unpopped_queue
                        - kind: app
                          id: 6479
                          opcode: Set
                          args:
                            - kind: app
                              id: 6478
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6475
                                  value: key_hash
                                - kind: name
                                  id: 6474
                                  name: prefix
                                - kind: str
                                  id: 6477
                                  value: node
                                - kind: name
                                  id: 6476
                                  name: internal_node
                - kind: str
                  id: 6497
                  value: Leaf
                - kind: lambda
                  id: 6498
                  params:
                    - id: 6499
                      name: leaf
                  expr:
                    kind: app
                    id: 6492
                    opcode: union
                    args:
                      - kind: name
                        id: 6482
                        name: popped_queue
                      - kind: app
                        id: 6491
                        opcode: Set
                        args:
                          - kind: app
                            id: 6490
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6484
                                value: key_hash
                              - kind: name
                                id: 6483
                                name: prefix
                              - kind: str
                                id: 6489
                                value: node
                              - kind: app
                                id: 6488
                                opcode: field
                                args:
                                  - kind: app
                                    id: 6486
                                    opcode: unwrap
                                    args:
                                      - kind: name
                                        id: 6485
                                        name: left
                                  - kind: str
                                    id: 6487
                                    value: node
            - kind: app
              id: 6569
              opcode: ite
              args:
                - kind: app
                  id: 6502
                  opcode: neq
                  args:
                    - kind: name
                      id: 6500
                      name: right
                    - kind: name
                      id: 6501
                      name: None
                - kind: app
                  id: 6543
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 6506
                      opcode: field
                      args:
                        - kind: app
                          id: 6504
                          opcode: unwrap
                          args:
                            - kind: name
                              id: 6503
                              name: right
                        - kind: str
                          id: 6505
                          value: node
                    - kind: str
                      id: 6544
                      value: Internal
                    - kind: lambda
                      id: 6545
                      params:
                        - id: 6546
                          name: _
                      expr:
                        kind: let
                        id: 6531
                        opdef:
                          id: 6522
                          name: internal_node
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6521
                            opcode: Internal
                            args:
                              - kind: app
                                id: 6520
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6508
                                    value: left_child
                                  - kind: name
                                    id: 6507
                                    name: None
                                  - kind: str
                                    id: 6519
                                    value: right_child
                                  - kind: app
                                    id: 6518
                                    opcode: Some
                                    args:
                                      - kind: app
                                        id: 6517
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 6510
                                            value: version
                                          - kind: name
                                            id: 6509
                                            name: new_version
                                          - kind: str
                                            id: 6516
                                            value: hash
                                          - kind: app
                                            id: 6515
                                            opcode: hash
                                            args:
                                              - kind: app
                                                id: 6514
                                                opcode: field
                                                args:
                                                  - kind: app
                                                    id: 6512
                                                    opcode: unwrap
                                                    args:
                                                      - kind: name
                                                        id: 6511
                                                        name: right
                                                  - kind: str
                                                    id: 6513
                                                    value: node
                          depth: ~
                        expr:
                          kind: app
                          id: 6530
                          opcode: union
                          args:
                            - kind: name
                              id: 6523
                              name: unpopped_queue
                            - kind: app
                              id: 6529
                              opcode: Set
                              args:
                                - kind: app
                                  id: 6528
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 6525
                                      value: key_hash
                                    - kind: name
                                      id: 6524
                                      name: prefix
                                    - kind: str
                                      id: 6527
                                      value: node
                                    - kind: name
                                      id: 6526
                                      name: internal_node
                    - kind: str
                      id: 6547
                      value: Leaf
                    - kind: lambda
                      id: 6548
                      params:
                        - id: 6549
                          name: leaf
                      expr:
                        kind: app
                        id: 6542
                        opcode: union
                        args:
                          - kind: name
                            id: 6532
                            name: popped_queue
                          - kind: app
                            id: 6541
                            opcode: Set
                            args:
                              - kind: app
                                id: 6540
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6534
                                    value: key_hash
                                  - kind: name
                                    id: 6533
                                    name: prefix
                                  - kind: str
                                    id: 6539
                                    value: node
                                  - kind: app
                                    id: 6538
                                    opcode: field
                                    args:
                                      - kind: app
                                        id: 6536
                                        opcode: unwrap
                                        args:
                                          - kind: name
                                            id: 6535
                                            name: right
                                      - kind: str
                                        id: 6537
                                        value: node
                - kind: app
                  id: 6568
                  opcode: ite
                  args:
                    - kind: app
                      id: 6552
                      opcode: eq
                      args:
                        - kind: name
                          id: 6550
                          name: i
                        - kind: int
                          id: 6551
                          value: 0
                    - kind: let
                      id: 6566
                      opdef:
                        id: 6555
                        name: root
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6554
                          opcode: getOnlyElement
                          args:
                            - kind: name
                              id: 6553
                              name: popped_queue
                        depth: ~
                      expr:
                        kind: app
                        id: 6565
                        opcode: union
                        args:
                          - kind: name
                            id: 6556
                            name: unpopped_queue
                          - kind: app
                            id: 6564
                            opcode: Set
                            args:
                              - kind: app
                                id: 6563
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6558
                                    value: key_hash
                                  - kind: name
                                    id: 6557
                                    name: prefix
                                  - kind: str
                                    id: 6562
                                    value: node
                                  - kind: app
                                    id: 6561
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6559
                                        name: root
                                      - kind: str
                                        id: 6560
                                        value: node
                    - kind: name
                      id: 6567
                      name: unpopped_queue
    depth: 17
  6573:
    id: 6353
    name: acc
  6576:
    kind: def
    id: 6572
    name: queue_2
    qualifier: pureval
    expr:
      kind: app
      id: 6571
      opcode: ite
      args:
        - kind: app
          id: 6415
          opcode: and
          args:
            - kind: app
              id: 6411
              opcode: neq
              args:
                - kind: name
                  id: 6409
                  name: left
                - kind: name
                  id: 6410
                  name: None
            - kind: app
              id: 6414
              opcode: neq
              args:
                - kind: name
                  id: 6412
                  name: right
                - kind: name
                  id: 6413
                  name: None
        - kind: let
          id: 6449
          opdef:
            id: 6440
            name: internal_node
            qualifier: pureval
            expr:
              kind: app
              id: 6439
              opcode: Internal
              args:
                - kind: app
                  id: 6438
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6426
                      value: left_child
                    - kind: app
                      id: 6425
                      opcode: Some
                      args:
                        - kind: app
                          id: 6424
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6417
                              value: version
                            - kind: name
                              id: 6416
                              name: new_version
                            - kind: str
                              id: 6423
                              value: hash
                            - kind: app
                              id: 6422
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6421
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6419
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6418
                                          name: left
                                    - kind: str
                                      id: 6420
                                      value: node
                    - kind: str
                      id: 6437
                      value: right_child
                    - kind: app
                      id: 6436
                      opcode: Some
                      args:
                        - kind: app
                          id: 6435
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6428
                              value: version
                            - kind: name
                              id: 6427
                              name: new_version
                            - kind: str
                              id: 6434
                              value: hash
                            - kind: app
                              id: 6433
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6432
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6430
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6429
                                          name: right
                                    - kind: str
                                      id: 6431
                                      value: node
            depth: ~
          expr:
            kind: app
            id: 6448
            opcode: union
            args:
              - kind: name
                id: 6441
                name: unpopped_queue
              - kind: app
                id: 6447
                opcode: Set
                args:
                  - kind: app
                    id: 6446
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6443
                        value: key_hash
                      - kind: name
                        id: 6442
                        name: prefix
                      - kind: str
                        id: 6445
                        value: node
                      - kind: name
                        id: 6444
                        name: internal_node
        - kind: app
          id: 6570
          opcode: ite
          args:
            - kind: app
              id: 6452
              opcode: neq
              args:
                - kind: name
                  id: 6450
                  name: left
                - kind: name
                  id: 6451
                  name: None
            - kind: app
              id: 6493
              opcode: matchVariant
              args:
                - kind: app
                  id: 6456
                  opcode: field
                  args:
                    - kind: app
                      id: 6454
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 6453
                          name: left
                    - kind: str
                      id: 6455
                      value: node
                - kind: str
                  id: 6494
                  value: Internal
                - kind: lambda
                  id: 6495
                  params:
                    - id: 6496
                      name: _
                  expr:
                    kind: let
                    id: 6481
                    opdef:
                      id: 6472
                      name: internal_node
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6471
                        opcode: Internal
                        args:
                          - kind: app
                            id: 6470
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6467
                                value: left_child
                              - kind: app
                                id: 6466
                                opcode: Some
                                args:
                                  - kind: app
                                    id: 6465
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6458
                                        value: version
                                      - kind: name
                                        id: 6457
                                        name: new_version
                                      - kind: str
                                        id: 6464
                                        value: hash
                                      - kind: app
                                        id: 6463
                                        opcode: hash
                                        args:
                                          - kind: app
                                            id: 6462
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 6460
                                                opcode: unwrap
                                                args:
                                                  - kind: name
                                                    id: 6459
                                                    name: left
                                              - kind: str
                                                id: 6461
                                                value: node
                              - kind: str
                                id: 6469
                                value: right_child
                              - kind: name
                                id: 6468
                                name: None
                      depth: ~
                    expr:
                      kind: app
                      id: 6480
                      opcode: union
                      args:
                        - kind: name
                          id: 6473
                          name: unpopped_queue
                        - kind: app
                          id: 6479
                          opcode: Set
                          args:
                            - kind: app
                              id: 6478
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6475
                                  value: key_hash
                                - kind: name
                                  id: 6474
                                  name: prefix
                                - kind: str
                                  id: 6477
                                  value: node
                                - kind: name
                                  id: 6476
                                  name: internal_node
                - kind: str
                  id: 6497
                  value: Leaf
                - kind: lambda
                  id: 6498
                  params:
                    - id: 6499
                      name: leaf
                  expr:
                    kind: app
                    id: 6492
                    opcode: union
                    args:
                      - kind: name
                        id: 6482
                        name: popped_queue
                      - kind: app
                        id: 6491
                        opcode: Set
                        args:
                          - kind: app
                            id: 6490
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6484
                                value: key_hash
                              - kind: name
                                id: 6483
                                name: prefix
                              - kind: str
                                id: 6489
                                value: node
                              - kind: app
                                id: 6488
                                opcode: field
                                args:
                                  - kind: app
                                    id: 6486
                                    opcode: unwrap
                                    args:
                                      - kind: name
                                        id: 6485
                                        name: left
                                  - kind: str
                                    id: 6487
                                    value: node
            - kind: app
              id: 6569
              opcode: ite
              args:
                - kind: app
                  id: 6502
                  opcode: neq
                  args:
                    - kind: name
                      id: 6500
                      name: right
                    - kind: name
                      id: 6501
                      name: None
                - kind: app
                  id: 6543
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 6506
                      opcode: field
                      args:
                        - kind: app
                          id: 6504
                          opcode: unwrap
                          args:
                            - kind: name
                              id: 6503
                              name: right
                        - kind: str
                          id: 6505
                          value: node
                    - kind: str
                      id: 6544
                      value: Internal
                    - kind: lambda
                      id: 6545
                      params:
                        - id: 6546
                          name: _
                      expr:
                        kind: let
                        id: 6531
                        opdef:
                          id: 6522
                          name: internal_node
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6521
                            opcode: Internal
                            args:
                              - kind: app
                                id: 6520
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6508
                                    value: left_child
                                  - kind: name
                                    id: 6507
                                    name: None
                                  - kind: str
                                    id: 6519
                                    value: right_child
                                  - kind: app
                                    id: 6518
                                    opcode: Some
                                    args:
                                      - kind: app
                                        id: 6517
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 6510
                                            value: version
                                          - kind: name
                                            id: 6509
                                            name: new_version
                                          - kind: str
                                            id: 6516
                                            value: hash
                                          - kind: app
                                            id: 6515
                                            opcode: hash
                                            args:
                                              - kind: app
                                                id: 6514
                                                opcode: field
                                                args:
                                                  - kind: app
                                                    id: 6512
                                                    opcode: unwrap
                                                    args:
                                                      - kind: name
                                                        id: 6511
                                                        name: right
                                                  - kind: str
                                                    id: 6513
                                                    value: node
                          depth: ~
                        expr:
                          kind: app
                          id: 6530
                          opcode: union
                          args:
                            - kind: name
                              id: 6523
                              name: unpopped_queue
                            - kind: app
                              id: 6529
                              opcode: Set
                              args:
                                - kind: app
                                  id: 6528
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 6525
                                      value: key_hash
                                    - kind: name
                                      id: 6524
                                      name: prefix
                                    - kind: str
                                      id: 6527
                                      value: node
                                    - kind: name
                                      id: 6526
                                      name: internal_node
                    - kind: str
                      id: 6547
                      value: Leaf
                    - kind: lambda
                      id: 6548
                      params:
                        - id: 6549
                          name: leaf
                      expr:
                        kind: app
                        id: 6542
                        opcode: union
                        args:
                          - kind: name
                            id: 6532
                            name: popped_queue
                          - kind: app
                            id: 6541
                            opcode: Set
                            args:
                              - kind: app
                                id: 6540
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6534
                                    value: key_hash
                                  - kind: name
                                    id: 6533
                                    name: prefix
                                  - kind: str
                                    id: 6539
                                    value: node
                                  - kind: app
                                    id: 6538
                                    opcode: field
                                    args:
                                      - kind: app
                                        id: 6536
                                        opcode: unwrap
                                        args:
                                          - kind: name
                                            id: 6535
                                            name: right
                                      - kind: str
                                        id: 6537
                                        value: node
                - kind: app
                  id: 6568
                  opcode: ite
                  args:
                    - kind: app
                      id: 6552
                      opcode: eq
                      args:
                        - kind: name
                          id: 6550
                          name: i
                        - kind: int
                          id: 6551
                          value: 0
                    - kind: let
                      id: 6566
                      opdef:
                        id: 6555
                        name: root
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6554
                          opcode: getOnlyElement
                          args:
                            - kind: name
                              id: 6553
                              name: popped_queue
                        depth: ~
                      expr:
                        kind: app
                        id: 6565
                        opcode: union
                        args:
                          - kind: name
                            id: 6556
                            name: unpopped_queue
                          - kind: app
                            id: 6564
                            opcode: Set
                            args:
                              - kind: app
                                id: 6563
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6558
                                    value: key_hash
                                  - kind: name
                                    id: 6557
                                    name: prefix
                                  - kind: str
                                    id: 6562
                                    value: node
                                  - kind: app
                                    id: 6561
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6559
                                        name: root
                                      - kind: str
                                        id: 6560
                                        value: node
                    - kind: name
                      id: 6567
                      name: unpopped_queue
    depth: 17
  6578:
    kind: def
    id: 6572
    name: queue_2
    qualifier: pureval
    expr:
      kind: app
      id: 6571
      opcode: ite
      args:
        - kind: app
          id: 6415
          opcode: and
          args:
            - kind: app
              id: 6411
              opcode: neq
              args:
                - kind: name
                  id: 6409
                  name: left
                - kind: name
                  id: 6410
                  name: None
            - kind: app
              id: 6414
              opcode: neq
              args:
                - kind: name
                  id: 6412
                  name: right
                - kind: name
                  id: 6413
                  name: None
        - kind: let
          id: 6449
          opdef:
            id: 6440
            name: internal_node
            qualifier: pureval
            expr:
              kind: app
              id: 6439
              opcode: Internal
              args:
                - kind: app
                  id: 6438
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6426
                      value: left_child
                    - kind: app
                      id: 6425
                      opcode: Some
                      args:
                        - kind: app
                          id: 6424
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6417
                              value: version
                            - kind: name
                              id: 6416
                              name: new_version
                            - kind: str
                              id: 6423
                              value: hash
                            - kind: app
                              id: 6422
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6421
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6419
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6418
                                          name: left
                                    - kind: str
                                      id: 6420
                                      value: node
                    - kind: str
                      id: 6437
                      value: right_child
                    - kind: app
                      id: 6436
                      opcode: Some
                      args:
                        - kind: app
                          id: 6435
                          opcode: Rec
                          args:
                            - kind: str
                              id: 6428
                              value: version
                            - kind: name
                              id: 6427
                              name: new_version
                            - kind: str
                              id: 6434
                              value: hash
                            - kind: app
                              id: 6433
                              opcode: hash
                              args:
                                - kind: app
                                  id: 6432
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 6430
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 6429
                                          name: right
                                    - kind: str
                                      id: 6431
                                      value: node
            depth: ~
          expr:
            kind: app
            id: 6448
            opcode: union
            args:
              - kind: name
                id: 6441
                name: unpopped_queue
              - kind: app
                id: 6447
                opcode: Set
                args:
                  - kind: app
                    id: 6446
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6443
                        value: key_hash
                      - kind: name
                        id: 6442
                        name: prefix
                      - kind: str
                        id: 6445
                        value: node
                      - kind: name
                        id: 6444
                        name: internal_node
        - kind: app
          id: 6570
          opcode: ite
          args:
            - kind: app
              id: 6452
              opcode: neq
              args:
                - kind: name
                  id: 6450
                  name: left
                - kind: name
                  id: 6451
                  name: None
            - kind: app
              id: 6493
              opcode: matchVariant
              args:
                - kind: app
                  id: 6456
                  opcode: field
                  args:
                    - kind: app
                      id: 6454
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 6453
                          name: left
                    - kind: str
                      id: 6455
                      value: node
                - kind: str
                  id: 6494
                  value: Internal
                - kind: lambda
                  id: 6495
                  params:
                    - id: 6496
                      name: _
                  expr:
                    kind: let
                    id: 6481
                    opdef:
                      id: 6472
                      name: internal_node
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6471
                        opcode: Internal
                        args:
                          - kind: app
                            id: 6470
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6467
                                value: left_child
                              - kind: app
                                id: 6466
                                opcode: Some
                                args:
                                  - kind: app
                                    id: 6465
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6458
                                        value: version
                                      - kind: name
                                        id: 6457
                                        name: new_version
                                      - kind: str
                                        id: 6464
                                        value: hash
                                      - kind: app
                                        id: 6463
                                        opcode: hash
                                        args:
                                          - kind: app
                                            id: 6462
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 6460
                                                opcode: unwrap
                                                args:
                                                  - kind: name
                                                    id: 6459
                                                    name: left
                                              - kind: str
                                                id: 6461
                                                value: node
                              - kind: str
                                id: 6469
                                value: right_child
                              - kind: name
                                id: 6468
                                name: None
                      depth: ~
                    expr:
                      kind: app
                      id: 6480
                      opcode: union
                      args:
                        - kind: name
                          id: 6473
                          name: unpopped_queue
                        - kind: app
                          id: 6479
                          opcode: Set
                          args:
                            - kind: app
                              id: 6478
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6475
                                  value: key_hash
                                - kind: name
                                  id: 6474
                                  name: prefix
                                - kind: str
                                  id: 6477
                                  value: node
                                - kind: name
                                  id: 6476
                                  name: internal_node
                - kind: str
                  id: 6497
                  value: Leaf
                - kind: lambda
                  id: 6498
                  params:
                    - id: 6499
                      name: leaf
                  expr:
                    kind: app
                    id: 6492
                    opcode: union
                    args:
                      - kind: name
                        id: 6482
                        name: popped_queue
                      - kind: app
                        id: 6491
                        opcode: Set
                        args:
                          - kind: app
                            id: 6490
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6484
                                value: key_hash
                              - kind: name
                                id: 6483
                                name: prefix
                              - kind: str
                                id: 6489
                                value: node
                              - kind: app
                                id: 6488
                                opcode: field
                                args:
                                  - kind: app
                                    id: 6486
                                    opcode: unwrap
                                    args:
                                      - kind: name
                                        id: 6485
                                        name: left
                                  - kind: str
                                    id: 6487
                                    value: node
            - kind: app
              id: 6569
              opcode: ite
              args:
                - kind: app
                  id: 6502
                  opcode: neq
                  args:
                    - kind: name
                      id: 6500
                      name: right
                    - kind: name
                      id: 6501
                      name: None
                - kind: app
                  id: 6543
                  opcode: matchVariant
                  args:
                    - kind: app
                      id: 6506
                      opcode: field
                      args:
                        - kind: app
                          id: 6504
                          opcode: unwrap
                          args:
                            - kind: name
                              id: 6503
                              name: right
                        - kind: str
                          id: 6505
                          value: node
                    - kind: str
                      id: 6544
                      value: Internal
                    - kind: lambda
                      id: 6545
                      params:
                        - id: 6546
                          name: _
                      expr:
                        kind: let
                        id: 6531
                        opdef:
                          id: 6522
                          name: internal_node
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6521
                            opcode: Internal
                            args:
                              - kind: app
                                id: 6520
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6508
                                    value: left_child
                                  - kind: name
                                    id: 6507
                                    name: None
                                  - kind: str
                                    id: 6519
                                    value: right_child
                                  - kind: app
                                    id: 6518
                                    opcode: Some
                                    args:
                                      - kind: app
                                        id: 6517
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 6510
                                            value: version
                                          - kind: name
                                            id: 6509
                                            name: new_version
                                          - kind: str
                                            id: 6516
                                            value: hash
                                          - kind: app
                                            id: 6515
                                            opcode: hash
                                            args:
                                              - kind: app
                                                id: 6514
                                                opcode: field
                                                args:
                                                  - kind: app
                                                    id: 6512
                                                    opcode: unwrap
                                                    args:
                                                      - kind: name
                                                        id: 6511
                                                        name: right
                                                  - kind: str
                                                    id: 6513
                                                    value: node
                          depth: ~
                        expr:
                          kind: app
                          id: 6530
                          opcode: union
                          args:
                            - kind: name
                              id: 6523
                              name: unpopped_queue
                            - kind: app
                              id: 6529
                              opcode: Set
                              args:
                                - kind: app
                                  id: 6528
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 6525
                                      value: key_hash
                                    - kind: name
                                      id: 6524
                                      name: prefix
                                    - kind: str
                                      id: 6527
                                      value: node
                                    - kind: name
                                      id: 6526
                                      name: internal_node
                    - kind: str
                      id: 6547
                      value: Leaf
                    - kind: lambda
                      id: 6548
                      params:
                        - id: 6549
                          name: leaf
                      expr:
                        kind: app
                        id: 6542
                        opcode: union
                        args:
                          - kind: name
                            id: 6532
                            name: popped_queue
                          - kind: app
                            id: 6541
                            opcode: Set
                            args:
                              - kind: app
                                id: 6540
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6534
                                    value: key_hash
                                  - kind: name
                                    id: 6533
                                    name: prefix
                                  - kind: str
                                    id: 6539
                                    value: node
                                  - kind: app
                                    id: 6538
                                    opcode: field
                                    args:
                                      - kind: app
                                        id: 6536
                                        opcode: unwrap
                                        args:
                                          - kind: name
                                            id: 6535
                                            name: right
                                      - kind: str
                                        id: 6537
                                        value: node
                - kind: app
                  id: 6568
                  opcode: ite
                  args:
                    - kind: app
                      id: 6552
                      opcode: eq
                      args:
                        - kind: name
                          id: 6550
                          name: i
                        - kind: int
                          id: 6551
                          value: 0
                    - kind: let
                      id: 6566
                      opdef:
                        id: 6555
                        name: root
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6554
                          opcode: getOnlyElement
                          args:
                            - kind: name
                              id: 6553
                              name: popped_queue
                        depth: ~
                      expr:
                        kind: app
                        id: 6565
                        opcode: union
                        args:
                          - kind: name
                            id: 6556
                            name: unpopped_queue
                          - kind: app
                            id: 6564
                            opcode: Set
                            args:
                              - kind: app
                                id: 6563
                                opcode: Rec
                                args:
                                  - kind: str
                                    id: 6558
                                    value: key_hash
                                  - kind: name
                                    id: 6557
                                    name: prefix
                                  - kind: str
                                    id: 6562
                                    value: node
                                  - kind: app
                                    id: 6561
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6559
                                        name: root
                                      - kind: str
                                        id: 6560
                                        value: node
                    - kind: name
                      id: 6567
                      name: unpopped_queue
    depth: 17
  6590:
    kind: def
    id: 6590
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 6589
      opcode: foldr
      args:
        - kind: app
          id: 6321
          opcode: range
          args:
            - kind: int
              id: 6319
              value: 0
            - kind: name
              id: 6320
              name: MAX_HASH_LENGTH
        - kind: app
          id: 6335
          opcode: Tup
          args:
            - kind: app
              id: 6322
              opcode: Set
              args: []
            - kind: app
              id: 6334
              opcode: map
              args:
                - kind: name
                  id: 6323
                  name: keys_and_values_and_op
                - kind: lambda
                  id: 6333
                  params:
                    - id: 6324
                      name: kv
                  expr:
                    kind: app
                    id: 6332
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6328
                        value: key_hash
                      - kind: app
                        id: 6327
                        opcode: field
                        args:
                          - kind: name
                            id: 6325
                            name: kv
                          - kind: str
                            id: 6326
                            value: key_hash
                      - kind: str
                        id: 6331
                        value: node
                      - kind: app
                        id: 6330
                        opcode: Leaf
                        args:
                          - kind: name
                            id: 6329
                            name: kv
        - kind: lambda
          id: 6588
          params:
            - id: 6336
              name: i
            - id: 6337
              name: acc
          expr:
            kind: let
            id: 6587
            opdef:
              id: 6350
              name: prefixes_of_length_i
              qualifier: pureval
              expr:
                kind: app
                id: 6349
                opcode: map
                args:
                  - kind: app
                    id: 6340
                    opcode: item
                    args:
                      - kind: name
                        id: 6338
                        name: acc
                      - kind: int
                        id: 6339
                        value: 2
                  - kind: lambda
                    id: 6348
                    params:
                      - id: 6341
                        name: kv
                    expr:
                      kind: app
                      id: 6347
                      opcode: slice
                      args:
                        - kind: app
                          id: 6344
                          opcode: field
                          args:
                            - kind: name
                              id: 6342
                              name: kv
                            - kind: str
                              id: 6343
                              value: key_hash
                        - kind: int
                          id: 6345
                          value: 0
                        - kind: name
                          id: 6346
                          name: i
              depth: ~
            expr:
              kind: app
              id: 6586
              opcode: fold
              args:
                - kind: name
                  id: 6351
                  name: prefixes_of_length_i
                - kind: name
                  id: 6352
                  name: acc
                - kind: lambda
                  id: 6585
                  params:
                    - id: 6353
                      name: acc
                    - id: 6354
                      name: prefix
                  expr:
                    kind: let
                    id: 6584
                    opdef:
                      id: 6368
                      name: left
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6367
                        opcode: find
                        args:
                          - kind: app
                            id: 6357
                            opcode: item
                            args:
                              - kind: name
                                id: 6355
                                name: acc
                              - kind: int
                                id: 6356
                                value: 2
                          - kind: lambda
                            id: 6366
                            params:
                              - id: 6358
                                name: k
                            expr:
                              kind: app
                              id: 6365
                              opcode: eq
                              args:
                                - kind: app
                                  id: 6361
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 6359
                                      name: k
                                    - kind: str
                                      id: 6360
                                      value: key_hash
                                - kind: app
                                  id: 6364
                                  opcode: append
                                  args:
                                    - kind: name
                                      id: 6362
                                      name: prefix
                                    - kind: int
                                      id: 6363
                                      value: 0
                      depth: ~
                    expr:
                      kind: let
                      id: 6583
                      opdef:
                        id: 6382
                        name: right
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6381
                          opcode: find
                          args:
                            - kind: app
                              id: 6371
                              opcode: item
                              args:
                                - kind: name
                                  id: 6369
                                  name: acc
                                - kind: int
                                  id: 6370
                                  value: 2
                            - kind: lambda
                              id: 6380
                              params:
                                - id: 6372
                                  name: k
                              expr:
                                kind: app
                                id: 6379
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 6375
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6373
                                        name: k
                                      - kind: str
                                        id: 6374
                                        value: key_hash
                                  - kind: app
                                    id: 6378
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 6376
                                        name: prefix
                                      - kind: int
                                        id: 6377
                                        value: 1
                        depth: ~
                      expr:
                        kind: let
                        id: 6582
                        opdef:
                          id: 6404
                          name: popped_queue
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6403
                            opcode: filter
                            args:
                              - kind: app
                                id: 6385
                                opcode: item
                                args:
                                  - kind: name
                                    id: 6383
                                    name: acc
                                  - kind: int
                                    id: 6384
                                    value: 2
                              - kind: lambda
                                id: 6402
                                params:
                                  - id: 6386
                                    name: k
                                expr:
                                  kind: app
                                  id: 6401
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 6393
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 6389
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6387
                                              name: k
                                            - kind: str
                                              id: 6388
                                              value: key_hash
                                        - kind: app
                                          id: 6392
                                          opcode: append
                                          args:
                                            - kind: name
                                              id: 6390
                                              name: prefix
                                            - kind: int
                                              id: 6391
                                              value: 0
                                    - kind: app
                                      id: 6400
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 6396
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6394
                                              name: k
                                            - kind: str
                                              id: 6395
                                              value: key_hash
                                        - kind: app
                                          id: 6399
                                          opcode: append
                                          args:
                                            - kind: name
                                              id: 6397
                                              name: prefix
                                            - kind: int
                                              id: 6398
                                              value: 1
                          depth: ~
                        expr:
                          kind: let
                          id: 6581
                          opdef:
                            id: 6408
                            name: unpopped_queue
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 6407
                              opcode: item
                              args:
                                - kind: name
                                  id: 6405
                                  name: acc
                                - kind: int
                                  id: 6406
                                  value: 2
                            depth: ~
                          expr:
                            kind: let
                            id: 6580
                            opdef:
                              id: 6572
                              name: queue_2
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 6571
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 6415
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 6411
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6409
                                            name: left
                                          - kind: name
                                            id: 6410
                                            name: None
                                      - kind: app
                                        id: 6414
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6412
                                            name: right
                                          - kind: name
                                            id: 6413
                                            name: None
                                  - kind: let
                                    id: 6449
                                    opdef:
                                      id: 6440
                                      name: internal_node
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 6439
                                        opcode: Internal
                                        args:
                                          - kind: app
                                            id: 6438
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 6426
                                                value: left_child
                                              - kind: app
                                                id: 6425
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 6424
                                                    opcode: Rec
                                                    args:
                                                      - kind: str
                                                        id: 6417
                                                        value: version
                                                      - kind: name
                                                        id: 6416
                                                        name: new_version
                                                      - kind: str
                                                        id: 6423
                                                        value: hash
                                                      - kind: app
                                                        id: 6422
                                                        opcode: hash
                                                        args:
                                                          - kind: app
                                                            id: 6421
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6419
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6418
                                                                    name: left
                                                              - kind: str
                                                                id: 6420
                                                                value: node
                                              - kind: str
                                                id: 6437
                                                value: right_child
                                              - kind: app
                                                id: 6436
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 6435
                                                    opcode: Rec
                                                    args:
                                                      - kind: str
                                                        id: 6428
                                                        value: version
                                                      - kind: name
                                                        id: 6427
                                                        name: new_version
                                                      - kind: str
                                                        id: 6434
                                                        value: hash
                                                      - kind: app
                                                        id: 6433
                                                        opcode: hash
                                                        args:
                                                          - kind: app
                                                            id: 6432
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6430
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6429
                                                                    name: right
                                                              - kind: str
                                                                id: 6431
                                                                value: node
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 6448
                                      opcode: union
                                      args:
                                        - kind: name
                                          id: 6441
                                          name: unpopped_queue
                                        - kind: app
                                          id: 6447
                                          opcode: Set
                                          args:
                                            - kind: app
                                              id: 6446
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 6443
                                                  value: key_hash
                                                - kind: name
                                                  id: 6442
                                                  name: prefix
                                                - kind: str
                                                  id: 6445
                                                  value: node
                                                - kind: name
                                                  id: 6444
                                                  name: internal_node
                                  - kind: app
                                    id: 6570
                                    opcode: ite
                                    args:
                                      - kind: app
                                        id: 6452
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6450
                                            name: left
                                          - kind: name
                                            id: 6451
                                            name: None
                                      - kind: app
                                        id: 6493
                                        opcode: matchVariant
                                        args:
                                          - kind: app
                                            id: 6456
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 6454
                                                opcode: unwrap
                                                args:
                                                  - kind: name
                                                    id: 6453
                                                    name: left
                                              - kind: str
                                                id: 6455
                                                value: node
                                          - kind: str
                                            id: 6494
                                            value: Internal
                                          - kind: lambda
                                            id: 6495
                                            params:
                                              - id: 6496
                                                name: _
                                            expr:
                                              kind: let
                                              id: 6481
                                              opdef:
                                                id: 6472
                                                name: internal_node
                                                qualifier: pureval
                                                expr:
                                                  kind: app
                                                  id: 6471
                                                  opcode: Internal
                                                  args:
                                                    - kind: app
                                                      id: 6470
                                                      opcode: Rec
                                                      args:
                                                        - kind: str
                                                          id: 6467
                                                          value: left_child
                                                        - kind: app
                                                          id: 6466
                                                          opcode: Some
                                                          args:
                                                            - kind: app
                                                              id: 6465
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 6458
                                                                  value: version
                                                                - kind: name
                                                                  id: 6457
                                                                  name: new_version
                                                                - kind: str
                                                                  id: 6464
                                                                  value: hash
                                                                - kind: app
                                                                  id: 6463
                                                                  opcode: hash
                                                                  args:
                                                                    - kind: app
                                                                      id: 6462
                                                                      opcode: field
                                                                      args:
                                                                        - kind: app
                                                                          id: 6460
                                                                          opcode: unwrap
                                                                          args:
                                                                            - kind: name
                                                                              id: 6459
                                                                              name: left
                                                                        - kind: str
                                                                          id: 6461
                                                                          value: node
                                                        - kind: str
                                                          id: 6469
                                                          value: right_child
                                                        - kind: name
                                                          id: 6468
                                                          name: None
                                                depth: ~
                                              expr:
                                                kind: app
                                                id: 6480
                                                opcode: union
                                                args:
                                                  - kind: name
                                                    id: 6473
                                                    name: unpopped_queue
                                                  - kind: app
                                                    id: 6479
                                                    opcode: Set
                                                    args:
                                                      - kind: app
                                                        id: 6478
                                                        opcode: Rec
                                                        args:
                                                          - kind: str
                                                            id: 6475
                                                            value: key_hash
                                                          - kind: name
                                                            id: 6474
                                                            name: prefix
                                                          - kind: str
                                                            id: 6477
                                                            value: node
                                                          - kind: name
                                                            id: 6476
                                                            name: internal_node
                                          - kind: str
                                            id: 6497
                                            value: Leaf
                                          - kind: lambda
                                            id: 6498
                                            params:
                                              - id: 6499
                                                name: leaf
                                            expr:
                                              kind: app
                                              id: 6492
                                              opcode: union
                                              args:
                                                - kind: name
                                                  id: 6482
                                                  name: popped_queue
                                                - kind: app
                                                  id: 6491
                                                  opcode: Set
                                                  args:
                                                    - kind: app
                                                      id: 6490
                                                      opcode: Rec
                                                      args:
                                                        - kind: str
                                                          id: 6484
                                                          value: key_hash
                                                        - kind: name
                                                          id: 6483
                                                          name: prefix
                                                        - kind: str
                                                          id: 6489
                                                          value: node
                                                        - kind: app
                                                          id: 6488
                                                          opcode: field
                                                          args:
                                                            - kind: app
                                                              id: 6486
                                                              opcode: unwrap
                                                              args:
                                                                - kind: name
                                                                  id: 6485
                                                                  name: left
                                                            - kind: str
                                                              id: 6487
                                                              value: node
                                      - kind: app
                                        id: 6569
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 6502
                                            opcode: neq
                                            args:
                                              - kind: name
                                                id: 6500
                                                name: right
                                              - kind: name
                                                id: 6501
                                                name: None
                                          - kind: app
                                            id: 6543
                                            opcode: matchVariant
                                            args:
                                              - kind: app
                                                id: 6506
                                                opcode: field
                                                args:
                                                  - kind: app
                                                    id: 6504
                                                    opcode: unwrap
                                                    args:
                                                      - kind: name
                                                        id: 6503
                                                        name: right
                                                  - kind: str
                                                    id: 6505
                                                    value: node
                                              - kind: str
                                                id: 6544
                                                value: Internal
                                              - kind: lambda
                                                id: 6545
                                                params:
                                                  - id: 6546
                                                    name: _
                                                expr:
                                                  kind: let
                                                  id: 6531
                                                  opdef:
                                                    id: 6522
                                                    name: internal_node
                                                    qualifier: pureval
                                                    expr:
                                                      kind: app
                                                      id: 6521
                                                      opcode: Internal
                                                      args:
                                                        - kind: app
                                                          id: 6520
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6508
                                                              value: left_child
                                                            - kind: name
                                                              id: 6507
                                                              name: None
                                                            - kind: str
                                                              id: 6519
                                                              value: right_child
                                                            - kind: app
                                                              id: 6518
                                                              opcode: Some
                                                              args:
                                                                - kind: app
                                                                  id: 6517
                                                                  opcode: Rec
                                                                  args:
                                                                    - kind: str
                                                                      id: 6510
                                                                      value: version
                                                                    - kind: name
                                                                      id: 6509
                                                                      name: new_version
                                                                    - kind: str
                                                                      id: 6516
                                                                      value: hash
                                                                    - kind: app
                                                                      id: 6515
                                                                      opcode: hash
                                                                      args:
                                                                        - kind: app
                                                                          id: 6514
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 6512
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6511
                                                                                  name: right
                                                                            - kind: str
                                                                              id: 6513
                                                                              value: node
                                                    depth: ~
                                                  expr:
                                                    kind: app
                                                    id: 6530
                                                    opcode: union
                                                    args:
                                                      - kind: name
                                                        id: 6523
                                                        name: unpopped_queue
                                                      - kind: app
                                                        id: 6529
                                                        opcode: Set
                                                        args:
                                                          - kind: app
                                                            id: 6528
                                                            opcode: Rec
                                                            args:
                                                              - kind: str
                                                                id: 6525
                                                                value: key_hash
                                                              - kind: name
                                                                id: 6524
                                                                name: prefix
                                                              - kind: str
                                                                id: 6527
                                                                value: node
                                                              - kind: name
                                                                id: 6526
                                                                name: internal_node
                                              - kind: str
                                                id: 6547
                                                value: Leaf
                                              - kind: lambda
                                                id: 6548
                                                params:
                                                  - id: 6549
                                                    name: leaf
                                                expr:
                                                  kind: app
                                                  id: 6542
                                                  opcode: union
                                                  args:
                                                    - kind: name
                                                      id: 6532
                                                      name: popped_queue
                                                    - kind: app
                                                      id: 6541
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 6540
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6534
                                                              value: key_hash
                                                            - kind: name
                                                              id: 6533
                                                              name: prefix
                                                            - kind: str
                                                              id: 6539
                                                              value: node
                                                            - kind: app
                                                              id: 6538
                                                              opcode: field
                                                              args:
                                                                - kind: app
                                                                  id: 6536
                                                                  opcode: unwrap
                                                                  args:
                                                                    - kind: name
                                                                      id: 6535
                                                                      name: right
                                                                - kind: str
                                                                  id: 6537
                                                                  value: node
                                          - kind: app
                                            id: 6568
                                            opcode: ite
                                            args:
                                              - kind: app
                                                id: 6552
                                                opcode: eq
                                                args:
                                                  - kind: name
                                                    id: 6550
                                                    name: i
                                                  - kind: int
                                                    id: 6551
                                                    value: 0
                                              - kind: let
                                                id: 6566
                                                opdef:
                                                  id: 6555
                                                  name: root
                                                  qualifier: pureval
                                                  expr:
                                                    kind: app
                                                    id: 6554
                                                    opcode: getOnlyElement
                                                    args:
                                                      - kind: name
                                                        id: 6553
                                                        name: popped_queue
                                                  depth: ~
                                                expr:
                                                  kind: app
                                                  id: 6565
                                                  opcode: union
                                                  args:
                                                    - kind: name
                                                      id: 6556
                                                      name: unpopped_queue
                                                    - kind: app
                                                      id: 6564
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 6563
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6558
                                                              value: key_hash
                                                            - kind: name
                                                              id: 6557
                                                              name: prefix
                                                            - kind: str
                                                              id: 6562
                                                              value: node
                                                            - kind: app
                                                              id: 6561
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 6559
                                                                  name: root
                                                                - kind: str
                                                                  id: 6560
                                                                  value: node
                                              - kind: name
                                                id: 6567
                                                name: unpopped_queue
                              depth: ~
                            expr:
                              kind: app
                              id: 6579
                              opcode: Tup
                              args:
                                - kind: app
                                  id: 6577
                                  opcode: union
                                  args:
                                    - kind: app
                                      id: 6575
                                      opcode: item
                                      args:
                                        - kind: name
                                          id: 6573
                                          name: acc
                                        - kind: int
                                          id: 6574
                                          value: 1
                                    - kind: name
                                      id: 6576
                                      name: queue_2
                                - kind: name
                                  id: 6578
                                  name: queue_2
    depth: 8
  6591:
    kind: def
    id: 6590
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 6589
      opcode: foldr
      args:
        - kind: app
          id: 6321
          opcode: range
          args:
            - kind: int
              id: 6319
              value: 0
            - kind: name
              id: 6320
              name: MAX_HASH_LENGTH
        - kind: app
          id: 6335
          opcode: Tup
          args:
            - kind: app
              id: 6322
              opcode: Set
              args: []
            - kind: app
              id: 6334
              opcode: map
              args:
                - kind: name
                  id: 6323
                  name: keys_and_values_and_op
                - kind: lambda
                  id: 6333
                  params:
                    - id: 6324
                      name: kv
                  expr:
                    kind: app
                    id: 6332
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6328
                        value: key_hash
                      - kind: app
                        id: 6327
                        opcode: field
                        args:
                          - kind: name
                            id: 6325
                            name: kv
                          - kind: str
                            id: 6326
                            value: key_hash
                      - kind: str
                        id: 6331
                        value: node
                      - kind: app
                        id: 6330
                        opcode: Leaf
                        args:
                          - kind: name
                            id: 6329
                            name: kv
        - kind: lambda
          id: 6588
          params:
            - id: 6336
              name: i
            - id: 6337
              name: acc
          expr:
            kind: let
            id: 6587
            opdef:
              id: 6350
              name: prefixes_of_length_i
              qualifier: pureval
              expr:
                kind: app
                id: 6349
                opcode: map
                args:
                  - kind: app
                    id: 6340
                    opcode: item
                    args:
                      - kind: name
                        id: 6338
                        name: acc
                      - kind: int
                        id: 6339
                        value: 2
                  - kind: lambda
                    id: 6348
                    params:
                      - id: 6341
                        name: kv
                    expr:
                      kind: app
                      id: 6347
                      opcode: slice
                      args:
                        - kind: app
                          id: 6344
                          opcode: field
                          args:
                            - kind: name
                              id: 6342
                              name: kv
                            - kind: str
                              id: 6343
                              value: key_hash
                        - kind: int
                          id: 6345
                          value: 0
                        - kind: name
                          id: 6346
                          name: i
              depth: ~
            expr:
              kind: app
              id: 6586
              opcode: fold
              args:
                - kind: name
                  id: 6351
                  name: prefixes_of_length_i
                - kind: name
                  id: 6352
                  name: acc
                - kind: lambda
                  id: 6585
                  params:
                    - id: 6353
                      name: acc
                    - id: 6354
                      name: prefix
                  expr:
                    kind: let
                    id: 6584
                    opdef:
                      id: 6368
                      name: left
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6367
                        opcode: find
                        args:
                          - kind: app
                            id: 6357
                            opcode: item
                            args:
                              - kind: name
                                id: 6355
                                name: acc
                              - kind: int
                                id: 6356
                                value: 2
                          - kind: lambda
                            id: 6366
                            params:
                              - id: 6358
                                name: k
                            expr:
                              kind: app
                              id: 6365
                              opcode: eq
                              args:
                                - kind: app
                                  id: 6361
                                  opcode: field
                                  args:
                                    - kind: name
                                      id: 6359
                                      name: k
                                    - kind: str
                                      id: 6360
                                      value: key_hash
                                - kind: app
                                  id: 6364
                                  opcode: append
                                  args:
                                    - kind: name
                                      id: 6362
                                      name: prefix
                                    - kind: int
                                      id: 6363
                                      value: 0
                      depth: ~
                    expr:
                      kind: let
                      id: 6583
                      opdef:
                        id: 6382
                        name: right
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6381
                          opcode: find
                          args:
                            - kind: app
                              id: 6371
                              opcode: item
                              args:
                                - kind: name
                                  id: 6369
                                  name: acc
                                - kind: int
                                  id: 6370
                                  value: 2
                            - kind: lambda
                              id: 6380
                              params:
                                - id: 6372
                                  name: k
                              expr:
                                kind: app
                                id: 6379
                                opcode: eq
                                args:
                                  - kind: app
                                    id: 6375
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6373
                                        name: k
                                      - kind: str
                                        id: 6374
                                        value: key_hash
                                  - kind: app
                                    id: 6378
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 6376
                                        name: prefix
                                      - kind: int
                                        id: 6377
                                        value: 1
                        depth: ~
                      expr:
                        kind: let
                        id: 6582
                        opdef:
                          id: 6404
                          name: popped_queue
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6403
                            opcode: filter
                            args:
                              - kind: app
                                id: 6385
                                opcode: item
                                args:
                                  - kind: name
                                    id: 6383
                                    name: acc
                                  - kind: int
                                    id: 6384
                                    value: 2
                              - kind: lambda
                                id: 6402
                                params:
                                  - id: 6386
                                    name: k
                                expr:
                                  kind: app
                                  id: 6401
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 6393
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 6389
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6387
                                              name: k
                                            - kind: str
                                              id: 6388
                                              value: key_hash
                                        - kind: app
                                          id: 6392
                                          opcode: append
                                          args:
                                            - kind: name
                                              id: 6390
                                              name: prefix
                                            - kind: int
                                              id: 6391
                                              value: 0
                                    - kind: app
                                      id: 6400
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 6396
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6394
                                              name: k
                                            - kind: str
                                              id: 6395
                                              value: key_hash
                                        - kind: app
                                          id: 6399
                                          opcode: append
                                          args:
                                            - kind: name
                                              id: 6397
                                              name: prefix
                                            - kind: int
                                              id: 6398
                                              value: 1
                          depth: ~
                        expr:
                          kind: let
                          id: 6581
                          opdef:
                            id: 6408
                            name: unpopped_queue
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 6407
                              opcode: item
                              args:
                                - kind: name
                                  id: 6405
                                  name: acc
                                - kind: int
                                  id: 6406
                                  value: 2
                            depth: ~
                          expr:
                            kind: let
                            id: 6580
                            opdef:
                              id: 6572
                              name: queue_2
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 6571
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 6415
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 6411
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6409
                                            name: left
                                          - kind: name
                                            id: 6410
                                            name: None
                                      - kind: app
                                        id: 6414
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6412
                                            name: right
                                          - kind: name
                                            id: 6413
                                            name: None
                                  - kind: let
                                    id: 6449
                                    opdef:
                                      id: 6440
                                      name: internal_node
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 6439
                                        opcode: Internal
                                        args:
                                          - kind: app
                                            id: 6438
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 6426
                                                value: left_child
                                              - kind: app
                                                id: 6425
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 6424
                                                    opcode: Rec
                                                    args:
                                                      - kind: str
                                                        id: 6417
                                                        value: version
                                                      - kind: name
                                                        id: 6416
                                                        name: new_version
                                                      - kind: str
                                                        id: 6423
                                                        value: hash
                                                      - kind: app
                                                        id: 6422
                                                        opcode: hash
                                                        args:
                                                          - kind: app
                                                            id: 6421
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6419
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6418
                                                                    name: left
                                                              - kind: str
                                                                id: 6420
                                                                value: node
                                              - kind: str
                                                id: 6437
                                                value: right_child
                                              - kind: app
                                                id: 6436
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 6435
                                                    opcode: Rec
                                                    args:
                                                      - kind: str
                                                        id: 6428
                                                        value: version
                                                      - kind: name
                                                        id: 6427
                                                        name: new_version
                                                      - kind: str
                                                        id: 6434
                                                        value: hash
                                                      - kind: app
                                                        id: 6433
                                                        opcode: hash
                                                        args:
                                                          - kind: app
                                                            id: 6432
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6430
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6429
                                                                    name: right
                                                              - kind: str
                                                                id: 6431
                                                                value: node
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 6448
                                      opcode: union
                                      args:
                                        - kind: name
                                          id: 6441
                                          name: unpopped_queue
                                        - kind: app
                                          id: 6447
                                          opcode: Set
                                          args:
                                            - kind: app
                                              id: 6446
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 6443
                                                  value: key_hash
                                                - kind: name
                                                  id: 6442
                                                  name: prefix
                                                - kind: str
                                                  id: 6445
                                                  value: node
                                                - kind: name
                                                  id: 6444
                                                  name: internal_node
                                  - kind: app
                                    id: 6570
                                    opcode: ite
                                    args:
                                      - kind: app
                                        id: 6452
                                        opcode: neq
                                        args:
                                          - kind: name
                                            id: 6450
                                            name: left
                                          - kind: name
                                            id: 6451
                                            name: None
                                      - kind: app
                                        id: 6493
                                        opcode: matchVariant
                                        args:
                                          - kind: app
                                            id: 6456
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 6454
                                                opcode: unwrap
                                                args:
                                                  - kind: name
                                                    id: 6453
                                                    name: left
                                              - kind: str
                                                id: 6455
                                                value: node
                                          - kind: str
                                            id: 6494
                                            value: Internal
                                          - kind: lambda
                                            id: 6495
                                            params:
                                              - id: 6496
                                                name: _
                                            expr:
                                              kind: let
                                              id: 6481
                                              opdef:
                                                id: 6472
                                                name: internal_node
                                                qualifier: pureval
                                                expr:
                                                  kind: app
                                                  id: 6471
                                                  opcode: Internal
                                                  args:
                                                    - kind: app
                                                      id: 6470
                                                      opcode: Rec
                                                      args:
                                                        - kind: str
                                                          id: 6467
                                                          value: left_child
                                                        - kind: app
                                                          id: 6466
                                                          opcode: Some
                                                          args:
                                                            - kind: app
                                                              id: 6465
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 6458
                                                                  value: version
                                                                - kind: name
                                                                  id: 6457
                                                                  name: new_version
                                                                - kind: str
                                                                  id: 6464
                                                                  value: hash
                                                                - kind: app
                                                                  id: 6463
                                                                  opcode: hash
                                                                  args:
                                                                    - kind: app
                                                                      id: 6462
                                                                      opcode: field
                                                                      args:
                                                                        - kind: app
                                                                          id: 6460
                                                                          opcode: unwrap
                                                                          args:
                                                                            - kind: name
                                                                              id: 6459
                                                                              name: left
                                                                        - kind: str
                                                                          id: 6461
                                                                          value: node
                                                        - kind: str
                                                          id: 6469
                                                          value: right_child
                                                        - kind: name
                                                          id: 6468
                                                          name: None
                                                depth: ~
                                              expr:
                                                kind: app
                                                id: 6480
                                                opcode: union
                                                args:
                                                  - kind: name
                                                    id: 6473
                                                    name: unpopped_queue
                                                  - kind: app
                                                    id: 6479
                                                    opcode: Set
                                                    args:
                                                      - kind: app
                                                        id: 6478
                                                        opcode: Rec
                                                        args:
                                                          - kind: str
                                                            id: 6475
                                                            value: key_hash
                                                          - kind: name
                                                            id: 6474
                                                            name: prefix
                                                          - kind: str
                                                            id: 6477
                                                            value: node
                                                          - kind: name
                                                            id: 6476
                                                            name: internal_node
                                          - kind: str
                                            id: 6497
                                            value: Leaf
                                          - kind: lambda
                                            id: 6498
                                            params:
                                              - id: 6499
                                                name: leaf
                                            expr:
                                              kind: app
                                              id: 6492
                                              opcode: union
                                              args:
                                                - kind: name
                                                  id: 6482
                                                  name: popped_queue
                                                - kind: app
                                                  id: 6491
                                                  opcode: Set
                                                  args:
                                                    - kind: app
                                                      id: 6490
                                                      opcode: Rec
                                                      args:
                                                        - kind: str
                                                          id: 6484
                                                          value: key_hash
                                                        - kind: name
                                                          id: 6483
                                                          name: prefix
                                                        - kind: str
                                                          id: 6489
                                                          value: node
                                                        - kind: app
                                                          id: 6488
                                                          opcode: field
                                                          args:
                                                            - kind: app
                                                              id: 6486
                                                              opcode: unwrap
                                                              args:
                                                                - kind: name
                                                                  id: 6485
                                                                  name: left
                                                            - kind: str
                                                              id: 6487
                                                              value: node
                                      - kind: app
                                        id: 6569
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 6502
                                            opcode: neq
                                            args:
                                              - kind: name
                                                id: 6500
                                                name: right
                                              - kind: name
                                                id: 6501
                                                name: None
                                          - kind: app
                                            id: 6543
                                            opcode: matchVariant
                                            args:
                                              - kind: app
                                                id: 6506
                                                opcode: field
                                                args:
                                                  - kind: app
                                                    id: 6504
                                                    opcode: unwrap
                                                    args:
                                                      - kind: name
                                                        id: 6503
                                                        name: right
                                                  - kind: str
                                                    id: 6505
                                                    value: node
                                              - kind: str
                                                id: 6544
                                                value: Internal
                                              - kind: lambda
                                                id: 6545
                                                params:
                                                  - id: 6546
                                                    name: _
                                                expr:
                                                  kind: let
                                                  id: 6531
                                                  opdef:
                                                    id: 6522
                                                    name: internal_node
                                                    qualifier: pureval
                                                    expr:
                                                      kind: app
                                                      id: 6521
                                                      opcode: Internal
                                                      args:
                                                        - kind: app
                                                          id: 6520
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6508
                                                              value: left_child
                                                            - kind: name
                                                              id: 6507
                                                              name: None
                                                            - kind: str
                                                              id: 6519
                                                              value: right_child
                                                            - kind: app
                                                              id: 6518
                                                              opcode: Some
                                                              args:
                                                                - kind: app
                                                                  id: 6517
                                                                  opcode: Rec
                                                                  args:
                                                                    - kind: str
                                                                      id: 6510
                                                                      value: version
                                                                    - kind: name
                                                                      id: 6509
                                                                      name: new_version
                                                                    - kind: str
                                                                      id: 6516
                                                                      value: hash
                                                                    - kind: app
                                                                      id: 6515
                                                                      opcode: hash
                                                                      args:
                                                                        - kind: app
                                                                          id: 6514
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 6512
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6511
                                                                                  name: right
                                                                            - kind: str
                                                                              id: 6513
                                                                              value: node
                                                    depth: ~
                                                  expr:
                                                    kind: app
                                                    id: 6530
                                                    opcode: union
                                                    args:
                                                      - kind: name
                                                        id: 6523
                                                        name: unpopped_queue
                                                      - kind: app
                                                        id: 6529
                                                        opcode: Set
                                                        args:
                                                          - kind: app
                                                            id: 6528
                                                            opcode: Rec
                                                            args:
                                                              - kind: str
                                                                id: 6525
                                                                value: key_hash
                                                              - kind: name
                                                                id: 6524
                                                                name: prefix
                                                              - kind: str
                                                                id: 6527
                                                                value: node
                                                              - kind: name
                                                                id: 6526
                                                                name: internal_node
                                              - kind: str
                                                id: 6547
                                                value: Leaf
                                              - kind: lambda
                                                id: 6548
                                                params:
                                                  - id: 6549
                                                    name: leaf
                                                expr:
                                                  kind: app
                                                  id: 6542
                                                  opcode: union
                                                  args:
                                                    - kind: name
                                                      id: 6532
                                                      name: popped_queue
                                                    - kind: app
                                                      id: 6541
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 6540
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6534
                                                              value: key_hash
                                                            - kind: name
                                                              id: 6533
                                                              name: prefix
                                                            - kind: str
                                                              id: 6539
                                                              value: node
                                                            - kind: app
                                                              id: 6538
                                                              opcode: field
                                                              args:
                                                                - kind: app
                                                                  id: 6536
                                                                  opcode: unwrap
                                                                  args:
                                                                    - kind: name
                                                                      id: 6535
                                                                      name: right
                                                                - kind: str
                                                                  id: 6537
                                                                  value: node
                                          - kind: app
                                            id: 6568
                                            opcode: ite
                                            args:
                                              - kind: app
                                                id: 6552
                                                opcode: eq
                                                args:
                                                  - kind: name
                                                    id: 6550
                                                    name: i
                                                  - kind: int
                                                    id: 6551
                                                    value: 0
                                              - kind: let
                                                id: 6566
                                                opdef:
                                                  id: 6555
                                                  name: root
                                                  qualifier: pureval
                                                  expr:
                                                    kind: app
                                                    id: 6554
                                                    opcode: getOnlyElement
                                                    args:
                                                      - kind: name
                                                        id: 6553
                                                        name: popped_queue
                                                  depth: ~
                                                expr:
                                                  kind: app
                                                  id: 6565
                                                  opcode: union
                                                  args:
                                                    - kind: name
                                                      id: 6556
                                                      name: unpopped_queue
                                                    - kind: app
                                                      id: 6564
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 6563
                                                          opcode: Rec
                                                          args:
                                                            - kind: str
                                                              id: 6558
                                                              value: key_hash
                                                            - kind: name
                                                              id: 6557
                                                              name: prefix
                                                            - kind: str
                                                              id: 6562
                                                              value: node
                                                            - kind: app
                                                              id: 6561
                                                              opcode: field
                                                              args:
                                                                - kind: name
                                                                  id: 6559
                                                                  name: root
                                                                - kind: str
                                                                  id: 6560
                                                                  value: node
                                              - kind: name
                                                id: 6567
                                                name: unpopped_queue
                              depth: ~
                            expr:
                              kind: app
                              id: 6579
                              opcode: Tup
                              args:
                                - kind: app
                                  id: 6577
                                  opcode: union
                                  args:
                                    - kind: app
                                      id: 6575
                                      opcode: item
                                      args:
                                        - kind: name
                                          id: 6573
                                          name: acc
                                        - kind: int
                                          id: 6574
                                          value: 1
                                    - kind: name
                                      id: 6576
                                      name: queue_2
                                - kind: name
                                  id: 6578
                                  name: queue_2
    depth: 8
  6595:
    id: 6234
    name: new_version
  6597:
    id: 6594
    name: kv
  6602:
    id: 6594
    name: kv
  6608:
    id: 6230
    name: tree
  6613:
    id: 6611
    name: nodes
  6614:
    id: 6612
    name: kv
  6617:
    id: 6612
    name: kv
  6623:
    id: 6230
    name: tree
  6624:
    id: 6232
    name: old_version
  6625:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  6626:
    id: 6234
    name: new_version
  6627:
    kind: def
    id: 6228
    name: removeDuplicateEntries
    qualifier: puredef
    expr:
      kind: lambda
      id: 6227
      params:
        - id: 6137
          name: nodes
        - id: 6139
          name: old_version_nodes
        - id: 6141
          name: current_version
      expr:
        kind: app
        id: 6226
        opcode: fold
        args:
          - kind: app
            id: 6146
            opcode: keys
            args:
              - kind: name
                id: 6145
                name: old_version_nodes
          - kind: name
            id: 6147
            name: nodes
          - kind: lambda
            id: 6225
            params:
              - id: 6148
                name: nodes
              - id: 6149
                name: key
            expr:
              kind: app
              id: 6224
              opcode: ite
              args:
                - kind: app
                  id: 6162
                  opcode: and
                  args:
                    - kind: app
                      id: 6154
                      opcode: igt
                      args:
                        - kind: name
                          id: 6150
                          name: current_version
                        - kind: app
                          id: 6153
                          opcode: field
                          args:
                            - kind: name
                              id: 6151
                              name: key
                            - kind: str
                              id: 6152
                              value: version
                    - kind: app
                      id: 6161
                      opcode: contains
                      args:
                        - kind: app
                          id: 6156
                          opcode: keys
                          args:
                            - kind: name
                              id: 6155
                              name: nodes
                        - kind: app
                          id: 6160
                          opcode: with
                          args:
                            - kind: name
                              id: 6157
                              name: key
                            - kind: str
                              id: 6159
                              value: version
                            - kind: name
                              id: 6158
                              name: current_version
                - kind: let
                  id: 6222
                  opdef:
                    id: 6166
                    name: nodeForKey
                    qualifier: val
                    expr:
                      kind: app
                      id: 6165
                      opcode: get
                      args:
                        - kind: name
                          id: 6163
                          name: nodes
                        - kind: name
                          id: 6164
                          name: key
                    depth: ~
                  expr:
                    kind: let
                    id: 6221
                    opdef:
                      id: 6173
                      name: nodeForKeyWithNewVersion
                      qualifier: val
                      expr:
                        kind: app
                        id: 6172
                        opcode: get
                        args:
                          - kind: name
                            id: 6167
                            name: nodes
                          - kind: app
                            id: 6171
                            opcode: with
                            args:
                              - kind: name
                                id: 6168
                                name: key
                              - kind: str
                                id: 6170
                                value: version
                              - kind: name
                                id: 6169
                                name: current_version
                      depth: ~
                    expr:
                      kind: app
                      id: 6220
                      opcode: ite
                      args:
                        - kind: app
                          id: 6180
                          opcode: and
                          args:
                            - kind: app
                              id: 6176
                              opcode: eq
                              args:
                                - kind: name
                                  id: 6174
                                  name: nodeForKey
                                - kind: name
                                  id: 6175
                                  name: nodeForKeyWithNewVersion
                            - kind: app
                              id: 6179
                              opcode: not
                              args:
                                - kind: app
                                  id: 6178
                                  opcode: isRoot
                                  args:
                                    - kind: name
                                      id: 6177
                                      name: key
                        - kind: app
                          id: 6186
                          opcode: mapRemove
                          args:
                            - kind: name
                              id: 6181
                              name: nodes
                            - kind: app
                              id: 6185
                              opcode: with
                              args:
                                - kind: name
                                  id: 6182
                                  name: key
                                - kind: str
                                  id: 6184
                                  value: version
                                - kind: name
                                  id: 6183
                                  name: current_version
                        - kind: app
                          id: 6213
                          opcode: matchVariant
                          args:
                            - kind: name
                              id: 6187
                              name: nodeForKeyWithNewVersion
                            - kind: str
                              id: 6214
                              value: Internal
                            - kind: lambda
                              id: 6215
                              params:
                                - id: 6216
                                  name: internalNewVersion
                              expr:
                                kind: app
                                id: 6205
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 6188
                                    name: nodeForKey
                                  - kind: str
                                    id: 6206
                                    value: Internal
                                  - kind: lambda
                                    id: 6207
                                    params:
                                      - id: 6208
                                        name: internalOldVersion
                                    expr:
                                      kind: app
                                      id: 6203
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 6195
                                          opcode: and
                                          args:
                                            - kind: app
                                              id: 6191
                                              opcode: cmpInternalAndNode
                                              args:
                                                - kind: name
                                                  id: 6189
                                                  name: internalNewVersion
                                                - kind: name
                                                  id: 6190
                                                  name: internalOldVersion
                                            - kind: app
                                              id: 6194
                                              opcode: not
                                              args:
                                                - kind: app
                                                  id: 6193
                                                  opcode: isRoot
                                                  args:
                                                    - kind: name
                                                      id: 6192
                                                      name: key
                                        - kind: app
                                          id: 6201
                                          opcode: mapRemove
                                          args:
                                            - kind: name
                                              id: 6196
                                              name: nodes
                                            - kind: app
                                              id: 6200
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6197
                                                  name: key
                                                - kind: str
                                                  id: 6199
                                                  value: version
                                                - kind: name
                                                  id: 6198
                                                  name: current_version
                                        - kind: name
                                          id: 6202
                                          name: nodes
                                  - kind: str
                                    id: 6209
                                    value: Leaf
                                  - kind: lambda
                                    id: 6210
                                    params:
                                      - id: 6211
                                        name: _
                                    expr:
                                      kind: name
                                      id: 6204
                                      name: nodes
                            - kind: str
                              id: 6217
                              value: Leaf
                            - kind: lambda
                              id: 6218
                              params:
                                - id: 6219
                                  name: _
                              expr:
                                kind: name
                                id: 6212
                                name: nodes
                - kind: name
                  id: 6223
                  name: nodes
    depth: 0
  6628:
    id: 6230
    name: tree
  6629:
    id: 6232
    name: old_version
  6630:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  6631:
    id: 6234
    name: new_version
  6632:
    kind: def
    id: 6135
    name: updateChildVersions
    qualifier: puredef
    expr:
      kind: lambda
      id: 6134
      params:
        - id: 5933
          name: nodes
        - id: 5935
          name: old_version_nodes
        - id: 5937
          name: new_version
      expr:
        kind: let
        id: 6133
        opdef:
          id: 5943
          name: internalNodes
          qualifier: val
          expr:
            kind: app
            id: 5942
            opcode: allInternals
            args:
              - kind: name
                id: 5941
                name: nodes
          depth: ~
        expr:
          kind: let
          id: 6132
          opdef:
            id: 5946
            name: internalNodesOld
            qualifier: val
            expr:
              kind: app
              id: 5945
              opcode: allInternals
              args:
                - kind: name
                  id: 5944
                  name: old_version_nodes
            depth: ~
          expr:
            kind: app
            id: 6131
            opcode: fold
            args:
              - kind: app
                id: 5948
                opcode: keys
                args:
                  - kind: name
                    id: 5947
                    name: internalNodesOld
              - kind: name
                id: 5949
                name: nodes
              - kind: lambda
                id: 6130
                params:
                  - id: 5950
                    name: nodes
                  - id: 5951
                    name: key
                expr:
                  kind: app
                  id: 6129
                  opcode: ite
                  args:
                    - kind: app
                      id: 5963
                      opcode: and
                      args:
                        - kind: app
                          id: 5956
                          opcode: igt
                          args:
                            - kind: name
                              id: 5952
                              name: new_version
                            - kind: app
                              id: 5955
                              opcode: field
                              args:
                                - kind: name
                                  id: 5953
                                  name: key
                                - kind: str
                                  id: 5954
                                  value: version
                        - kind: app
                          id: 5962
                          opcode: has
                          args:
                            - kind: name
                              id: 5957
                              name: internalNodes
                            - kind: app
                              id: 5961
                              opcode: with
                              args:
                                - kind: name
                                  id: 5958
                                  name: key
                                - kind: str
                                  id: 5960
                                  value: version
                                - kind: name
                                  id: 5959
                                  name: new_version
                    - kind: let
                      id: 6127
                      opdef:
                        id: 5967
                        name: internalOld
                        qualifier: val
                        expr:
                          kind: app
                          id: 5966
                          opcode: get
                          args:
                            - kind: name
                              id: 5964
                              name: internalNodes
                            - kind: name
                              id: 5965
                              name: key
                        depth: ~
                      expr:
                        kind: let
                        id: 6126
                        opdef:
                          id: 5974
                          name: internalNew
                          qualifier: val
                          expr:
                            kind: app
                            id: 5973
                            opcode: get
                            args:
                              - kind: name
                                id: 5968
                                name: internalNodes
                              - kind: app
                                id: 5972
                                opcode: with
                                args:
                                  - kind: name
                                    id: 5969
                                    name: key
                                  - kind: str
                                    id: 5971
                                    value: version
                                  - kind: name
                                    id: 5970
                                    name: new_version
                          depth: ~
                        expr:
                          kind: let
                          id: 6125
                          opdef:
                            id: 5977
                            name: unpackedOld
                            qualifier: val
                            expr:
                              kind: app
                              id: 5976
                              opcode: unpackInternalNode
                              args:
                                - kind: name
                                  id: 5975
                                  name: internalOld
                            depth: ~
                          expr:
                            kind: let
                            id: 6124
                            opdef:
                              id: 5980
                              name: unpackedNew
                              qualifier: val
                              expr:
                                kind: app
                                id: 5979
                                opcode: unpackInternalNode
                                args:
                                  - kind: name
                                    id: 5978
                                    name: internalNew
                              depth: ~
                            expr:
                              kind: app
                              id: 6123
                              opcode: ite
                              args:
                                - kind: app
                                  id: 6027
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 6003
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 5991
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 5985
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5983
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5981
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 5982
                                                      value: left
                                                - kind: str
                                                  id: 5984
                                                  value: hash
                                            - kind: app
                                              id: 5990
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5988
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5986
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 5987
                                                      value: left
                                                - kind: str
                                                  id: 5989
                                                  value: hash
                                        - kind: app
                                          id: 6002
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 5996
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5994
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5992
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 5993
                                                      value: left
                                                - kind: str
                                                  id: 5995
                                                  value: version
                                            - kind: app
                                              id: 6001
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 5999
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5997
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 5998
                                                      value: left
                                                - kind: str
                                                  id: 6000
                                                  value: version
                                    - kind: app
                                      id: 6026
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 6014
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 6008
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6006
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6004
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6005
                                                      value: right
                                                - kind: str
                                                  id: 6007
                                                  value: hash
                                            - kind: app
                                              id: 6013
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6011
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6009
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6010
                                                      value: right
                                                - kind: str
                                                  id: 6012
                                                  value: hash
                                        - kind: app
                                          id: 6025
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 6019
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6017
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6015
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6016
                                                      value: right
                                                - kind: str
                                                  id: 6018
                                                  value: version
                                            - kind: app
                                              id: 6024
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6022
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6020
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6021
                                                      value: right
                                                - kind: str
                                                  id: 6023
                                                  value: version
                                - kind: app
                                  id: 6045
                                  opcode: set
                                  args:
                                    - kind: name
                                      id: 6028
                                      name: nodes
                                    - kind: app
                                      id: 6032
                                      opcode: with
                                      args:
                                        - kind: name
                                          id: 6029
                                          name: key
                                        - kind: str
                                          id: 6031
                                          value: version
                                        - kind: name
                                          id: 6030
                                          name: new_version
                                    - kind: app
                                      id: 6044
                                      opcode: Internal
                                      args:
                                        - kind: app
                                          id: 6043
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 6037
                                              value: left_child
                                            - kind: app
                                              id: 6036
                                              opcode: Some
                                              args:
                                                - kind: app
                                                  id: 6035
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6033
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6034
                                                      value: left
                                            - kind: str
                                              id: 6042
                                              value: right_child
                                            - kind: app
                                              id: 6041
                                              opcode: Some
                                              args:
                                                - kind: app
                                                  id: 6040
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6038
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6039
                                                      value: right
                                - kind: app
                                  id: 6122
                                  opcode: ite
                                  args:
                                    - kind: app
                                      id: 6068
                                      opcode: and
                                      args:
                                        - kind: app
                                          id: 6056
                                          opcode: eq
                                          args:
                                            - kind: app
                                              id: 6050
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6048
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6046
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6047
                                                      value: left
                                                - kind: str
                                                  id: 6049
                                                  value: hash
                                            - kind: app
                                              id: 6055
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6053
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6051
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6052
                                                      value: left
                                                - kind: str
                                                  id: 6054
                                                  value: hash
                                        - kind: app
                                          id: 6067
                                          opcode: neq
                                          args:
                                            - kind: app
                                              id: 6061
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6059
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6057
                                                      name: unpackedNew
                                                    - kind: str
                                                      id: 6058
                                                      value: left
                                                - kind: str
                                                  id: 6060
                                                  value: version
                                            - kind: app
                                              id: 6066
                                              opcode: field
                                              args:
                                                - kind: app
                                                  id: 6064
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6062
                                                      name: unpackedOld
                                                    - kind: str
                                                      id: 6063
                                                      value: left
                                                - kind: str
                                                  id: 6065
                                                  value: version
                                    - kind: app
                                      id: 6082
                                      opcode: set
                                      args:
                                        - kind: name
                                          id: 6069
                                          name: nodes
                                        - kind: app
                                          id: 6073
                                          opcode: with
                                          args:
                                            - kind: name
                                              id: 6070
                                              name: key
                                            - kind: str
                                              id: 6072
                                              value: version
                                            - kind: name
                                              id: 6071
                                              name: new_version
                                        - kind: app
                                          id: 6081
                                          opcode: Internal
                                          args:
                                            - kind: app
                                              id: 6080
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6074
                                                  name: internalNew
                                                - kind: str
                                                  id: 6079
                                                  value: left_child
                                                - kind: app
                                                  id: 6078
                                                  opcode: Some
                                                  args:
                                                    - kind: app
                                                      id: 6077
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6075
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6076
                                                          value: left
                                    - kind: app
                                      id: 6121
                                      opcode: ite
                                      args:
                                        - kind: app
                                          id: 6105
                                          opcode: and
                                          args:
                                            - kind: app
                                              id: 6093
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 6087
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6085
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6083
                                                          name: unpackedNew
                                                        - kind: str
                                                          id: 6084
                                                          value: right
                                                    - kind: str
                                                      id: 6086
                                                      value: hash
                                                - kind: app
                                                  id: 6092
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6090
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6088
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6089
                                                          value: right
                                                    - kind: str
                                                      id: 6091
                                                      value: hash
                                            - kind: app
                                              id: 6104
                                              opcode: neq
                                              args:
                                                - kind: app
                                                  id: 6098
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6096
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6094
                                                          name: unpackedNew
                                                        - kind: str
                                                          id: 6095
                                                          value: right
                                                    - kind: str
                                                      id: 6097
                                                      value: version
                                                - kind: app
                                                  id: 6103
                                                  opcode: field
                                                  args:
                                                    - kind: app
                                                      id: 6101
                                                      opcode: field
                                                      args:
                                                        - kind: name
                                                          id: 6099
                                                          name: unpackedOld
                                                        - kind: str
                                                          id: 6100
                                                          value: right
                                                    - kind: str
                                                      id: 6102
                                                      value: version
                                        - kind: app
                                          id: 6119
                                          opcode: set
                                          args:
                                            - kind: name
                                              id: 6106
                                              name: nodes
                                            - kind: app
                                              id: 6110
                                              opcode: with
                                              args:
                                                - kind: name
                                                  id: 6107
                                                  name: key
                                                - kind: str
                                                  id: 6109
                                                  value: version
                                                - kind: name
                                                  id: 6108
                                                  name: new_version
                                            - kind: app
                                              id: 6118
                                              opcode: Internal
                                              args:
                                                - kind: app
                                                  id: 6117
                                                  opcode: with
                                                  args:
                                                    - kind: name
                                                      id: 6111
                                                      name: internalNew
                                                    - kind: str
                                                      id: 6116
                                                      value: right_child
                                                    - kind: app
                                                      id: 6115
                                                      opcode: Some
                                                      args:
                                                        - kind: app
                                                          id: 6114
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6112
                                                              name: unpackedOld
                                                            - kind: str
                                                              id: 6113
                                                              value: right
                                        - kind: name
                                          id: 6120
                                          name: nodes
                    - kind: name
                      id: 6128
                      name: nodes
    depth: 0
  6633:
    kind: def
    id: 6633
    name: nodes
    qualifier: val
    expr:
      kind: app
      id: 6632
      opcode: updateChildVersions
      args:
        - kind: app
          id: 6627
          opcode: removeDuplicateEntries
          args:
            - kind: app
              id: 6622
              opcode: fold
              args:
                - kind: app
                  id: 6607
                  opcode: map
                  args:
                    - kind: app
                      id: 6593
                      opcode: item
                      args:
                        - kind: name
                          id: 6591
                          name: result
                        - kind: int
                          id: 6592
                          value: 2
                    - kind: lambda
                      id: 6606
                      params:
                        - id: 6594
                          name: kv
                      expr:
                        kind: app
                        id: 6605
                        opcode: Tup
                        args:
                          - kind: app
                            id: 6601
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6596
                                value: version
                              - kind: name
                                id: 6595
                                name: new_version
                              - kind: str
                                id: 6600
                                value: key_hash
                              - kind: app
                                id: 6599
                                opcode: field
                                args:
                                  - kind: name
                                    id: 6597
                                    name: kv
                                  - kind: str
                                    id: 6598
                                    value: key_hash
                          - kind: app
                            id: 6604
                            opcode: field
                            args:
                              - kind: name
                                id: 6602
                                name: kv
                              - kind: str
                                id: 6603
                                value: node
                - kind: app
                  id: 6610
                  opcode: field
                  args:
                    - kind: name
                      id: 6608
                      name: tree
                    - kind: str
                      id: 6609
                      value: nodes
                - kind: lambda
                  id: 6621
                  params:
                    - id: 6611
                      name: nodes
                    - id: 6612
                      name: kv
                  expr:
                    kind: app
                    id: 6620
                    opcode: put
                    args:
                      - kind: name
                        id: 6613
                        name: nodes
                      - kind: app
                        id: 6616
                        opcode: item
                        args:
                          - kind: name
                            id: 6614
                            name: kv
                          - kind: int
                            id: 6615
                            value: 1
                      - kind: app
                        id: 6619
                        opcode: item
                        args:
                          - kind: name
                            id: 6617
                            name: kv
                          - kind: int
                            id: 6618
                            value: 2
            - kind: app
              id: 6625
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 6623
                  name: tree
                - kind: name
                  id: 6624
                  name: old_version
            - kind: name
              id: 6626
              name: new_version
        - kind: app
          id: 6630
          opcode: treeAtVersion
          args:
            - kind: name
              id: 6628
              name: tree
            - kind: name
              id: 6629
              name: old_version
        - kind: name
          id: 6631
          name: new_version
    depth: 9
  6634:
    id: 6230
    name: tree
  6635:
    kind: def
    id: 6633
    name: nodes
    qualifier: val
    expr:
      kind: app
      id: 6632
      opcode: updateChildVersions
      args:
        - kind: app
          id: 6627
          opcode: removeDuplicateEntries
          args:
            - kind: app
              id: 6622
              opcode: fold
              args:
                - kind: app
                  id: 6607
                  opcode: map
                  args:
                    - kind: app
                      id: 6593
                      opcode: item
                      args:
                        - kind: name
                          id: 6591
                          name: result
                        - kind: int
                          id: 6592
                          value: 2
                    - kind: lambda
                      id: 6606
                      params:
                        - id: 6594
                          name: kv
                      expr:
                        kind: app
                        id: 6605
                        opcode: Tup
                        args:
                          - kind: app
                            id: 6601
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6596
                                value: version
                              - kind: name
                                id: 6595
                                name: new_version
                              - kind: str
                                id: 6600
                                value: key_hash
                              - kind: app
                                id: 6599
                                opcode: field
                                args:
                                  - kind: name
                                    id: 6597
                                    name: kv
                                  - kind: str
                                    id: 6598
                                    value: key_hash
                          - kind: app
                            id: 6604
                            opcode: field
                            args:
                              - kind: name
                                id: 6602
                                name: kv
                              - kind: str
                                id: 6603
                                value: node
                - kind: app
                  id: 6610
                  opcode: field
                  args:
                    - kind: name
                      id: 6608
                      name: tree
                    - kind: str
                      id: 6609
                      value: nodes
                - kind: lambda
                  id: 6621
                  params:
                    - id: 6611
                      name: nodes
                    - id: 6612
                      name: kv
                  expr:
                    kind: app
                    id: 6620
                    opcode: put
                    args:
                      - kind: name
                        id: 6613
                        name: nodes
                      - kind: app
                        id: 6616
                        opcode: item
                        args:
                          - kind: name
                            id: 6614
                            name: kv
                          - kind: int
                            id: 6615
                            value: 1
                      - kind: app
                        id: 6619
                        opcode: item
                        args:
                          - kind: name
                            id: 6617
                            name: kv
                          - kind: int
                            id: 6618
                            value: 2
            - kind: app
              id: 6625
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 6623
                  name: tree
                - kind: name
                  id: 6624
                  name: old_version
            - kind: name
              id: 6626
              name: new_version
        - kind: app
          id: 6630
          opcode: treeAtVersion
          args:
            - kind: name
              id: 6628
              name: tree
            - kind: name
              id: 6629
              name: old_version
        - kind: name
          id: 6631
          name: new_version
    depth: 9
  6640:
    id: 6232
    name: old_version
  6641:
    id: 6234
    name: new_version
  6642:
    kind: def
    id: 5840
    name: extractOrphansFromNewVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 5839
      params:
        - id: 5791
          name: oldTree
        - id: 5793
          name: updatedTree
        - id: 5795
          name: old_version
        - id: 5797
          name: new_version
      expr:
        kind: let
        id: 5838
        opdef:
          id: 5804
          name: nodes_at_old
          qualifier: pureval
          expr:
            kind: app
            id: 5803
            opcode: keys
            args:
              - kind: app
                id: 5802
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 5800
                    name: updatedTree
                  - kind: name
                    id: 5801
                    name: old_version
          depth: ~
        expr:
          kind: let
          id: 5837
          opdef:
            id: 5809
            name: nodes_at_new
            qualifier: pureval
            expr:
              kind: app
              id: 5808
              opcode: keys
              args:
                - kind: app
                  id: 5807
                  opcode: treeAtVersion
                  args:
                    - kind: name
                      id: 5805
                      name: updatedTree
                    - kind: name
                      id: 5806
                      name: new_version
            depth: ~
          expr:
            kind: let
            id: 5836
            opdef:
              id: 5813
              name: orphaned_nodes
              qualifier: pureval
              expr:
                kind: app
                id: 5812
                opcode: exclude
                args:
                  - kind: name
                    id: 5810
                    name: nodes_at_old
                  - kind: name
                    id: 5811
                    name: nodes_at_new
              depth: ~
            expr:
              kind: let
              id: 5835
              opdef:
                id: 5829
                name: new_orphans
                qualifier: pureval
                expr:
                  kind: app
                  id: 5828
                  opcode: map
                  args:
                    - kind: name
                      id: 5814
                      name: orphaned_nodes
                    - kind: lambda
                      id: 5827
                      params:
                        - id: 5815
                          name: node
                      expr:
                        kind: app
                        id: 5826
                        opcode: Rec
                        args:
                          - kind: str
                            id: 5817
                            value: orphaned_since_version
                          - kind: name
                            id: 5816
                            name: new_version
                          - kind: str
                            id: 5821
                            value: version
                          - kind: app
                            id: 5820
                            opcode: field
                            args:
                              - kind: name
                                id: 5818
                                name: node
                              - kind: str
                                id: 5819
                                value: version
                          - kind: str
                            id: 5825
                            value: key_hash
                          - kind: app
                            id: 5824
                            opcode: field
                            args:
                              - kind: name
                                id: 5822
                                name: node
                              - kind: str
                                id: 5823
                                value: key_hash
                depth: ~
              expr:
                kind: app
                id: 5834
                opcode: union
                args:
                  - kind: app
                    id: 5832
                    opcode: field
                    args:
                      - kind: name
                        id: 5830
                        name: oldTree
                      - kind: str
                        id: 5831
                        value: orphans
                  - kind: name
                    id: 5833
                    name: new_orphans
    depth: 0
  6643:
    kind: def
    id: 6643
    name: orphans
    qualifier: val
    expr:
      kind: app
      id: 6642
      opcode: extractOrphansFromNewVersion
      args:
        - kind: name
          id: 6634
          name: tree
        - kind: app
          id: 6639
          opcode: Rec
          args:
            - kind: str
              id: 6636
              value: nodes
            - kind: name
              id: 6635
              name: nodes
            - kind: str
              id: 6638
              value: orphans
            - kind: app
              id: 6637
              opcode: Set
              args: []
        - kind: name
          id: 6640
          name: old_version
        - kind: name
          id: 6641
          name: new_version
    depth: 10
  6644:
    kind: def
    id: 6633
    name: nodes
    qualifier: val
    expr:
      kind: app
      id: 6632
      opcode: updateChildVersions
      args:
        - kind: app
          id: 6627
          opcode: removeDuplicateEntries
          args:
            - kind: app
              id: 6622
              opcode: fold
              args:
                - kind: app
                  id: 6607
                  opcode: map
                  args:
                    - kind: app
                      id: 6593
                      opcode: item
                      args:
                        - kind: name
                          id: 6591
                          name: result
                        - kind: int
                          id: 6592
                          value: 2
                    - kind: lambda
                      id: 6606
                      params:
                        - id: 6594
                          name: kv
                      expr:
                        kind: app
                        id: 6605
                        opcode: Tup
                        args:
                          - kind: app
                            id: 6601
                            opcode: Rec
                            args:
                              - kind: str
                                id: 6596
                                value: version
                              - kind: name
                                id: 6595
                                name: new_version
                              - kind: str
                                id: 6600
                                value: key_hash
                              - kind: app
                                id: 6599
                                opcode: field
                                args:
                                  - kind: name
                                    id: 6597
                                    name: kv
                                  - kind: str
                                    id: 6598
                                    value: key_hash
                          - kind: app
                            id: 6604
                            opcode: field
                            args:
                              - kind: name
                                id: 6602
                                name: kv
                              - kind: str
                                id: 6603
                                value: node
                - kind: app
                  id: 6610
                  opcode: field
                  args:
                    - kind: name
                      id: 6608
                      name: tree
                    - kind: str
                      id: 6609
                      value: nodes
                - kind: lambda
                  id: 6621
                  params:
                    - id: 6611
                      name: nodes
                    - id: 6612
                      name: kv
                  expr:
                    kind: app
                    id: 6620
                    opcode: put
                    args:
                      - kind: name
                        id: 6613
                        name: nodes
                      - kind: app
                        id: 6616
                        opcode: item
                        args:
                          - kind: name
                            id: 6614
                            name: kv
                          - kind: int
                            id: 6615
                            value: 1
                      - kind: app
                        id: 6619
                        opcode: item
                        args:
                          - kind: name
                            id: 6617
                            name: kv
                          - kind: int
                            id: 6618
                            value: 2
            - kind: app
              id: 6625
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 6623
                  name: tree
                - kind: name
                  id: 6624
                  name: old_version
            - kind: name
              id: 6626
              name: new_version
        - kind: app
          id: 6630
          opcode: treeAtVersion
          args:
            - kind: name
              id: 6628
              name: tree
            - kind: name
              id: 6629
              name: old_version
        - kind: name
          id: 6631
          name: new_version
    depth: 9
  6646:
    kind: def
    id: 6643
    name: orphans
    qualifier: val
    expr:
      kind: app
      id: 6642
      opcode: extractOrphansFromNewVersion
      args:
        - kind: name
          id: 6634
          name: tree
        - kind: app
          id: 6639
          opcode: Rec
          args:
            - kind: str
              id: 6636
              value: nodes
            - kind: name
              id: 6635
              name: nodes
            - kind: str
              id: 6638
              value: orphans
            - kind: app
              id: 6637
              opcode: Set
              args: []
        - kind: name
          id: 6640
          name: old_version
        - kind: name
          id: 6641
          name: new_version
    depth: 10
  6658:
    kind: def
    id: 6658
    name: simple_apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 6657
      params:
        - id: 6230
          name: tree
        - id: 6232
          name: old_version
        - id: 6234
          name: new_version
        - id: 6237
          name: batch
      expr:
        kind: let
        id: 6656
        opdef:
          id: 6242
          name: treeForVersion
          qualifier: val
          expr:
            kind: app
            id: 6241
            opcode: treeAtVersion
            args:
              - kind: name
                id: 6239
                name: tree
              - kind: name
                id: 6240
                name: old_version
          depth: ~
        expr:
          kind: let
          id: 6655
          opdef:
            id: 6248
            name: treeRoot
            qualifier: val
            expr:
              kind: app
              id: 6247
              opcode: Rec
              args:
                - kind: str
                  id: 6244
                  value: key_hash
                - kind: name
                  id: 6243
                  name: ROOT_BITS
                - kind: str
                  id: 6246
                  value: version
                - kind: name
                  id: 6245
                  name: new_version
            depth: ~
          expr:
            kind: let
            id: 6654
            opdef:
              id: 6273
              name: existing_keys_with_values
              qualifier: pureval
              expr:
                kind: app
                id: 6272
                opcode: fold
                args:
                  - kind: app
                    id: 6250
                    opcode: keys
                    args:
                      - kind: name
                        id: 6249
                        name: treeForVersion
                  - kind: app
                    id: 6251
                    opcode: Set
                    args: []
                  - kind: lambda
                    id: 6271
                    params:
                      - id: 6252
                        name: acc
                      - id: 6253
                        name: k
                    expr:
                      kind: app
                      id: 6264
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 6258
                          opcode: get
                          args:
                            - kind: app
                              id: 6256
                              opcode: field
                              args:
                                - kind: name
                                  id: 6254
                                  name: tree
                                - kind: str
                                  id: 6255
                                  value: nodes
                            - kind: name
                              id: 6257
                              name: k
                        - kind: str
                          id: 6265
                          value: Leaf
                        - kind: lambda
                          id: 6266
                          params:
                            - id: 6267
                              name: leaf
                          expr:
                            kind: app
                            id: 6262
                            opcode: union
                            args:
                              - kind: name
                                id: 6259
                                name: acc
                              - kind: app
                                id: 6261
                                opcode: Set
                                args:
                                  - kind: name
                                    id: 6260
                                    name: leaf
                        - kind: str
                          id: 6268
                          value: _
                        - kind: lambda
                          id: 6269
                          params:
                            - id: 6270
                              name: _
                          expr:
                            kind: name
                            id: 6263
                            name: acc
              depth: ~
            expr:
              kind: let
              id: 6653
              opdef:
                id: 6290
                name: keys_with_values_without_new
                qualifier: pureval
                expr:
                  kind: app
                  id: 6289
                  opcode: filter
                  args:
                    - kind: name
                      id: 6274
                      name: existing_keys_with_values
                    - kind: lambda
                      id: 6288
                      params:
                        - id: 6275
                          name: x
                      expr:
                        kind: app
                        id: 6287
                        opcode: not
                        args:
                          - kind: app
                            id: 6286
                            opcode: contains
                            args:
                              - kind: app
                                id: 6282
                                opcode: map
                                args:
                                  - kind: name
                                    id: 6276
                                    name: batch
                                  - kind: lambda
                                    id: 6281
                                    params:
                                      - id: 6277
                                        name: op
                                    expr:
                                      kind: app
                                      id: 6280
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 6278
                                          name: op
                                        - kind: str
                                          id: 6279
                                          value: key_hash
                              - kind: app
                                id: 6285
                                opcode: field
                                args:
                                  - kind: name
                                    id: 6283
                                    name: x
                                  - kind: str
                                    id: 6284
                                    value: key_hash
                depth: ~
              expr:
                kind: let
                id: 6652
                opdef:
                  id: 6318
                  name: keys_and_values_and_op
                  qualifier: val
                  expr:
                    kind: app
                    id: 6317
                    opcode: fold
                    args:
                      - kind: name
                        id: 6291
                        name: batch
                      - kind: name
                        id: 6292
                        name: keys_with_values_without_new
                      - kind: lambda
                        id: 6316
                        params:
                          - id: 6293
                            name: kv_set
                          - id: 6294
                            name: op
                        expr:
                          kind: app
                          id: 6309
                          opcode: matchVariant
                          args:
                            - kind: app
                              id: 6297
                              opcode: field
                              args:
                                - kind: name
                                  id: 6295
                                  name: op
                                - kind: str
                                  id: 6296
                                  value: op
                            - kind: str
                              id: 6310
                              value: Insert
                            - kind: lambda
                              id: 6311
                              params:
                                - id: 6312
                                  name: value_hash
                              expr:
                                kind: app
                                id: 6307
                                opcode: union
                                args:
                                  - kind: name
                                    id: 6298
                                    name: kv_set
                                  - kind: app
                                    id: 6306
                                    opcode: Set
                                    args:
                                      - kind: app
                                        id: 6305
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 6302
                                            value: key_hash
                                          - kind: app
                                            id: 6301
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 6299
                                                name: op
                                              - kind: str
                                                id: 6300
                                                value: key_hash
                                          - kind: str
                                            id: 6304
                                            value: value_hash
                                          - kind: name
                                            id: 6303
                                            name: value_hash
                            - kind: str
                              id: 6313
                              value: Delete
                            - kind: lambda
                              id: 6314
                              params:
                                - id: 6315
                                  name: _
                              expr:
                                kind: name
                                id: 6308
                                name: kv_set
                  depth: ~
                expr:
                  kind: let
                  id: 6651
                  opdef:
                    id: 6590
                    name: result
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 6589
                      opcode: foldr
                      args:
                        - kind: app
                          id: 6321
                          opcode: range
                          args:
                            - kind: int
                              id: 6319
                              value: 0
                            - kind: name
                              id: 6320
                              name: MAX_HASH_LENGTH
                        - kind: app
                          id: 6335
                          opcode: Tup
                          args:
                            - kind: app
                              id: 6322
                              opcode: Set
                              args: []
                            - kind: app
                              id: 6334
                              opcode: map
                              args:
                                - kind: name
                                  id: 6323
                                  name: keys_and_values_and_op
                                - kind: lambda
                                  id: 6333
                                  params:
                                    - id: 6324
                                      name: kv
                                  expr:
                                    kind: app
                                    id: 6332
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6328
                                        value: key_hash
                                      - kind: app
                                        id: 6327
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 6325
                                            name: kv
                                          - kind: str
                                            id: 6326
                                            value: key_hash
                                      - kind: str
                                        id: 6331
                                        value: node
                                      - kind: app
                                        id: 6330
                                        opcode: Leaf
                                        args:
                                          - kind: name
                                            id: 6329
                                            name: kv
                        - kind: lambda
                          id: 6588
                          params:
                            - id: 6336
                              name: i
                            - id: 6337
                              name: acc
                          expr:
                            kind: let
                            id: 6587
                            opdef:
                              id: 6350
                              name: prefixes_of_length_i
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 6349
                                opcode: map
                                args:
                                  - kind: app
                                    id: 6340
                                    opcode: item
                                    args:
                                      - kind: name
                                        id: 6338
                                        name: acc
                                      - kind: int
                                        id: 6339
                                        value: 2
                                  - kind: lambda
                                    id: 6348
                                    params:
                                      - id: 6341
                                        name: kv
                                    expr:
                                      kind: app
                                      id: 6347
                                      opcode: slice
                                      args:
                                        - kind: app
                                          id: 6344
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 6342
                                              name: kv
                                            - kind: str
                                              id: 6343
                                              value: key_hash
                                        - kind: int
                                          id: 6345
                                          value: 0
                                        - kind: name
                                          id: 6346
                                          name: i
                              depth: ~
                            expr:
                              kind: app
                              id: 6586
                              opcode: fold
                              args:
                                - kind: name
                                  id: 6351
                                  name: prefixes_of_length_i
                                - kind: name
                                  id: 6352
                                  name: acc
                                - kind: lambda
                                  id: 6585
                                  params:
                                    - id: 6353
                                      name: acc
                                    - id: 6354
                                      name: prefix
                                  expr:
                                    kind: let
                                    id: 6584
                                    opdef:
                                      id: 6368
                                      name: left
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 6367
                                        opcode: find
                                        args:
                                          - kind: app
                                            id: 6357
                                            opcode: item
                                            args:
                                              - kind: name
                                                id: 6355
                                                name: acc
                                              - kind: int
                                                id: 6356
                                                value: 2
                                          - kind: lambda
                                            id: 6366
                                            params:
                                              - id: 6358
                                                name: k
                                            expr:
                                              kind: app
                                              id: 6365
                                              opcode: eq
                                              args:
                                                - kind: app
                                                  id: 6361
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6359
                                                      name: k
                                                    - kind: str
                                                      id: 6360
                                                      value: key_hash
                                                - kind: app
                                                  id: 6364
                                                  opcode: append
                                                  args:
                                                    - kind: name
                                                      id: 6362
                                                      name: prefix
                                                    - kind: int
                                                      id: 6363
                                                      value: 0
                                      depth: ~
                                    expr:
                                      kind: let
                                      id: 6583
                                      opdef:
                                        id: 6382
                                        name: right
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 6381
                                          opcode: find
                                          args:
                                            - kind: app
                                              id: 6371
                                              opcode: item
                                              args:
                                                - kind: name
                                                  id: 6369
                                                  name: acc
                                                - kind: int
                                                  id: 6370
                                                  value: 2
                                            - kind: lambda
                                              id: 6380
                                              params:
                                                - id: 6372
                                                  name: k
                                              expr:
                                                kind: app
                                                id: 6379
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 6375
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 6373
                                                        name: k
                                                      - kind: str
                                                        id: 6374
                                                        value: key_hash
                                                  - kind: app
                                                    id: 6378
                                                    opcode: append
                                                    args:
                                                      - kind: name
                                                        id: 6376
                                                        name: prefix
                                                      - kind: int
                                                        id: 6377
                                                        value: 1
                                        depth: ~
                                      expr:
                                        kind: let
                                        id: 6582
                                        opdef:
                                          id: 6404
                                          name: popped_queue
                                          qualifier: pureval
                                          expr:
                                            kind: app
                                            id: 6403
                                            opcode: filter
                                            args:
                                              - kind: app
                                                id: 6385
                                                opcode: item
                                                args:
                                                  - kind: name
                                                    id: 6383
                                                    name: acc
                                                  - kind: int
                                                    id: 6384
                                                    value: 2
                                              - kind: lambda
                                                id: 6402
                                                params:
                                                  - id: 6386
                                                    name: k
                                                expr:
                                                  kind: app
                                                  id: 6401
                                                  opcode: and
                                                  args:
                                                    - kind: app
                                                      id: 6393
                                                      opcode: neq
                                                      args:
                                                        - kind: app
                                                          id: 6389
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6387
                                                              name: k
                                                            - kind: str
                                                              id: 6388
                                                              value: key_hash
                                                        - kind: app
                                                          id: 6392
                                                          opcode: append
                                                          args:
                                                            - kind: name
                                                              id: 6390
                                                              name: prefix
                                                            - kind: int
                                                              id: 6391
                                                              value: 0
                                                    - kind: app
                                                      id: 6400
                                                      opcode: neq
                                                      args:
                                                        - kind: app
                                                          id: 6396
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 6394
                                                              name: k
                                                            - kind: str
                                                              id: 6395
                                                              value: key_hash
                                                        - kind: app
                                                          id: 6399
                                                          opcode: append
                                                          args:
                                                            - kind: name
                                                              id: 6397
                                                              name: prefix
                                                            - kind: int
                                                              id: 6398
                                                              value: 1
                                          depth: ~
                                        expr:
                                          kind: let
                                          id: 6581
                                          opdef:
                                            id: 6408
                                            name: unpopped_queue
                                            qualifier: pureval
                                            expr:
                                              kind: app
                                              id: 6407
                                              opcode: item
                                              args:
                                                - kind: name
                                                  id: 6405
                                                  name: acc
                                                - kind: int
                                                  id: 6406
                                                  value: 2
                                            depth: ~
                                          expr:
                                            kind: let
                                            id: 6580
                                            opdef:
                                              id: 6572
                                              name: queue_2
                                              qualifier: pureval
                                              expr:
                                                kind: app
                                                id: 6571
                                                opcode: ite
                                                args:
                                                  - kind: app
                                                    id: 6415
                                                    opcode: and
                                                    args:
                                                      - kind: app
                                                        id: 6411
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6409
                                                            name: left
                                                          - kind: name
                                                            id: 6410
                                                            name: None
                                                      - kind: app
                                                        id: 6414
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6412
                                                            name: right
                                                          - kind: name
                                                            id: 6413
                                                            name: None
                                                  - kind: let
                                                    id: 6449
                                                    opdef:
                                                      id: 6440
                                                      name: internal_node
                                                      qualifier: pureval
                                                      expr:
                                                        kind: app
                                                        id: 6439
                                                        opcode: Internal
                                                        args:
                                                          - kind: app
                                                            id: 6438
                                                            opcode: Rec
                                                            args:
                                                              - kind: str
                                                                id: 6426
                                                                value: left_child
                                                              - kind: app
                                                                id: 6425
                                                                opcode: Some
                                                                args:
                                                                  - kind: app
                                                                    id: 6424
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 6417
                                                                        value: version
                                                                      - kind: name
                                                                        id: 6416
                                                                        name: new_version
                                                                      - kind: str
                                                                        id: 6423
                                                                        value: hash
                                                                      - kind: app
                                                                        id: 6422
                                                                        opcode: hash
                                                                        args:
                                                                          - kind: app
                                                                            id: 6421
                                                                            opcode: field
                                                                            args:
                                                                              - kind: app
                                                                                id: 6419
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 6418
                                                                                    name: left
                                                                              - kind: str
                                                                                id: 6420
                                                                                value: node
                                                              - kind: str
                                                                id: 6437
                                                                value: right_child
                                                              - kind: app
                                                                id: 6436
                                                                opcode: Some
                                                                args:
                                                                  - kind: app
                                                                    id: 6435
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 6428
                                                                        value: version
                                                                      - kind: name
                                                                        id: 6427
                                                                        name: new_version
                                                                      - kind: str
                                                                        id: 6434
                                                                        value: hash
                                                                      - kind: app
                                                                        id: 6433
                                                                        opcode: hash
                                                                        args:
                                                                          - kind: app
                                                                            id: 6432
                                                                            opcode: field
                                                                            args:
                                                                              - kind: app
                                                                                id: 6430
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 6429
                                                                                    name: right
                                                                              - kind: str
                                                                                id: 6431
                                                                                value: node
                                                      depth: ~
                                                    expr:
                                                      kind: app
                                                      id: 6448
                                                      opcode: union
                                                      args:
                                                        - kind: name
                                                          id: 6441
                                                          name: unpopped_queue
                                                        - kind: app
                                                          id: 6447
                                                          opcode: Set
                                                          args:
                                                            - kind: app
                                                              id: 6446
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 6443
                                                                  value: key_hash
                                                                - kind: name
                                                                  id: 6442
                                                                  name: prefix
                                                                - kind: str
                                                                  id: 6445
                                                                  value: node
                                                                - kind: name
                                                                  id: 6444
                                                                  name: internal_node
                                                  - kind: app
                                                    id: 6570
                                                    opcode: ite
                                                    args:
                                                      - kind: app
                                                        id: 6452
                                                        opcode: neq
                                                        args:
                                                          - kind: name
                                                            id: 6450
                                                            name: left
                                                          - kind: name
                                                            id: 6451
                                                            name: None
                                                      - kind: app
                                                        id: 6493
                                                        opcode: matchVariant
                                                        args:
                                                          - kind: app
                                                            id: 6456
                                                            opcode: field
                                                            args:
                                                              - kind: app
                                                                id: 6454
                                                                opcode: unwrap
                                                                args:
                                                                  - kind: name
                                                                    id: 6453
                                                                    name: left
                                                              - kind: str
                                                                id: 6455
                                                                value: node
                                                          - kind: str
                                                            id: 6494
                                                            value: Internal
                                                          - kind: lambda
                                                            id: 6495
                                                            params:
                                                              - id: 6496
                                                                name: _
                                                            expr:
                                                              kind: let
                                                              id: 6481
                                                              opdef:
                                                                id: 6472
                                                                name: internal_node
                                                                qualifier: pureval
                                                                expr:
                                                                  kind: app
                                                                  id: 6471
                                                                  opcode: Internal
                                                                  args:
                                                                    - kind: app
                                                                      id: 6470
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 6467
                                                                          value: left_child
                                                                        - kind: app
                                                                          id: 6466
                                                                          opcode: Some
                                                                          args:
                                                                            - kind: app
                                                                              id: 6465
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 6458
                                                                                  value: version
                                                                                - kind: name
                                                                                  id: 6457
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 6464
                                                                                  value: hash
                                                                                - kind: app
                                                                                  id: 6463
                                                                                  opcode: hash
                                                                                  args:
                                                                                    - kind: app
                                                                                      id: 6462
                                                                                      opcode: field
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 6460
                                                                                          opcode: unwrap
                                                                                          args:
                                                                                            - kind: name
                                                                                              id: 6459
                                                                                              name: left
                                                                                        - kind: str
                                                                                          id: 6461
                                                                                          value: node
                                                                        - kind: str
                                                                          id: 6469
                                                                          value: right_child
                                                                        - kind: name
                                                                          id: 6468
                                                                          name: None
                                                                depth: ~
                                                              expr:
                                                                kind: app
                                                                id: 6480
                                                                opcode: union
                                                                args:
                                                                  - kind: name
                                                                    id: 6473
                                                                    name: unpopped_queue
                                                                  - kind: app
                                                                    id: 6479
                                                                    opcode: Set
                                                                    args:
                                                                      - kind: app
                                                                        id: 6478
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 6475
                                                                            value: key_hash
                                                                          - kind: name
                                                                            id: 6474
                                                                            name: prefix
                                                                          - kind: str
                                                                            id: 6477
                                                                            value: node
                                                                          - kind: name
                                                                            id: 6476
                                                                            name: internal_node
                                                          - kind: str
                                                            id: 6497
                                                            value: Leaf
                                                          - kind: lambda
                                                            id: 6498
                                                            params:
                                                              - id: 6499
                                                                name: leaf
                                                            expr:
                                                              kind: app
                                                              id: 6492
                                                              opcode: union
                                                              args:
                                                                - kind: name
                                                                  id: 6482
                                                                  name: popped_queue
                                                                - kind: app
                                                                  id: 6491
                                                                  opcode: Set
                                                                  args:
                                                                    - kind: app
                                                                      id: 6490
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 6484
                                                                          value: key_hash
                                                                        - kind: name
                                                                          id: 6483
                                                                          name: prefix
                                                                        - kind: str
                                                                          id: 6489
                                                                          value: node
                                                                        - kind: app
                                                                          id: 6488
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 6486
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6485
                                                                                  name: left
                                                                            - kind: str
                                                                              id: 6487
                                                                              value: node
                                                      - kind: app
                                                        id: 6569
                                                        opcode: ite
                                                        args:
                                                          - kind: app
                                                            id: 6502
                                                            opcode: neq
                                                            args:
                                                              - kind: name
                                                                id: 6500
                                                                name: right
                                                              - kind: name
                                                                id: 6501
                                                                name: None
                                                          - kind: app
                                                            id: 6543
                                                            opcode: matchVariant
                                                            args:
                                                              - kind: app
                                                                id: 6506
                                                                opcode: field
                                                                args:
                                                                  - kind: app
                                                                    id: 6504
                                                                    opcode: unwrap
                                                                    args:
                                                                      - kind: name
                                                                        id: 6503
                                                                        name: right
                                                                  - kind: str
                                                                    id: 6505
                                                                    value: node
                                                              - kind: str
                                                                id: 6544
                                                                value: Internal
                                                              - kind: lambda
                                                                id: 6545
                                                                params:
                                                                  - id: 6546
                                                                    name: _
                                                                expr:
                                                                  kind: let
                                                                  id: 6531
                                                                  opdef:
                                                                    id: 6522
                                                                    name: internal_node
                                                                    qualifier: pureval
                                                                    expr:
                                                                      kind: app
                                                                      id: 6521
                                                                      opcode: Internal
                                                                      args:
                                                                        - kind: app
                                                                          id: 6520
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6508
                                                                              value: left_child
                                                                            - kind: name
                                                                              id: 6507
                                                                              name: None
                                                                            - kind: str
                                                                              id: 6519
                                                                              value: right_child
                                                                            - kind: app
                                                                              id: 6518
                                                                              opcode: Some
                                                                              args:
                                                                                - kind: app
                                                                                  id: 6517
                                                                                  opcode: Rec
                                                                                  args:
                                                                                    - kind: str
                                                                                      id: 6510
                                                                                      value: version
                                                                                    - kind: name
                                                                                      id: 6509
                                                                                      name: new_version
                                                                                    - kind: str
                                                                                      id: 6516
                                                                                      value: hash
                                                                                    - kind: app
                                                                                      id: 6515
                                                                                      opcode: hash
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 6514
                                                                                          opcode: field
                                                                                          args:
                                                                                            - kind: app
                                                                                              id: 6512
                                                                                              opcode: unwrap
                                                                                              args:
                                                                                                - kind: name
                                                                                                  id: 6511
                                                                                                  name: right
                                                                                            - kind: str
                                                                                              id: 6513
                                                                                              value: node
                                                                    depth: ~
                                                                  expr:
                                                                    kind: app
                                                                    id: 6530
                                                                    opcode: union
                                                                    args:
                                                                      - kind: name
                                                                        id: 6523
                                                                        name: unpopped_queue
                                                                      - kind: app
                                                                        id: 6529
                                                                        opcode: Set
                                                                        args:
                                                                          - kind: app
                                                                            id: 6528
                                                                            opcode: Rec
                                                                            args:
                                                                              - kind: str
                                                                                id: 6525
                                                                                value: key_hash
                                                                              - kind: name
                                                                                id: 6524
                                                                                name: prefix
                                                                              - kind: str
                                                                                id: 6527
                                                                                value: node
                                                                              - kind: name
                                                                                id: 6526
                                                                                name: internal_node
                                                              - kind: str
                                                                id: 6547
                                                                value: Leaf
                                                              - kind: lambda
                                                                id: 6548
                                                                params:
                                                                  - id: 6549
                                                                    name: leaf
                                                                expr:
                                                                  kind: app
                                                                  id: 6542
                                                                  opcode: union
                                                                  args:
                                                                    - kind: name
                                                                      id: 6532
                                                                      name: popped_queue
                                                                    - kind: app
                                                                      id: 6541
                                                                      opcode: Set
                                                                      args:
                                                                        - kind: app
                                                                          id: 6540
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6534
                                                                              value: key_hash
                                                                            - kind: name
                                                                              id: 6533
                                                                              name: prefix
                                                                            - kind: str
                                                                              id: 6539
                                                                              value: node
                                                                            - kind: app
                                                                              id: 6538
                                                                              opcode: field
                                                                              args:
                                                                                - kind: app
                                                                                  id: 6536
                                                                                  opcode: unwrap
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 6535
                                                                                      name: right
                                                                                - kind: str
                                                                                  id: 6537
                                                                                  value: node
                                                          - kind: app
                                                            id: 6568
                                                            opcode: ite
                                                            args:
                                                              - kind: app
                                                                id: 6552
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 6550
                                                                    name: i
                                                                  - kind: int
                                                                    id: 6551
                                                                    value: 0
                                                              - kind: let
                                                                id: 6566
                                                                opdef:
                                                                  id: 6555
                                                                  name: root
                                                                  qualifier: pureval
                                                                  expr:
                                                                    kind: app
                                                                    id: 6554
                                                                    opcode: getOnlyElement
                                                                    args:
                                                                      - kind: name
                                                                        id: 6553
                                                                        name: popped_queue
                                                                  depth: ~
                                                                expr:
                                                                  kind: app
                                                                  id: 6565
                                                                  opcode: union
                                                                  args:
                                                                    - kind: name
                                                                      id: 6556
                                                                      name: unpopped_queue
                                                                    - kind: app
                                                                      id: 6564
                                                                      opcode: Set
                                                                      args:
                                                                        - kind: app
                                                                          id: 6563
                                                                          opcode: Rec
                                                                          args:
                                                                            - kind: str
                                                                              id: 6558
                                                                              value: key_hash
                                                                            - kind: name
                                                                              id: 6557
                                                                              name: prefix
                                                                            - kind: str
                                                                              id: 6562
                                                                              value: node
                                                                            - kind: app
                                                                              id: 6561
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 6559
                                                                                  name: root
                                                                                - kind: str
                                                                                  id: 6560
                                                                                  value: node
                                                              - kind: name
                                                                id: 6567
                                                                name: unpopped_queue
                                              depth: ~
                                            expr:
                                              kind: app
                                              id: 6579
                                              opcode: Tup
                                              args:
                                                - kind: app
                                                  id: 6577
                                                  opcode: union
                                                  args:
                                                    - kind: app
                                                      id: 6575
                                                      opcode: item
                                                      args:
                                                        - kind: name
                                                          id: 6573
                                                          name: acc
                                                        - kind: int
                                                          id: 6574
                                                          value: 1
                                                    - kind: name
                                                      id: 6576
                                                      name: queue_2
                                                - kind: name
                                                  id: 6578
                                                  name: queue_2
                    depth: ~
                  expr:
                    kind: let
                    id: 6650
                    opdef:
                      id: 6633
                      name: nodes
                      qualifier: val
                      expr:
                        kind: app
                        id: 6632
                        opcode: updateChildVersions
                        args:
                          - kind: app
                            id: 6627
                            opcode: removeDuplicateEntries
                            args:
                              - kind: app
                                id: 6622
                                opcode: fold
                                args:
                                  - kind: app
                                    id: 6607
                                    opcode: map
                                    args:
                                      - kind: app
                                        id: 6593
                                        opcode: item
                                        args:
                                          - kind: name
                                            id: 6591
                                            name: result
                                          - kind: int
                                            id: 6592
                                            value: 2
                                      - kind: lambda
                                        id: 6606
                                        params:
                                          - id: 6594
                                            name: kv
                                        expr:
                                          kind: app
                                          id: 6605
                                          opcode: Tup
                                          args:
                                            - kind: app
                                              id: 6601
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 6596
                                                  value: version
                                                - kind: name
                                                  id: 6595
                                                  name: new_version
                                                - kind: str
                                                  id: 6600
                                                  value: key_hash
                                                - kind: app
                                                  id: 6599
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 6597
                                                      name: kv
                                                    - kind: str
                                                      id: 6598
                                                      value: key_hash
                                            - kind: app
                                              id: 6604
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 6602
                                                  name: kv
                                                - kind: str
                                                  id: 6603
                                                  value: node
                                  - kind: app
                                    id: 6610
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6608
                                        name: tree
                                      - kind: str
                                        id: 6609
                                        value: nodes
                                  - kind: lambda
                                    id: 6621
                                    params:
                                      - id: 6611
                                        name: nodes
                                      - id: 6612
                                        name: kv
                                    expr:
                                      kind: app
                                      id: 6620
                                      opcode: put
                                      args:
                                        - kind: name
                                          id: 6613
                                          name: nodes
                                        - kind: app
                                          id: 6616
                                          opcode: item
                                          args:
                                            - kind: name
                                              id: 6614
                                              name: kv
                                            - kind: int
                                              id: 6615
                                              value: 1
                                        - kind: app
                                          id: 6619
                                          opcode: item
                                          args:
                                            - kind: name
                                              id: 6617
                                              name: kv
                                            - kind: int
                                              id: 6618
                                              value: 2
                              - kind: app
                                id: 6625
                                opcode: treeAtVersion
                                args:
                                  - kind: name
                                    id: 6623
                                    name: tree
                                  - kind: name
                                    id: 6624
                                    name: old_version
                              - kind: name
                                id: 6626
                                name: new_version
                          - kind: app
                            id: 6630
                            opcode: treeAtVersion
                            args:
                              - kind: name
                                id: 6628
                                name: tree
                              - kind: name
                                id: 6629
                                name: old_version
                          - kind: name
                            id: 6631
                            name: new_version
                      depth: ~
                    expr:
                      kind: let
                      id: 6649
                      opdef:
                        id: 6643
                        name: orphans
                        qualifier: val
                        expr:
                          kind: app
                          id: 6642
                          opcode: extractOrphansFromNewVersion
                          args:
                            - kind: name
                              id: 6634
                              name: tree
                            - kind: app
                              id: 6639
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6636
                                  value: nodes
                                - kind: name
                                  id: 6635
                                  name: nodes
                                - kind: str
                                  id: 6638
                                  value: orphans
                                - kind: app
                                  id: 6637
                                  opcode: Set
                                  args: []
                            - kind: name
                              id: 6640
                              name: old_version
                            - kind: name
                              id: 6641
                              name: new_version
                        depth: ~
                      expr:
                        kind: app
                        id: 6648
                        opcode: Rec
                        args:
                          - kind: str
                            id: 6645
                            value: nodes
                          - kind: name
                            id: 6644
                            name: nodes
                          - kind: str
                            id: 6647
                            value: orphans
                          - kind: name
                            id: 6646
                            name: orphans
    depth: 0
  6667:
    kind: typedef
    id: 3919
  6668:
    kind: typedef
    id: 3269
  6670:
    kind: typedef
    id: 3264
  6671:
    kind: typedef
    id: 3900
  6676:
    kind: typedef
    id: 3260
  6677:
    kind: typedef
    id: 3260
  6678:
    kind: typedef
    id: 3258
  6679:
    kind: typedef
    id: 3251
  6682:
    kind: typedef
    id: 6675
  6685:
    kind: typedef
    id: 3278
  6687:
    kind: typedef
    id: 3264
  6689:
    id: 6686
    name: tree
  6695:
    id: 6693
    name: a
  6699:
    id: 6694
    name: b
  6703:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  6705:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  6707:
    kind: def
    id: 6707
    name: sorted_nodes
    qualifier: puredef
    expr:
      kind: lambda
      id: 6706
      params:
        - id: 6686
          name: tree
      expr:
        kind: app
        id: 6705
        opcode: toList
        args:
          - kind: app
            id: 6692
            opcode: keys
            args:
              - kind: app
                id: 6691
                opcode: field
                args:
                  - kind: name
                    id: 6689
                    name: tree
                  - kind: str
                    id: 6690
                    value: nodes
          - kind: lambda
            id: 6704
            params:
              - id: 6693
                name: a
              - id: 6694
                name: b
            expr:
              kind: app
              id: 6703
              opcode: intCompare
              args:
                - kind: app
                  id: 6698
                  opcode: length
                  args:
                    - kind: app
                      id: 6697
                      opcode: field
                      args:
                        - kind: name
                          id: 6695
                          name: a
                        - kind: str
                          id: 6696
                          value: key_hash
                - kind: app
                  id: 6702
                  opcode: length
                  args:
                    - kind: app
                      id: 6701
                      opcode: field
                      args:
                        - kind: name
                          id: 6699
                          name: b
                        - kind: str
                          id: 6700
                          value: key_hash
    depth: 0
  6708:
    kind: typedef
    id: 3278
  6710:
    kind: typedef
    id: 3260
  6712:
    kind: typedef
    id: 3251
  6715:
    kind: typedef
    id: 6684
  6717:
    id: 6711
    name: new_version
  6722:
    id: 6709
    name: tree
  6723:
    kind: def
    id: 6707
    name: sorted_nodes
    qualifier: puredef
    expr:
      kind: lambda
      id: 6706
      params:
        - id: 6686
          name: tree
      expr:
        kind: app
        id: 6705
        opcode: toList
        args:
          - kind: app
            id: 6692
            opcode: keys
            args:
              - kind: app
                id: 6691
                opcode: field
                args:
                  - kind: name
                    id: 6689
                    name: tree
                  - kind: str
                    id: 6690
                    value: nodes
          - kind: lambda
            id: 6704
            params:
              - id: 6693
                name: a
              - id: 6694
                name: b
            expr:
              kind: app
              id: 6703
              opcode: intCompare
              args:
                - kind: app
                  id: 6698
                  opcode: length
                  args:
                    - kind: app
                      id: 6697
                      opcode: field
                      args:
                        - kind: name
                          id: 6695
                          name: a
                        - kind: str
                          id: 6696
                          value: key_hash
                - kind: app
                  id: 6702
                  opcode: length
                  args:
                    - kind: app
                      id: 6701
                      opcode: field
                      args:
                        - kind: name
                          id: 6699
                          name: b
                        - kind: str
                          id: 6700
                          value: key_hash
    depth: 0
  6724:
    id: 6720
    name: memo
  6727:
    id: 6725
    name: node_id
  6730:
    kind: def
    id: 6730
    name: bits
    qualifier: pureval
    expr:
      kind: app
      id: 6729
      opcode: field
      args:
        - kind: name
          id: 6727
          name: node_id
        - kind: str
          id: 6728
          value: key_hash
    depth: 5
  6731:
    id: 6714
    name: batch
  6733:
    kind: def
    id: 6730
    name: bits
    qualifier: pureval
    expr:
      kind: app
      id: 6729
      opcode: field
      args:
        - kind: name
          id: 6727
          name: node_id
        - kind: str
          id: 6728
          value: key_hash
    depth: 5
  6734:
    id: 6732
    name: o
  6737:
    kind: def
    id: 4267
    name: prefix_of
    qualifier: puredef
    expr:
      kind: lambda
      id: 4266
      params:
        - id: 4243
          name: l1
        - id: 4246
          name: l2
      expr:
        kind: app
        id: 4265
        opcode: and
        args:
          - kind: app
            id: 4252
            opcode: ilte
            args:
              - kind: app
                id: 4249
                opcode: length
                args:
                  - kind: name
                    id: 4248
                    name: l1
              - kind: app
                id: 4251
                opcode: length
                args:
                  - kind: name
                    id: 4250
                    name: l2
          - kind: app
            id: 4264
            opcode: forall
            args:
              - kind: app
                id: 4254
                opcode: indices
                args:
                  - kind: name
                    id: 4253
                    name: l1
              - kind: lambda
                id: 4263
                params:
                  - id: 4255
                    name: i
                expr:
                  kind: app
                  id: 4262
                  opcode: eq
                  args:
                    - kind: app
                      id: 4258
                      opcode: nth
                      args:
                        - kind: name
                          id: 4256
                          name: l1
                        - kind: name
                          id: 4257
                          name: i
                    - kind: app
                      id: 4261
                      opcode: nth
                      args:
                        - kind: name
                          id: 4259
                          name: l2
                        - kind: name
                          id: 4260
                          name: i
    depth: 0
  6740:
    kind: def
    id: 6740
    name: batch_here
    qualifier: pureval
    expr:
      kind: app
      id: 6739
      opcode: filter
      args:
        - kind: name
          id: 6731
          name: batch
        - kind: lambda
          id: 6738
          params:
            - id: 6732
              name: o
          expr:
            kind: app
            id: 6737
            opcode: prefix_of
            args:
              - kind: name
                id: 6733
                name: bits
              - kind: app
                id: 6736
                opcode: field
                args:
                  - kind: name
                    id: 6734
                    name: o
                  - kind: str
                    id: 6735
                    value: key_hash
    depth: 6
  6741:
    id: 6711
    name: new_version
  6742:
    id: 6721
    name: old_version
  6743:
    kind: def
    id: 6730
    name: bits
    qualifier: pureval
    expr:
      kind: app
      id: 6729
      opcode: field
      args:
        - kind: name
          id: 6727
          name: node_id
        - kind: str
          id: 6728
          value: key_hash
    depth: 5
  6744:
    kind: def
    id: 6740
    name: batch_here
    qualifier: pureval
    expr:
      kind: app
      id: 6739
      opcode: filter
      args:
        - kind: name
          id: 6731
          name: batch
        - kind: lambda
          id: 6738
          params:
            - id: 6732
              name: o
          expr:
            kind: app
            id: 6737
            opcode: prefix_of
            args:
              - kind: name
                id: 6733
                name: bits
              - kind: app
                id: 6736
                opcode: field
                args:
                  - kind: name
                    id: 6734
                    name: o
                  - kind: str
                    id: 6735
                    value: key_hash
    depth: 6
  6746:
    kind: def
    id: 6746
    name: memo_key
    qualifier: pureval
    expr:
      kind: app
      id: 6745
      opcode: Tup
      args:
        - kind: name
          id: 6741
          name: new_version
        - kind: name
          id: 6742
          name: old_version
        - kind: name
          id: 6743
          name: bits
        - kind: name
          id: 6744
          name: batch_here
    depth: 7
  6747:
    id: 6709
    name: tree
  6748:
    id: 6726
    name: memo
  6749:
    id: 6711
    name: new_version
  6750:
    id: 6721
    name: old_version
  6751:
    kind: def
    id: 6730
    name: bits
    qualifier: pureval
    expr:
      kind: app
      id: 6729
      opcode: field
      args:
        - kind: name
          id: 6727
          name: node_id
        - kind: str
          id: 6728
          value: key_hash
    depth: 5
  6752:
    kind: def
    id: 6740
    name: batch_here
    qualifier: pureval
    expr:
      kind: app
      id: 6739
      opcode: filter
      args:
        - kind: name
          id: 6731
          name: batch
        - kind: lambda
          id: 6738
          params:
            - id: 6732
              name: o
          expr:
            kind: app
            id: 6737
            opcode: prefix_of
            args:
              - kind: name
                id: 6733
                name: bits
              - kind: app
                id: 6736
                opcode: field
                args:
                  - kind: name
                    id: 6734
                    name: o
                  - kind: str
                    id: 6735
                    value: key_hash
    depth: 6
  6753:
    kind: def
    id: 6947
    name: apply_at
    qualifier: puredef
    expr:
      kind: lambda
      id: 6946
      params:
        - id: 6883
          name: tree
        - id: 6885
          name: memo
        - id: 6887
          name: new_version
        - id: 6889
          name: old_version
        - id: 6891
          name: bits
        - id: 6894
          name: batch
      expr:
        kind: app
        id: 6939
        opcode: matchVariant
        args:
          - kind: app
            id: 6904
            opcode: safeGet
            args:
              - kind: app
                id: 6898
                opcode: field
                args:
                  - kind: name
                    id: 6896
                    name: tree
                  - kind: str
                    id: 6897
                    value: nodes
              - kind: app
                id: 6903
                opcode: Rec
                args:
                  - kind: str
                    id: 6900
                    value: version
                  - kind: name
                    id: 6899
                    name: old_version
                  - kind: str
                    id: 6902
                    value: key_hash
                  - kind: name
                    id: 6901
                    name: bits
          - kind: str
            id: 6940
            value: Some
          - kind: lambda
            id: 6941
            params:
              - id: 6942
                name: node
            expr:
              kind: app
              id: 6919
              opcode: matchVariant
              args:
                - kind: name
                  id: 6905
                  name: node
                - kind: str
                  id: 6920
                  value: Leaf
                - kind: lambda
                  id: 6921
                  params:
                    - id: 6922
                      name: leaf_node
                  expr:
                    kind: app
                    id: 6911
                    opcode: apply_at_leaf
                    args:
                      - kind: name
                        id: 6906
                        name: tree
                      - kind: name
                        id: 6907
                        name: new_version
                      - kind: name
                        id: 6908
                        name: bits
                      - kind: name
                        id: 6909
                        name: leaf_node
                      - kind: name
                        id: 6910
                        name: batch
                - kind: str
                  id: 6923
                  value: Internal
                - kind: lambda
                  id: 6924
                  params:
                    - id: 6925
                      name: internal_node
                  expr:
                    kind: app
                    id: 6918
                    opcode: apply_at_internal
                    args:
                      - kind: name
                        id: 6912
                        name: tree
                      - kind: name
                        id: 6913
                        name: memo
                      - kind: name
                        id: 6914
                        name: new_version
                      - kind: name
                        id: 6915
                        name: bits
                      - kind: name
                        id: 6916
                        name: internal_node
                      - kind: name
                        id: 6917
                        name: batch
          - kind: str
            id: 6943
            value: None
          - kind: lambda
            id: 6944
            params:
              - id: 6945
                name: _
            expr:
              kind: let
              id: 6938
              opdef:
                id: 6929
                name: batchAndOp
                qualifier: pureval
                expr:
                  kind: app
                  id: 6928
                  opcode: prepare_batch_for_subtree
                  args:
                    - kind: name
                      id: 6926
                      name: batch
                    - kind: name
                      id: 6927
                      name: None
                depth: ~
              expr:
                kind: app
                id: 6937
                opcode: create_subtree
                args:
                  - kind: name
                    id: 6930
                    name: tree
                  - kind: name
                    id: 6931
                    name: new_version
                  - kind: name
                    id: 6932
                    name: bits
                  - kind: app
                    id: 6935
                    opcode: item
                    args:
                      - kind: name
                        id: 6933
                        name: batchAndOp
                      - kind: int
                        id: 6934
                        value: 1
                  - kind: name
                    id: 6936
                    name: None
    depth: 0
  6754:
    kind: def
    id: 6754
    name: memo_value
    qualifier: pureval
    expr:
      kind: app
      id: 6753
      opcode: apply_at
      args:
        - kind: name
          id: 6747
          name: tree
        - kind: name
          id: 6748
          name: memo
        - kind: name
          id: 6749
          name: new_version
        - kind: name
          id: 6750
          name: old_version
        - kind: name
          id: 6751
          name: bits
        - kind: name
          id: 6752
          name: batch_here
    depth: 8
  6755:
    id: 6726
    name: memo
  6756:
    kind: def
    id: 6746
    name: memo_key
    qualifier: pureval
    expr:
      kind: app
      id: 6745
      opcode: Tup
      args:
        - kind: name
          id: 6741
          name: new_version
        - kind: name
          id: 6742
          name: old_version
        - kind: name
          id: 6743
          name: bits
        - kind: name
          id: 6744
          name: batch_here
    depth: 7
  6757:
    kind: def
    id: 6754
    name: memo_value
    qualifier: pureval
    expr:
      kind: app
      id: 6753
      opcode: apply_at
      args:
        - kind: name
          id: 6747
          name: tree
        - kind: name
          id: 6748
          name: memo
        - kind: name
          id: 6749
          name: new_version
        - kind: name
          id: 6750
          name: old_version
        - kind: name
          id: 6751
          name: bits
        - kind: name
          id: 6752
          name: batch_here
    depth: 8
  6768:
    kind: def
    id: 6768
    name: pre_compute_apply_at
    qualifier: puredef
    expr:
      kind: lambda
      id: 6767
      params:
        - id: 6709
          name: tree
        - id: 6711
          name: new_version
        - id: 6714
          name: batch
      expr:
        kind: app
        id: 6766
        opcode: foldl
        args:
          - kind: app
            id: 6718
            opcode: range
            args:
              - kind: int
                id: 6716
                value: 0
              - kind: name
                id: 6717
                name: new_version
          - kind: app
            id: 6719
            opcode: Map
            args: []
          - kind: lambda
            id: 6765
            params:
              - id: 6720
                name: memo
              - id: 6721
                name: old_version
            expr:
              kind: app
              id: 6764
              opcode: foldr
              args:
                - kind: app
                  id: 6723
                  opcode: sorted_nodes
                  args:
                    - kind: name
                      id: 6722
                      name: tree
                - kind: name
                  id: 6724
                  name: memo
                - kind: lambda
                  id: 6763
                  params:
                    - id: 6725
                      name: node_id
                    - id: 6726
                      name: memo
                  expr:
                    kind: let
                    id: 6762
                    opdef:
                      id: 6730
                      name: bits
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6729
                        opcode: field
                        args:
                          - kind: name
                            id: 6727
                            name: node_id
                          - kind: str
                            id: 6728
                            value: key_hash
                      depth: ~
                    expr:
                      kind: let
                      id: 6761
                      opdef:
                        id: 6740
                        name: batch_here
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6739
                          opcode: filter
                          args:
                            - kind: name
                              id: 6731
                              name: batch
                            - kind: lambda
                              id: 6738
                              params:
                                - id: 6732
                                  name: o
                              expr:
                                kind: app
                                id: 6737
                                opcode: prefix_of
                                args:
                                  - kind: name
                                    id: 6733
                                    name: bits
                                  - kind: app
                                    id: 6736
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6734
                                        name: o
                                      - kind: str
                                        id: 6735
                                        value: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 6760
                        opdef:
                          id: 6746
                          name: memo_key
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6745
                            opcode: Tup
                            args:
                              - kind: name
                                id: 6741
                                name: new_version
                              - kind: name
                                id: 6742
                                name: old_version
                              - kind: name
                                id: 6743
                                name: bits
                              - kind: name
                                id: 6744
                                name: batch_here
                          depth: ~
                        expr:
                          kind: let
                          id: 6759
                          opdef:
                            id: 6754
                            name: memo_value
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 6753
                              opcode: apply_at
                              args:
                                - kind: name
                                  id: 6747
                                  name: tree
                                - kind: name
                                  id: 6748
                                  name: memo
                                - kind: name
                                  id: 6749
                                  name: new_version
                                - kind: name
                                  id: 6750
                                  name: old_version
                                - kind: name
                                  id: 6751
                                  name: bits
                                - kind: name
                                  id: 6752
                                  name: batch_here
                            depth: ~
                          expr:
                            kind: app
                            id: 6758
                            opcode: put
                            args:
                              - kind: name
                                id: 6755
                                name: memo
                              - kind: name
                                id: 6756
                                name: memo_key
                              - kind: name
                                id: 6757
                                name: memo_value
    depth: 0
  6769:
    kind: typedef
    id: 3278
  6771:
    kind: typedef
    id: 3260
  6773:
    kind: typedef
    id: 3260
  6775:
    kind: typedef
    id: 3251
  6778:
    kind: typedef
    id: 3278
  6779:
    id: 6770
    name: tree
  6782:
    id: 6772
    name: old_version
  6784:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6787:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  6788:
    id: 6770
    name: tree
  6789:
    id: 6774
    name: new_version
  6790:
    id: 6772
    name: old_version
  6791:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6792:
    kind: def
    id: 3310
    name: mark_node_as_orphaned
    qualifier: puredef
    expr:
      kind: lambda
      id: 3309
      params:
        - id: 3283
          name: tree
        - id: 3285
          name: orphaned_since_version
        - id: 3287
          name: version
        - id: 3289
          name: key_hash
      expr:
        kind: let
        id: 3308
        opdef:
          id: 3298
          name: orphan
          qualifier: pureval
          expr:
            kind: app
            id: 3297
            opcode: Rec
            args:
              - kind: str
                id: 3292
                value: orphaned_since_version
              - kind: name
                id: 3291
                name: orphaned_since_version
              - kind: str
                id: 3294
                value: version
              - kind: name
                id: 3293
                name: version
              - kind: str
                id: 3296
                value: key_hash
              - kind: name
                id: 3295
                name: key_hash
          depth: ~
        expr:
          kind: app
          id: 3307
          opcode: with
          args:
            - kind: name
              id: 3299
              name: tree
            - kind: str
              id: 3306
              value: orphans
            - kind: app
              id: 3305
              opcode: union
              args:
                - kind: app
                  id: 3302
                  opcode: field
                  args:
                    - kind: name
                      id: 3300
                      name: tree
                    - kind: str
                      id: 3301
                      value: orphans
                - kind: app
                  id: 3304
                  opcode: Set
                  args:
                    - kind: name
                      id: 3303
                      name: orphan
    depth: 0
  6793:
    id: 6770
    name: tree
  6795:
    kind: def
    id: 6795
    name: tree_1
    qualifier: pureval
    expr:
      kind: app
      id: 6794
      opcode: ite
      args:
        - kind: app
          id: 6787
          opcode: has
          args:
            - kind: app
              id: 6781
              opcode: field
              args:
                - kind: name
                  id: 6779
                  name: tree
                - kind: str
                  id: 6780
                  value: nodes
            - kind: app
              id: 6786
              opcode: Rec
              args:
                - kind: str
                  id: 6783
                  value: version
                - kind: name
                  id: 6782
                  name: old_version
                - kind: str
                  id: 6785
                  value: key_hash
                - kind: name
                  id: 6784
                  name: ROOT_BITS
        - kind: app
          id: 6792
          opcode: mark_node_as_orphaned
          args:
            - kind: name
              id: 6788
              name: tree
            - kind: name
              id: 6789
              name: new_version
            - kind: name
              id: 6790
              name: old_version
            - kind: name
              id: 6791
              name: ROOT_BITS
        - kind: name
          id: 6793
          name: tree
    depth: 3
  6796:
    kind: def
    id: 6795
    name: tree_1
    qualifier: pureval
    expr:
      kind: app
      id: 6794
      opcode: ite
      args:
        - kind: app
          id: 6787
          opcode: has
          args:
            - kind: app
              id: 6781
              opcode: field
              args:
                - kind: name
                  id: 6779
                  name: tree
                - kind: str
                  id: 6780
                  value: nodes
            - kind: app
              id: 6786
              opcode: Rec
              args:
                - kind: str
                  id: 6783
                  value: version
                - kind: name
                  id: 6782
                  name: old_version
                - kind: str
                  id: 6785
                  value: key_hash
                - kind: name
                  id: 6784
                  name: ROOT_BITS
        - kind: app
          id: 6792
          opcode: mark_node_as_orphaned
          args:
            - kind: name
              id: 6788
              name: tree
            - kind: name
              id: 6789
              name: new_version
            - kind: name
              id: 6790
              name: old_version
            - kind: name
              id: 6791
              name: ROOT_BITS
        - kind: name
          id: 6793
          name: tree
    depth: 3
  6797:
    id: 6774
    name: new_version
  6798:
    id: 6777
    name: batch
  6799:
    kind: def
    id: 6768
    name: pre_compute_apply_at
    qualifier: puredef
    expr:
      kind: lambda
      id: 6767
      params:
        - id: 6709
          name: tree
        - id: 6711
          name: new_version
        - id: 6714
          name: batch
      expr:
        kind: app
        id: 6766
        opcode: foldl
        args:
          - kind: app
            id: 6718
            opcode: range
            args:
              - kind: int
                id: 6716
                value: 0
              - kind: name
                id: 6717
                name: new_version
          - kind: app
            id: 6719
            opcode: Map
            args: []
          - kind: lambda
            id: 6765
            params:
              - id: 6720
                name: memo
              - id: 6721
                name: old_version
            expr:
              kind: app
              id: 6764
              opcode: foldr
              args:
                - kind: app
                  id: 6723
                  opcode: sorted_nodes
                  args:
                    - kind: name
                      id: 6722
                      name: tree
                - kind: name
                  id: 6724
                  name: memo
                - kind: lambda
                  id: 6763
                  params:
                    - id: 6725
                      name: node_id
                    - id: 6726
                      name: memo
                  expr:
                    kind: let
                    id: 6762
                    opdef:
                      id: 6730
                      name: bits
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6729
                        opcode: field
                        args:
                          - kind: name
                            id: 6727
                            name: node_id
                          - kind: str
                            id: 6728
                            value: key_hash
                      depth: ~
                    expr:
                      kind: let
                      id: 6761
                      opdef:
                        id: 6740
                        name: batch_here
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 6739
                          opcode: filter
                          args:
                            - kind: name
                              id: 6731
                              name: batch
                            - kind: lambda
                              id: 6738
                              params:
                                - id: 6732
                                  name: o
                              expr:
                                kind: app
                                id: 6737
                                opcode: prefix_of
                                args:
                                  - kind: name
                                    id: 6733
                                    name: bits
                                  - kind: app
                                    id: 6736
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6734
                                        name: o
                                      - kind: str
                                        id: 6735
                                        value: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 6760
                        opdef:
                          id: 6746
                          name: memo_key
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 6745
                            opcode: Tup
                            args:
                              - kind: name
                                id: 6741
                                name: new_version
                              - kind: name
                                id: 6742
                                name: old_version
                              - kind: name
                                id: 6743
                                name: bits
                              - kind: name
                                id: 6744
                                name: batch_here
                          depth: ~
                        expr:
                          kind: let
                          id: 6759
                          opdef:
                            id: 6754
                            name: memo_value
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 6753
                              opcode: apply_at
                              args:
                                - kind: name
                                  id: 6747
                                  name: tree
                                - kind: name
                                  id: 6748
                                  name: memo
                                - kind: name
                                  id: 6749
                                  name: new_version
                                - kind: name
                                  id: 6750
                                  name: old_version
                                - kind: name
                                  id: 6751
                                  name: bits
                                - kind: name
                                  id: 6752
                                  name: batch_here
                            depth: ~
                          expr:
                            kind: app
                            id: 6758
                            opcode: put
                            args:
                              - kind: name
                                id: 6755
                                name: memo
                              - kind: name
                                id: 6756
                                name: memo_key
                              - kind: name
                                id: 6757
                                name: memo_value
    depth: 0
  6800:
    kind: def
    id: 6800
    name: memo
    qualifier: pureval
    expr:
      kind: app
      id: 6799
      opcode: pre_compute_apply_at
      args:
        - kind: name
          id: 6796
          name: tree_1
        - kind: name
          id: 6797
          name: new_version
        - kind: name
          id: 6798
          name: batch
    depth: 4
  6801:
    kind: def
    id: 6795
    name: tree_1
    qualifier: pureval
    expr:
      kind: app
      id: 6794
      opcode: ite
      args:
        - kind: app
          id: 6787
          opcode: has
          args:
            - kind: app
              id: 6781
              opcode: field
              args:
                - kind: name
                  id: 6779
                  name: tree
                - kind: str
                  id: 6780
                  value: nodes
            - kind: app
              id: 6786
              opcode: Rec
              args:
                - kind: str
                  id: 6783
                  value: version
                - kind: name
                  id: 6782
                  name: old_version
                - kind: str
                  id: 6785
                  value: key_hash
                - kind: name
                  id: 6784
                  name: ROOT_BITS
        - kind: app
          id: 6792
          opcode: mark_node_as_orphaned
          args:
            - kind: name
              id: 6788
              name: tree
            - kind: name
              id: 6789
              name: new_version
            - kind: name
              id: 6790
              name: old_version
            - kind: name
              id: 6791
              name: ROOT_BITS
        - kind: name
          id: 6793
          name: tree
    depth: 3
  6802:
    kind: def
    id: 6800
    name: memo
    qualifier: pureval
    expr:
      kind: app
      id: 6799
      opcode: pre_compute_apply_at
      args:
        - kind: name
          id: 6796
          name: tree_1
        - kind: name
          id: 6797
          name: new_version
        - kind: name
          id: 6798
          name: batch
    depth: 4
  6803:
    id: 6774
    name: new_version
  6804:
    id: 6772
    name: old_version
  6805:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6806:
    id: 6777
    name: batch
  6807:
    kind: def
    id: 6947
    name: apply_at
    qualifier: puredef
    expr:
      kind: lambda
      id: 6946
      params:
        - id: 6883
          name: tree
        - id: 6885
          name: memo
        - id: 6887
          name: new_version
        - id: 6889
          name: old_version
        - id: 6891
          name: bits
        - id: 6894
          name: batch
      expr:
        kind: app
        id: 6939
        opcode: matchVariant
        args:
          - kind: app
            id: 6904
            opcode: safeGet
            args:
              - kind: app
                id: 6898
                opcode: field
                args:
                  - kind: name
                    id: 6896
                    name: tree
                  - kind: str
                    id: 6897
                    value: nodes
              - kind: app
                id: 6903
                opcode: Rec
                args:
                  - kind: str
                    id: 6900
                    value: version
                  - kind: name
                    id: 6899
                    name: old_version
                  - kind: str
                    id: 6902
                    value: key_hash
                  - kind: name
                    id: 6901
                    name: bits
          - kind: str
            id: 6940
            value: Some
          - kind: lambda
            id: 6941
            params:
              - id: 6942
                name: node
            expr:
              kind: app
              id: 6919
              opcode: matchVariant
              args:
                - kind: name
                  id: 6905
                  name: node
                - kind: str
                  id: 6920
                  value: Leaf
                - kind: lambda
                  id: 6921
                  params:
                    - id: 6922
                      name: leaf_node
                  expr:
                    kind: app
                    id: 6911
                    opcode: apply_at_leaf
                    args:
                      - kind: name
                        id: 6906
                        name: tree
                      - kind: name
                        id: 6907
                        name: new_version
                      - kind: name
                        id: 6908
                        name: bits
                      - kind: name
                        id: 6909
                        name: leaf_node
                      - kind: name
                        id: 6910
                        name: batch
                - kind: str
                  id: 6923
                  value: Internal
                - kind: lambda
                  id: 6924
                  params:
                    - id: 6925
                      name: internal_node
                  expr:
                    kind: app
                    id: 6918
                    opcode: apply_at_internal
                    args:
                      - kind: name
                        id: 6912
                        name: tree
                      - kind: name
                        id: 6913
                        name: memo
                      - kind: name
                        id: 6914
                        name: new_version
                      - kind: name
                        id: 6915
                        name: bits
                      - kind: name
                        id: 6916
                        name: internal_node
                      - kind: name
                        id: 6917
                        name: batch
          - kind: str
            id: 6943
            value: None
          - kind: lambda
            id: 6944
            params:
              - id: 6945
                name: _
            expr:
              kind: let
              id: 6938
              opdef:
                id: 6929
                name: batchAndOp
                qualifier: pureval
                expr:
                  kind: app
                  id: 6928
                  opcode: prepare_batch_for_subtree
                  args:
                    - kind: name
                      id: 6926
                      name: batch
                    - kind: name
                      id: 6927
                      name: None
                depth: ~
              expr:
                kind: app
                id: 6937
                opcode: create_subtree
                args:
                  - kind: name
                    id: 6930
                    name: tree
                  - kind: name
                    id: 6931
                    name: new_version
                  - kind: name
                    id: 6932
                    name: bits
                  - kind: app
                    id: 6935
                    opcode: item
                    args:
                      - kind: name
                        id: 6933
                        name: batchAndOp
                      - kind: int
                        id: 6934
                        value: 1
                  - kind: name
                    id: 6936
                    name: None
    depth: 0
  6808:
    kind: def
    id: 6808
    name: apply_result
    qualifier: pureval
    expr:
      kind: app
      id: 6807
      opcode: apply_at
      args:
        - kind: name
          id: 6801
          name: tree_1
        - kind: name
          id: 6802
          name: memo
        - kind: name
          id: 6803
          name: new_version
        - kind: name
          id: 6804
          name: old_version
        - kind: name
          id: 6805
          name: ROOT_BITS
        - kind: name
          id: 6806
          name: batch
    depth: 5
  6809:
    kind: def
    id: 6795
    name: tree_1
    qualifier: pureval
    expr:
      kind: app
      id: 6794
      opcode: ite
      args:
        - kind: app
          id: 6787
          opcode: has
          args:
            - kind: app
              id: 6781
              opcode: field
              args:
                - kind: name
                  id: 6779
                  name: tree
                - kind: str
                  id: 6780
                  value: nodes
            - kind: app
              id: 6786
              opcode: Rec
              args:
                - kind: str
                  id: 6783
                  value: version
                - kind: name
                  id: 6782
                  name: old_version
                - kind: str
                  id: 6785
                  value: key_hash
                - kind: name
                  id: 6784
                  name: ROOT_BITS
        - kind: app
          id: 6792
          opcode: mark_node_as_orphaned
          args:
            - kind: name
              id: 6788
              name: tree
            - kind: name
              id: 6789
              name: new_version
            - kind: name
              id: 6790
              name: old_version
            - kind: name
              id: 6791
              name: ROOT_BITS
        - kind: name
          id: 6793
          name: tree
    depth: 3
  6812:
    kind: def
    id: 6808
    name: apply_result
    qualifier: pureval
    expr:
      kind: app
      id: 6807
      opcode: apply_at
      args:
        - kind: name
          id: 6801
          name: tree_1
        - kind: name
          id: 6802
          name: memo
        - kind: name
          id: 6803
          name: new_version
        - kind: name
          id: 6804
          name: old_version
        - kind: name
          id: 6805
          name: ROOT_BITS
        - kind: name
          id: 6806
          name: batch
    depth: 5
  6815:
    kind: def
    id: 3849
    name: add_nodes
    qualifier: puredef
    expr:
      kind: lambda
      id: 3848
      params:
        - id: 3825
          name: nodes
        - id: 3830
          name: new_nodes
      expr:
        kind: app
        id: 3847
        opcode: fold
        args:
          - kind: name
            id: 3834
            name: new_nodes
          - kind: name
            id: 3835
            name: nodes
          - kind: lambda
            id: 3846
            params:
              - id: 3836
                name: nodes
              - id: 3837
                name: new_node
            expr:
              kind: app
              id: 3845
              opcode: put
              args:
                - kind: name
                  id: 3838
                  name: nodes
                - kind: app
                  id: 3841
                  opcode: item
                  args:
                    - kind: name
                      id: 3839
                      name: new_node
                    - kind: int
                      id: 3840
                      value: 1
                - kind: app
                  id: 3844
                  opcode: item
                  args:
                    - kind: name
                      id: 3842
                      name: new_node
                    - kind: int
                      id: 3843
                      value: 2
    depth: 0
  6817:
    kind: def
    id: 6795
    name: tree_1
    qualifier: pureval
    expr:
      kind: app
      id: 6794
      opcode: ite
      args:
        - kind: app
          id: 6787
          opcode: has
          args:
            - kind: app
              id: 6781
              opcode: field
              args:
                - kind: name
                  id: 6779
                  name: tree
                - kind: str
                  id: 6780
                  value: nodes
            - kind: app
              id: 6786
              opcode: Rec
              args:
                - kind: str
                  id: 6783
                  value: version
                - kind: name
                  id: 6782
                  name: old_version
                - kind: str
                  id: 6785
                  value: key_hash
                - kind: name
                  id: 6784
                  name: ROOT_BITS
        - kind: app
          id: 6792
          opcode: mark_node_as_orphaned
          args:
            - kind: name
              id: 6788
              name: tree
            - kind: name
              id: 6789
              name: new_version
            - kind: name
              id: 6790
              name: old_version
            - kind: name
              id: 6791
              name: ROOT_BITS
        - kind: name
          id: 6793
          name: tree
    depth: 3
  6820:
    kind: def
    id: 6808
    name: apply_result
    qualifier: pureval
    expr:
      kind: app
      id: 6807
      opcode: apply_at
      args:
        - kind: name
          id: 6801
          name: tree_1
        - kind: name
          id: 6802
          name: memo
        - kind: name
          id: 6803
          name: new_version
        - kind: name
          id: 6804
          name: old_version
        - kind: name
          id: 6805
          name: ROOT_BITS
        - kind: name
          id: 6806
          name: batch
    depth: 5
  6826:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6827:
    kind: def
    id: 6808
    name: apply_result
    qualifier: pureval
    expr:
      kind: app
      id: 6807
      opcode: apply_at
      args:
        - kind: name
          id: 6801
          name: tree_1
        - kind: name
          id: 6802
          name: memo
        - kind: name
          id: 6803
          name: new_version
        - kind: name
          id: 6804
          name: old_version
        - kind: name
          id: 6805
          name: ROOT_BITS
        - kind: name
          id: 6806
          name: batch
    depth: 5
  6830:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6831:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6834:
    id: 6774
    name: new_version
  6836:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6839:
    id: 6869
    name: new_root_node
  6843:
    id: 6872
    name: optional
  6844:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6845:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6848:
    id: 6774
    name: new_version
  6850:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  6853:
    id: 6861
    name: new_root_node
  6857:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6865:
    kind: def
    id: 6826
    name: new_tree
    qualifier: pureval
    expr:
      kind: app
      id: 6825
      opcode: Rec
      args:
        - kind: str
          id: 6816
          value: nodes
        - kind: app
          id: 6815
          opcode: add_nodes
          args:
            - kind: app
              id: 6811
              opcode: field
              args:
                - kind: name
                  id: 6809
                  name: tree_1
                - kind: str
                  id: 6810
                  value: nodes
            - kind: app
              id: 6814
              opcode: field
              args:
                - kind: name
                  id: 6812
                  name: apply_result
                - kind: str
                  id: 6813
                  value: nodes_to_add
        - kind: str
          id: 6824
          value: orphans
        - kind: app
          id: 6823
          opcode: union
          args:
            - kind: app
              id: 6819
              opcode: field
              args:
                - kind: name
                  id: 6817
                  name: tree_1
                - kind: str
                  id: 6818
                  value: orphans
            - kind: app
              id: 6822
              opcode: field
              args:
                - kind: name
                  id: 6820
                  name: apply_result
                - kind: str
                  id: 6821
                  value: orphans_to_add
    depth: 6
  6881:
    kind: def
    id: 6881
    name: apply
    qualifier: puredef
    expr:
      kind: lambda
      id: 6880
      params:
        - id: 6770
          name: tree
        - id: 6772
          name: old_version
        - id: 6774
          name: new_version
        - id: 6777
          name: batch
      expr:
        kind: let
        id: 6879
        opdef:
          id: 6795
          name: tree_1
          qualifier: pureval
          expr:
            kind: app
            id: 6794
            opcode: ite
            args:
              - kind: app
                id: 6787
                opcode: has
                args:
                  - kind: app
                    id: 6781
                    opcode: field
                    args:
                      - kind: name
                        id: 6779
                        name: tree
                      - kind: str
                        id: 6780
                        value: nodes
                  - kind: app
                    id: 6786
                    opcode: Rec
                    args:
                      - kind: str
                        id: 6783
                        value: version
                      - kind: name
                        id: 6782
                        name: old_version
                      - kind: str
                        id: 6785
                        value: key_hash
                      - kind: name
                        id: 6784
                        name: ROOT_BITS
              - kind: app
                id: 6792
                opcode: mark_node_as_orphaned
                args:
                  - kind: name
                    id: 6788
                    name: tree
                  - kind: name
                    id: 6789
                    name: new_version
                  - kind: name
                    id: 6790
                    name: old_version
                  - kind: name
                    id: 6791
                    name: ROOT_BITS
              - kind: name
                id: 6793
                name: tree
          depth: ~
        expr:
          kind: let
          id: 6878
          opdef:
            id: 6800
            name: memo
            qualifier: pureval
            expr:
              kind: app
              id: 6799
              opcode: pre_compute_apply_at
              args:
                - kind: name
                  id: 6796
                  name: tree_1
                - kind: name
                  id: 6797
                  name: new_version
                - kind: name
                  id: 6798
                  name: batch
            depth: ~
          expr:
            kind: let
            id: 6877
            opdef:
              id: 6808
              name: apply_result
              qualifier: pureval
              expr:
                kind: app
                id: 6807
                opcode: apply_at
                args:
                  - kind: name
                    id: 6801
                    name: tree_1
                  - kind: name
                    id: 6802
                    name: memo
                  - kind: name
                    id: 6803
                    name: new_version
                  - kind: name
                    id: 6804
                    name: old_version
                  - kind: name
                    id: 6805
                    name: ROOT_BITS
                  - kind: name
                    id: 6806
                    name: batch
              depth: ~
            expr:
              kind: let
              id: 6876
              opdef:
                id: 6826
                name: new_tree
                qualifier: pureval
                expr:
                  kind: app
                  id: 6825
                  opcode: Rec
                  args:
                    - kind: str
                      id: 6816
                      value: nodes
                    - kind: app
                      id: 6815
                      opcode: add_nodes
                      args:
                        - kind: app
                          id: 6811
                          opcode: field
                          args:
                            - kind: name
                              id: 6809
                              name: tree_1
                            - kind: str
                              id: 6810
                              value: nodes
                        - kind: app
                          id: 6814
                          opcode: field
                          args:
                            - kind: name
                              id: 6812
                              name: apply_result
                            - kind: str
                              id: 6813
                              value: nodes_to_add
                    - kind: str
                      id: 6824
                      value: orphans
                    - kind: app
                      id: 6823
                      opcode: union
                      args:
                        - kind: app
                          id: 6819
                          opcode: field
                          args:
                            - kind: name
                              id: 6817
                              name: tree_1
                            - kind: str
                              id: 6818
                              value: orphans
                        - kind: app
                          id: 6822
                          opcode: field
                          args:
                            - kind: name
                              id: 6820
                              name: apply_result
                            - kind: str
                              id: 6821
                              value: orphans_to_add
                depth: ~
              expr:
                kind: app
                id: 6866
                opcode: matchVariant
                args:
                  - kind: app
                    id: 6829
                    opcode: field
                    args:
                      - kind: name
                        id: 6827
                        name: apply_result
                      - kind: str
                        id: 6828
                        value: outcome
                  - kind: str
                    id: 6867
                    value: Updated
                  - kind: lambda
                    id: 6868
                    params:
                      - id: 6869
                        name: new_root_node
                    expr:
                      kind: app
                      id: 6842
                      opcode: with
                      args:
                        - kind: name
                          id: 6830
                          name: new_tree
                        - kind: str
                          id: 6841
                          value: nodes
                        - kind: app
                          id: 6840
                          opcode: put
                          args:
                            - kind: app
                              id: 6833
                              opcode: field
                              args:
                                - kind: name
                                  id: 6831
                                  name: new_tree
                                - kind: str
                                  id: 6832
                                  value: nodes
                            - kind: app
                              id: 6838
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 6835
                                  value: version
                                - kind: name
                                  id: 6834
                                  name: new_version
                                - kind: str
                                  id: 6837
                                  value: key_hash
                                - kind: name
                                  id: 6836
                                  name: ROOT_BITS
                            - kind: name
                              id: 6839
                              name: new_root_node
                  - kind: str
                    id: 6870
                    value: Unchanged
                  - kind: lambda
                    id: 6871
                    params:
                      - id: 6872
                        name: optional
                    expr:
                      kind: app
                      id: 6858
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 6843
                          name: optional
                        - kind: str
                          id: 6859
                          value: Some
                        - kind: lambda
                          id: 6860
                          params:
                            - id: 6861
                              name: new_root_node
                          expr:
                            kind: app
                            id: 6856
                            opcode: with
                            args:
                              - kind: name
                                id: 6844
                                name: new_tree
                              - kind: str
                                id: 6855
                                value: nodes
                              - kind: app
                                id: 6854
                                opcode: put
                                args:
                                  - kind: app
                                    id: 6847
                                    opcode: field
                                    args:
                                      - kind: name
                                        id: 6845
                                        name: new_tree
                                      - kind: str
                                        id: 6846
                                        value: nodes
                                  - kind: app
                                    id: 6852
                                    opcode: Rec
                                    args:
                                      - kind: str
                                        id: 6849
                                        value: version
                                      - kind: name
                                        id: 6848
                                        name: new_version
                                      - kind: str
                                        id: 6851
                                        value: key_hash
                                      - kind: name
                                        id: 6850
                                        name: ROOT_BITS
                                  - kind: name
                                    id: 6853
                                    name: new_root_node
                        - kind: str
                          id: 6862
                          value: None
                        - kind: lambda
                          id: 6863
                          params:
                            - id: 6864
                              name: _
                          expr:
                            kind: name
                            id: 6857
                            name: new_tree
                  - kind: str
                    id: 6873
                    value: _
                  - kind: lambda
                    id: 6874
                    params:
                      - id: 6875
                        name: _
                    expr:
                      kind: name
                      id: 6865
                      name: new_tree
    depth: 0
  6882:
    kind: typedef
    id: 3278
  6884:
    kind: typedef
    id: 6684
  6886:
    kind: typedef
    id: 3260
  6888:
    kind: typedef
    id: 3260
  6890:
    kind: typedef
    id: 3258
  6892:
    kind: typedef
    id: 3251
  6895:
    kind: typedef
    id: 6675
  6896:
    id: 6883
    name: tree
  6899:
    id: 6889
    name: old_version
  6901:
    id: 6891
    name: bits
  6904:
    kind: def
    id: 4128
    name: safeGet
    qualifier: puredef
    expr:
      kind: lambda
      id: 4127
      params:
        - id: 4112
          name: m
        - id: 4114
          name: k
      expr:
        kind: app
        id: 4126
        opcode: ite
        args:
          - kind: app
            id: 4120
            opcode: has
            args:
              - kind: name
                id: 4118
                name: m
              - kind: name
                id: 4119
                name: k
          - kind: app
            id: 4124
            opcode: Some
            args:
              - kind: app
                id: 4123
                opcode: get
                args:
                  - kind: name
                    id: 4121
                    name: m
                  - kind: name
                    id: 4122
                    name: k
          - kind: name
            id: 4125
            name: None
    depth: 0
  6905:
    id: 6942
    name: node
  6906:
    id: 6883
    name: tree
  6907:
    id: 6887
    name: new_version
  6908:
    id: 6891
    name: bits
  6909:
    id: 6922
    name: leaf_node
  6910:
    id: 6894
    name: batch
  6911:
    kind: def
    id: 7592
    name: apply_at_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 7591
      params:
        - id: 7465
          name: tree
        - id: 7467
          name: new_version
        - id: 7469
          name: bits
        - id: 7471
          name: leaf_node
        - id: 7474
          name: batch
      expr:
        kind: let
        id: 7590
        opdef:
          id: 7480
          name: batchAndOp
          qualifier: pureval
          expr:
            kind: app
            id: 7479
            opcode: prepare_batch_for_subtree
            args:
              - kind: name
                id: 7476
                name: batch
              - kind: app
                id: 7478
                opcode: Some
                args:
                  - kind: name
                    id: 7477
                    name: leaf_node
          depth: ~
        expr:
          kind: let
          id: 7589
          opdef:
            id: 7484
            name: batch
            qualifier: pureval
            expr:
              kind: app
              id: 7483
              opcode: item
              args:
                - kind: name
                  id: 7481
                  name: batchAndOp
                - kind: int
                  id: 7482
                  value: 1
            depth: ~
          expr:
            kind: let
            id: 7588
            opdef:
              id: 7488
              name: operation
              qualifier: pureval
              expr:
                kind: app
                id: 7487
                opcode: item
                args:
                  - kind: name
                    id: 7485
                    name: batchAndOp
                  - kind: int
                    id: 7486
                    value: 2
              depth: ~
            expr:
              kind: app
              id: 7587
              opcode: ite
              args:
                - kind: app
                  id: 7491
                  opcode: eq
                  args:
                    - kind: name
                      id: 7489
                      name: batch
                    - kind: app
                      id: 7490
                      opcode: Set
                      args: []
                - kind: let
                  id: 7542
                  opdef:
                    id: 7534
                    name: outcome
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7527
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 7492
                          name: operation
                        - kind: str
                          id: 7528
                          value: Some
                        - kind: lambda
                          id: 7529
                          params:
                            - id: 7530
                              name: op
                          expr:
                            kind: app
                            id: 7516
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 7495
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7493
                                    name: op
                                  - kind: str
                                    id: 7494
                                    value: op
                              - kind: str
                                id: 7517
                                value: Insert
                              - kind: lambda
                                id: 7518
                                params:
                                  - id: 7519
                                    name: value_hash
                                expr:
                                  kind: app
                                  id: 7514
                                  opcode: ite
                                  args:
                                    - kind: app
                                      id: 7500
                                      opcode: eq
                                      args:
                                        - kind: name
                                          id: 7496
                                          name: value_hash
                                        - kind: app
                                          id: 7499
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 7497
                                              name: leaf_node
                                            - kind: str
                                              id: 7498
                                              value: value_hash
                                    - kind: app
                                      id: 7504
                                      opcode: Unchanged
                                      args:
                                        - kind: app
                                          id: 7503
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 7502
                                              opcode: Leaf
                                              args:
                                                - kind: name
                                                  id: 7501
                                                  name: leaf_node
                                    - kind: let
                                      id: 7513
                                      opdef:
                                        id: 7509
                                        name: updated_leaf_node
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 7508
                                          opcode: with
                                          args:
                                            - kind: name
                                              id: 7505
                                              name: leaf_node
                                            - kind: str
                                              id: 7507
                                              value: value_hash
                                            - kind: name
                                              id: 7506
                                              name: value_hash
                                        depth: ~
                                      expr:
                                        kind: app
                                        id: 7512
                                        opcode: Updated
                                        args:
                                          - kind: app
                                            id: 7511
                                            opcode: Leaf
                                            args:
                                              - kind: name
                                                id: 7510
                                                name: updated_leaf_node
                              - kind: str
                                id: 7520
                                value: Delete
                              - kind: lambda
                                id: 7521
                                params:
                                  - id: 7522
                                    name: _
                                expr:
                                  kind: name
                                  id: 7515
                                  name: Deleted
                        - kind: str
                          id: 7531
                          value: None
                        - kind: lambda
                          id: 7532
                          params:
                            - id: 7533
                              name: _
                          expr:
                            kind: app
                            id: 7526
                            opcode: Unchanged
                            args:
                              - kind: app
                                id: 7525
                                opcode: Some
                                args:
                                  - kind: app
                                    id: 7524
                                    opcode: Leaf
                                    args:
                                      - kind: name
                                        id: 7523
                                        name: leaf_node
                    depth: ~
                  expr:
                    kind: app
                    id: 7541
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7536
                        value: outcome
                      - kind: name
                        id: 7535
                        name: outcome
                      - kind: str
                        id: 7538
                        value: orphans_to_add
                      - kind: app
                        id: 7537
                        opcode: Set
                        args: []
                      - kind: str
                        id: 7540
                        value: nodes_to_add
                      - kind: app
                        id: 7539
                        opcode: Set
                        args: []
                - kind: app
                  id: 7580
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7543
                      name: operation
                    - kind: str
                      id: 7581
                      value: Some
                    - kind: lambda
                      id: 7582
                      params:
                        - id: 7583
                          name: op
                      expr:
                        kind: app
                        id: 7566
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7546
                            opcode: field
                            args:
                              - kind: name
                                id: 7544
                                name: op
                              - kind: str
                                id: 7545
                                value: op
                          - kind: str
                            id: 7567
                            value: Insert
                          - kind: lambda
                            id: 7568
                            params:
                              - id: 7569
                                name: value_hash
                            expr:
                              kind: let
                              id: 7559
                              opdef:
                                id: 7551
                                name: updated_leaf_node
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 7550
                                  opcode: with
                                  args:
                                    - kind: name
                                      id: 7547
                                      name: leaf_node
                                    - kind: str
                                      id: 7549
                                      value: value_hash
                                    - kind: name
                                      id: 7548
                                      name: value_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 7558
                                opcode: create_subtree
                                args:
                                  - kind: name
                                    id: 7552
                                    name: tree
                                  - kind: name
                                    id: 7553
                                    name: new_version
                                  - kind: name
                                    id: 7554
                                    name: bits
                                  - kind: name
                                    id: 7555
                                    name: batch
                                  - kind: app
                                    id: 7557
                                    opcode: Some
                                    args:
                                      - kind: name
                                        id: 7556
                                        name: updated_leaf_node
                          - kind: str
                            id: 7570
                            value: Delete
                          - kind: lambda
                            id: 7571
                            params:
                              - id: 7572
                                name: _
                            expr:
                              kind: app
                              id: 7565
                              opcode: create_subtree
                              args:
                                - kind: name
                                  id: 7560
                                  name: tree
                                - kind: name
                                  id: 7561
                                  name: new_version
                                - kind: name
                                  id: 7562
                                  name: bits
                                - kind: name
                                  id: 7563
                                  name: batch
                                - kind: name
                                  id: 7564
                                  name: None
                    - kind: str
                      id: 7584
                      value: None
                    - kind: lambda
                      id: 7585
                      params:
                        - id: 7586
                          name: _
                      expr:
                        kind: app
                        id: 7579
                        opcode: create_subtree
                        args:
                          - kind: name
                            id: 7573
                            name: tree
                          - kind: name
                            id: 7574
                            name: new_version
                          - kind: name
                            id: 7575
                            name: bits
                          - kind: name
                            id: 7576
                            name: batch
                          - kind: app
                            id: 7578
                            opcode: Some
                            args:
                              - kind: name
                                id: 7577
                                name: leaf_node
    depth: 0
  6912:
    id: 6883
    name: tree
  6913:
    id: 6885
    name: memo
  6914:
    id: 6887
    name: new_version
  6915:
    id: 6891
    name: bits
  6916:
    id: 6925
    name: internal_node
  6917:
    id: 6894
    name: batch
  6918:
    kind: def
    id: 7373
    name: apply_at_internal
    qualifier: puredef
    expr:
      kind: lambda
      id: 7372
      params:
        - id: 6949
          name: tree
        - id: 6951
          name: memo
        - id: 6953
          name: new_version
        - id: 6955
          name: bits
        - id: 6957
          name: internal_node
        - id: 6960
          name: batch
      expr:
        kind: let
        id: 7371
        opdef:
          id: 6965
          name: partitioned_batch
          qualifier: pureval
          expr:
            kind: app
            id: 6964
            opcode: partition_batch
            args:
              - kind: name
                id: 6962
                name: batch
              - kind: name
                id: 6963
                name: bits
          depth: ~
        expr:
          kind: let
          id: 7370
          opdef:
            id: 6969
            name: batch_for_left
            qualifier: pureval
            expr:
              kind: app
              id: 6968
              opcode: item
              args:
                - kind: name
                  id: 6966
                  name: partitioned_batch
                - kind: int
                  id: 6967
                  value: 1
            depth: ~
          expr:
            kind: let
            id: 7369
            opdef:
              id: 6973
              name: batch_for_right
              qualifier: pureval
              expr:
                kind: app
                id: 6972
                opcode: item
                args:
                  - kind: name
                    id: 6970
                    name: partitioned_batch
                  - kind: int
                    id: 6971
                    value: 2
              depth: ~
            expr:
              kind: let
              id: 7368
              opdef:
                id: 6977
                name: left_bits
                qualifier: pureval
                expr:
                  kind: app
                  id: 6976
                  opcode: append
                  args:
                    - kind: name
                      id: 6974
                      name: bits
                    - kind: int
                      id: 6975
                      value: 0
                depth: ~
              expr:
                kind: let
                id: 7367
                opdef:
                  id: 6987
                  name: left_result
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 6986
                    opcode: apply_at_child
                    args:
                      - kind: name
                        id: 6978
                        name: tree
                      - kind: name
                        id: 6979
                        name: memo
                      - kind: name
                        id: 6980
                        name: new_version
                      - kind: name
                        id: 6981
                        name: left_bits
                      - kind: app
                        id: 6984
                        opcode: field
                        args:
                          - kind: name
                            id: 6982
                            name: internal_node
                          - kind: str
                            id: 6983
                            value: left_child
                      - kind: name
                        id: 6985
                        name: batch_for_left
                  depth: ~
                expr:
                  kind: let
                  id: 7366
                  opdef:
                    id: 6991
                    name: left_outcome
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 6990
                      opcode: field
                      args:
                        - kind: name
                          id: 6988
                          name: left_result
                        - kind: str
                          id: 6989
                          value: outcome
                    depth: ~
                  expr:
                    kind: let
                    id: 7365
                    opdef:
                      id: 6995
                      name: right_bits
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6994
                        opcode: append
                        args:
                          - kind: name
                            id: 6992
                            name: bits
                          - kind: int
                            id: 6993
                            value: 1
                      depth: ~
                    expr:
                      kind: let
                      id: 7364
                      opdef:
                        id: 7005
                        name: right_result
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7004
                          opcode: apply_at_child
                          args:
                            - kind: name
                              id: 6996
                              name: tree
                            - kind: name
                              id: 6997
                              name: memo
                            - kind: name
                              id: 6998
                              name: new_version
                            - kind: name
                              id: 6999
                              name: right_bits
                            - kind: app
                              id: 7002
                              opcode: field
                              args:
                                - kind: name
                                  id: 7000
                                  name: internal_node
                                - kind: str
                                  id: 7001
                                  value: right_child
                            - kind: name
                              id: 7003
                              name: batch_for_right
                        depth: ~
                      expr:
                        kind: let
                        id: 7363
                        opdef:
                          id: 7009
                          name: right_outcome
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 7008
                            opcode: field
                            args:
                              - kind: name
                                id: 7006
                                name: right_result
                              - kind: str
                                id: 7007
                                value: outcome
                          depth: ~
                        expr:
                          kind: let
                          id: 7362
                          opdef:
                            id: 7033
                            name: left_orphans
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 7032
                              opcode: ite
                              args:
                                - kind: app
                                  id: 7017
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 7011
                                      opcode: is_updated_or_deleted
                                      args:
                                        - kind: name
                                          id: 7010
                                          name: left_outcome
                                    - kind: app
                                      id: 7016
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 7014
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 7012
                                              name: internal_node
                                            - kind: str
                                              id: 7013
                                              value: left_child
                                        - kind: name
                                          id: 7015
                                          name: None
                                - kind: app
                                  id: 7030
                                  opcode: Set
                                  args:
                                    - kind: app
                                      id: 7029
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 7019
                                          value: orphaned_since_version
                                        - kind: name
                                          id: 7018
                                          name: new_version
                                        - kind: str
                                          id: 7026
                                          value: version
                                        - kind: app
                                          id: 7025
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 7023
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 7022
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 7020
                                                      name: internal_node
                                                    - kind: str
                                                      id: 7021
                                                      value: left_child
                                            - kind: str
                                              id: 7024
                                              value: version
                                        - kind: str
                                          id: 7028
                                          value: key_hash
                                        - kind: name
                                          id: 7027
                                          name: left_bits
                                - kind: app
                                  id: 7031
                                  opcode: Set
                                  args: []
                            depth: ~
                          expr:
                            kind: let
                            id: 7361
                            opdef:
                              id: 7057
                              name: right_orphans
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 7056
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 7041
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 7035
                                        opcode: is_updated_or_deleted
                                        args:
                                          - kind: name
                                            id: 7034
                                            name: right_outcome
                                      - kind: app
                                        id: 7040
                                        opcode: neq
                                        args:
                                          - kind: app
                                            id: 7038
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 7036
                                                name: internal_node
                                              - kind: str
                                                id: 7037
                                                value: right_child
                                          - kind: name
                                            id: 7039
                                            name: None
                                  - kind: app
                                    id: 7054
                                    opcode: Set
                                    args:
                                      - kind: app
                                        id: 7053
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 7043
                                            value: orphaned_since_version
                                          - kind: name
                                            id: 7042
                                            name: new_version
                                          - kind: str
                                            id: 7050
                                            value: version
                                          - kind: app
                                            id: 7049
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 7047
                                                opcode: unwrap
                                                args:
                                                  - kind: app
                                                    id: 7046
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 7044
                                                        name: internal_node
                                                      - kind: str
                                                        id: 7045
                                                        value: right_child
                                              - kind: str
                                                id: 7048
                                                value: version
                                          - kind: str
                                            id: 7052
                                            value: key_hash
                                          - kind: name
                                            id: 7051
                                            name: right_bits
                                  - kind: app
                                    id: 7055
                                    opcode: Set
                                    args: []
                              depth: ~
                            expr:
                              kind: let
                              id: 7360
                              opdef:
                                id: 7069
                                name: orphans_from_children
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 7068
                                  opcode: union
                                  args:
                                    - kind: app
                                      id: 7066
                                      opcode: union
                                      args:
                                        - kind: app
                                          id: 7064
                                          opcode: union
                                          args:
                                            - kind: app
                                              id: 7060
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 7058
                                                  name: left_result
                                                - kind: str
                                                  id: 7059
                                                  value: orphans_to_add
                                            - kind: app
                                              id: 7063
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 7061
                                                  name: right_result
                                                - kind: str
                                                  id: 7062
                                                  value: orphans_to_add
                                        - kind: name
                                          id: 7065
                                          name: left_orphans
                                    - kind: name
                                      id: 7067
                                      name: right_orphans
                                depth: ~
                              expr:
                                kind: let
                                id: 7359
                                opdef:
                                  id: 7077
                                  name: nodes_from_children
                                  qualifier: pureval
                                  expr:
                                    kind: app
                                    id: 7076
                                    opcode: union
                                    args:
                                      - kind: app
                                        id: 7072
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 7070
                                            name: left_result
                                          - kind: str
                                            id: 7071
                                            value: nodes_to_add
                                      - kind: app
                                        id: 7075
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 7073
                                            name: right_result
                                          - kind: str
                                            id: 7074
                                            value: nodes_to_add
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 7358
                                  opdef:
                                    id: 7086
                                    name: default_result
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 7085
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 7080
                                          value: outcome
                                        - kind: app
                                          id: 7079
                                          opcode: Unchanged
                                          args:
                                            - kind: name
                                              id: 7078
                                              name: None
                                        - kind: str
                                          id: 7082
                                          value: orphans_to_add
                                        - kind: name
                                          id: 7081
                                          name: orphans_from_children
                                        - kind: str
                                          id: 7084
                                          value: nodes_to_add
                                        - kind: name
                                          id: 7083
                                          name: nodes_from_children
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 7357
                                    opcode: ite
                                    args:
                                      - kind: app
                                        id: 7091
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 7088
                                            opcode: is_unchanged
                                            args:
                                              - kind: name
                                                id: 7087
                                                name: left_outcome
                                          - kind: app
                                            id: 7090
                                            opcode: is_unchanged
                                            args:
                                              - kind: name
                                                id: 7089
                                                name: right_outcome
                                      - kind: app
                                        id: 7098
                                        opcode: with
                                        args:
                                          - kind: name
                                            id: 7092
                                            name: default_result
                                          - kind: str
                                            id: 7097
                                            value: outcome
                                          - kind: app
                                            id: 7096
                                            opcode: Unchanged
                                            args:
                                              - kind: app
                                                id: 7095
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 7094
                                                    opcode: Internal
                                                    args:
                                                      - kind: name
                                                        id: 7093
                                                        name: internal_node
                                      - kind: app
                                        id: 7356
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 7115
                                            opcode: and
                                            args:
                                              - kind: app
                                                id: 7106
                                                opcode: or
                                                args:
                                                  - kind: app
                                                    id: 7101
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7099
                                                        name: left_outcome
                                                      - kind: name
                                                        id: 7100
                                                        name: Deleted
                                                  - kind: app
                                                    id: 7105
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7102
                                                        name: left_outcome
                                                      - kind: app
                                                        id: 7104
                                                        opcode: Unchanged
                                                        args:
                                                          - kind: name
                                                            id: 7103
                                                            name: None
                                              - kind: app
                                                id: 7114
                                                opcode: or
                                                args:
                                                  - kind: app
                                                    id: 7109
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7107
                                                        name: right_outcome
                                                      - kind: name
                                                        id: 7108
                                                        name: Deleted
                                                  - kind: app
                                                    id: 7113
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7110
                                                        name: right_outcome
                                                      - kind: app
                                                        id: 7112
                                                        opcode: Unchanged
                                                        args:
                                                          - kind: name
                                                            id: 7111
                                                            name: None
                                          - kind: app
                                            id: 7119
                                            opcode: with
                                            args:
                                              - kind: name
                                                id: 7116
                                                name: default_result
                                              - kind: str
                                                id: 7118
                                                value: outcome
                                              - kind: name
                                                id: 7117
                                                name: Deleted
                                          - kind: app
                                            id: 7355
                                            opcode: ite
                                            args:
                                              - kind: app
                                                id: 7130
                                                opcode: and
                                                args:
                                                  - kind: app
                                                    id: 7121
                                                    opcode: updated_to_leaf
                                                    args:
                                                      - kind: name
                                                        id: 7120
                                                        name: left_outcome
                                                  - kind: app
                                                    id: 7129
                                                    opcode: or
                                                    args:
                                                      - kind: app
                                                        id: 7124
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7122
                                                            name: right_outcome
                                                          - kind: name
                                                            id: 7123
                                                            name: Deleted
                                                      - kind: app
                                                        id: 7128
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7125
                                                            name: right_outcome
                                                          - kind: app
                                                            id: 7127
                                                            opcode: Unchanged
                                                            args:
                                                              - kind: name
                                                                id: 7126
                                                                name: None
                                              - kind: app
                                                id: 7134
                                                opcode: with
                                                args:
                                                  - kind: name
                                                    id: 7131
                                                    name: default_result
                                                  - kind: str
                                                    id: 7133
                                                    value: outcome
                                                  - kind: name
                                                    id: 7132
                                                    name: left_outcome
                                              - kind: app
                                                id: 7354
                                                opcode: ite
                                                args:
                                                  - kind: app
                                                    id: 7140
                                                    opcode: and
                                                    args:
                                                      - kind: app
                                                        id: 7136
                                                        opcode: unchanged_leaf
                                                        args:
                                                          - kind: name
                                                            id: 7135
                                                            name: left_outcome
                                                      - kind: app
                                                        id: 7139
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7137
                                                            name: right_outcome
                                                          - kind: name
                                                            id: 7138
                                                            name: Deleted
                                                  - kind: app
                                                    id: 7171
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: name
                                                        id: 7141
                                                        name: left_outcome
                                                      - kind: str
                                                        id: 7172
                                                        value: Unchanged
                                                      - kind: lambda
                                                        id: 7173
                                                        params:
                                                          - id: 7174
                                                            name: left
                                                        expr:
                                                          kind: let
                                                          id: 7169
                                                          opdef:
                                                            id: 7159
                                                            name: orphans
                                                            qualifier: pureval
                                                            expr:
                                                              kind: app
                                                              id: 7158
                                                              opcode: union
                                                              args:
                                                                - kind: app
                                                                  id: 7144
                                                                  opcode: field
                                                                  args:
                                                                    - kind: name
                                                                      id: 7142
                                                                      name: default_result
                                                                    - kind: str
                                                                      id: 7143
                                                                      value: orphans_to_add
                                                                - kind: app
                                                                  id: 7157
                                                                  opcode: Set
                                                                  args:
                                                                    - kind: app
                                                                      id: 7156
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7146
                                                                          value: orphaned_since_version
                                                                        - kind: name
                                                                          id: 7145
                                                                          name: new_version
                                                                        - kind: str
                                                                          id: 7153
                                                                          value: version
                                                                        - kind: app
                                                                          id: 7152
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 7150
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: app
                                                                                  id: 7149
                                                                                  opcode: field
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 7147
                                                                                      name: internal_node
                                                                                    - kind: str
                                                                                      id: 7148
                                                                                      value: left_child
                                                                            - kind: str
                                                                              id: 7151
                                                                              value: version
                                                                        - kind: str
                                                                          id: 7155
                                                                          value: key_hash
                                                                        - kind: name
                                                                          id: 7154
                                                                          name: left_bits
                                                            depth: ~
                                                          expr:
                                                            kind: app
                                                            id: 7168
                                                            opcode: with
                                                            args:
                                                              - kind: app
                                                                id: 7167
                                                                opcode: with
                                                                args:
                                                                  - kind: name
                                                                    id: 7160
                                                                    name: default_result
                                                                  - kind: str
                                                                    id: 7164
                                                                    value: outcome
                                                                  - kind: app
                                                                    id: 7163
                                                                    opcode: Updated
                                                                    args:
                                                                      - kind: app
                                                                        id: 7162
                                                                        opcode: unwrap
                                                                        args:
                                                                          - kind: name
                                                                            id: 7161
                                                                            name: left
                                                              - kind: str
                                                                id: 7166
                                                                value: orphans_to_add
                                                              - kind: name
                                                                id: 7165
                                                                name: orphans
                                                      - kind: str
                                                        id: 7175
                                                        value: _
                                                      - kind: lambda
                                                        id: 7176
                                                        params:
                                                          - id: 7177
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 7170
                                                          name: default_result
                                                  - kind: app
                                                    id: 7353
                                                    opcode: ite
                                                    args:
                                                      - kind: app
                                                        id: 7188
                                                        opcode: and
                                                        args:
                                                          - kind: app
                                                            id: 7185
                                                            opcode: or
                                                            args:
                                                              - kind: app
                                                                id: 7180
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7178
                                                                    name: left_outcome
                                                                  - kind: name
                                                                    id: 7179
                                                                    name: Deleted
                                                              - kind: app
                                                                id: 7184
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7181
                                                                    name: left_outcome
                                                                  - kind: app
                                                                    id: 7183
                                                                    opcode: Unchanged
                                                                    args:
                                                                      - kind: name
                                                                        id: 7182
                                                                        name: None
                                                          - kind: app
                                                            id: 7187
                                                            opcode: updated_to_leaf
                                                            args:
                                                              - kind: name
                                                                id: 7186
                                                                name: right_outcome
                                                      - kind: app
                                                        id: 7192
                                                        opcode: with
                                                        args:
                                                          - kind: name
                                                            id: 7189
                                                            name: default_result
                                                          - kind: str
                                                            id: 7191
                                                            value: outcome
                                                          - kind: name
                                                            id: 7190
                                                            name: right_outcome
                                                      - kind: app
                                                        id: 7352
                                                        opcode: ite
                                                        args:
                                                          - kind: app
                                                            id: 7198
                                                            opcode: and
                                                            args:
                                                              - kind: app
                                                                id: 7195
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7193
                                                                    name: left_outcome
                                                                  - kind: name
                                                                    id: 7194
                                                                    name: Deleted
                                                              - kind: app
                                                                id: 7197
                                                                opcode: unchanged_leaf
                                                                args:
                                                                  - kind: name
                                                                    id: 7196
                                                                    name: right_outcome
                                                          - kind: app
                                                            id: 7229
                                                            opcode: matchVariant
                                                            args:
                                                              - kind: name
                                                                id: 7199
                                                                name: right_outcome
                                                              - kind: str
                                                                id: 7230
                                                                value: Unchanged
                                                              - kind: lambda
                                                                id: 7231
                                                                params:
                                                                  - id: 7232
                                                                    name: right
                                                                expr:
                                                                  kind: let
                                                                  id: 7227
                                                                  opdef:
                                                                    id: 7217
                                                                    name: orphans
                                                                    qualifier: pureval
                                                                    expr:
                                                                      kind: app
                                                                      id: 7216
                                                                      opcode: union
                                                                      args:
                                                                        - kind: app
                                                                          id: 7202
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7200
                                                                              name: default_result
                                                                            - kind: str
                                                                              id: 7201
                                                                              value: orphans_to_add
                                                                        - kind: app
                                                                          id: 7215
                                                                          opcode: Set
                                                                          args:
                                                                            - kind: app
                                                                              id: 7214
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 7204
                                                                                  value: orphaned_since_version
                                                                                - kind: name
                                                                                  id: 7203
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 7211
                                                                                  value: version
                                                                                - kind: app
                                                                                  id: 7210
                                                                                  opcode: field
                                                                                  args:
                                                                                    - kind: app
                                                                                      id: 7208
                                                                                      opcode: unwrap
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 7207
                                                                                          opcode: field
                                                                                          args:
                                                                                            - kind: name
                                                                                              id: 7205
                                                                                              name: internal_node
                                                                                            - kind: str
                                                                                              id: 7206
                                                                                              value: right_child
                                                                                    - kind: str
                                                                                      id: 7209
                                                                                      value: version
                                                                                - kind: str
                                                                                  id: 7213
                                                                                  value: key_hash
                                                                                - kind: name
                                                                                  id: 7212
                                                                                  name: right_bits
                                                                    depth: ~
                                                                  expr:
                                                                    kind: app
                                                                    id: 7226
                                                                    opcode: with
                                                                    args:
                                                                      - kind: app
                                                                        id: 7225
                                                                        opcode: with
                                                                        args:
                                                                          - kind: name
                                                                            id: 7218
                                                                            name: default_result
                                                                          - kind: str
                                                                            id: 7222
                                                                            value: outcome
                                                                          - kind: app
                                                                            id: 7221
                                                                            opcode: Updated
                                                                            args:
                                                                              - kind: app
                                                                                id: 7220
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 7219
                                                                                    name: right
                                                                      - kind: str
                                                                        id: 7224
                                                                        value: orphans_to_add
                                                                      - kind: name
                                                                        id: 7223
                                                                        name: orphans
                                                              - kind: str
                                                                id: 7233
                                                                value: _
                                                              - kind: lambda
                                                                id: 7234
                                                                params:
                                                                  - id: 7235
                                                                    name: _
                                                                expr:
                                                                  kind: name
                                                                  id: 7228
                                                                  name: default_result
                                                          - kind: let
                                                            id: 7351
                                                            opdef:
                                                              id: 7277
                                                              name: new_left_child_and_tree
                                                              qualifier: pureval
                                                              expr:
                                                                kind: app
                                                                id: 7267
                                                                opcode: matchVariant
                                                                args:
                                                                  - kind: name
                                                                    id: 7236
                                                                    name: left_outcome
                                                                  - kind: str
                                                                    id: 7268
                                                                    value: Updated
                                                                  - kind: lambda
                                                                    id: 7269
                                                                    params:
                                                                      - id: 7270
                                                                        name: node
                                                                    expr:
                                                                      kind: app
                                                                      id: 7254
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7244
                                                                          value: child
                                                                        - kind: app
                                                                          id: 7243
                                                                          opcode: Some
                                                                          args:
                                                                            - kind: app
                                                                              id: 7242
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 7238
                                                                                  value: version
                                                                                - kind: name
                                                                                  id: 7237
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 7241
                                                                                  value: hash
                                                                                - kind: app
                                                                                  id: 7240
                                                                                  opcode: hash
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 7239
                                                                                      name: node
                                                                        - kind: str
                                                                          id: 7253
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7252
                                                                          opcode: Set
                                                                          args:
                                                                            - kind: app
                                                                              id: 7251
                                                                              opcode: Tup
                                                                              args:
                                                                                - kind: app
                                                                                  id: 7249
                                                                                  opcode: Rec
                                                                                  args:
                                                                                    - kind: str
                                                                                      id: 7246
                                                                                      value: version
                                                                                    - kind: name
                                                                                      id: 7245
                                                                                      name: new_version
                                                                                    - kind: str
                                                                                      id: 7248
                                                                                      value: key_hash
                                                                                    - kind: name
                                                                                      id: 7247
                                                                                      name: left_bits
                                                                                - kind: name
                                                                                  id: 7250
                                                                                  name: node
                                                                  - kind: str
                                                                    id: 7271
                                                                    value: Deleted
                                                                  - kind: lambda
                                                                    id: 7272
                                                                    params:
                                                                      - id: 7273
                                                                        name: _
                                                                    expr:
                                                                      kind: app
                                                                      id: 7259
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7256
                                                                          value: child
                                                                        - kind: name
                                                                          id: 7255
                                                                          name: None
                                                                        - kind: str
                                                                          id: 7258
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7257
                                                                          opcode: Set
                                                                          args: []
                                                                  - kind: str
                                                                    id: 7274
                                                                    value: Unchanged
                                                                  - kind: lambda
                                                                    id: 7275
                                                                    params:
                                                                      - id: 7276
                                                                        name: _
                                                                    expr:
                                                                      kind: app
                                                                      id: 7266
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7263
                                                                          value: child
                                                                        - kind: app
                                                                          id: 7262
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7260
                                                                              name: internal_node
                                                                            - kind: str
                                                                              id: 7261
                                                                              value: left_child
                                                                        - kind: str
                                                                          id: 7265
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7264
                                                                          opcode: Set
                                                                          args: []
                                                              depth: ~
                                                            expr:
                                                              kind: let
                                                              id: 7350
                                                              opdef:
                                                                id: 7319
                                                                name: new_right_child_and_tree
                                                                qualifier: pureval
                                                                expr:
                                                                  kind: app
                                                                  id: 7309
                                                                  opcode: matchVariant
                                                                  args:
                                                                    - kind: name
                                                                      id: 7278
                                                                      name: right_outcome
                                                                    - kind: str
                                                                      id: 7310
                                                                      value: Updated
                                                                    - kind: lambda
                                                                      id: 7311
                                                                      params:
                                                                        - id: 7312
                                                                          name: node
                                                                      expr:
                                                                        kind: app
                                                                        id: 7296
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7286
                                                                            value: child
                                                                          - kind: app
                                                                            id: 7285
                                                                            opcode: Some
                                                                            args:
                                                                              - kind: app
                                                                                id: 7284
                                                                                opcode: Rec
                                                                                args:
                                                                                  - kind: str
                                                                                    id: 7280
                                                                                    value: version
                                                                                  - kind: name
                                                                                    id: 7279
                                                                                    name: new_version
                                                                                  - kind: str
                                                                                    id: 7283
                                                                                    value: hash
                                                                                  - kind: app
                                                                                    id: 7282
                                                                                    opcode: hash
                                                                                    args:
                                                                                      - kind: name
                                                                                        id: 7281
                                                                                        name: node
                                                                          - kind: str
                                                                            id: 7295
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7294
                                                                            opcode: Set
                                                                            args:
                                                                              - kind: app
                                                                                id: 7293
                                                                                opcode: Tup
                                                                                args:
                                                                                  - kind: app
                                                                                    id: 7291
                                                                                    opcode: Rec
                                                                                    args:
                                                                                      - kind: str
                                                                                        id: 7288
                                                                                        value: version
                                                                                      - kind: name
                                                                                        id: 7287
                                                                                        name: new_version
                                                                                      - kind: str
                                                                                        id: 7290
                                                                                        value: key_hash
                                                                                      - kind: name
                                                                                        id: 7289
                                                                                        name: right_bits
                                                                                  - kind: name
                                                                                    id: 7292
                                                                                    name: node
                                                                    - kind: str
                                                                      id: 7313
                                                                      value: Deleted
                                                                    - kind: lambda
                                                                      id: 7314
                                                                      params:
                                                                        - id: 7315
                                                                          name: _
                                                                      expr:
                                                                        kind: app
                                                                        id: 7301
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7298
                                                                            value: child
                                                                          - kind: name
                                                                            id: 7297
                                                                            name: None
                                                                          - kind: str
                                                                            id: 7300
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7299
                                                                            opcode: Set
                                                                            args: []
                                                                    - kind: str
                                                                      id: 7316
                                                                      value: Unchanged
                                                                    - kind: lambda
                                                                      id: 7317
                                                                      params:
                                                                        - id: 7318
                                                                          name: _
                                                                      expr:
                                                                        kind: app
                                                                        id: 7308
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7305
                                                                            value: child
                                                                          - kind: app
                                                                            id: 7304
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7302
                                                                                name: internal_node
                                                                              - kind: str
                                                                                id: 7303
                                                                                value: right_child
                                                                          - kind: str
                                                                            id: 7307
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7306
                                                                            opcode: Set
                                                                            args: []
                                                                depth: ~
                                                              expr:
                                                                kind: let
                                                                id: 7349
                                                                opdef:
                                                                  id: 7330
                                                                  name: new_internal_node
                                                                  qualifier: pureval
                                                                  expr:
                                                                    kind: app
                                                                    id: 7329
                                                                    opcode: Internal
                                                                    args:
                                                                      - kind: app
                                                                        id: 7328
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7323
                                                                            value: left_child
                                                                          - kind: app
                                                                            id: 7322
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7320
                                                                                name: new_left_child_and_tree
                                                                              - kind: str
                                                                                id: 7321
                                                                                value: child
                                                                          - kind: str
                                                                            id: 7327
                                                                            value: right_child
                                                                          - kind: app
                                                                            id: 7326
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7324
                                                                                name: new_right_child_and_tree
                                                                              - kind: str
                                                                                id: 7325
                                                                                value: child
                                                                  depth: ~
                                                                expr:
                                                                  kind: app
                                                                  id: 7348
                                                                  opcode: with
                                                                  args:
                                                                    - kind: app
                                                                      id: 7347
                                                                      opcode: with
                                                                      args:
                                                                        - kind: name
                                                                          id: 7331
                                                                          name: default_result
                                                                        - kind: str
                                                                          id: 7334
                                                                          value: outcome
                                                                        - kind: app
                                                                          id: 7333
                                                                          opcode: Updated
                                                                          args:
                                                                            - kind: name
                                                                              id: 7332
                                                                              name: new_internal_node
                                                                    - kind: str
                                                                      id: 7346
                                                                      value: nodes_to_add
                                                                    - kind: app
                                                                      id: 7345
                                                                      opcode: union
                                                                      args:
                                                                        - kind: app
                                                                          id: 7341
                                                                          opcode: union
                                                                          args:
                                                                            - kind: app
                                                                              id: 7337
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 7335
                                                                                  name: default_result
                                                                                - kind: str
                                                                                  id: 7336
                                                                                  value: nodes_to_add
                                                                            - kind: app
                                                                              id: 7340
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 7338
                                                                                  name: new_left_child_and_tree
                                                                                - kind: str
                                                                                  id: 7339
                                                                                  value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7344
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7342
                                                                              name: new_right_child_and_tree
                                                                            - kind: str
                                                                              id: 7343
                                                                              value: nodes_to_add
    depth: 0
  6926:
    id: 6894
    name: batch
  6927:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6928:
    kind: def
    id: 7764
    name: prepare_batch_for_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7763
      params:
        - id: 7690
          name: batch
        - id: 7694
          name: existing_leaf
      expr:
        kind: let
        id: 7762
        opdef:
          id: 7727
          name: maybe_op
          qualifier: pureval
          expr:
            kind: app
            id: 7726
            opcode: fold
            args:
              - kind: name
                id: 7701
                name: batch
              - kind: name
                id: 7702
                name: None
              - kind: lambda
                id: 7725
                params:
                  - id: 7703
                    name: acc
                  - id: 7704
                    name: op
                expr:
                  kind: app
                  id: 7718
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7705
                      name: existing_leaf
                    - kind: str
                      id: 7719
                      value: Some
                    - kind: lambda
                      id: 7720
                      params:
                        - id: 7721
                          name: leaf
                      expr:
                        kind: app
                        id: 7716
                        opcode: ite
                        args:
                          - kind: app
                            id: 7712
                            opcode: eq
                            args:
                              - kind: app
                                id: 7708
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7706
                                    name: op
                                  - kind: str
                                    id: 7707
                                    value: key_hash
                              - kind: app
                                id: 7711
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7709
                                    name: leaf
                                  - kind: str
                                    id: 7710
                                    value: key_hash
                          - kind: app
                            id: 7714
                            opcode: Some
                            args:
                              - kind: name
                                id: 7713
                                name: op
                          - kind: name
                            id: 7715
                            name: acc
                    - kind: str
                      id: 7722
                      value: None
                    - kind: lambda
                      id: 7723
                      params:
                        - id: 7724
                          name: _
                      expr:
                        kind: name
                        id: 7717
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 7761
          opdef:
            id: 7757
            name: filtered_batch
            qualifier: pureval
            expr:
              kind: app
              id: 7756
              opcode: filterMap
              args:
                - kind: name
                  id: 7728
                  name: batch
                - kind: lambda
                  id: 7755
                  params:
                    - id: 7729
                      name: op
                  expr:
                    kind: app
                    id: 7754
                    opcode: ite
                    args:
                      - kind: app
                        id: 7733
                        opcode: eq
                        args:
                          - kind: name
                            id: 7730
                            name: maybe_op
                          - kind: app
                            id: 7732
                            opcode: Some
                            args:
                              - kind: name
                                id: 7731
                                name: op
                      - kind: name
                        id: 7734
                        name: None
                      - kind: app
                        id: 7747
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7737
                            opcode: field
                            args:
                              - kind: name
                                id: 7735
                                name: op
                              - kind: str
                                id: 7736
                                value: op
                          - kind: str
                            id: 7748
                            value: Insert
                          - kind: lambda
                            id: 7749
                            params:
                              - id: 7750
                                name: value_hash
                            expr:
                              kind: app
                              id: 7745
                              opcode: Some
                              args:
                                - kind: app
                                  id: 7744
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 7741
                                      value: key_hash
                                    - kind: app
                                      id: 7740
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 7738
                                          name: op
                                        - kind: str
                                          id: 7739
                                          value: key_hash
                                    - kind: str
                                      id: 7743
                                      value: value_hash
                                    - kind: name
                                      id: 7742
                                      name: value_hash
                          - kind: str
                            id: 7751
                            value: _
                          - kind: lambda
                            id: 7752
                            params:
                              - id: 7753
                                name: _
                            expr:
                              kind: name
                              id: 7746
                              name: None
            depth: ~
          expr:
            kind: app
            id: 7760
            opcode: Tup
            args:
              - kind: name
                id: 7758
                name: filtered_batch
              - kind: name
                id: 7759
                name: maybe_op
    depth: 0
  6929:
    kind: def
    id: 6929
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 6928
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 6926
          name: batch
        - kind: name
          id: 6927
          name: None
    depth: 4
  6930:
    id: 6883
    name: tree
  6931:
    id: 6887
    name: new_version
  6932:
    id: 6891
    name: bits
  6933:
    kind: def
    id: 6929
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 6928
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 6926
          name: batch
        - kind: name
          id: 6927
          name: None
    depth: 4
  6936:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  6937:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  6947:
    kind: def
    id: 6947
    name: apply_at
    qualifier: puredef
    expr:
      kind: lambda
      id: 6946
      params:
        - id: 6883
          name: tree
        - id: 6885
          name: memo
        - id: 6887
          name: new_version
        - id: 6889
          name: old_version
        - id: 6891
          name: bits
        - id: 6894
          name: batch
      expr:
        kind: app
        id: 6939
        opcode: matchVariant
        args:
          - kind: app
            id: 6904
            opcode: safeGet
            args:
              - kind: app
                id: 6898
                opcode: field
                args:
                  - kind: name
                    id: 6896
                    name: tree
                  - kind: str
                    id: 6897
                    value: nodes
              - kind: app
                id: 6903
                opcode: Rec
                args:
                  - kind: str
                    id: 6900
                    value: version
                  - kind: name
                    id: 6899
                    name: old_version
                  - kind: str
                    id: 6902
                    value: key_hash
                  - kind: name
                    id: 6901
                    name: bits
          - kind: str
            id: 6940
            value: Some
          - kind: lambda
            id: 6941
            params:
              - id: 6942
                name: node
            expr:
              kind: app
              id: 6919
              opcode: matchVariant
              args:
                - kind: name
                  id: 6905
                  name: node
                - kind: str
                  id: 6920
                  value: Leaf
                - kind: lambda
                  id: 6921
                  params:
                    - id: 6922
                      name: leaf_node
                  expr:
                    kind: app
                    id: 6911
                    opcode: apply_at_leaf
                    args:
                      - kind: name
                        id: 6906
                        name: tree
                      - kind: name
                        id: 6907
                        name: new_version
                      - kind: name
                        id: 6908
                        name: bits
                      - kind: name
                        id: 6909
                        name: leaf_node
                      - kind: name
                        id: 6910
                        name: batch
                - kind: str
                  id: 6923
                  value: Internal
                - kind: lambda
                  id: 6924
                  params:
                    - id: 6925
                      name: internal_node
                  expr:
                    kind: app
                    id: 6918
                    opcode: apply_at_internal
                    args:
                      - kind: name
                        id: 6912
                        name: tree
                      - kind: name
                        id: 6913
                        name: memo
                      - kind: name
                        id: 6914
                        name: new_version
                      - kind: name
                        id: 6915
                        name: bits
                      - kind: name
                        id: 6916
                        name: internal_node
                      - kind: name
                        id: 6917
                        name: batch
          - kind: str
            id: 6943
            value: None
          - kind: lambda
            id: 6944
            params:
              - id: 6945
                name: _
            expr:
              kind: let
              id: 6938
              opdef:
                id: 6929
                name: batchAndOp
                qualifier: pureval
                expr:
                  kind: app
                  id: 6928
                  opcode: prepare_batch_for_subtree
                  args:
                    - kind: name
                      id: 6926
                      name: batch
                    - kind: name
                      id: 6927
                      name: None
                depth: ~
              expr:
                kind: app
                id: 6937
                opcode: create_subtree
                args:
                  - kind: name
                    id: 6930
                    name: tree
                  - kind: name
                    id: 6931
                    name: new_version
                  - kind: name
                    id: 6932
                    name: bits
                  - kind: app
                    id: 6935
                    opcode: item
                    args:
                      - kind: name
                        id: 6933
                        name: batchAndOp
                      - kind: int
                        id: 6934
                        value: 1
                  - kind: name
                    id: 6936
                    name: None
    depth: 0
  6948:
    kind: typedef
    id: 3278
  6950:
    kind: typedef
    id: 6684
  6952:
    kind: typedef
    id: 3260
  6954:
    kind: typedef
    id: 3258
  6956:
    kind: typedef
    id: 3893
  6958:
    kind: typedef
    id: 3251
  6961:
    kind: typedef
    id: 6675
  6962:
    id: 6960
    name: batch
  6963:
    id: 6955
    name: bits
  6964:
    kind: def
    id: 7644
    name: partition_batch
    qualifier: puredef
    expr:
      kind: lambda
      id: 7643
      params:
        - id: 7596
          name: batch
        - id: 7598
          name: bits
      expr:
        kind: app
        id: 7642
        opcode: fold
        args:
          - kind: name
            id: 7606
            name: batch
          - kind: app
            id: 7609
            opcode: Tup
            args:
              - kind: app
                id: 7607
                opcode: Set
                args: []
              - kind: app
                id: 7608
                opcode: Set
                args: []
          - kind: lambda
            id: 7641
            params:
              - id: 7610
                name: acc
              - id: 7611
                name: op
            expr:
              kind: app
              id: 7640
              opcode: ite
              args:
                - kind: app
                  id: 7619
                  opcode: eq
                  args:
                    - kind: app
                      id: 7617
                      opcode: nth
                      args:
                        - kind: app
                          id: 7614
                          opcode: field
                          args:
                            - kind: name
                              id: 7612
                              name: op
                            - kind: str
                              id: 7613
                              value: key_hash
                        - kind: app
                          id: 7616
                          opcode: length
                          args:
                            - kind: name
                              id: 7615
                              name: bits
                    - kind: int
                      id: 7618
                      value: 0
                - kind: app
                  id: 7629
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7625
                      opcode: union
                      args:
                        - kind: app
                          id: 7622
                          opcode: item
                          args:
                            - kind: name
                              id: 7620
                              name: acc
                            - kind: int
                              id: 7621
                              value: 1
                        - kind: app
                          id: 7624
                          opcode: Set
                          args:
                            - kind: name
                              id: 7623
                              name: op
                    - kind: app
                      id: 7628
                      opcode: item
                      args:
                        - kind: name
                          id: 7626
                          name: acc
                        - kind: int
                          id: 7627
                          value: 2
                - kind: app
                  id: 7639
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7632
                      opcode: item
                      args:
                        - kind: name
                          id: 7630
                          name: acc
                        - kind: int
                          id: 7631
                          value: 1
                    - kind: app
                      id: 7638
                      opcode: union
                      args:
                        - kind: app
                          id: 7635
                          opcode: item
                          args:
                            - kind: name
                              id: 7633
                              name: acc
                            - kind: int
                              id: 7634
                              value: 2
                        - kind: app
                          id: 7637
                          opcode: Set
                          args:
                            - kind: name
                              id: 7636
                              name: op
    depth: 0
  6965:
    kind: def
    id: 6965
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 6964
      opcode: partition_batch
      args:
        - kind: name
          id: 6962
          name: batch
        - kind: name
          id: 6963
          name: bits
    depth: 3
  6966:
    kind: def
    id: 6965
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 6964
      opcode: partition_batch
      args:
        - kind: name
          id: 6962
          name: batch
        - kind: name
          id: 6963
          name: bits
    depth: 3
  6969:
    kind: def
    id: 6969
    name: batch_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 6968
      opcode: item
      args:
        - kind: name
          id: 6966
          name: partitioned_batch
        - kind: int
          id: 6967
          value: 1
    depth: 4
  6970:
    kind: def
    id: 6965
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 6964
      opcode: partition_batch
      args:
        - kind: name
          id: 6962
          name: batch
        - kind: name
          id: 6963
          name: bits
    depth: 3
  6973:
    kind: def
    id: 6973
    name: batch_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 6972
      opcode: item
      args:
        - kind: name
          id: 6970
          name: partitioned_batch
        - kind: int
          id: 6971
          value: 2
    depth: 5
  6974:
    id: 6955
    name: bits
  6977:
    kind: def
    id: 6977
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6976
      opcode: append
      args:
        - kind: name
          id: 6974
          name: bits
        - kind: int
          id: 6975
          value: 0
    depth: 6
  6978:
    id: 6949
    name: tree
  6979:
    id: 6951
    name: memo
  6980:
    id: 6953
    name: new_version
  6981:
    kind: def
    id: 6977
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6976
      opcode: append
      args:
        - kind: name
          id: 6974
          name: bits
        - kind: int
          id: 6975
          value: 0
    depth: 6
  6982:
    id: 6957
    name: internal_node
  6985:
    kind: def
    id: 6969
    name: batch_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 6968
      opcode: item
      args:
        - kind: name
          id: 6966
          name: partitioned_batch
        - kind: int
          id: 6967
          value: 1
    depth: 4
  6986:
    kind: def
    id: 7463
    name: apply_at_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 7462
      params:
        - id: 7375
          name: tree
        - id: 7377
          name: memo
        - id: 7379
          name: new_version
        - id: 7381
          name: child_bits
        - id: 7385
          name: child
        - id: 7388
          name: batch
      expr:
        kind: app
        id: 7461
        opcode: ite
        args:
          - kind: app
            id: 7392
            opcode: eq
            args:
              - kind: name
                id: 7390
                name: batch
              - kind: app
                id: 7391
                opcode: Set
                args: []
          - kind: app
            id: 7424
            opcode: matchVariant
            args:
              - kind: name
                id: 7393
                name: child
              - kind: str
                id: 7425
                value: None
              - kind: lambda
                id: 7426
                params:
                  - id: 7427
                    name: _
                expr:
                  kind: app
                  id: 7401
                  opcode: Rec
                  args:
                    - kind: str
                      id: 7396
                      value: outcome
                    - kind: app
                      id: 7395
                      opcode: Unchanged
                      args:
                        - kind: name
                          id: 7394
                          name: None
                    - kind: str
                      id: 7398
                      value: orphans_to_add
                    - kind: app
                      id: 7397
                      opcode: Set
                      args: []
                    - kind: str
                      id: 7400
                      value: nodes_to_add
                    - kind: app
                      id: 7399
                      opcode: Set
                      args: []
              - kind: str
                id: 7428
                value: Some
              - kind: lambda
                id: 7429
                params:
                  - id: 7430
                    name: child
                expr:
                  kind: let
                  id: 7423
                  opdef:
                    id: 7413
                    name: child_node
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7412
                      opcode: get
                      args:
                        - kind: app
                          id: 7404
                          opcode: field
                          args:
                            - kind: name
                              id: 7402
                              name: tree
                            - kind: str
                              id: 7403
                              value: nodes
                        - kind: app
                          id: 7411
                          opcode: Rec
                          args:
                            - kind: str
                              id: 7408
                              value: version
                            - kind: app
                              id: 7407
                              opcode: field
                              args:
                                - kind: name
                                  id: 7405
                                  name: child
                                - kind: str
                                  id: 7406
                                  value: version
                            - kind: str
                              id: 7410
                              value: key_hash
                            - kind: name
                              id: 7409
                              name: child_bits
                    depth: ~
                  expr:
                    kind: app
                    id: 7422
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7417
                        value: outcome
                      - kind: app
                        id: 7416
                        opcode: Unchanged
                        args:
                          - kind: app
                            id: 7415
                            opcode: Some
                            args:
                              - kind: name
                                id: 7414
                                name: child_node
                      - kind: str
                        id: 7419
                        value: orphans_to_add
                      - kind: app
                        id: 7418
                        opcode: Set
                        args: []
                      - kind: str
                        id: 7421
                        value: nodes_to_add
                      - kind: app
                        id: 7420
                        opcode: Set
                        args: []
          - kind: app
            id: 7454
            opcode: matchVariant
            args:
              - kind: name
                id: 7431
                name: child
              - kind: str
                id: 7455
                value: None
              - kind: lambda
                id: 7456
                params:
                  - id: 7457
                    name: _
                expr:
                  kind: let
                  id: 7444
                  opdef:
                    id: 7435
                    name: batchAndOp
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7434
                      opcode: prepare_batch_for_subtree
                      args:
                        - kind: name
                          id: 7432
                          name: batch
                        - kind: name
                          id: 7433
                          name: None
                    depth: ~
                  expr:
                    kind: app
                    id: 7443
                    opcode: create_subtree
                    args:
                      - kind: name
                        id: 7436
                        name: tree
                      - kind: name
                        id: 7437
                        name: new_version
                      - kind: name
                        id: 7438
                        name: child_bits
                      - kind: app
                        id: 7441
                        opcode: item
                        args:
                          - kind: name
                            id: 7439
                            name: batchAndOp
                          - kind: int
                            id: 7440
                            value: 1
                      - kind: name
                        id: 7442
                        name: None
              - kind: str
                id: 7458
                value: Some
              - kind: lambda
                id: 7459
                params:
                  - id: 7460
                    name: child
                expr:
                  kind: app
                  id: 7453
                  opcode: get
                  args:
                    - kind: name
                      id: 7445
                      name: memo
                    - kind: app
                      id: 7452
                      opcode: Tup
                      args:
                        - kind: name
                          id: 7446
                          name: new_version
                        - kind: app
                          id: 7449
                          opcode: field
                          args:
                            - kind: name
                              id: 7447
                              name: child
                            - kind: str
                              id: 7448
                              value: version
                        - kind: name
                          id: 7450
                          name: child_bits
                        - kind: name
                          id: 7451
                          name: batch
    depth: 0
  6987:
    kind: def
    id: 6987
    name: left_result
    qualifier: pureval
    expr:
      kind: app
      id: 6986
      opcode: apply_at_child
      args:
        - kind: name
          id: 6978
          name: tree
        - kind: name
          id: 6979
          name: memo
        - kind: name
          id: 6980
          name: new_version
        - kind: name
          id: 6981
          name: left_bits
        - kind: app
          id: 6984
          opcode: field
          args:
            - kind: name
              id: 6982
              name: internal_node
            - kind: str
              id: 6983
              value: left_child
        - kind: name
          id: 6985
          name: batch_for_left
    depth: 7
  6988:
    kind: def
    id: 6987
    name: left_result
    qualifier: pureval
    expr:
      kind: app
      id: 6986
      opcode: apply_at_child
      args:
        - kind: name
          id: 6978
          name: tree
        - kind: name
          id: 6979
          name: memo
        - kind: name
          id: 6980
          name: new_version
        - kind: name
          id: 6981
          name: left_bits
        - kind: app
          id: 6984
          opcode: field
          args:
            - kind: name
              id: 6982
              name: internal_node
            - kind: str
              id: 6983
              value: left_child
        - kind: name
          id: 6985
          name: batch_for_left
    depth: 7
  6991:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  6992:
    id: 6955
    name: bits
  6995:
    kind: def
    id: 6995
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6994
      opcode: append
      args:
        - kind: name
          id: 6992
          name: bits
        - kind: int
          id: 6993
          value: 1
    depth: 9
  6996:
    id: 6949
    name: tree
  6997:
    id: 6951
    name: memo
  6998:
    id: 6953
    name: new_version
  6999:
    kind: def
    id: 6995
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6994
      opcode: append
      args:
        - kind: name
          id: 6992
          name: bits
        - kind: int
          id: 6993
          value: 1
    depth: 9
  7000:
    id: 6957
    name: internal_node
  7003:
    kind: def
    id: 6973
    name: batch_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 6972
      opcode: item
      args:
        - kind: name
          id: 6970
          name: partitioned_batch
        - kind: int
          id: 6971
          value: 2
    depth: 5
  7004:
    kind: def
    id: 7463
    name: apply_at_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 7462
      params:
        - id: 7375
          name: tree
        - id: 7377
          name: memo
        - id: 7379
          name: new_version
        - id: 7381
          name: child_bits
        - id: 7385
          name: child
        - id: 7388
          name: batch
      expr:
        kind: app
        id: 7461
        opcode: ite
        args:
          - kind: app
            id: 7392
            opcode: eq
            args:
              - kind: name
                id: 7390
                name: batch
              - kind: app
                id: 7391
                opcode: Set
                args: []
          - kind: app
            id: 7424
            opcode: matchVariant
            args:
              - kind: name
                id: 7393
                name: child
              - kind: str
                id: 7425
                value: None
              - kind: lambda
                id: 7426
                params:
                  - id: 7427
                    name: _
                expr:
                  kind: app
                  id: 7401
                  opcode: Rec
                  args:
                    - kind: str
                      id: 7396
                      value: outcome
                    - kind: app
                      id: 7395
                      opcode: Unchanged
                      args:
                        - kind: name
                          id: 7394
                          name: None
                    - kind: str
                      id: 7398
                      value: orphans_to_add
                    - kind: app
                      id: 7397
                      opcode: Set
                      args: []
                    - kind: str
                      id: 7400
                      value: nodes_to_add
                    - kind: app
                      id: 7399
                      opcode: Set
                      args: []
              - kind: str
                id: 7428
                value: Some
              - kind: lambda
                id: 7429
                params:
                  - id: 7430
                    name: child
                expr:
                  kind: let
                  id: 7423
                  opdef:
                    id: 7413
                    name: child_node
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7412
                      opcode: get
                      args:
                        - kind: app
                          id: 7404
                          opcode: field
                          args:
                            - kind: name
                              id: 7402
                              name: tree
                            - kind: str
                              id: 7403
                              value: nodes
                        - kind: app
                          id: 7411
                          opcode: Rec
                          args:
                            - kind: str
                              id: 7408
                              value: version
                            - kind: app
                              id: 7407
                              opcode: field
                              args:
                                - kind: name
                                  id: 7405
                                  name: child
                                - kind: str
                                  id: 7406
                                  value: version
                            - kind: str
                              id: 7410
                              value: key_hash
                            - kind: name
                              id: 7409
                              name: child_bits
                    depth: ~
                  expr:
                    kind: app
                    id: 7422
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7417
                        value: outcome
                      - kind: app
                        id: 7416
                        opcode: Unchanged
                        args:
                          - kind: app
                            id: 7415
                            opcode: Some
                            args:
                              - kind: name
                                id: 7414
                                name: child_node
                      - kind: str
                        id: 7419
                        value: orphans_to_add
                      - kind: app
                        id: 7418
                        opcode: Set
                        args: []
                      - kind: str
                        id: 7421
                        value: nodes_to_add
                      - kind: app
                        id: 7420
                        opcode: Set
                        args: []
          - kind: app
            id: 7454
            opcode: matchVariant
            args:
              - kind: name
                id: 7431
                name: child
              - kind: str
                id: 7455
                value: None
              - kind: lambda
                id: 7456
                params:
                  - id: 7457
                    name: _
                expr:
                  kind: let
                  id: 7444
                  opdef:
                    id: 7435
                    name: batchAndOp
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7434
                      opcode: prepare_batch_for_subtree
                      args:
                        - kind: name
                          id: 7432
                          name: batch
                        - kind: name
                          id: 7433
                          name: None
                    depth: ~
                  expr:
                    kind: app
                    id: 7443
                    opcode: create_subtree
                    args:
                      - kind: name
                        id: 7436
                        name: tree
                      - kind: name
                        id: 7437
                        name: new_version
                      - kind: name
                        id: 7438
                        name: child_bits
                      - kind: app
                        id: 7441
                        opcode: item
                        args:
                          - kind: name
                            id: 7439
                            name: batchAndOp
                          - kind: int
                            id: 7440
                            value: 1
                      - kind: name
                        id: 7442
                        name: None
              - kind: str
                id: 7458
                value: Some
              - kind: lambda
                id: 7459
                params:
                  - id: 7460
                    name: child
                expr:
                  kind: app
                  id: 7453
                  opcode: get
                  args:
                    - kind: name
                      id: 7445
                      name: memo
                    - kind: app
                      id: 7452
                      opcode: Tup
                      args:
                        - kind: name
                          id: 7446
                          name: new_version
                        - kind: app
                          id: 7449
                          opcode: field
                          args:
                            - kind: name
                              id: 7447
                              name: child
                            - kind: str
                              id: 7448
                              value: version
                        - kind: name
                          id: 7450
                          name: child_bits
                        - kind: name
                          id: 7451
                          name: batch
    depth: 0
  7005:
    kind: def
    id: 7005
    name: right_result
    qualifier: pureval
    expr:
      kind: app
      id: 7004
      opcode: apply_at_child
      args:
        - kind: name
          id: 6996
          name: tree
        - kind: name
          id: 6997
          name: memo
        - kind: name
          id: 6998
          name: new_version
        - kind: name
          id: 6999
          name: right_bits
        - kind: app
          id: 7002
          opcode: field
          args:
            - kind: name
              id: 7000
              name: internal_node
            - kind: str
              id: 7001
              value: right_child
        - kind: name
          id: 7003
          name: batch_for_right
    depth: 10
  7006:
    kind: def
    id: 7005
    name: right_result
    qualifier: pureval
    expr:
      kind: app
      id: 7004
      opcode: apply_at_child
      args:
        - kind: name
          id: 6996
          name: tree
        - kind: name
          id: 6997
          name: memo
        - kind: name
          id: 6998
          name: new_version
        - kind: name
          id: 6999
          name: right_bits
        - kind: app
          id: 7002
          opcode: field
          args:
            - kind: name
              id: 7000
              name: internal_node
            - kind: str
              id: 7001
              value: right_child
        - kind: name
          id: 7003
          name: batch_for_right
    depth: 10
  7009:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7010:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7011:
    kind: def
    id: 4331
    name: is_updated_or_deleted
    qualifier: puredef
    expr:
      kind: lambda
      id: 4330
      params:
        - id: 4314
          name: outcome
      expr:
        kind: app
        id: 4320
        opcode: matchVariant
        args:
          - kind: name
            id: 4316
            name: outcome
          - kind: str
            id: 4321
            value: Updated
          - kind: lambda
            id: 4322
            params:
              - id: 4323
                name: _
            expr:
              kind: bool
              id: 4317
              value: true
          - kind: str
            id: 4324
            value: Deleted
          - kind: lambda
            id: 4325
            params:
              - id: 4326
                name: _
            expr:
              kind: bool
              id: 4318
              value: true
          - kind: str
            id: 4327
            value: _
          - kind: lambda
            id: 4328
            params:
              - id: 4329
                name: _
            expr:
              kind: bool
              id: 4319
              value: false
    depth: 0
  7012:
    id: 6957
    name: internal_node
  7015:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7018:
    id: 6953
    name: new_version
  7020:
    id: 6957
    name: internal_node
  7023:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7027:
    kind: def
    id: 6977
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6976
      opcode: append
      args:
        - kind: name
          id: 6974
          name: bits
        - kind: int
          id: 6975
          value: 0
    depth: 6
  7033:
    kind: def
    id: 7033
    name: left_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7032
      opcode: ite
      args:
        - kind: app
          id: 7017
          opcode: and
          args:
            - kind: app
              id: 7011
              opcode: is_updated_or_deleted
              args:
                - kind: name
                  id: 7010
                  name: left_outcome
            - kind: app
              id: 7016
              opcode: neq
              args:
                - kind: app
                  id: 7014
                  opcode: field
                  args:
                    - kind: name
                      id: 7012
                      name: internal_node
                    - kind: str
                      id: 7013
                      value: left_child
                - kind: name
                  id: 7015
                  name: None
        - kind: app
          id: 7030
          opcode: Set
          args:
            - kind: app
              id: 7029
              opcode: Rec
              args:
                - kind: str
                  id: 7019
                  value: orphaned_since_version
                - kind: name
                  id: 7018
                  name: new_version
                - kind: str
                  id: 7026
                  value: version
                - kind: app
                  id: 7025
                  opcode: field
                  args:
                    - kind: app
                      id: 7023
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7022
                          opcode: field
                          args:
                            - kind: name
                              id: 7020
                              name: internal_node
                            - kind: str
                              id: 7021
                              value: left_child
                    - kind: str
                      id: 7024
                      value: version
                - kind: str
                  id: 7028
                  value: key_hash
                - kind: name
                  id: 7027
                  name: left_bits
        - kind: app
          id: 7031
          opcode: Set
          args: []
    depth: 12
  7034:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7035:
    kind: def
    id: 4331
    name: is_updated_or_deleted
    qualifier: puredef
    expr:
      kind: lambda
      id: 4330
      params:
        - id: 4314
          name: outcome
      expr:
        kind: app
        id: 4320
        opcode: matchVariant
        args:
          - kind: name
            id: 4316
            name: outcome
          - kind: str
            id: 4321
            value: Updated
          - kind: lambda
            id: 4322
            params:
              - id: 4323
                name: _
            expr:
              kind: bool
              id: 4317
              value: true
          - kind: str
            id: 4324
            value: Deleted
          - kind: lambda
            id: 4325
            params:
              - id: 4326
                name: _
            expr:
              kind: bool
              id: 4318
              value: true
          - kind: str
            id: 4327
            value: _
          - kind: lambda
            id: 4328
            params:
              - id: 4329
                name: _
            expr:
              kind: bool
              id: 4319
              value: false
    depth: 0
  7036:
    id: 6957
    name: internal_node
  7039:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7042:
    id: 6953
    name: new_version
  7044:
    id: 6957
    name: internal_node
  7047:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7051:
    kind: def
    id: 6995
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6994
      opcode: append
      args:
        - kind: name
          id: 6992
          name: bits
        - kind: int
          id: 6993
          value: 1
    depth: 9
  7057:
    kind: def
    id: 7057
    name: right_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7056
      opcode: ite
      args:
        - kind: app
          id: 7041
          opcode: and
          args:
            - kind: app
              id: 7035
              opcode: is_updated_or_deleted
              args:
                - kind: name
                  id: 7034
                  name: right_outcome
            - kind: app
              id: 7040
              opcode: neq
              args:
                - kind: app
                  id: 7038
                  opcode: field
                  args:
                    - kind: name
                      id: 7036
                      name: internal_node
                    - kind: str
                      id: 7037
                      value: right_child
                - kind: name
                  id: 7039
                  name: None
        - kind: app
          id: 7054
          opcode: Set
          args:
            - kind: app
              id: 7053
              opcode: Rec
              args:
                - kind: str
                  id: 7043
                  value: orphaned_since_version
                - kind: name
                  id: 7042
                  name: new_version
                - kind: str
                  id: 7050
                  value: version
                - kind: app
                  id: 7049
                  opcode: field
                  args:
                    - kind: app
                      id: 7047
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7046
                          opcode: field
                          args:
                            - kind: name
                              id: 7044
                              name: internal_node
                            - kind: str
                              id: 7045
                              value: right_child
                    - kind: str
                      id: 7048
                      value: version
                - kind: str
                  id: 7052
                  value: key_hash
                - kind: name
                  id: 7051
                  name: right_bits
        - kind: app
          id: 7055
          opcode: Set
          args: []
    depth: 13
  7058:
    kind: def
    id: 6987
    name: left_result
    qualifier: pureval
    expr:
      kind: app
      id: 6986
      opcode: apply_at_child
      args:
        - kind: name
          id: 6978
          name: tree
        - kind: name
          id: 6979
          name: memo
        - kind: name
          id: 6980
          name: new_version
        - kind: name
          id: 6981
          name: left_bits
        - kind: app
          id: 6984
          opcode: field
          args:
            - kind: name
              id: 6982
              name: internal_node
            - kind: str
              id: 6983
              value: left_child
        - kind: name
          id: 6985
          name: batch_for_left
    depth: 7
  7061:
    kind: def
    id: 7005
    name: right_result
    qualifier: pureval
    expr:
      kind: app
      id: 7004
      opcode: apply_at_child
      args:
        - kind: name
          id: 6996
          name: tree
        - kind: name
          id: 6997
          name: memo
        - kind: name
          id: 6998
          name: new_version
        - kind: name
          id: 6999
          name: right_bits
        - kind: app
          id: 7002
          opcode: field
          args:
            - kind: name
              id: 7000
              name: internal_node
            - kind: str
              id: 7001
              value: right_child
        - kind: name
          id: 7003
          name: batch_for_right
    depth: 10
  7065:
    kind: def
    id: 7033
    name: left_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7032
      opcode: ite
      args:
        - kind: app
          id: 7017
          opcode: and
          args:
            - kind: app
              id: 7011
              opcode: is_updated_or_deleted
              args:
                - kind: name
                  id: 7010
                  name: left_outcome
            - kind: app
              id: 7016
              opcode: neq
              args:
                - kind: app
                  id: 7014
                  opcode: field
                  args:
                    - kind: name
                      id: 7012
                      name: internal_node
                    - kind: str
                      id: 7013
                      value: left_child
                - kind: name
                  id: 7015
                  name: None
        - kind: app
          id: 7030
          opcode: Set
          args:
            - kind: app
              id: 7029
              opcode: Rec
              args:
                - kind: str
                  id: 7019
                  value: orphaned_since_version
                - kind: name
                  id: 7018
                  name: new_version
                - kind: str
                  id: 7026
                  value: version
                - kind: app
                  id: 7025
                  opcode: field
                  args:
                    - kind: app
                      id: 7023
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7022
                          opcode: field
                          args:
                            - kind: name
                              id: 7020
                              name: internal_node
                            - kind: str
                              id: 7021
                              value: left_child
                    - kind: str
                      id: 7024
                      value: version
                - kind: str
                  id: 7028
                  value: key_hash
                - kind: name
                  id: 7027
                  name: left_bits
        - kind: app
          id: 7031
          opcode: Set
          args: []
    depth: 12
  7067:
    kind: def
    id: 7057
    name: right_orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7056
      opcode: ite
      args:
        - kind: app
          id: 7041
          opcode: and
          args:
            - kind: app
              id: 7035
              opcode: is_updated_or_deleted
              args:
                - kind: name
                  id: 7034
                  name: right_outcome
            - kind: app
              id: 7040
              opcode: neq
              args:
                - kind: app
                  id: 7038
                  opcode: field
                  args:
                    - kind: name
                      id: 7036
                      name: internal_node
                    - kind: str
                      id: 7037
                      value: right_child
                - kind: name
                  id: 7039
                  name: None
        - kind: app
          id: 7054
          opcode: Set
          args:
            - kind: app
              id: 7053
              opcode: Rec
              args:
                - kind: str
                  id: 7043
                  value: orphaned_since_version
                - kind: name
                  id: 7042
                  name: new_version
                - kind: str
                  id: 7050
                  value: version
                - kind: app
                  id: 7049
                  opcode: field
                  args:
                    - kind: app
                      id: 7047
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7046
                          opcode: field
                          args:
                            - kind: name
                              id: 7044
                              name: internal_node
                            - kind: str
                              id: 7045
                              value: right_child
                    - kind: str
                      id: 7048
                      value: version
                - kind: str
                  id: 7052
                  value: key_hash
                - kind: name
                  id: 7051
                  name: right_bits
        - kind: app
          id: 7055
          opcode: Set
          args: []
    depth: 13
  7069:
    kind: def
    id: 7069
    name: orphans_from_children
    qualifier: pureval
    expr:
      kind: app
      id: 7068
      opcode: union
      args:
        - kind: app
          id: 7066
          opcode: union
          args:
            - kind: app
              id: 7064
              opcode: union
              args:
                - kind: app
                  id: 7060
                  opcode: field
                  args:
                    - kind: name
                      id: 7058
                      name: left_result
                    - kind: str
                      id: 7059
                      value: orphans_to_add
                - kind: app
                  id: 7063
                  opcode: field
                  args:
                    - kind: name
                      id: 7061
                      name: right_result
                    - kind: str
                      id: 7062
                      value: orphans_to_add
            - kind: name
              id: 7065
              name: left_orphans
        - kind: name
          id: 7067
          name: right_orphans
    depth: 14
  7070:
    kind: def
    id: 6987
    name: left_result
    qualifier: pureval
    expr:
      kind: app
      id: 6986
      opcode: apply_at_child
      args:
        - kind: name
          id: 6978
          name: tree
        - kind: name
          id: 6979
          name: memo
        - kind: name
          id: 6980
          name: new_version
        - kind: name
          id: 6981
          name: left_bits
        - kind: app
          id: 6984
          opcode: field
          args:
            - kind: name
              id: 6982
              name: internal_node
            - kind: str
              id: 6983
              value: left_child
        - kind: name
          id: 6985
          name: batch_for_left
    depth: 7
  7073:
    kind: def
    id: 7005
    name: right_result
    qualifier: pureval
    expr:
      kind: app
      id: 7004
      opcode: apply_at_child
      args:
        - kind: name
          id: 6996
          name: tree
        - kind: name
          id: 6997
          name: memo
        - kind: name
          id: 6998
          name: new_version
        - kind: name
          id: 6999
          name: right_bits
        - kind: app
          id: 7002
          opcode: field
          args:
            - kind: name
              id: 7000
              name: internal_node
            - kind: str
              id: 7001
              value: right_child
        - kind: name
          id: 7003
          name: batch_for_right
    depth: 10
  7077:
    kind: def
    id: 7077
    name: nodes_from_children
    qualifier: pureval
    expr:
      kind: app
      id: 7076
      opcode: union
      args:
        - kind: app
          id: 7072
          opcode: field
          args:
            - kind: name
              id: 7070
              name: left_result
            - kind: str
              id: 7071
              value: nodes_to_add
        - kind: app
          id: 7075
          opcode: field
          args:
            - kind: name
              id: 7073
              name: right_result
            - kind: str
              id: 7074
              value: nodes_to_add
    depth: 15
  7078:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7079:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7081:
    kind: def
    id: 7069
    name: orphans_from_children
    qualifier: pureval
    expr:
      kind: app
      id: 7068
      opcode: union
      args:
        - kind: app
          id: 7066
          opcode: union
          args:
            - kind: app
              id: 7064
              opcode: union
              args:
                - kind: app
                  id: 7060
                  opcode: field
                  args:
                    - kind: name
                      id: 7058
                      name: left_result
                    - kind: str
                      id: 7059
                      value: orphans_to_add
                - kind: app
                  id: 7063
                  opcode: field
                  args:
                    - kind: name
                      id: 7061
                      name: right_result
                    - kind: str
                      id: 7062
                      value: orphans_to_add
            - kind: name
              id: 7065
              name: left_orphans
        - kind: name
          id: 7067
          name: right_orphans
    depth: 14
  7083:
    kind: def
    id: 7077
    name: nodes_from_children
    qualifier: pureval
    expr:
      kind: app
      id: 7076
      opcode: union
      args:
        - kind: app
          id: 7072
          opcode: field
          args:
            - kind: name
              id: 7070
              name: left_result
            - kind: str
              id: 7071
              value: nodes_to_add
        - kind: app
          id: 7075
          opcode: field
          args:
            - kind: name
              id: 7073
              name: right_result
            - kind: str
              id: 7074
              value: nodes_to_add
    depth: 15
  7086:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7087:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7088:
    kind: def
    id: 4346
    name: is_unchanged
    qualifier: puredef
    expr:
      kind: lambda
      id: 4345
      params:
        - id: 4333
          name: outcome
      expr:
        kind: app
        id: 4338
        opcode: matchVariant
        args:
          - kind: name
            id: 4335
            name: outcome
          - kind: str
            id: 4339
            value: Unchanged
          - kind: lambda
            id: 4340
            params:
              - id: 4341
                name: _
            expr:
              kind: bool
              id: 4336
              value: true
          - kind: str
            id: 4342
            value: _
          - kind: lambda
            id: 4343
            params:
              - id: 4344
                name: _
            expr:
              kind: bool
              id: 4337
              value: false
    depth: 0
  7089:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7090:
    kind: def
    id: 4346
    name: is_unchanged
    qualifier: puredef
    expr:
      kind: lambda
      id: 4345
      params:
        - id: 4333
          name: outcome
      expr:
        kind: app
        id: 4338
        opcode: matchVariant
        args:
          - kind: name
            id: 4335
            name: outcome
          - kind: str
            id: 4339
            value: Unchanged
          - kind: lambda
            id: 4340
            params:
              - id: 4341
                name: _
            expr:
              kind: bool
              id: 4336
              value: true
          - kind: str
            id: 4342
            value: _
          - kind: lambda
            id: 4343
            params:
              - id: 4344
                name: _
            expr:
              kind: bool
              id: 4337
              value: false
    depth: 0
  7092:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7093:
    id: 6957
    name: internal_node
  7094:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  7095:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7096:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7099:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7100:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7102:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7103:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7104:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7107:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7108:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7110:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7111:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7112:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7116:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7117:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7120:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7121:
    kind: def
    id: 4403
    name: updated_to_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4402
      params:
        - id: 4381
          name: outcome
      expr:
        kind: app
        id: 4395
        opcode: matchVariant
        args:
          - kind: name
            id: 4383
            name: outcome
          - kind: str
            id: 4396
            value: Updated
          - kind: lambda
            id: 4397
            params:
              - id: 4398
                name: node
            expr:
              kind: app
              id: 4387
              opcode: matchVariant
              args:
                - kind: name
                  id: 4384
                  name: node
                - kind: str
                  id: 4388
                  value: Leaf
                - kind: lambda
                  id: 4389
                  params:
                    - id: 4390
                      name: _
                  expr:
                    kind: bool
                    id: 4385
                    value: true
                - kind: str
                  id: 4391
                  value: _
                - kind: lambda
                  id: 4392
                  params:
                    - id: 4393
                      name: _
                  expr:
                    kind: bool
                    id: 4386
                    value: false
          - kind: str
            id: 4399
            value: _
          - kind: lambda
            id: 4400
            params:
              - id: 4401
                name: _
            expr:
              kind: bool
              id: 4394
              value: false
    depth: 0
  7122:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7123:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7125:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7126:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7127:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7131:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7132:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7135:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7136:
    kind: def
    id: 4379
    name: unchanged_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4378
      params:
        - id: 4348
          name: outcome
      expr:
        kind: app
        id: 4371
        opcode: matchVariant
        args:
          - kind: name
            id: 4350
            name: outcome
          - kind: str
            id: 4372
            value: Unchanged
          - kind: lambda
            id: 4373
            params:
              - id: 4374
                name: optional
            expr:
              kind: app
              id: 4363
              opcode: matchVariant
              args:
                - kind: name
                  id: 4351
                  name: optional
                - kind: str
                  id: 4364
                  value: Some
                - kind: lambda
                  id: 4365
                  params:
                    - id: 4366
                      name: node
                  expr:
                    kind: app
                    id: 4355
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 4352
                        name: node
                      - kind: str
                        id: 4356
                        value: Leaf
                      - kind: lambda
                        id: 4357
                        params:
                          - id: 4358
                            name: _
                        expr:
                          kind: bool
                          id: 4353
                          value: true
                      - kind: str
                        id: 4359
                        value: _
                      - kind: lambda
                        id: 4360
                        params:
                          - id: 4361
                            name: _
                        expr:
                          kind: bool
                          id: 4354
                          value: false
                - kind: str
                  id: 4367
                  value: _
                - kind: lambda
                  id: 4368
                  params:
                    - id: 4369
                      name: _
                  expr:
                    kind: bool
                    id: 4362
                    value: false
          - kind: str
            id: 4375
            value: _
          - kind: lambda
            id: 4376
            params:
              - id: 4377
                name: _
            expr:
              kind: bool
              id: 4370
              value: false
    depth: 0
  7137:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7138:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7141:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7142:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7145:
    id: 6953
    name: new_version
  7147:
    id: 6957
    name: internal_node
  7150:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7154:
    kind: def
    id: 6977
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6976
      opcode: append
      args:
        - kind: name
          id: 6974
          name: bits
        - kind: int
          id: 6975
          value: 0
    depth: 6
  7159:
    kind: def
    id: 7159
    name: orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7158
      opcode: union
      args:
        - kind: app
          id: 7144
          opcode: field
          args:
            - kind: name
              id: 7142
              name: default_result
            - kind: str
              id: 7143
              value: orphans_to_add
        - kind: app
          id: 7157
          opcode: Set
          args:
            - kind: app
              id: 7156
              opcode: Rec
              args:
                - kind: str
                  id: 7146
                  value: orphaned_since_version
                - kind: name
                  id: 7145
                  name: new_version
                - kind: str
                  id: 7153
                  value: version
                - kind: app
                  id: 7152
                  opcode: field
                  args:
                    - kind: app
                      id: 7150
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7149
                          opcode: field
                          args:
                            - kind: name
                              id: 7147
                              name: internal_node
                            - kind: str
                              id: 7148
                              value: left_child
                    - kind: str
                      id: 7151
                      value: version
                - kind: str
                  id: 7155
                  value: key_hash
                - kind: name
                  id: 7154
                  name: left_bits
    depth: 18
  7160:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7161:
    id: 7174
    name: left
  7162:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7163:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7165:
    kind: def
    id: 7159
    name: orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7158
      opcode: union
      args:
        - kind: app
          id: 7144
          opcode: field
          args:
            - kind: name
              id: 7142
              name: default_result
            - kind: str
              id: 7143
              value: orphans_to_add
        - kind: app
          id: 7157
          opcode: Set
          args:
            - kind: app
              id: 7156
              opcode: Rec
              args:
                - kind: str
                  id: 7146
                  value: orphaned_since_version
                - kind: name
                  id: 7145
                  name: new_version
                - kind: str
                  id: 7153
                  value: version
                - kind: app
                  id: 7152
                  opcode: field
                  args:
                    - kind: app
                      id: 7150
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7149
                          opcode: field
                          args:
                            - kind: name
                              id: 7147
                              name: internal_node
                            - kind: str
                              id: 7148
                              value: left_child
                    - kind: str
                      id: 7151
                      value: version
                - kind: str
                  id: 7155
                  value: key_hash
                - kind: name
                  id: 7154
                  name: left_bits
    depth: 18
  7170:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7178:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7179:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7181:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7182:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7183:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7186:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7187:
    kind: def
    id: 4403
    name: updated_to_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4402
      params:
        - id: 4381
          name: outcome
      expr:
        kind: app
        id: 4395
        opcode: matchVariant
        args:
          - kind: name
            id: 4383
            name: outcome
          - kind: str
            id: 4396
            value: Updated
          - kind: lambda
            id: 4397
            params:
              - id: 4398
                name: node
            expr:
              kind: app
              id: 4387
              opcode: matchVariant
              args:
                - kind: name
                  id: 4384
                  name: node
                - kind: str
                  id: 4388
                  value: Leaf
                - kind: lambda
                  id: 4389
                  params:
                    - id: 4390
                      name: _
                  expr:
                    kind: bool
                    id: 4385
                    value: true
                - kind: str
                  id: 4391
                  value: _
                - kind: lambda
                  id: 4392
                  params:
                    - id: 4393
                      name: _
                  expr:
                    kind: bool
                    id: 4386
                    value: false
          - kind: str
            id: 4399
            value: _
          - kind: lambda
            id: 4400
            params:
              - id: 4401
                name: _
            expr:
              kind: bool
              id: 4394
              value: false
    depth: 0
  7189:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7190:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7193:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7194:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7196:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7197:
    kind: def
    id: 4379
    name: unchanged_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 4378
      params:
        - id: 4348
          name: outcome
      expr:
        kind: app
        id: 4371
        opcode: matchVariant
        args:
          - kind: name
            id: 4350
            name: outcome
          - kind: str
            id: 4372
            value: Unchanged
          - kind: lambda
            id: 4373
            params:
              - id: 4374
                name: optional
            expr:
              kind: app
              id: 4363
              opcode: matchVariant
              args:
                - kind: name
                  id: 4351
                  name: optional
                - kind: str
                  id: 4364
                  value: Some
                - kind: lambda
                  id: 4365
                  params:
                    - id: 4366
                      name: node
                  expr:
                    kind: app
                    id: 4355
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 4352
                        name: node
                      - kind: str
                        id: 4356
                        value: Leaf
                      - kind: lambda
                        id: 4357
                        params:
                          - id: 4358
                            name: _
                        expr:
                          kind: bool
                          id: 4353
                          value: true
                      - kind: str
                        id: 4359
                        value: _
                      - kind: lambda
                        id: 4360
                        params:
                          - id: 4361
                            name: _
                        expr:
                          kind: bool
                          id: 4354
                          value: false
                - kind: str
                  id: 4367
                  value: _
                - kind: lambda
                  id: 4368
                  params:
                    - id: 4369
                      name: _
                  expr:
                    kind: bool
                    id: 4362
                    value: false
          - kind: str
            id: 4375
            value: _
          - kind: lambda
            id: 4376
            params:
              - id: 4377
                name: _
            expr:
              kind: bool
              id: 4370
              value: false
    depth: 0
  7199:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7200:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7203:
    id: 6953
    name: new_version
  7205:
    id: 6957
    name: internal_node
  7208:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7212:
    kind: def
    id: 6995
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6994
      opcode: append
      args:
        - kind: name
          id: 6992
          name: bits
        - kind: int
          id: 6993
          value: 1
    depth: 9
  7217:
    kind: def
    id: 7217
    name: orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7216
      opcode: union
      args:
        - kind: app
          id: 7202
          opcode: field
          args:
            - kind: name
              id: 7200
              name: default_result
            - kind: str
              id: 7201
              value: orphans_to_add
        - kind: app
          id: 7215
          opcode: Set
          args:
            - kind: app
              id: 7214
              opcode: Rec
              args:
                - kind: str
                  id: 7204
                  value: orphaned_since_version
                - kind: name
                  id: 7203
                  name: new_version
                - kind: str
                  id: 7211
                  value: version
                - kind: app
                  id: 7210
                  opcode: field
                  args:
                    - kind: app
                      id: 7208
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7207
                          opcode: field
                          args:
                            - kind: name
                              id: 7205
                              name: internal_node
                            - kind: str
                              id: 7206
                              value: right_child
                    - kind: str
                      id: 7209
                      value: version
                - kind: str
                  id: 7213
                  value: key_hash
                - kind: name
                  id: 7212
                  name: right_bits
    depth: 18
  7218:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7219:
    id: 7232
    name: right
  7220:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7221:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7223:
    kind: def
    id: 7217
    name: orphans
    qualifier: pureval
    expr:
      kind: app
      id: 7216
      opcode: union
      args:
        - kind: app
          id: 7202
          opcode: field
          args:
            - kind: name
              id: 7200
              name: default_result
            - kind: str
              id: 7201
              value: orphans_to_add
        - kind: app
          id: 7215
          opcode: Set
          args:
            - kind: app
              id: 7214
              opcode: Rec
              args:
                - kind: str
                  id: 7204
                  value: orphaned_since_version
                - kind: name
                  id: 7203
                  name: new_version
                - kind: str
                  id: 7211
                  value: version
                - kind: app
                  id: 7210
                  opcode: field
                  args:
                    - kind: app
                      id: 7208
                      opcode: unwrap
                      args:
                        - kind: app
                          id: 7207
                          opcode: field
                          args:
                            - kind: name
                              id: 7205
                              name: internal_node
                            - kind: str
                              id: 7206
                              value: right_child
                    - kind: str
                      id: 7209
                      value: version
                - kind: str
                  id: 7213
                  value: key_hash
                - kind: name
                  id: 7212
                  name: right_bits
    depth: 18
  7228:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7236:
    kind: def
    id: 6991
    name: left_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 6990
      opcode: field
      args:
        - kind: name
          id: 6988
          name: left_result
        - kind: str
          id: 6989
          value: outcome
    depth: 8
  7237:
    id: 6953
    name: new_version
  7239:
    id: 7270
    name: node
  7240:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  7243:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7245:
    id: 6953
    name: new_version
  7247:
    kind: def
    id: 6977
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6976
      opcode: append
      args:
        - kind: name
          id: 6974
          name: bits
        - kind: int
          id: 6975
          value: 0
    depth: 6
  7250:
    id: 7270
    name: node
  7255:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7260:
    id: 6957
    name: internal_node
  7277:
    kind: def
    id: 7277
    name: new_left_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7267
      opcode: matchVariant
      args:
        - kind: name
          id: 7236
          name: left_outcome
        - kind: str
          id: 7268
          value: Updated
        - kind: lambda
          id: 7269
          params:
            - id: 7270
              name: node
          expr:
            kind: app
            id: 7254
            opcode: Rec
            args:
              - kind: str
                id: 7244
                value: child
              - kind: app
                id: 7243
                opcode: Some
                args:
                  - kind: app
                    id: 7242
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7238
                        value: version
                      - kind: name
                        id: 7237
                        name: new_version
                      - kind: str
                        id: 7241
                        value: hash
                      - kind: app
                        id: 7240
                        opcode: hash
                        args:
                          - kind: name
                            id: 7239
                            name: node
              - kind: str
                id: 7253
                value: nodes_to_add
              - kind: app
                id: 7252
                opcode: Set
                args:
                  - kind: app
                    id: 7251
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7249
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7246
                            value: version
                          - kind: name
                            id: 7245
                            name: new_version
                          - kind: str
                            id: 7248
                            value: key_hash
                          - kind: name
                            id: 7247
                            name: left_bits
                      - kind: name
                        id: 7250
                        name: node
        - kind: str
          id: 7271
          value: Deleted
        - kind: lambda
          id: 7272
          params:
            - id: 7273
              name: _
          expr:
            kind: app
            id: 7259
            opcode: Rec
            args:
              - kind: str
                id: 7256
                value: child
              - kind: name
                id: 7255
                name: None
              - kind: str
                id: 7258
                value: nodes_to_add
              - kind: app
                id: 7257
                opcode: Set
                args: []
        - kind: str
          id: 7274
          value: Unchanged
        - kind: lambda
          id: 7275
          params:
            - id: 7276
              name: _
          expr:
            kind: app
            id: 7266
            opcode: Rec
            args:
              - kind: str
                id: 7263
                value: child
              - kind: app
                id: 7262
                opcode: field
                args:
                  - kind: name
                    id: 7260
                    name: internal_node
                  - kind: str
                    id: 7261
                    value: left_child
              - kind: str
                id: 7265
                value: nodes_to_add
              - kind: app
                id: 7264
                opcode: Set
                args: []
    depth: 17
  7278:
    kind: def
    id: 7009
    name: right_outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7008
      opcode: field
      args:
        - kind: name
          id: 7006
          name: right_result
        - kind: str
          id: 7007
          value: outcome
    depth: 11
  7279:
    id: 6953
    name: new_version
  7281:
    id: 7312
    name: node
  7282:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  7285:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7287:
    id: 6953
    name: new_version
  7289:
    kind: def
    id: 6995
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 6994
      opcode: append
      args:
        - kind: name
          id: 6992
          name: bits
        - kind: int
          id: 6993
          value: 1
    depth: 9
  7292:
    id: 7312
    name: node
  7297:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7302:
    id: 6957
    name: internal_node
  7319:
    kind: def
    id: 7319
    name: new_right_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7309
      opcode: matchVariant
      args:
        - kind: name
          id: 7278
          name: right_outcome
        - kind: str
          id: 7310
          value: Updated
        - kind: lambda
          id: 7311
          params:
            - id: 7312
              name: node
          expr:
            kind: app
            id: 7296
            opcode: Rec
            args:
              - kind: str
                id: 7286
                value: child
              - kind: app
                id: 7285
                opcode: Some
                args:
                  - kind: app
                    id: 7284
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7280
                        value: version
                      - kind: name
                        id: 7279
                        name: new_version
                      - kind: str
                        id: 7283
                        value: hash
                      - kind: app
                        id: 7282
                        opcode: hash
                        args:
                          - kind: name
                            id: 7281
                            name: node
              - kind: str
                id: 7295
                value: nodes_to_add
              - kind: app
                id: 7294
                opcode: Set
                args:
                  - kind: app
                    id: 7293
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7291
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7288
                            value: version
                          - kind: name
                            id: 7287
                            name: new_version
                          - kind: str
                            id: 7290
                            value: key_hash
                          - kind: name
                            id: 7289
                            name: right_bits
                      - kind: name
                        id: 7292
                        name: node
        - kind: str
          id: 7313
          value: Deleted
        - kind: lambda
          id: 7314
          params:
            - id: 7315
              name: _
          expr:
            kind: app
            id: 7301
            opcode: Rec
            args:
              - kind: str
                id: 7298
                value: child
              - kind: name
                id: 7297
                name: None
              - kind: str
                id: 7300
                value: nodes_to_add
              - kind: app
                id: 7299
                opcode: Set
                args: []
        - kind: str
          id: 7316
          value: Unchanged
        - kind: lambda
          id: 7317
          params:
            - id: 7318
              name: _
          expr:
            kind: app
            id: 7308
            opcode: Rec
            args:
              - kind: str
                id: 7305
                value: child
              - kind: app
                id: 7304
                opcode: field
                args:
                  - kind: name
                    id: 7302
                    name: internal_node
                  - kind: str
                    id: 7303
                    value: right_child
              - kind: str
                id: 7307
                value: nodes_to_add
              - kind: app
                id: 7306
                opcode: Set
                args: []
    depth: 18
  7320:
    kind: def
    id: 7277
    name: new_left_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7267
      opcode: matchVariant
      args:
        - kind: name
          id: 7236
          name: left_outcome
        - kind: str
          id: 7268
          value: Updated
        - kind: lambda
          id: 7269
          params:
            - id: 7270
              name: node
          expr:
            kind: app
            id: 7254
            opcode: Rec
            args:
              - kind: str
                id: 7244
                value: child
              - kind: app
                id: 7243
                opcode: Some
                args:
                  - kind: app
                    id: 7242
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7238
                        value: version
                      - kind: name
                        id: 7237
                        name: new_version
                      - kind: str
                        id: 7241
                        value: hash
                      - kind: app
                        id: 7240
                        opcode: hash
                        args:
                          - kind: name
                            id: 7239
                            name: node
              - kind: str
                id: 7253
                value: nodes_to_add
              - kind: app
                id: 7252
                opcode: Set
                args:
                  - kind: app
                    id: 7251
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7249
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7246
                            value: version
                          - kind: name
                            id: 7245
                            name: new_version
                          - kind: str
                            id: 7248
                            value: key_hash
                          - kind: name
                            id: 7247
                            name: left_bits
                      - kind: name
                        id: 7250
                        name: node
        - kind: str
          id: 7271
          value: Deleted
        - kind: lambda
          id: 7272
          params:
            - id: 7273
              name: _
          expr:
            kind: app
            id: 7259
            opcode: Rec
            args:
              - kind: str
                id: 7256
                value: child
              - kind: name
                id: 7255
                name: None
              - kind: str
                id: 7258
                value: nodes_to_add
              - kind: app
                id: 7257
                opcode: Set
                args: []
        - kind: str
          id: 7274
          value: Unchanged
        - kind: lambda
          id: 7275
          params:
            - id: 7276
              name: _
          expr:
            kind: app
            id: 7266
            opcode: Rec
            args:
              - kind: str
                id: 7263
                value: child
              - kind: app
                id: 7262
                opcode: field
                args:
                  - kind: name
                    id: 7260
                    name: internal_node
                  - kind: str
                    id: 7261
                    value: left_child
              - kind: str
                id: 7265
                value: nodes_to_add
              - kind: app
                id: 7264
                opcode: Set
                args: []
    depth: 17
  7324:
    kind: def
    id: 7319
    name: new_right_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7309
      opcode: matchVariant
      args:
        - kind: name
          id: 7278
          name: right_outcome
        - kind: str
          id: 7310
          value: Updated
        - kind: lambda
          id: 7311
          params:
            - id: 7312
              name: node
          expr:
            kind: app
            id: 7296
            opcode: Rec
            args:
              - kind: str
                id: 7286
                value: child
              - kind: app
                id: 7285
                opcode: Some
                args:
                  - kind: app
                    id: 7284
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7280
                        value: version
                      - kind: name
                        id: 7279
                        name: new_version
                      - kind: str
                        id: 7283
                        value: hash
                      - kind: app
                        id: 7282
                        opcode: hash
                        args:
                          - kind: name
                            id: 7281
                            name: node
              - kind: str
                id: 7295
                value: nodes_to_add
              - kind: app
                id: 7294
                opcode: Set
                args:
                  - kind: app
                    id: 7293
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7291
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7288
                            value: version
                          - kind: name
                            id: 7287
                            name: new_version
                          - kind: str
                            id: 7290
                            value: key_hash
                          - kind: name
                            id: 7289
                            name: right_bits
                      - kind: name
                        id: 7292
                        name: node
        - kind: str
          id: 7313
          value: Deleted
        - kind: lambda
          id: 7314
          params:
            - id: 7315
              name: _
          expr:
            kind: app
            id: 7301
            opcode: Rec
            args:
              - kind: str
                id: 7298
                value: child
              - kind: name
                id: 7297
                name: None
              - kind: str
                id: 7300
                value: nodes_to_add
              - kind: app
                id: 7299
                opcode: Set
                args: []
        - kind: str
          id: 7316
          value: Unchanged
        - kind: lambda
          id: 7317
          params:
            - id: 7318
              name: _
          expr:
            kind: app
            id: 7308
            opcode: Rec
            args:
              - kind: str
                id: 7305
                value: child
              - kind: app
                id: 7304
                opcode: field
                args:
                  - kind: name
                    id: 7302
                    name: internal_node
                  - kind: str
                    id: 7303
                    value: right_child
              - kind: str
                id: 7307
                value: nodes_to_add
              - kind: app
                id: 7306
                opcode: Set
                args: []
    depth: 18
  7329:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  7330:
    kind: def
    id: 7330
    name: new_internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 7329
      opcode: Internal
      args:
        - kind: app
          id: 7328
          opcode: Rec
          args:
            - kind: str
              id: 7323
              value: left_child
            - kind: app
              id: 7322
              opcode: field
              args:
                - kind: name
                  id: 7320
                  name: new_left_child_and_tree
                - kind: str
                  id: 7321
                  value: child
            - kind: str
              id: 7327
              value: right_child
            - kind: app
              id: 7326
              opcode: field
              args:
                - kind: name
                  id: 7324
                  name: new_right_child_and_tree
                - kind: str
                  id: 7325
                  value: child
    depth: 19
  7331:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7332:
    kind: def
    id: 7330
    name: new_internal_node
    qualifier: pureval
    expr:
      kind: app
      id: 7329
      opcode: Internal
      args:
        - kind: app
          id: 7328
          opcode: Rec
          args:
            - kind: str
              id: 7323
              value: left_child
            - kind: app
              id: 7322
              opcode: field
              args:
                - kind: name
                  id: 7320
                  name: new_left_child_and_tree
                - kind: str
                  id: 7321
                  value: child
            - kind: str
              id: 7327
              value: right_child
            - kind: app
              id: 7326
              opcode: field
              args:
                - kind: name
                  id: 7324
                  name: new_right_child_and_tree
                - kind: str
                  id: 7325
                  value: child
    depth: 19
  7333:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7335:
    kind: def
    id: 7086
    name: default_result
    qualifier: pureval
    expr:
      kind: app
      id: 7085
      opcode: Rec
      args:
        - kind: str
          id: 7080
          value: outcome
        - kind: app
          id: 7079
          opcode: Unchanged
          args:
            - kind: name
              id: 7078
              name: None
        - kind: str
          id: 7082
          value: orphans_to_add
        - kind: name
          id: 7081
          name: orphans_from_children
        - kind: str
          id: 7084
          value: nodes_to_add
        - kind: name
          id: 7083
          name: nodes_from_children
    depth: 16
  7338:
    kind: def
    id: 7277
    name: new_left_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7267
      opcode: matchVariant
      args:
        - kind: name
          id: 7236
          name: left_outcome
        - kind: str
          id: 7268
          value: Updated
        - kind: lambda
          id: 7269
          params:
            - id: 7270
              name: node
          expr:
            kind: app
            id: 7254
            opcode: Rec
            args:
              - kind: str
                id: 7244
                value: child
              - kind: app
                id: 7243
                opcode: Some
                args:
                  - kind: app
                    id: 7242
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7238
                        value: version
                      - kind: name
                        id: 7237
                        name: new_version
                      - kind: str
                        id: 7241
                        value: hash
                      - kind: app
                        id: 7240
                        opcode: hash
                        args:
                          - kind: name
                            id: 7239
                            name: node
              - kind: str
                id: 7253
                value: nodes_to_add
              - kind: app
                id: 7252
                opcode: Set
                args:
                  - kind: app
                    id: 7251
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7249
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7246
                            value: version
                          - kind: name
                            id: 7245
                            name: new_version
                          - kind: str
                            id: 7248
                            value: key_hash
                          - kind: name
                            id: 7247
                            name: left_bits
                      - kind: name
                        id: 7250
                        name: node
        - kind: str
          id: 7271
          value: Deleted
        - kind: lambda
          id: 7272
          params:
            - id: 7273
              name: _
          expr:
            kind: app
            id: 7259
            opcode: Rec
            args:
              - kind: str
                id: 7256
                value: child
              - kind: name
                id: 7255
                name: None
              - kind: str
                id: 7258
                value: nodes_to_add
              - kind: app
                id: 7257
                opcode: Set
                args: []
        - kind: str
          id: 7274
          value: Unchanged
        - kind: lambda
          id: 7275
          params:
            - id: 7276
              name: _
          expr:
            kind: app
            id: 7266
            opcode: Rec
            args:
              - kind: str
                id: 7263
                value: child
              - kind: app
                id: 7262
                opcode: field
                args:
                  - kind: name
                    id: 7260
                    name: internal_node
                  - kind: str
                    id: 7261
                    value: left_child
              - kind: str
                id: 7265
                value: nodes_to_add
              - kind: app
                id: 7264
                opcode: Set
                args: []
    depth: 17
  7342:
    kind: def
    id: 7319
    name: new_right_child_and_tree
    qualifier: pureval
    expr:
      kind: app
      id: 7309
      opcode: matchVariant
      args:
        - kind: name
          id: 7278
          name: right_outcome
        - kind: str
          id: 7310
          value: Updated
        - kind: lambda
          id: 7311
          params:
            - id: 7312
              name: node
          expr:
            kind: app
            id: 7296
            opcode: Rec
            args:
              - kind: str
                id: 7286
                value: child
              - kind: app
                id: 7285
                opcode: Some
                args:
                  - kind: app
                    id: 7284
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7280
                        value: version
                      - kind: name
                        id: 7279
                        name: new_version
                      - kind: str
                        id: 7283
                        value: hash
                      - kind: app
                        id: 7282
                        opcode: hash
                        args:
                          - kind: name
                            id: 7281
                            name: node
              - kind: str
                id: 7295
                value: nodes_to_add
              - kind: app
                id: 7294
                opcode: Set
                args:
                  - kind: app
                    id: 7293
                    opcode: Tup
                    args:
                      - kind: app
                        id: 7291
                        opcode: Rec
                        args:
                          - kind: str
                            id: 7288
                            value: version
                          - kind: name
                            id: 7287
                            name: new_version
                          - kind: str
                            id: 7290
                            value: key_hash
                          - kind: name
                            id: 7289
                            name: right_bits
                      - kind: name
                        id: 7292
                        name: node
        - kind: str
          id: 7313
          value: Deleted
        - kind: lambda
          id: 7314
          params:
            - id: 7315
              name: _
          expr:
            kind: app
            id: 7301
            opcode: Rec
            args:
              - kind: str
                id: 7298
                value: child
              - kind: name
                id: 7297
                name: None
              - kind: str
                id: 7300
                value: nodes_to_add
              - kind: app
                id: 7299
                opcode: Set
                args: []
        - kind: str
          id: 7316
          value: Unchanged
        - kind: lambda
          id: 7317
          params:
            - id: 7318
              name: _
          expr:
            kind: app
            id: 7308
            opcode: Rec
            args:
              - kind: str
                id: 7305
                value: child
              - kind: app
                id: 7304
                opcode: field
                args:
                  - kind: name
                    id: 7302
                    name: internal_node
                  - kind: str
                    id: 7303
                    value: right_child
              - kind: str
                id: 7307
                value: nodes_to_add
              - kind: app
                id: 7306
                opcode: Set
                args: []
    depth: 18
  7373:
    kind: def
    id: 7373
    name: apply_at_internal
    qualifier: puredef
    expr:
      kind: lambda
      id: 7372
      params:
        - id: 6949
          name: tree
        - id: 6951
          name: memo
        - id: 6953
          name: new_version
        - id: 6955
          name: bits
        - id: 6957
          name: internal_node
        - id: 6960
          name: batch
      expr:
        kind: let
        id: 7371
        opdef:
          id: 6965
          name: partitioned_batch
          qualifier: pureval
          expr:
            kind: app
            id: 6964
            opcode: partition_batch
            args:
              - kind: name
                id: 6962
                name: batch
              - kind: name
                id: 6963
                name: bits
          depth: ~
        expr:
          kind: let
          id: 7370
          opdef:
            id: 6969
            name: batch_for_left
            qualifier: pureval
            expr:
              kind: app
              id: 6968
              opcode: item
              args:
                - kind: name
                  id: 6966
                  name: partitioned_batch
                - kind: int
                  id: 6967
                  value: 1
            depth: ~
          expr:
            kind: let
            id: 7369
            opdef:
              id: 6973
              name: batch_for_right
              qualifier: pureval
              expr:
                kind: app
                id: 6972
                opcode: item
                args:
                  - kind: name
                    id: 6970
                    name: partitioned_batch
                  - kind: int
                    id: 6971
                    value: 2
              depth: ~
            expr:
              kind: let
              id: 7368
              opdef:
                id: 6977
                name: left_bits
                qualifier: pureval
                expr:
                  kind: app
                  id: 6976
                  opcode: append
                  args:
                    - kind: name
                      id: 6974
                      name: bits
                    - kind: int
                      id: 6975
                      value: 0
                depth: ~
              expr:
                kind: let
                id: 7367
                opdef:
                  id: 6987
                  name: left_result
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 6986
                    opcode: apply_at_child
                    args:
                      - kind: name
                        id: 6978
                        name: tree
                      - kind: name
                        id: 6979
                        name: memo
                      - kind: name
                        id: 6980
                        name: new_version
                      - kind: name
                        id: 6981
                        name: left_bits
                      - kind: app
                        id: 6984
                        opcode: field
                        args:
                          - kind: name
                            id: 6982
                            name: internal_node
                          - kind: str
                            id: 6983
                            value: left_child
                      - kind: name
                        id: 6985
                        name: batch_for_left
                  depth: ~
                expr:
                  kind: let
                  id: 7366
                  opdef:
                    id: 6991
                    name: left_outcome
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 6990
                      opcode: field
                      args:
                        - kind: name
                          id: 6988
                          name: left_result
                        - kind: str
                          id: 6989
                          value: outcome
                    depth: ~
                  expr:
                    kind: let
                    id: 7365
                    opdef:
                      id: 6995
                      name: right_bits
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 6994
                        opcode: append
                        args:
                          - kind: name
                            id: 6992
                            name: bits
                          - kind: int
                            id: 6993
                            value: 1
                      depth: ~
                    expr:
                      kind: let
                      id: 7364
                      opdef:
                        id: 7005
                        name: right_result
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7004
                          opcode: apply_at_child
                          args:
                            - kind: name
                              id: 6996
                              name: tree
                            - kind: name
                              id: 6997
                              name: memo
                            - kind: name
                              id: 6998
                              name: new_version
                            - kind: name
                              id: 6999
                              name: right_bits
                            - kind: app
                              id: 7002
                              opcode: field
                              args:
                                - kind: name
                                  id: 7000
                                  name: internal_node
                                - kind: str
                                  id: 7001
                                  value: right_child
                            - kind: name
                              id: 7003
                              name: batch_for_right
                        depth: ~
                      expr:
                        kind: let
                        id: 7363
                        opdef:
                          id: 7009
                          name: right_outcome
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 7008
                            opcode: field
                            args:
                              - kind: name
                                id: 7006
                                name: right_result
                              - kind: str
                                id: 7007
                                value: outcome
                          depth: ~
                        expr:
                          kind: let
                          id: 7362
                          opdef:
                            id: 7033
                            name: left_orphans
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 7032
                              opcode: ite
                              args:
                                - kind: app
                                  id: 7017
                                  opcode: and
                                  args:
                                    - kind: app
                                      id: 7011
                                      opcode: is_updated_or_deleted
                                      args:
                                        - kind: name
                                          id: 7010
                                          name: left_outcome
                                    - kind: app
                                      id: 7016
                                      opcode: neq
                                      args:
                                        - kind: app
                                          id: 7014
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 7012
                                              name: internal_node
                                            - kind: str
                                              id: 7013
                                              value: left_child
                                        - kind: name
                                          id: 7015
                                          name: None
                                - kind: app
                                  id: 7030
                                  opcode: Set
                                  args:
                                    - kind: app
                                      id: 7029
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 7019
                                          value: orphaned_since_version
                                        - kind: name
                                          id: 7018
                                          name: new_version
                                        - kind: str
                                          id: 7026
                                          value: version
                                        - kind: app
                                          id: 7025
                                          opcode: field
                                          args:
                                            - kind: app
                                              id: 7023
                                              opcode: unwrap
                                              args:
                                                - kind: app
                                                  id: 7022
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 7020
                                                      name: internal_node
                                                    - kind: str
                                                      id: 7021
                                                      value: left_child
                                            - kind: str
                                              id: 7024
                                              value: version
                                        - kind: str
                                          id: 7028
                                          value: key_hash
                                        - kind: name
                                          id: 7027
                                          name: left_bits
                                - kind: app
                                  id: 7031
                                  opcode: Set
                                  args: []
                            depth: ~
                          expr:
                            kind: let
                            id: 7361
                            opdef:
                              id: 7057
                              name: right_orphans
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 7056
                                opcode: ite
                                args:
                                  - kind: app
                                    id: 7041
                                    opcode: and
                                    args:
                                      - kind: app
                                        id: 7035
                                        opcode: is_updated_or_deleted
                                        args:
                                          - kind: name
                                            id: 7034
                                            name: right_outcome
                                      - kind: app
                                        id: 7040
                                        opcode: neq
                                        args:
                                          - kind: app
                                            id: 7038
                                            opcode: field
                                            args:
                                              - kind: name
                                                id: 7036
                                                name: internal_node
                                              - kind: str
                                                id: 7037
                                                value: right_child
                                          - kind: name
                                            id: 7039
                                            name: None
                                  - kind: app
                                    id: 7054
                                    opcode: Set
                                    args:
                                      - kind: app
                                        id: 7053
                                        opcode: Rec
                                        args:
                                          - kind: str
                                            id: 7043
                                            value: orphaned_since_version
                                          - kind: name
                                            id: 7042
                                            name: new_version
                                          - kind: str
                                            id: 7050
                                            value: version
                                          - kind: app
                                            id: 7049
                                            opcode: field
                                            args:
                                              - kind: app
                                                id: 7047
                                                opcode: unwrap
                                                args:
                                                  - kind: app
                                                    id: 7046
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 7044
                                                        name: internal_node
                                                      - kind: str
                                                        id: 7045
                                                        value: right_child
                                              - kind: str
                                                id: 7048
                                                value: version
                                          - kind: str
                                            id: 7052
                                            value: key_hash
                                          - kind: name
                                            id: 7051
                                            name: right_bits
                                  - kind: app
                                    id: 7055
                                    opcode: Set
                                    args: []
                              depth: ~
                            expr:
                              kind: let
                              id: 7360
                              opdef:
                                id: 7069
                                name: orphans_from_children
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 7068
                                  opcode: union
                                  args:
                                    - kind: app
                                      id: 7066
                                      opcode: union
                                      args:
                                        - kind: app
                                          id: 7064
                                          opcode: union
                                          args:
                                            - kind: app
                                              id: 7060
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 7058
                                                  name: left_result
                                                - kind: str
                                                  id: 7059
                                                  value: orphans_to_add
                                            - kind: app
                                              id: 7063
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 7061
                                                  name: right_result
                                                - kind: str
                                                  id: 7062
                                                  value: orphans_to_add
                                        - kind: name
                                          id: 7065
                                          name: left_orphans
                                    - kind: name
                                      id: 7067
                                      name: right_orphans
                                depth: ~
                              expr:
                                kind: let
                                id: 7359
                                opdef:
                                  id: 7077
                                  name: nodes_from_children
                                  qualifier: pureval
                                  expr:
                                    kind: app
                                    id: 7076
                                    opcode: union
                                    args:
                                      - kind: app
                                        id: 7072
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 7070
                                            name: left_result
                                          - kind: str
                                            id: 7071
                                            value: nodes_to_add
                                      - kind: app
                                        id: 7075
                                        opcode: field
                                        args:
                                          - kind: name
                                            id: 7073
                                            name: right_result
                                          - kind: str
                                            id: 7074
                                            value: nodes_to_add
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 7358
                                  opdef:
                                    id: 7086
                                    name: default_result
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 7085
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 7080
                                          value: outcome
                                        - kind: app
                                          id: 7079
                                          opcode: Unchanged
                                          args:
                                            - kind: name
                                              id: 7078
                                              name: None
                                        - kind: str
                                          id: 7082
                                          value: orphans_to_add
                                        - kind: name
                                          id: 7081
                                          name: orphans_from_children
                                        - kind: str
                                          id: 7084
                                          value: nodes_to_add
                                        - kind: name
                                          id: 7083
                                          name: nodes_from_children
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 7357
                                    opcode: ite
                                    args:
                                      - kind: app
                                        id: 7091
                                        opcode: and
                                        args:
                                          - kind: app
                                            id: 7088
                                            opcode: is_unchanged
                                            args:
                                              - kind: name
                                                id: 7087
                                                name: left_outcome
                                          - kind: app
                                            id: 7090
                                            opcode: is_unchanged
                                            args:
                                              - kind: name
                                                id: 7089
                                                name: right_outcome
                                      - kind: app
                                        id: 7098
                                        opcode: with
                                        args:
                                          - kind: name
                                            id: 7092
                                            name: default_result
                                          - kind: str
                                            id: 7097
                                            value: outcome
                                          - kind: app
                                            id: 7096
                                            opcode: Unchanged
                                            args:
                                              - kind: app
                                                id: 7095
                                                opcode: Some
                                                args:
                                                  - kind: app
                                                    id: 7094
                                                    opcode: Internal
                                                    args:
                                                      - kind: name
                                                        id: 7093
                                                        name: internal_node
                                      - kind: app
                                        id: 7356
                                        opcode: ite
                                        args:
                                          - kind: app
                                            id: 7115
                                            opcode: and
                                            args:
                                              - kind: app
                                                id: 7106
                                                opcode: or
                                                args:
                                                  - kind: app
                                                    id: 7101
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7099
                                                        name: left_outcome
                                                      - kind: name
                                                        id: 7100
                                                        name: Deleted
                                                  - kind: app
                                                    id: 7105
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7102
                                                        name: left_outcome
                                                      - kind: app
                                                        id: 7104
                                                        opcode: Unchanged
                                                        args:
                                                          - kind: name
                                                            id: 7103
                                                            name: None
                                              - kind: app
                                                id: 7114
                                                opcode: or
                                                args:
                                                  - kind: app
                                                    id: 7109
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7107
                                                        name: right_outcome
                                                      - kind: name
                                                        id: 7108
                                                        name: Deleted
                                                  - kind: app
                                                    id: 7113
                                                    opcode: eq
                                                    args:
                                                      - kind: name
                                                        id: 7110
                                                        name: right_outcome
                                                      - kind: app
                                                        id: 7112
                                                        opcode: Unchanged
                                                        args:
                                                          - kind: name
                                                            id: 7111
                                                            name: None
                                          - kind: app
                                            id: 7119
                                            opcode: with
                                            args:
                                              - kind: name
                                                id: 7116
                                                name: default_result
                                              - kind: str
                                                id: 7118
                                                value: outcome
                                              - kind: name
                                                id: 7117
                                                name: Deleted
                                          - kind: app
                                            id: 7355
                                            opcode: ite
                                            args:
                                              - kind: app
                                                id: 7130
                                                opcode: and
                                                args:
                                                  - kind: app
                                                    id: 7121
                                                    opcode: updated_to_leaf
                                                    args:
                                                      - kind: name
                                                        id: 7120
                                                        name: left_outcome
                                                  - kind: app
                                                    id: 7129
                                                    opcode: or
                                                    args:
                                                      - kind: app
                                                        id: 7124
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7122
                                                            name: right_outcome
                                                          - kind: name
                                                            id: 7123
                                                            name: Deleted
                                                      - kind: app
                                                        id: 7128
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7125
                                                            name: right_outcome
                                                          - kind: app
                                                            id: 7127
                                                            opcode: Unchanged
                                                            args:
                                                              - kind: name
                                                                id: 7126
                                                                name: None
                                              - kind: app
                                                id: 7134
                                                opcode: with
                                                args:
                                                  - kind: name
                                                    id: 7131
                                                    name: default_result
                                                  - kind: str
                                                    id: 7133
                                                    value: outcome
                                                  - kind: name
                                                    id: 7132
                                                    name: left_outcome
                                              - kind: app
                                                id: 7354
                                                opcode: ite
                                                args:
                                                  - kind: app
                                                    id: 7140
                                                    opcode: and
                                                    args:
                                                      - kind: app
                                                        id: 7136
                                                        opcode: unchanged_leaf
                                                        args:
                                                          - kind: name
                                                            id: 7135
                                                            name: left_outcome
                                                      - kind: app
                                                        id: 7139
                                                        opcode: eq
                                                        args:
                                                          - kind: name
                                                            id: 7137
                                                            name: right_outcome
                                                          - kind: name
                                                            id: 7138
                                                            name: Deleted
                                                  - kind: app
                                                    id: 7171
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: name
                                                        id: 7141
                                                        name: left_outcome
                                                      - kind: str
                                                        id: 7172
                                                        value: Unchanged
                                                      - kind: lambda
                                                        id: 7173
                                                        params:
                                                          - id: 7174
                                                            name: left
                                                        expr:
                                                          kind: let
                                                          id: 7169
                                                          opdef:
                                                            id: 7159
                                                            name: orphans
                                                            qualifier: pureval
                                                            expr:
                                                              kind: app
                                                              id: 7158
                                                              opcode: union
                                                              args:
                                                                - kind: app
                                                                  id: 7144
                                                                  opcode: field
                                                                  args:
                                                                    - kind: name
                                                                      id: 7142
                                                                      name: default_result
                                                                    - kind: str
                                                                      id: 7143
                                                                      value: orphans_to_add
                                                                - kind: app
                                                                  id: 7157
                                                                  opcode: Set
                                                                  args:
                                                                    - kind: app
                                                                      id: 7156
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7146
                                                                          value: orphaned_since_version
                                                                        - kind: name
                                                                          id: 7145
                                                                          name: new_version
                                                                        - kind: str
                                                                          id: 7153
                                                                          value: version
                                                                        - kind: app
                                                                          id: 7152
                                                                          opcode: field
                                                                          args:
                                                                            - kind: app
                                                                              id: 7150
                                                                              opcode: unwrap
                                                                              args:
                                                                                - kind: app
                                                                                  id: 7149
                                                                                  opcode: field
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 7147
                                                                                      name: internal_node
                                                                                    - kind: str
                                                                                      id: 7148
                                                                                      value: left_child
                                                                            - kind: str
                                                                              id: 7151
                                                                              value: version
                                                                        - kind: str
                                                                          id: 7155
                                                                          value: key_hash
                                                                        - kind: name
                                                                          id: 7154
                                                                          name: left_bits
                                                            depth: ~
                                                          expr:
                                                            kind: app
                                                            id: 7168
                                                            opcode: with
                                                            args:
                                                              - kind: app
                                                                id: 7167
                                                                opcode: with
                                                                args:
                                                                  - kind: name
                                                                    id: 7160
                                                                    name: default_result
                                                                  - kind: str
                                                                    id: 7164
                                                                    value: outcome
                                                                  - kind: app
                                                                    id: 7163
                                                                    opcode: Updated
                                                                    args:
                                                                      - kind: app
                                                                        id: 7162
                                                                        opcode: unwrap
                                                                        args:
                                                                          - kind: name
                                                                            id: 7161
                                                                            name: left
                                                              - kind: str
                                                                id: 7166
                                                                value: orphans_to_add
                                                              - kind: name
                                                                id: 7165
                                                                name: orphans
                                                      - kind: str
                                                        id: 7175
                                                        value: _
                                                      - kind: lambda
                                                        id: 7176
                                                        params:
                                                          - id: 7177
                                                            name: _
                                                        expr:
                                                          kind: name
                                                          id: 7170
                                                          name: default_result
                                                  - kind: app
                                                    id: 7353
                                                    opcode: ite
                                                    args:
                                                      - kind: app
                                                        id: 7188
                                                        opcode: and
                                                        args:
                                                          - kind: app
                                                            id: 7185
                                                            opcode: or
                                                            args:
                                                              - kind: app
                                                                id: 7180
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7178
                                                                    name: left_outcome
                                                                  - kind: name
                                                                    id: 7179
                                                                    name: Deleted
                                                              - kind: app
                                                                id: 7184
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7181
                                                                    name: left_outcome
                                                                  - kind: app
                                                                    id: 7183
                                                                    opcode: Unchanged
                                                                    args:
                                                                      - kind: name
                                                                        id: 7182
                                                                        name: None
                                                          - kind: app
                                                            id: 7187
                                                            opcode: updated_to_leaf
                                                            args:
                                                              - kind: name
                                                                id: 7186
                                                                name: right_outcome
                                                      - kind: app
                                                        id: 7192
                                                        opcode: with
                                                        args:
                                                          - kind: name
                                                            id: 7189
                                                            name: default_result
                                                          - kind: str
                                                            id: 7191
                                                            value: outcome
                                                          - kind: name
                                                            id: 7190
                                                            name: right_outcome
                                                      - kind: app
                                                        id: 7352
                                                        opcode: ite
                                                        args:
                                                          - kind: app
                                                            id: 7198
                                                            opcode: and
                                                            args:
                                                              - kind: app
                                                                id: 7195
                                                                opcode: eq
                                                                args:
                                                                  - kind: name
                                                                    id: 7193
                                                                    name: left_outcome
                                                                  - kind: name
                                                                    id: 7194
                                                                    name: Deleted
                                                              - kind: app
                                                                id: 7197
                                                                opcode: unchanged_leaf
                                                                args:
                                                                  - kind: name
                                                                    id: 7196
                                                                    name: right_outcome
                                                          - kind: app
                                                            id: 7229
                                                            opcode: matchVariant
                                                            args:
                                                              - kind: name
                                                                id: 7199
                                                                name: right_outcome
                                                              - kind: str
                                                                id: 7230
                                                                value: Unchanged
                                                              - kind: lambda
                                                                id: 7231
                                                                params:
                                                                  - id: 7232
                                                                    name: right
                                                                expr:
                                                                  kind: let
                                                                  id: 7227
                                                                  opdef:
                                                                    id: 7217
                                                                    name: orphans
                                                                    qualifier: pureval
                                                                    expr:
                                                                      kind: app
                                                                      id: 7216
                                                                      opcode: union
                                                                      args:
                                                                        - kind: app
                                                                          id: 7202
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7200
                                                                              name: default_result
                                                                            - kind: str
                                                                              id: 7201
                                                                              value: orphans_to_add
                                                                        - kind: app
                                                                          id: 7215
                                                                          opcode: Set
                                                                          args:
                                                                            - kind: app
                                                                              id: 7214
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 7204
                                                                                  value: orphaned_since_version
                                                                                - kind: name
                                                                                  id: 7203
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 7211
                                                                                  value: version
                                                                                - kind: app
                                                                                  id: 7210
                                                                                  opcode: field
                                                                                  args:
                                                                                    - kind: app
                                                                                      id: 7208
                                                                                      opcode: unwrap
                                                                                      args:
                                                                                        - kind: app
                                                                                          id: 7207
                                                                                          opcode: field
                                                                                          args:
                                                                                            - kind: name
                                                                                              id: 7205
                                                                                              name: internal_node
                                                                                            - kind: str
                                                                                              id: 7206
                                                                                              value: right_child
                                                                                    - kind: str
                                                                                      id: 7209
                                                                                      value: version
                                                                                - kind: str
                                                                                  id: 7213
                                                                                  value: key_hash
                                                                                - kind: name
                                                                                  id: 7212
                                                                                  name: right_bits
                                                                    depth: ~
                                                                  expr:
                                                                    kind: app
                                                                    id: 7226
                                                                    opcode: with
                                                                    args:
                                                                      - kind: app
                                                                        id: 7225
                                                                        opcode: with
                                                                        args:
                                                                          - kind: name
                                                                            id: 7218
                                                                            name: default_result
                                                                          - kind: str
                                                                            id: 7222
                                                                            value: outcome
                                                                          - kind: app
                                                                            id: 7221
                                                                            opcode: Updated
                                                                            args:
                                                                              - kind: app
                                                                                id: 7220
                                                                                opcode: unwrap
                                                                                args:
                                                                                  - kind: name
                                                                                    id: 7219
                                                                                    name: right
                                                                      - kind: str
                                                                        id: 7224
                                                                        value: orphans_to_add
                                                                      - kind: name
                                                                        id: 7223
                                                                        name: orphans
                                                              - kind: str
                                                                id: 7233
                                                                value: _
                                                              - kind: lambda
                                                                id: 7234
                                                                params:
                                                                  - id: 7235
                                                                    name: _
                                                                expr:
                                                                  kind: name
                                                                  id: 7228
                                                                  name: default_result
                                                          - kind: let
                                                            id: 7351
                                                            opdef:
                                                              id: 7277
                                                              name: new_left_child_and_tree
                                                              qualifier: pureval
                                                              expr:
                                                                kind: app
                                                                id: 7267
                                                                opcode: matchVariant
                                                                args:
                                                                  - kind: name
                                                                    id: 7236
                                                                    name: left_outcome
                                                                  - kind: str
                                                                    id: 7268
                                                                    value: Updated
                                                                  - kind: lambda
                                                                    id: 7269
                                                                    params:
                                                                      - id: 7270
                                                                        name: node
                                                                    expr:
                                                                      kind: app
                                                                      id: 7254
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7244
                                                                          value: child
                                                                        - kind: app
                                                                          id: 7243
                                                                          opcode: Some
                                                                          args:
                                                                            - kind: app
                                                                              id: 7242
                                                                              opcode: Rec
                                                                              args:
                                                                                - kind: str
                                                                                  id: 7238
                                                                                  value: version
                                                                                - kind: name
                                                                                  id: 7237
                                                                                  name: new_version
                                                                                - kind: str
                                                                                  id: 7241
                                                                                  value: hash
                                                                                - kind: app
                                                                                  id: 7240
                                                                                  opcode: hash
                                                                                  args:
                                                                                    - kind: name
                                                                                      id: 7239
                                                                                      name: node
                                                                        - kind: str
                                                                          id: 7253
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7252
                                                                          opcode: Set
                                                                          args:
                                                                            - kind: app
                                                                              id: 7251
                                                                              opcode: Tup
                                                                              args:
                                                                                - kind: app
                                                                                  id: 7249
                                                                                  opcode: Rec
                                                                                  args:
                                                                                    - kind: str
                                                                                      id: 7246
                                                                                      value: version
                                                                                    - kind: name
                                                                                      id: 7245
                                                                                      name: new_version
                                                                                    - kind: str
                                                                                      id: 7248
                                                                                      value: key_hash
                                                                                    - kind: name
                                                                                      id: 7247
                                                                                      name: left_bits
                                                                                - kind: name
                                                                                  id: 7250
                                                                                  name: node
                                                                  - kind: str
                                                                    id: 7271
                                                                    value: Deleted
                                                                  - kind: lambda
                                                                    id: 7272
                                                                    params:
                                                                      - id: 7273
                                                                        name: _
                                                                    expr:
                                                                      kind: app
                                                                      id: 7259
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7256
                                                                          value: child
                                                                        - kind: name
                                                                          id: 7255
                                                                          name: None
                                                                        - kind: str
                                                                          id: 7258
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7257
                                                                          opcode: Set
                                                                          args: []
                                                                  - kind: str
                                                                    id: 7274
                                                                    value: Unchanged
                                                                  - kind: lambda
                                                                    id: 7275
                                                                    params:
                                                                      - id: 7276
                                                                        name: _
                                                                    expr:
                                                                      kind: app
                                                                      id: 7266
                                                                      opcode: Rec
                                                                      args:
                                                                        - kind: str
                                                                          id: 7263
                                                                          value: child
                                                                        - kind: app
                                                                          id: 7262
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7260
                                                                              name: internal_node
                                                                            - kind: str
                                                                              id: 7261
                                                                              value: left_child
                                                                        - kind: str
                                                                          id: 7265
                                                                          value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7264
                                                                          opcode: Set
                                                                          args: []
                                                              depth: ~
                                                            expr:
                                                              kind: let
                                                              id: 7350
                                                              opdef:
                                                                id: 7319
                                                                name: new_right_child_and_tree
                                                                qualifier: pureval
                                                                expr:
                                                                  kind: app
                                                                  id: 7309
                                                                  opcode: matchVariant
                                                                  args:
                                                                    - kind: name
                                                                      id: 7278
                                                                      name: right_outcome
                                                                    - kind: str
                                                                      id: 7310
                                                                      value: Updated
                                                                    - kind: lambda
                                                                      id: 7311
                                                                      params:
                                                                        - id: 7312
                                                                          name: node
                                                                      expr:
                                                                        kind: app
                                                                        id: 7296
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7286
                                                                            value: child
                                                                          - kind: app
                                                                            id: 7285
                                                                            opcode: Some
                                                                            args:
                                                                              - kind: app
                                                                                id: 7284
                                                                                opcode: Rec
                                                                                args:
                                                                                  - kind: str
                                                                                    id: 7280
                                                                                    value: version
                                                                                  - kind: name
                                                                                    id: 7279
                                                                                    name: new_version
                                                                                  - kind: str
                                                                                    id: 7283
                                                                                    value: hash
                                                                                  - kind: app
                                                                                    id: 7282
                                                                                    opcode: hash
                                                                                    args:
                                                                                      - kind: name
                                                                                        id: 7281
                                                                                        name: node
                                                                          - kind: str
                                                                            id: 7295
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7294
                                                                            opcode: Set
                                                                            args:
                                                                              - kind: app
                                                                                id: 7293
                                                                                opcode: Tup
                                                                                args:
                                                                                  - kind: app
                                                                                    id: 7291
                                                                                    opcode: Rec
                                                                                    args:
                                                                                      - kind: str
                                                                                        id: 7288
                                                                                        value: version
                                                                                      - kind: name
                                                                                        id: 7287
                                                                                        name: new_version
                                                                                      - kind: str
                                                                                        id: 7290
                                                                                        value: key_hash
                                                                                      - kind: name
                                                                                        id: 7289
                                                                                        name: right_bits
                                                                                  - kind: name
                                                                                    id: 7292
                                                                                    name: node
                                                                    - kind: str
                                                                      id: 7313
                                                                      value: Deleted
                                                                    - kind: lambda
                                                                      id: 7314
                                                                      params:
                                                                        - id: 7315
                                                                          name: _
                                                                      expr:
                                                                        kind: app
                                                                        id: 7301
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7298
                                                                            value: child
                                                                          - kind: name
                                                                            id: 7297
                                                                            name: None
                                                                          - kind: str
                                                                            id: 7300
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7299
                                                                            opcode: Set
                                                                            args: []
                                                                    - kind: str
                                                                      id: 7316
                                                                      value: Unchanged
                                                                    - kind: lambda
                                                                      id: 7317
                                                                      params:
                                                                        - id: 7318
                                                                          name: _
                                                                      expr:
                                                                        kind: app
                                                                        id: 7308
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7305
                                                                            value: child
                                                                          - kind: app
                                                                            id: 7304
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7302
                                                                                name: internal_node
                                                                              - kind: str
                                                                                id: 7303
                                                                                value: right_child
                                                                          - kind: str
                                                                            id: 7307
                                                                            value: nodes_to_add
                                                                          - kind: app
                                                                            id: 7306
                                                                            opcode: Set
                                                                            args: []
                                                                depth: ~
                                                              expr:
                                                                kind: let
                                                                id: 7349
                                                                opdef:
                                                                  id: 7330
                                                                  name: new_internal_node
                                                                  qualifier: pureval
                                                                  expr:
                                                                    kind: app
                                                                    id: 7329
                                                                    opcode: Internal
                                                                    args:
                                                                      - kind: app
                                                                        id: 7328
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 7323
                                                                            value: left_child
                                                                          - kind: app
                                                                            id: 7322
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7320
                                                                                name: new_left_child_and_tree
                                                                              - kind: str
                                                                                id: 7321
                                                                                value: child
                                                                          - kind: str
                                                                            id: 7327
                                                                            value: right_child
                                                                          - kind: app
                                                                            id: 7326
                                                                            opcode: field
                                                                            args:
                                                                              - kind: name
                                                                                id: 7324
                                                                                name: new_right_child_and_tree
                                                                              - kind: str
                                                                                id: 7325
                                                                                value: child
                                                                  depth: ~
                                                                expr:
                                                                  kind: app
                                                                  id: 7348
                                                                  opcode: with
                                                                  args:
                                                                    - kind: app
                                                                      id: 7347
                                                                      opcode: with
                                                                      args:
                                                                        - kind: name
                                                                          id: 7331
                                                                          name: default_result
                                                                        - kind: str
                                                                          id: 7334
                                                                          value: outcome
                                                                        - kind: app
                                                                          id: 7333
                                                                          opcode: Updated
                                                                          args:
                                                                            - kind: name
                                                                              id: 7332
                                                                              name: new_internal_node
                                                                    - kind: str
                                                                      id: 7346
                                                                      value: nodes_to_add
                                                                    - kind: app
                                                                      id: 7345
                                                                      opcode: union
                                                                      args:
                                                                        - kind: app
                                                                          id: 7341
                                                                          opcode: union
                                                                          args:
                                                                            - kind: app
                                                                              id: 7337
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 7335
                                                                                  name: default_result
                                                                                - kind: str
                                                                                  id: 7336
                                                                                  value: nodes_to_add
                                                                            - kind: app
                                                                              id: 7340
                                                                              opcode: field
                                                                              args:
                                                                                - kind: name
                                                                                  id: 7338
                                                                                  name: new_left_child_and_tree
                                                                                - kind: str
                                                                                  id: 7339
                                                                                  value: nodes_to_add
                                                                        - kind: app
                                                                          id: 7344
                                                                          opcode: field
                                                                          args:
                                                                            - kind: name
                                                                              id: 7342
                                                                              name: new_right_child_and_tree
                                                                            - kind: str
                                                                              id: 7343
                                                                              value: nodes_to_add
    depth: 0
  7374:
    kind: typedef
    id: 3278
  7376:
    kind: typedef
    id: 6684
  7378:
    kind: typedef
    id: 3260
  7380:
    kind: typedef
    id: 3258
  7382:
    kind: typedef
    id: 3885
  7386:
    kind: typedef
    id: 3251
  7389:
    kind: typedef
    id: 6675
  7390:
    id: 7388
    name: batch
  7393:
    id: 7385
    name: child
  7394:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7395:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7402:
    id: 7375
    name: tree
  7405:
    id: 7430
    name: child
  7409:
    id: 7381
    name: child_bits
  7413:
    kind: def
    id: 7413
    name: child_node
    qualifier: pureval
    expr:
      kind: app
      id: 7412
      opcode: get
      args:
        - kind: app
          id: 7404
          opcode: field
          args:
            - kind: name
              id: 7402
              name: tree
            - kind: str
              id: 7403
              value: nodes
        - kind: app
          id: 7411
          opcode: Rec
          args:
            - kind: str
              id: 7408
              value: version
            - kind: app
              id: 7407
              opcode: field
              args:
                - kind: name
                  id: 7405
                  name: child
                - kind: str
                  id: 7406
                  value: version
            - kind: str
              id: 7410
              value: key_hash
            - kind: name
              id: 7409
              name: child_bits
    depth: 4
  7414:
    kind: def
    id: 7413
    name: child_node
    qualifier: pureval
    expr:
      kind: app
      id: 7412
      opcode: get
      args:
        - kind: app
          id: 7404
          opcode: field
          args:
            - kind: name
              id: 7402
              name: tree
            - kind: str
              id: 7403
              value: nodes
        - kind: app
          id: 7411
          opcode: Rec
          args:
            - kind: str
              id: 7408
              value: version
            - kind: app
              id: 7407
              opcode: field
              args:
                - kind: name
                  id: 7405
                  name: child
                - kind: str
                  id: 7406
                  value: version
            - kind: str
              id: 7410
              value: key_hash
            - kind: name
              id: 7409
              name: child_bits
    depth: 4
  7415:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7416:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7431:
    id: 7385
    name: child
  7432:
    id: 7388
    name: batch
  7433:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7434:
    kind: def
    id: 7764
    name: prepare_batch_for_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7763
      params:
        - id: 7690
          name: batch
        - id: 7694
          name: existing_leaf
      expr:
        kind: let
        id: 7762
        opdef:
          id: 7727
          name: maybe_op
          qualifier: pureval
          expr:
            kind: app
            id: 7726
            opcode: fold
            args:
              - kind: name
                id: 7701
                name: batch
              - kind: name
                id: 7702
                name: None
              - kind: lambda
                id: 7725
                params:
                  - id: 7703
                    name: acc
                  - id: 7704
                    name: op
                expr:
                  kind: app
                  id: 7718
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7705
                      name: existing_leaf
                    - kind: str
                      id: 7719
                      value: Some
                    - kind: lambda
                      id: 7720
                      params:
                        - id: 7721
                          name: leaf
                      expr:
                        kind: app
                        id: 7716
                        opcode: ite
                        args:
                          - kind: app
                            id: 7712
                            opcode: eq
                            args:
                              - kind: app
                                id: 7708
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7706
                                    name: op
                                  - kind: str
                                    id: 7707
                                    value: key_hash
                              - kind: app
                                id: 7711
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7709
                                    name: leaf
                                  - kind: str
                                    id: 7710
                                    value: key_hash
                          - kind: app
                            id: 7714
                            opcode: Some
                            args:
                              - kind: name
                                id: 7713
                                name: op
                          - kind: name
                            id: 7715
                            name: acc
                    - kind: str
                      id: 7722
                      value: None
                    - kind: lambda
                      id: 7723
                      params:
                        - id: 7724
                          name: _
                      expr:
                        kind: name
                        id: 7717
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 7761
          opdef:
            id: 7757
            name: filtered_batch
            qualifier: pureval
            expr:
              kind: app
              id: 7756
              opcode: filterMap
              args:
                - kind: name
                  id: 7728
                  name: batch
                - kind: lambda
                  id: 7755
                  params:
                    - id: 7729
                      name: op
                  expr:
                    kind: app
                    id: 7754
                    opcode: ite
                    args:
                      - kind: app
                        id: 7733
                        opcode: eq
                        args:
                          - kind: name
                            id: 7730
                            name: maybe_op
                          - kind: app
                            id: 7732
                            opcode: Some
                            args:
                              - kind: name
                                id: 7731
                                name: op
                      - kind: name
                        id: 7734
                        name: None
                      - kind: app
                        id: 7747
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7737
                            opcode: field
                            args:
                              - kind: name
                                id: 7735
                                name: op
                              - kind: str
                                id: 7736
                                value: op
                          - kind: str
                            id: 7748
                            value: Insert
                          - kind: lambda
                            id: 7749
                            params:
                              - id: 7750
                                name: value_hash
                            expr:
                              kind: app
                              id: 7745
                              opcode: Some
                              args:
                                - kind: app
                                  id: 7744
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 7741
                                      value: key_hash
                                    - kind: app
                                      id: 7740
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 7738
                                          name: op
                                        - kind: str
                                          id: 7739
                                          value: key_hash
                                    - kind: str
                                      id: 7743
                                      value: value_hash
                                    - kind: name
                                      id: 7742
                                      name: value_hash
                          - kind: str
                            id: 7751
                            value: _
                          - kind: lambda
                            id: 7752
                            params:
                              - id: 7753
                                name: _
                            expr:
                              kind: name
                              id: 7746
                              name: None
            depth: ~
          expr:
            kind: app
            id: 7760
            opcode: Tup
            args:
              - kind: name
                id: 7758
                name: filtered_batch
              - kind: name
                id: 7759
                name: maybe_op
    depth: 0
  7435:
    kind: def
    id: 7435
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 7434
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 7432
          name: batch
        - kind: name
          id: 7433
          name: None
    depth: 4
  7436:
    id: 7375
    name: tree
  7437:
    id: 7379
    name: new_version
  7438:
    id: 7381
    name: child_bits
  7439:
    kind: def
    id: 7435
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 7434
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 7432
          name: batch
        - kind: name
          id: 7433
          name: None
    depth: 4
  7442:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7443:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  7445:
    id: 7377
    name: memo
  7446:
    id: 7379
    name: new_version
  7447:
    id: 7460
    name: child
  7450:
    id: 7381
    name: child_bits
  7451:
    id: 7388
    name: batch
  7463:
    kind: def
    id: 7463
    name: apply_at_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 7462
      params:
        - id: 7375
          name: tree
        - id: 7377
          name: memo
        - id: 7379
          name: new_version
        - id: 7381
          name: child_bits
        - id: 7385
          name: child
        - id: 7388
          name: batch
      expr:
        kind: app
        id: 7461
        opcode: ite
        args:
          - kind: app
            id: 7392
            opcode: eq
            args:
              - kind: name
                id: 7390
                name: batch
              - kind: app
                id: 7391
                opcode: Set
                args: []
          - kind: app
            id: 7424
            opcode: matchVariant
            args:
              - kind: name
                id: 7393
                name: child
              - kind: str
                id: 7425
                value: None
              - kind: lambda
                id: 7426
                params:
                  - id: 7427
                    name: _
                expr:
                  kind: app
                  id: 7401
                  opcode: Rec
                  args:
                    - kind: str
                      id: 7396
                      value: outcome
                    - kind: app
                      id: 7395
                      opcode: Unchanged
                      args:
                        - kind: name
                          id: 7394
                          name: None
                    - kind: str
                      id: 7398
                      value: orphans_to_add
                    - kind: app
                      id: 7397
                      opcode: Set
                      args: []
                    - kind: str
                      id: 7400
                      value: nodes_to_add
                    - kind: app
                      id: 7399
                      opcode: Set
                      args: []
              - kind: str
                id: 7428
                value: Some
              - kind: lambda
                id: 7429
                params:
                  - id: 7430
                    name: child
                expr:
                  kind: let
                  id: 7423
                  opdef:
                    id: 7413
                    name: child_node
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7412
                      opcode: get
                      args:
                        - kind: app
                          id: 7404
                          opcode: field
                          args:
                            - kind: name
                              id: 7402
                              name: tree
                            - kind: str
                              id: 7403
                              value: nodes
                        - kind: app
                          id: 7411
                          opcode: Rec
                          args:
                            - kind: str
                              id: 7408
                              value: version
                            - kind: app
                              id: 7407
                              opcode: field
                              args:
                                - kind: name
                                  id: 7405
                                  name: child
                                - kind: str
                                  id: 7406
                                  value: version
                            - kind: str
                              id: 7410
                              value: key_hash
                            - kind: name
                              id: 7409
                              name: child_bits
                    depth: ~
                  expr:
                    kind: app
                    id: 7422
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7417
                        value: outcome
                      - kind: app
                        id: 7416
                        opcode: Unchanged
                        args:
                          - kind: app
                            id: 7415
                            opcode: Some
                            args:
                              - kind: name
                                id: 7414
                                name: child_node
                      - kind: str
                        id: 7419
                        value: orphans_to_add
                      - kind: app
                        id: 7418
                        opcode: Set
                        args: []
                      - kind: str
                        id: 7421
                        value: nodes_to_add
                      - kind: app
                        id: 7420
                        opcode: Set
                        args: []
          - kind: app
            id: 7454
            opcode: matchVariant
            args:
              - kind: name
                id: 7431
                name: child
              - kind: str
                id: 7455
                value: None
              - kind: lambda
                id: 7456
                params:
                  - id: 7457
                    name: _
                expr:
                  kind: let
                  id: 7444
                  opdef:
                    id: 7435
                    name: batchAndOp
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7434
                      opcode: prepare_batch_for_subtree
                      args:
                        - kind: name
                          id: 7432
                          name: batch
                        - kind: name
                          id: 7433
                          name: None
                    depth: ~
                  expr:
                    kind: app
                    id: 7443
                    opcode: create_subtree
                    args:
                      - kind: name
                        id: 7436
                        name: tree
                      - kind: name
                        id: 7437
                        name: new_version
                      - kind: name
                        id: 7438
                        name: child_bits
                      - kind: app
                        id: 7441
                        opcode: item
                        args:
                          - kind: name
                            id: 7439
                            name: batchAndOp
                          - kind: int
                            id: 7440
                            value: 1
                      - kind: name
                        id: 7442
                        name: None
              - kind: str
                id: 7458
                value: Some
              - kind: lambda
                id: 7459
                params:
                  - id: 7460
                    name: child
                expr:
                  kind: app
                  id: 7453
                  opcode: get
                  args:
                    - kind: name
                      id: 7445
                      name: memo
                    - kind: app
                      id: 7452
                      opcode: Tup
                      args:
                        - kind: name
                          id: 7446
                          name: new_version
                        - kind: app
                          id: 7449
                          opcode: field
                          args:
                            - kind: name
                              id: 7447
                              name: child
                            - kind: str
                              id: 7448
                              value: version
                        - kind: name
                          id: 7450
                          name: child_bits
                        - kind: name
                          id: 7451
                          name: batch
    depth: 0
  7464:
    kind: typedef
    id: 3278
  7466:
    kind: typedef
    id: 3260
  7468:
    kind: typedef
    id: 3258
  7470:
    kind: typedef
    id: 3897
  7472:
    kind: typedef
    id: 3251
  7475:
    kind: typedef
    id: 6675
  7476:
    id: 7474
    name: batch
  7477:
    id: 7471
    name: leaf_node
  7478:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7479:
    kind: def
    id: 7764
    name: prepare_batch_for_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7763
      params:
        - id: 7690
          name: batch
        - id: 7694
          name: existing_leaf
      expr:
        kind: let
        id: 7762
        opdef:
          id: 7727
          name: maybe_op
          qualifier: pureval
          expr:
            kind: app
            id: 7726
            opcode: fold
            args:
              - kind: name
                id: 7701
                name: batch
              - kind: name
                id: 7702
                name: None
              - kind: lambda
                id: 7725
                params:
                  - id: 7703
                    name: acc
                  - id: 7704
                    name: op
                expr:
                  kind: app
                  id: 7718
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7705
                      name: existing_leaf
                    - kind: str
                      id: 7719
                      value: Some
                    - kind: lambda
                      id: 7720
                      params:
                        - id: 7721
                          name: leaf
                      expr:
                        kind: app
                        id: 7716
                        opcode: ite
                        args:
                          - kind: app
                            id: 7712
                            opcode: eq
                            args:
                              - kind: app
                                id: 7708
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7706
                                    name: op
                                  - kind: str
                                    id: 7707
                                    value: key_hash
                              - kind: app
                                id: 7711
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7709
                                    name: leaf
                                  - kind: str
                                    id: 7710
                                    value: key_hash
                          - kind: app
                            id: 7714
                            opcode: Some
                            args:
                              - kind: name
                                id: 7713
                                name: op
                          - kind: name
                            id: 7715
                            name: acc
                    - kind: str
                      id: 7722
                      value: None
                    - kind: lambda
                      id: 7723
                      params:
                        - id: 7724
                          name: _
                      expr:
                        kind: name
                        id: 7717
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 7761
          opdef:
            id: 7757
            name: filtered_batch
            qualifier: pureval
            expr:
              kind: app
              id: 7756
              opcode: filterMap
              args:
                - kind: name
                  id: 7728
                  name: batch
                - kind: lambda
                  id: 7755
                  params:
                    - id: 7729
                      name: op
                  expr:
                    kind: app
                    id: 7754
                    opcode: ite
                    args:
                      - kind: app
                        id: 7733
                        opcode: eq
                        args:
                          - kind: name
                            id: 7730
                            name: maybe_op
                          - kind: app
                            id: 7732
                            opcode: Some
                            args:
                              - kind: name
                                id: 7731
                                name: op
                      - kind: name
                        id: 7734
                        name: None
                      - kind: app
                        id: 7747
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7737
                            opcode: field
                            args:
                              - kind: name
                                id: 7735
                                name: op
                              - kind: str
                                id: 7736
                                value: op
                          - kind: str
                            id: 7748
                            value: Insert
                          - kind: lambda
                            id: 7749
                            params:
                              - id: 7750
                                name: value_hash
                            expr:
                              kind: app
                              id: 7745
                              opcode: Some
                              args:
                                - kind: app
                                  id: 7744
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 7741
                                      value: key_hash
                                    - kind: app
                                      id: 7740
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 7738
                                          name: op
                                        - kind: str
                                          id: 7739
                                          value: key_hash
                                    - kind: str
                                      id: 7743
                                      value: value_hash
                                    - kind: name
                                      id: 7742
                                      name: value_hash
                          - kind: str
                            id: 7751
                            value: _
                          - kind: lambda
                            id: 7752
                            params:
                              - id: 7753
                                name: _
                            expr:
                              kind: name
                              id: 7746
                              name: None
            depth: ~
          expr:
            kind: app
            id: 7760
            opcode: Tup
            args:
              - kind: name
                id: 7758
                name: filtered_batch
              - kind: name
                id: 7759
                name: maybe_op
    depth: 0
  7480:
    kind: def
    id: 7480
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 7479
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 7476
          name: batch
        - kind: app
          id: 7478
          opcode: Some
          args:
            - kind: name
              id: 7477
              name: leaf_node
    depth: 3
  7481:
    kind: def
    id: 7480
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 7479
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 7476
          name: batch
        - kind: app
          id: 7478
          opcode: Some
          args:
            - kind: name
              id: 7477
              name: leaf_node
    depth: 3
  7484:
    kind: def
    id: 7484
    name: batch
    qualifier: pureval
    expr:
      kind: app
      id: 7483
      opcode: item
      args:
        - kind: name
          id: 7481
          name: batchAndOp
        - kind: int
          id: 7482
          value: 1
    depth: 4
  7485:
    kind: def
    id: 7480
    name: batchAndOp
    qualifier: pureval
    expr:
      kind: app
      id: 7479
      opcode: prepare_batch_for_subtree
      args:
        - kind: name
          id: 7476
          name: batch
        - kind: app
          id: 7478
          opcode: Some
          args:
            - kind: name
              id: 7477
              name: leaf_node
    depth: 3
  7488:
    kind: def
    id: 7488
    name: operation
    qualifier: pureval
    expr:
      kind: app
      id: 7487
      opcode: item
      args:
        - kind: name
          id: 7485
          name: batchAndOp
        - kind: int
          id: 7486
          value: 2
    depth: 5
  7489:
    kind: def
    id: 7484
    name: batch
    qualifier: pureval
    expr:
      kind: app
      id: 7483
      opcode: item
      args:
        - kind: name
          id: 7481
          name: batchAndOp
        - kind: int
          id: 7482
          value: 1
    depth: 4
  7492:
    kind: def
    id: 7488
    name: operation
    qualifier: pureval
    expr:
      kind: app
      id: 7487
      opcode: item
      args:
        - kind: name
          id: 7485
          name: batchAndOp
        - kind: int
          id: 7486
          value: 2
    depth: 5
  7493:
    id: 7530
    name: op
  7496:
    id: 7519
    name: value_hash
  7497:
    id: 7471
    name: leaf_node
  7501:
    id: 7471
    name: leaf_node
  7502:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  7503:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7504:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7505:
    id: 7471
    name: leaf_node
  7506:
    id: 7519
    name: value_hash
  7509:
    kind: def
    id: 7509
    name: updated_leaf_node
    qualifier: pureval
    expr:
      kind: app
      id: 7508
      opcode: with
      args:
        - kind: name
          id: 7505
          name: leaf_node
        - kind: str
          id: 7507
          value: value_hash
        - kind: name
          id: 7506
          name: value_hash
    depth: 10
  7510:
    kind: def
    id: 7509
    name: updated_leaf_node
    qualifier: pureval
    expr:
      kind: app
      id: 7508
      opcode: with
      args:
        - kind: name
          id: 7505
          name: leaf_node
        - kind: str
          id: 7507
          value: value_hash
        - kind: name
          id: 7506
          name: value_hash
    depth: 10
  7511:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  7512:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7515:
    kind: def
    id: 3936
    name: Deleted
    qualifier: val
    expr:
      kind: app
      id: 3935
      opcode: variant
      args:
        - kind: str
          id: 3933
          value: Deleted
        - kind: app
          id: 3934
          opcode: Tup
          args: []
    depth: 0
  7523:
    id: 7471
    name: leaf_node
  7524:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  7525:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7526:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7534:
    kind: def
    id: 7534
    name: outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7527
      opcode: matchVariant
      args:
        - kind: name
          id: 7492
          name: operation
        - kind: str
          id: 7528
          value: Some
        - kind: lambda
          id: 7529
          params:
            - id: 7530
              name: op
          expr:
            kind: app
            id: 7516
            opcode: matchVariant
            args:
              - kind: app
                id: 7495
                opcode: field
                args:
                  - kind: name
                    id: 7493
                    name: op
                  - kind: str
                    id: 7494
                    value: op
              - kind: str
                id: 7517
                value: Insert
              - kind: lambda
                id: 7518
                params:
                  - id: 7519
                    name: value_hash
                expr:
                  kind: app
                  id: 7514
                  opcode: ite
                  args:
                    - kind: app
                      id: 7500
                      opcode: eq
                      args:
                        - kind: name
                          id: 7496
                          name: value_hash
                        - kind: app
                          id: 7499
                          opcode: field
                          args:
                            - kind: name
                              id: 7497
                              name: leaf_node
                            - kind: str
                              id: 7498
                              value: value_hash
                    - kind: app
                      id: 7504
                      opcode: Unchanged
                      args:
                        - kind: app
                          id: 7503
                          opcode: Some
                          args:
                            - kind: app
                              id: 7502
                              opcode: Leaf
                              args:
                                - kind: name
                                  id: 7501
                                  name: leaf_node
                    - kind: let
                      id: 7513
                      opdef:
                        id: 7509
                        name: updated_leaf_node
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7508
                          opcode: with
                          args:
                            - kind: name
                              id: 7505
                              name: leaf_node
                            - kind: str
                              id: 7507
                              value: value_hash
                            - kind: name
                              id: 7506
                              name: value_hash
                        depth: ~
                      expr:
                        kind: app
                        id: 7512
                        opcode: Updated
                        args:
                          - kind: app
                            id: 7511
                            opcode: Leaf
                            args:
                              - kind: name
                                id: 7510
                                name: updated_leaf_node
              - kind: str
                id: 7520
                value: Delete
              - kind: lambda
                id: 7521
                params:
                  - id: 7522
                    name: _
                expr:
                  kind: name
                  id: 7515
                  name: Deleted
        - kind: str
          id: 7531
          value: None
        - kind: lambda
          id: 7532
          params:
            - id: 7533
              name: _
          expr:
            kind: app
            id: 7526
            opcode: Unchanged
            args:
              - kind: app
                id: 7525
                opcode: Some
                args:
                  - kind: app
                    id: 7524
                    opcode: Leaf
                    args:
                      - kind: name
                        id: 7523
                        name: leaf_node
    depth: 6
  7535:
    kind: def
    id: 7534
    name: outcome
    qualifier: pureval
    expr:
      kind: app
      id: 7527
      opcode: matchVariant
      args:
        - kind: name
          id: 7492
          name: operation
        - kind: str
          id: 7528
          value: Some
        - kind: lambda
          id: 7529
          params:
            - id: 7530
              name: op
          expr:
            kind: app
            id: 7516
            opcode: matchVariant
            args:
              - kind: app
                id: 7495
                opcode: field
                args:
                  - kind: name
                    id: 7493
                    name: op
                  - kind: str
                    id: 7494
                    value: op
              - kind: str
                id: 7517
                value: Insert
              - kind: lambda
                id: 7518
                params:
                  - id: 7519
                    name: value_hash
                expr:
                  kind: app
                  id: 7514
                  opcode: ite
                  args:
                    - kind: app
                      id: 7500
                      opcode: eq
                      args:
                        - kind: name
                          id: 7496
                          name: value_hash
                        - kind: app
                          id: 7499
                          opcode: field
                          args:
                            - kind: name
                              id: 7497
                              name: leaf_node
                            - kind: str
                              id: 7498
                              value: value_hash
                    - kind: app
                      id: 7504
                      opcode: Unchanged
                      args:
                        - kind: app
                          id: 7503
                          opcode: Some
                          args:
                            - kind: app
                              id: 7502
                              opcode: Leaf
                              args:
                                - kind: name
                                  id: 7501
                                  name: leaf_node
                    - kind: let
                      id: 7513
                      opdef:
                        id: 7509
                        name: updated_leaf_node
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7508
                          opcode: with
                          args:
                            - kind: name
                              id: 7505
                              name: leaf_node
                            - kind: str
                              id: 7507
                              value: value_hash
                            - kind: name
                              id: 7506
                              name: value_hash
                        depth: ~
                      expr:
                        kind: app
                        id: 7512
                        opcode: Updated
                        args:
                          - kind: app
                            id: 7511
                            opcode: Leaf
                            args:
                              - kind: name
                                id: 7510
                                name: updated_leaf_node
              - kind: str
                id: 7520
                value: Delete
              - kind: lambda
                id: 7521
                params:
                  - id: 7522
                    name: _
                expr:
                  kind: name
                  id: 7515
                  name: Deleted
        - kind: str
          id: 7531
          value: None
        - kind: lambda
          id: 7532
          params:
            - id: 7533
              name: _
          expr:
            kind: app
            id: 7526
            opcode: Unchanged
            args:
              - kind: app
                id: 7525
                opcode: Some
                args:
                  - kind: app
                    id: 7524
                    opcode: Leaf
                    args:
                      - kind: name
                        id: 7523
                        name: leaf_node
    depth: 6
  7543:
    kind: def
    id: 7488
    name: operation
    qualifier: pureval
    expr:
      kind: app
      id: 7487
      opcode: item
      args:
        - kind: name
          id: 7485
          name: batchAndOp
        - kind: int
          id: 7486
          value: 2
    depth: 5
  7544:
    id: 7583
    name: op
  7547:
    id: 7471
    name: leaf_node
  7548:
    id: 7569
    name: value_hash
  7551:
    kind: def
    id: 7551
    name: updated_leaf_node
    qualifier: pureval
    expr:
      kind: app
      id: 7550
      opcode: with
      args:
        - kind: name
          id: 7547
          name: leaf_node
        - kind: str
          id: 7549
          value: value_hash
        - kind: name
          id: 7548
          name: value_hash
    depth: 8
  7552:
    id: 7465
    name: tree
  7553:
    id: 7467
    name: new_version
  7554:
    id: 7469
    name: bits
  7555:
    kind: def
    id: 7484
    name: batch
    qualifier: pureval
    expr:
      kind: app
      id: 7483
      opcode: item
      args:
        - kind: name
          id: 7481
          name: batchAndOp
        - kind: int
          id: 7482
          value: 1
    depth: 4
  7556:
    kind: def
    id: 7551
    name: updated_leaf_node
    qualifier: pureval
    expr:
      kind: app
      id: 7550
      opcode: with
      args:
        - kind: name
          id: 7547
          name: leaf_node
        - kind: str
          id: 7549
          value: value_hash
        - kind: name
          id: 7548
          name: value_hash
    depth: 8
  7557:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7558:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  7560:
    id: 7465
    name: tree
  7561:
    id: 7467
    name: new_version
  7562:
    id: 7469
    name: bits
  7563:
    kind: def
    id: 7484
    name: batch
    qualifier: pureval
    expr:
      kind: app
      id: 7483
      opcode: item
      args:
        - kind: name
          id: 7481
          name: batchAndOp
        - kind: int
          id: 7482
          value: 1
    depth: 4
  7564:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7565:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  7573:
    id: 7465
    name: tree
  7574:
    id: 7467
    name: new_version
  7575:
    id: 7469
    name: bits
  7576:
    kind: def
    id: 7484
    name: batch
    qualifier: pureval
    expr:
      kind: app
      id: 7483
      opcode: item
      args:
        - kind: name
          id: 7481
          name: batchAndOp
        - kind: int
          id: 7482
          value: 1
    depth: 4
  7577:
    id: 7471
    name: leaf_node
  7578:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7579:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  7592:
    kind: def
    id: 7592
    name: apply_at_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 7591
      params:
        - id: 7465
          name: tree
        - id: 7467
          name: new_version
        - id: 7469
          name: bits
        - id: 7471
          name: leaf_node
        - id: 7474
          name: batch
      expr:
        kind: let
        id: 7590
        opdef:
          id: 7480
          name: batchAndOp
          qualifier: pureval
          expr:
            kind: app
            id: 7479
            opcode: prepare_batch_for_subtree
            args:
              - kind: name
                id: 7476
                name: batch
              - kind: app
                id: 7478
                opcode: Some
                args:
                  - kind: name
                    id: 7477
                    name: leaf_node
          depth: ~
        expr:
          kind: let
          id: 7589
          opdef:
            id: 7484
            name: batch
            qualifier: pureval
            expr:
              kind: app
              id: 7483
              opcode: item
              args:
                - kind: name
                  id: 7481
                  name: batchAndOp
                - kind: int
                  id: 7482
                  value: 1
            depth: ~
          expr:
            kind: let
            id: 7588
            opdef:
              id: 7488
              name: operation
              qualifier: pureval
              expr:
                kind: app
                id: 7487
                opcode: item
                args:
                  - kind: name
                    id: 7485
                    name: batchAndOp
                  - kind: int
                    id: 7486
                    value: 2
              depth: ~
            expr:
              kind: app
              id: 7587
              opcode: ite
              args:
                - kind: app
                  id: 7491
                  opcode: eq
                  args:
                    - kind: name
                      id: 7489
                      name: batch
                    - kind: app
                      id: 7490
                      opcode: Set
                      args: []
                - kind: let
                  id: 7542
                  opdef:
                    id: 7534
                    name: outcome
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7527
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 7492
                          name: operation
                        - kind: str
                          id: 7528
                          value: Some
                        - kind: lambda
                          id: 7529
                          params:
                            - id: 7530
                              name: op
                          expr:
                            kind: app
                            id: 7516
                            opcode: matchVariant
                            args:
                              - kind: app
                                id: 7495
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7493
                                    name: op
                                  - kind: str
                                    id: 7494
                                    value: op
                              - kind: str
                                id: 7517
                                value: Insert
                              - kind: lambda
                                id: 7518
                                params:
                                  - id: 7519
                                    name: value_hash
                                expr:
                                  kind: app
                                  id: 7514
                                  opcode: ite
                                  args:
                                    - kind: app
                                      id: 7500
                                      opcode: eq
                                      args:
                                        - kind: name
                                          id: 7496
                                          name: value_hash
                                        - kind: app
                                          id: 7499
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 7497
                                              name: leaf_node
                                            - kind: str
                                              id: 7498
                                              value: value_hash
                                    - kind: app
                                      id: 7504
                                      opcode: Unchanged
                                      args:
                                        - kind: app
                                          id: 7503
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 7502
                                              opcode: Leaf
                                              args:
                                                - kind: name
                                                  id: 7501
                                                  name: leaf_node
                                    - kind: let
                                      id: 7513
                                      opdef:
                                        id: 7509
                                        name: updated_leaf_node
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 7508
                                          opcode: with
                                          args:
                                            - kind: name
                                              id: 7505
                                              name: leaf_node
                                            - kind: str
                                              id: 7507
                                              value: value_hash
                                            - kind: name
                                              id: 7506
                                              name: value_hash
                                        depth: ~
                                      expr:
                                        kind: app
                                        id: 7512
                                        opcode: Updated
                                        args:
                                          - kind: app
                                            id: 7511
                                            opcode: Leaf
                                            args:
                                              - kind: name
                                                id: 7510
                                                name: updated_leaf_node
                              - kind: str
                                id: 7520
                                value: Delete
                              - kind: lambda
                                id: 7521
                                params:
                                  - id: 7522
                                    name: _
                                expr:
                                  kind: name
                                  id: 7515
                                  name: Deleted
                        - kind: str
                          id: 7531
                          value: None
                        - kind: lambda
                          id: 7532
                          params:
                            - id: 7533
                              name: _
                          expr:
                            kind: app
                            id: 7526
                            opcode: Unchanged
                            args:
                              - kind: app
                                id: 7525
                                opcode: Some
                                args:
                                  - kind: app
                                    id: 7524
                                    opcode: Leaf
                                    args:
                                      - kind: name
                                        id: 7523
                                        name: leaf_node
                    depth: ~
                  expr:
                    kind: app
                    id: 7541
                    opcode: Rec
                    args:
                      - kind: str
                        id: 7536
                        value: outcome
                      - kind: name
                        id: 7535
                        name: outcome
                      - kind: str
                        id: 7538
                        value: orphans_to_add
                      - kind: app
                        id: 7537
                        opcode: Set
                        args: []
                      - kind: str
                        id: 7540
                        value: nodes_to_add
                      - kind: app
                        id: 7539
                        opcode: Set
                        args: []
                - kind: app
                  id: 7580
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7543
                      name: operation
                    - kind: str
                      id: 7581
                      value: Some
                    - kind: lambda
                      id: 7582
                      params:
                        - id: 7583
                          name: op
                      expr:
                        kind: app
                        id: 7566
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7546
                            opcode: field
                            args:
                              - kind: name
                                id: 7544
                                name: op
                              - kind: str
                                id: 7545
                                value: op
                          - kind: str
                            id: 7567
                            value: Insert
                          - kind: lambda
                            id: 7568
                            params:
                              - id: 7569
                                name: value_hash
                            expr:
                              kind: let
                              id: 7559
                              opdef:
                                id: 7551
                                name: updated_leaf_node
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 7550
                                  opcode: with
                                  args:
                                    - kind: name
                                      id: 7547
                                      name: leaf_node
                                    - kind: str
                                      id: 7549
                                      value: value_hash
                                    - kind: name
                                      id: 7548
                                      name: value_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 7558
                                opcode: create_subtree
                                args:
                                  - kind: name
                                    id: 7552
                                    name: tree
                                  - kind: name
                                    id: 7553
                                    name: new_version
                                  - kind: name
                                    id: 7554
                                    name: bits
                                  - kind: name
                                    id: 7555
                                    name: batch
                                  - kind: app
                                    id: 7557
                                    opcode: Some
                                    args:
                                      - kind: name
                                        id: 7556
                                        name: updated_leaf_node
                          - kind: str
                            id: 7570
                            value: Delete
                          - kind: lambda
                            id: 7571
                            params:
                              - id: 7572
                                name: _
                            expr:
                              kind: app
                              id: 7565
                              opcode: create_subtree
                              args:
                                - kind: name
                                  id: 7560
                                  name: tree
                                - kind: name
                                  id: 7561
                                  name: new_version
                                - kind: name
                                  id: 7562
                                  name: bits
                                - kind: name
                                  id: 7563
                                  name: batch
                                - kind: name
                                  id: 7564
                                  name: None
                    - kind: str
                      id: 7584
                      value: None
                    - kind: lambda
                      id: 7585
                      params:
                        - id: 7586
                          name: _
                      expr:
                        kind: app
                        id: 7579
                        opcode: create_subtree
                        args:
                          - kind: name
                            id: 7573
                            name: tree
                          - kind: name
                            id: 7574
                            name: new_version
                          - kind: name
                            id: 7575
                            name: bits
                          - kind: name
                            id: 7576
                            name: batch
                          - kind: app
                            id: 7578
                            opcode: Some
                            args:
                              - kind: name
                                id: 7577
                                name: leaf_node
    depth: 0
  7593:
    kind: typedef
    id: 3258
  7597:
    kind: typedef
    id: 3258
  7599:
    kind: typedef
    id: 3258
  7602:
    kind: typedef
    id: 3258
  7606:
    id: 7596
    name: batch
  7612:
    id: 7611
    name: op
  7615:
    id: 7598
    name: bits
  7620:
    id: 7610
    name: acc
  7623:
    id: 7611
    name: op
  7626:
    id: 7610
    name: acc
  7630:
    id: 7610
    name: acc
  7633:
    id: 7610
    name: acc
  7636:
    id: 7611
    name: op
  7644:
    kind: def
    id: 7644
    name: partition_batch
    qualifier: puredef
    expr:
      kind: lambda
      id: 7643
      params:
        - id: 7596
          name: batch
        - id: 7598
          name: bits
      expr:
        kind: app
        id: 7642
        opcode: fold
        args:
          - kind: name
            id: 7606
            name: batch
          - kind: app
            id: 7609
            opcode: Tup
            args:
              - kind: app
                id: 7607
                opcode: Set
                args: []
              - kind: app
                id: 7608
                opcode: Set
                args: []
          - kind: lambda
            id: 7641
            params:
              - id: 7610
                name: acc
              - id: 7611
                name: op
            expr:
              kind: app
              id: 7640
              opcode: ite
              args:
                - kind: app
                  id: 7619
                  opcode: eq
                  args:
                    - kind: app
                      id: 7617
                      opcode: nth
                      args:
                        - kind: app
                          id: 7614
                          opcode: field
                          args:
                            - kind: name
                              id: 7612
                              name: op
                            - kind: str
                              id: 7613
                              value: key_hash
                        - kind: app
                          id: 7616
                          opcode: length
                          args:
                            - kind: name
                              id: 7615
                              name: bits
                    - kind: int
                      id: 7618
                      value: 0
                - kind: app
                  id: 7629
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7625
                      opcode: union
                      args:
                        - kind: app
                          id: 7622
                          opcode: item
                          args:
                            - kind: name
                              id: 7620
                              name: acc
                            - kind: int
                              id: 7621
                              value: 1
                        - kind: app
                          id: 7624
                          opcode: Set
                          args:
                            - kind: name
                              id: 7623
                              name: op
                    - kind: app
                      id: 7628
                      opcode: item
                      args:
                        - kind: name
                          id: 7626
                          name: acc
                        - kind: int
                          id: 7627
                          value: 2
                - kind: app
                  id: 7639
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7632
                      opcode: item
                      args:
                        - kind: name
                          id: 7630
                          name: acc
                        - kind: int
                          id: 7631
                          value: 1
                    - kind: app
                      id: 7638
                      opcode: union
                      args:
                        - kind: app
                          id: 7635
                          opcode: item
                          args:
                            - kind: name
                              id: 7633
                              name: acc
                            - kind: int
                              id: 7634
                              value: 2
                        - kind: app
                          id: 7637
                          opcode: Set
                          args:
                            - kind: name
                              id: 7636
                              name: op
    depth: 0
  7645:
    kind: typedef
    id: 3897
  7649:
    kind: typedef
    id: 3258
  7651:
    kind: typedef
    id: 3897
  7654:
    kind: typedef
    id: 3897
  7658:
    id: 7648
    name: leaf
  7659:
    id: 7682
    name: leaf
  7662:
    id: 7650
    name: bits
  7667:
    id: 7682
    name: leaf
  7668:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7669:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7671:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7672:
    id: 7682
    name: leaf
  7673:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7676:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7677:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7687:
    kind: def
    id: 7687
    name: partition_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 7686
      params:
        - id: 7648
          name: leaf
        - id: 7650
          name: bits
      expr:
        kind: app
        id: 7679
        opcode: matchVariant
        args:
          - kind: name
            id: 7658
            name: leaf
          - kind: str
            id: 7680
            value: Some
          - kind: lambda
            id: 7681
            params:
              - id: 7682
                name: leaf
            expr:
              kind: app
              id: 7675
              opcode: ite
              args:
                - kind: app
                  id: 7666
                  opcode: eq
                  args:
                    - kind: app
                      id: 7664
                      opcode: nth
                      args:
                        - kind: app
                          id: 7661
                          opcode: field
                          args:
                            - kind: name
                              id: 7659
                              name: leaf
                            - kind: str
                              id: 7660
                              value: key_hash
                        - kind: app
                          id: 7663
                          opcode: length
                          args:
                            - kind: name
                              id: 7662
                              name: bits
                    - kind: int
                      id: 7665
                      value: 0
                - kind: app
                  id: 7670
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7668
                      opcode: Some
                      args:
                        - kind: name
                          id: 7667
                          name: leaf
                    - kind: name
                      id: 7669
                      name: None
                - kind: app
                  id: 7674
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7671
                      name: None
                    - kind: app
                      id: 7673
                      opcode: Some
                      args:
                        - kind: name
                          id: 7672
                          name: leaf
          - kind: str
            id: 7683
            value: None
          - kind: lambda
            id: 7684
            params:
              - id: 7685
                name: _
            expr:
              kind: app
              id: 7678
              opcode: Tup
              args:
                - kind: name
                  id: 7676
                  name: None
                - kind: name
                  id: 7677
                  name: None
    depth: 0
  7688:
    kind: typedef
    id: 3251
  7691:
    kind: typedef
    id: 3897
  7695:
    kind: typedef
    id: 3255
  7697:
    kind: typedef
    id: 3251
  7701:
    id: 7690
    name: batch
  7702:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7705:
    id: 7694
    name: existing_leaf
  7706:
    id: 7704
    name: op
  7709:
    id: 7721
    name: leaf
  7713:
    id: 7704
    name: op
  7714:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7715:
    id: 7703
    name: acc
  7717:
    id: 7703
    name: acc
  7727:
    kind: def
    id: 7727
    name: maybe_op
    qualifier: pureval
    expr:
      kind: app
      id: 7726
      opcode: fold
      args:
        - kind: name
          id: 7701
          name: batch
        - kind: name
          id: 7702
          name: None
        - kind: lambda
          id: 7725
          params:
            - id: 7703
              name: acc
            - id: 7704
              name: op
          expr:
            kind: app
            id: 7718
            opcode: matchVariant
            args:
              - kind: name
                id: 7705
                name: existing_leaf
              - kind: str
                id: 7719
                value: Some
              - kind: lambda
                id: 7720
                params:
                  - id: 7721
                    name: leaf
                expr:
                  kind: app
                  id: 7716
                  opcode: ite
                  args:
                    - kind: app
                      id: 7712
                      opcode: eq
                      args:
                        - kind: app
                          id: 7708
                          opcode: field
                          args:
                            - kind: name
                              id: 7706
                              name: op
                            - kind: str
                              id: 7707
                              value: key_hash
                        - kind: app
                          id: 7711
                          opcode: field
                          args:
                            - kind: name
                              id: 7709
                              name: leaf
                            - kind: str
                              id: 7710
                              value: key_hash
                    - kind: app
                      id: 7714
                      opcode: Some
                      args:
                        - kind: name
                          id: 7713
                          name: op
                    - kind: name
                      id: 7715
                      name: acc
              - kind: str
                id: 7722
                value: None
              - kind: lambda
                id: 7723
                params:
                  - id: 7724
                    name: _
                expr:
                  kind: name
                  id: 7717
                  name: acc
    depth: 3
  7728:
    id: 7690
    name: batch
  7730:
    kind: def
    id: 7727
    name: maybe_op
    qualifier: pureval
    expr:
      kind: app
      id: 7726
      opcode: fold
      args:
        - kind: name
          id: 7701
          name: batch
        - kind: name
          id: 7702
          name: None
        - kind: lambda
          id: 7725
          params:
            - id: 7703
              name: acc
            - id: 7704
              name: op
          expr:
            kind: app
            id: 7718
            opcode: matchVariant
            args:
              - kind: name
                id: 7705
                name: existing_leaf
              - kind: str
                id: 7719
                value: Some
              - kind: lambda
                id: 7720
                params:
                  - id: 7721
                    name: leaf
                expr:
                  kind: app
                  id: 7716
                  opcode: ite
                  args:
                    - kind: app
                      id: 7712
                      opcode: eq
                      args:
                        - kind: app
                          id: 7708
                          opcode: field
                          args:
                            - kind: name
                              id: 7706
                              name: op
                            - kind: str
                              id: 7707
                              value: key_hash
                        - kind: app
                          id: 7711
                          opcode: field
                          args:
                            - kind: name
                              id: 7709
                              name: leaf
                            - kind: str
                              id: 7710
                              value: key_hash
                    - kind: app
                      id: 7714
                      opcode: Some
                      args:
                        - kind: name
                          id: 7713
                          name: op
                    - kind: name
                      id: 7715
                      name: acc
              - kind: str
                id: 7722
                value: None
              - kind: lambda
                id: 7723
                params:
                  - id: 7724
                    name: _
                expr:
                  kind: name
                  id: 7717
                  name: acc
    depth: 3
  7731:
    id: 7729
    name: op
  7732:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7734:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7735:
    id: 7729
    name: op
  7738:
    id: 7729
    name: op
  7742:
    id: 7750
    name: value_hash
  7745:
    kind: def
    id: 1230
    name: Some
    qualifier: def
    expr:
      kind: lambda
      id: 1229
      params:
        - id: 1226
          name: __SomeParam
      expr:
        kind: app
        id: 1228
        opcode: variant
        args:
          - kind: str
            id: 1225
            value: Some
          - kind: name
            id: 1227
            name: __SomeParam
    depth: 0
  7746:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7756:
    kind: def
    id: 4161
    name: filterMap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4160
      params:
        - id: 4131
          name: s
        - id: 4137
          name: f
      expr:
        kind: app
        id: 4159
        opcode: fold
        args:
          - kind: name
            id: 4140
            name: s
          - kind: app
            id: 4141
            opcode: Set
            args: []
          - kind: lambda
            id: 4158
            params:
              - id: 4142
                name: acc
              - id: 4143
                name: e
            expr:
              kind: app
              id: 4151
              opcode: matchVariant
              args:
                - kind: app
                  id: 4145
                  opcode: f
                  args:
                    - kind: name
                      id: 4144
                      name: e
                - kind: str
                  id: 4152
                  value: Some
                - kind: lambda
                  id: 4153
                  params:
                    - id: 4154
                      name: x
                  expr:
                    kind: app
                    id: 4149
                    opcode: union
                    args:
                      - kind: name
                        id: 4146
                        name: acc
                      - kind: app
                        id: 4148
                        opcode: Set
                        args:
                          - kind: name
                            id: 4147
                            name: x
                - kind: str
                  id: 4155
                  value: None
                - kind: lambda
                  id: 4156
                  params:
                    - id: 4157
                      name: _
                  expr:
                    kind: name
                    id: 4150
                    name: acc
    depth: 0
  7757:
    kind: def
    id: 7757
    name: filtered_batch
    qualifier: pureval
    expr:
      kind: app
      id: 7756
      opcode: filterMap
      args:
        - kind: name
          id: 7728
          name: batch
        - kind: lambda
          id: 7755
          params:
            - id: 7729
              name: op
          expr:
            kind: app
            id: 7754
            opcode: ite
            args:
              - kind: app
                id: 7733
                opcode: eq
                args:
                  - kind: name
                    id: 7730
                    name: maybe_op
                  - kind: app
                    id: 7732
                    opcode: Some
                    args:
                      - kind: name
                        id: 7731
                        name: op
              - kind: name
                id: 7734
                name: None
              - kind: app
                id: 7747
                opcode: matchVariant
                args:
                  - kind: app
                    id: 7737
                    opcode: field
                    args:
                      - kind: name
                        id: 7735
                        name: op
                      - kind: str
                        id: 7736
                        value: op
                  - kind: str
                    id: 7748
                    value: Insert
                  - kind: lambda
                    id: 7749
                    params:
                      - id: 7750
                        name: value_hash
                    expr:
                      kind: app
                      id: 7745
                      opcode: Some
                      args:
                        - kind: app
                          id: 7744
                          opcode: Rec
                          args:
                            - kind: str
                              id: 7741
                              value: key_hash
                            - kind: app
                              id: 7740
                              opcode: field
                              args:
                                - kind: name
                                  id: 7738
                                  name: op
                                - kind: str
                                  id: 7739
                                  value: key_hash
                            - kind: str
                              id: 7743
                              value: value_hash
                            - kind: name
                              id: 7742
                              name: value_hash
                  - kind: str
                    id: 7751
                    value: _
                  - kind: lambda
                    id: 7752
                    params:
                      - id: 7753
                        name: _
                    expr:
                      kind: name
                      id: 7746
                      name: None
    depth: 4
  7758:
    kind: def
    id: 7757
    name: filtered_batch
    qualifier: pureval
    expr:
      kind: app
      id: 7756
      opcode: filterMap
      args:
        - kind: name
          id: 7728
          name: batch
        - kind: lambda
          id: 7755
          params:
            - id: 7729
              name: op
          expr:
            kind: app
            id: 7754
            opcode: ite
            args:
              - kind: app
                id: 7733
                opcode: eq
                args:
                  - kind: name
                    id: 7730
                    name: maybe_op
                  - kind: app
                    id: 7732
                    opcode: Some
                    args:
                      - kind: name
                        id: 7731
                        name: op
              - kind: name
                id: 7734
                name: None
              - kind: app
                id: 7747
                opcode: matchVariant
                args:
                  - kind: app
                    id: 7737
                    opcode: field
                    args:
                      - kind: name
                        id: 7735
                        name: op
                      - kind: str
                        id: 7736
                        value: op
                  - kind: str
                    id: 7748
                    value: Insert
                  - kind: lambda
                    id: 7749
                    params:
                      - id: 7750
                        name: value_hash
                    expr:
                      kind: app
                      id: 7745
                      opcode: Some
                      args:
                        - kind: app
                          id: 7744
                          opcode: Rec
                          args:
                            - kind: str
                              id: 7741
                              value: key_hash
                            - kind: app
                              id: 7740
                              opcode: field
                              args:
                                - kind: name
                                  id: 7738
                                  name: op
                                - kind: str
                                  id: 7739
                                  value: key_hash
                            - kind: str
                              id: 7743
                              value: value_hash
                            - kind: name
                              id: 7742
                              name: value_hash
                  - kind: str
                    id: 7751
                    value: _
                  - kind: lambda
                    id: 7752
                    params:
                      - id: 7753
                        name: _
                    expr:
                      kind: name
                      id: 7746
                      name: None
    depth: 4
  7759:
    kind: def
    id: 7727
    name: maybe_op
    qualifier: pureval
    expr:
      kind: app
      id: 7726
      opcode: fold
      args:
        - kind: name
          id: 7701
          name: batch
        - kind: name
          id: 7702
          name: None
        - kind: lambda
          id: 7725
          params:
            - id: 7703
              name: acc
            - id: 7704
              name: op
          expr:
            kind: app
            id: 7718
            opcode: matchVariant
            args:
              - kind: name
                id: 7705
                name: existing_leaf
              - kind: str
                id: 7719
                value: Some
              - kind: lambda
                id: 7720
                params:
                  - id: 7721
                    name: leaf
                expr:
                  kind: app
                  id: 7716
                  opcode: ite
                  args:
                    - kind: app
                      id: 7712
                      opcode: eq
                      args:
                        - kind: app
                          id: 7708
                          opcode: field
                          args:
                            - kind: name
                              id: 7706
                              name: op
                            - kind: str
                              id: 7707
                              value: key_hash
                        - kind: app
                          id: 7711
                          opcode: field
                          args:
                            - kind: name
                              id: 7709
                              name: leaf
                            - kind: str
                              id: 7710
                              value: key_hash
                    - kind: app
                      id: 7714
                      opcode: Some
                      args:
                        - kind: name
                          id: 7713
                          name: op
                    - kind: name
                      id: 7715
                      name: acc
              - kind: str
                id: 7722
                value: None
              - kind: lambda
                id: 7723
                params:
                  - id: 7724
                    name: _
                expr:
                  kind: name
                  id: 7717
                  name: acc
    depth: 3
  7764:
    kind: def
    id: 7764
    name: prepare_batch_for_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7763
      params:
        - id: 7690
          name: batch
        - id: 7694
          name: existing_leaf
      expr:
        kind: let
        id: 7762
        opdef:
          id: 7727
          name: maybe_op
          qualifier: pureval
          expr:
            kind: app
            id: 7726
            opcode: fold
            args:
              - kind: name
                id: 7701
                name: batch
              - kind: name
                id: 7702
                name: None
              - kind: lambda
                id: 7725
                params:
                  - id: 7703
                    name: acc
                  - id: 7704
                    name: op
                expr:
                  kind: app
                  id: 7718
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 7705
                      name: existing_leaf
                    - kind: str
                      id: 7719
                      value: Some
                    - kind: lambda
                      id: 7720
                      params:
                        - id: 7721
                          name: leaf
                      expr:
                        kind: app
                        id: 7716
                        opcode: ite
                        args:
                          - kind: app
                            id: 7712
                            opcode: eq
                            args:
                              - kind: app
                                id: 7708
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7706
                                    name: op
                                  - kind: str
                                    id: 7707
                                    value: key_hash
                              - kind: app
                                id: 7711
                                opcode: field
                                args:
                                  - kind: name
                                    id: 7709
                                    name: leaf
                                  - kind: str
                                    id: 7710
                                    value: key_hash
                          - kind: app
                            id: 7714
                            opcode: Some
                            args:
                              - kind: name
                                id: 7713
                                name: op
                          - kind: name
                            id: 7715
                            name: acc
                    - kind: str
                      id: 7722
                      value: None
                    - kind: lambda
                      id: 7723
                      params:
                        - id: 7724
                          name: _
                      expr:
                        kind: name
                        id: 7717
                        name: acc
          depth: ~
        expr:
          kind: let
          id: 7761
          opdef:
            id: 7757
            name: filtered_batch
            qualifier: pureval
            expr:
              kind: app
              id: 7756
              opcode: filterMap
              args:
                - kind: name
                  id: 7728
                  name: batch
                - kind: lambda
                  id: 7755
                  params:
                    - id: 7729
                      name: op
                  expr:
                    kind: app
                    id: 7754
                    opcode: ite
                    args:
                      - kind: app
                        id: 7733
                        opcode: eq
                        args:
                          - kind: name
                            id: 7730
                            name: maybe_op
                          - kind: app
                            id: 7732
                            opcode: Some
                            args:
                              - kind: name
                                id: 7731
                                name: op
                      - kind: name
                        id: 7734
                        name: None
                      - kind: app
                        id: 7747
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 7737
                            opcode: field
                            args:
                              - kind: name
                                id: 7735
                                name: op
                              - kind: str
                                id: 7736
                                value: op
                          - kind: str
                            id: 7748
                            value: Insert
                          - kind: lambda
                            id: 7749
                            params:
                              - id: 7750
                                name: value_hash
                            expr:
                              kind: app
                              id: 7745
                              opcode: Some
                              args:
                                - kind: app
                                  id: 7744
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 7741
                                      value: key_hash
                                    - kind: app
                                      id: 7740
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 7738
                                          name: op
                                        - kind: str
                                          id: 7739
                                          value: key_hash
                                    - kind: str
                                      id: 7743
                                      value: value_hash
                                    - kind: name
                                      id: 7742
                                      name: value_hash
                          - kind: str
                            id: 7751
                            value: _
                          - kind: lambda
                            id: 7752
                            params:
                              - id: 7753
                                name: _
                            expr:
                              kind: name
                              id: 7746
                              name: None
            depth: ~
          expr:
            kind: app
            id: 7760
            opcode: Tup
            args:
              - kind: name
                id: 7758
                name: filtered_batch
              - kind: name
                id: 7759
                name: maybe_op
    depth: 0
  7765:
    kind: typedef
    id: 3278
  7767:
    kind: typedef
    id: 3260
  7769:
    kind: typedef
    id: 3258
  7771:
    kind: typedef
    id: 3255
  7774:
    kind: typedef
    id: 3897
  7778:
    kind: typedef
    id: 6675
  7779:
    id: 7766
    name: tree
  7780:
    id: 7768
    name: version
  7781:
    id: 7770
    name: bits
  7782:
    id: 7773
    name: batch
  7783:
    id: 7777
    name: existing_leaf
  7784:
    kind: def
    id: 7914
    name: pre_compute_create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7913
      params:
        - id: 7826
          name: tree
        - id: 7828
          name: version
        - id: 7830
          name: bits
        - id: 7833
          name: batch
        - id: 7837
          name: existing_leaf
      expr:
        kind: let
        id: 7912
        opdef:
          id: 7859
          name: bits_to_compute
          qualifier: pureval
          expr:
            kind: app
            id: 7858
            opcode: toList
            args:
              - kind: app
                id: 7849
                opcode: filter
                args:
                  - kind: app
                    id: 7843
                    opcode: allListsUpTo
                    args:
                      - kind: app
                        id: 7841
                        opcode: Set
                        args:
                          - kind: int
                            id: 7839
                            value: 0
                          - kind: int
                            id: 7840
                            value: 1
                      - kind: name
                        id: 7842
                        name: MAX_HASH_LENGTH
                  - kind: lambda
                    id: 7848
                    params:
                      - id: 7844
                        name: b
                    expr:
                      kind: app
                      id: 7847
                      opcode: isPrefixOf
                      args:
                        - kind: name
                          id: 7845
                          name: bits
                        - kind: name
                          id: 7846
                          name: b
              - kind: lambda
                id: 7857
                params:
                  - id: 7850
                    name: a
                  - id: 7851
                    name: b
                expr:
                  kind: app
                  id: 7856
                  opcode: intCompare
                  args:
                    - kind: app
                      id: 7853
                      opcode: length
                      args:
                        - kind: name
                          id: 7852
                          name: a
                    - kind: app
                      id: 7855
                      opcode: length
                      args:
                        - kind: name
                          id: 7854
                          name: b
          depth: ~
        expr:
          kind: app
          id: 7911
          opcode: foldr
          args:
            - kind: name
              id: 7860
              name: bits_to_compute
            - kind: app
              id: 7861
              opcode: Map
              args: []
            - kind: lambda
              id: 7910
              params:
                - id: 7862
                  name: bits_now
                - id: 7863
                  name: memo
              expr:
                kind: let
                id: 7909
                opdef:
                  id: 7873
                  name: batch_now
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 7872
                    opcode: filter
                    args:
                      - kind: name
                        id: 7864
                        name: batch
                      - kind: lambda
                        id: 7871
                        params:
                          - id: 7865
                            name: kv
                        expr:
                          kind: app
                          id: 7870
                          opcode: isPrefixOf
                          args:
                            - kind: name
                              id: 7866
                              name: bits_now
                            - kind: app
                              id: 7869
                              opcode: field
                              args:
                                - kind: name
                                  id: 7867
                                  name: kv
                                - kind: str
                                  id: 7868
                                  value: key_hash
                  depth: ~
                expr:
                  kind: let
                  id: 7908
                  opdef:
                    id: 7887
                    name: existing_leaf_now
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7886
                      opcode: ite
                      args:
                        - kind: app
                          id: 7883
                          opcode: and
                          args:
                            - kind: app
                              id: 7876
                              opcode: neq
                              args:
                                - kind: name
                                  id: 7874
                                  name: existing_leaf
                                - kind: name
                                  id: 7875
                                  name: None
                            - kind: app
                              id: 7882
                              opcode: isPrefixOf
                              args:
                                - kind: name
                                  id: 7877
                                  name: bits_now
                                - kind: app
                                  id: 7881
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 7879
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 7878
                                          name: existing_leaf
                                    - kind: str
                                      id: 7880
                                      value: key_hash
                        - kind: name
                          id: 7884
                          name: existing_leaf
                        - kind: name
                          id: 7885
                          name: None
                    depth: ~
                  expr:
                    kind: let
                    id: 7907
                    opdef:
                      id: 7893
                      name: memo_key
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7892
                        opcode: Tup
                        args:
                          - kind: name
                            id: 7888
                            name: version
                          - kind: name
                            id: 7889
                            name: bits_now
                          - kind: name
                            id: 7890
                            name: batch_now
                          - kind: name
                            id: 7891
                            name: existing_leaf_now
                      depth: ~
                    expr:
                      kind: let
                      id: 7906
                      opdef:
                        id: 7901
                        name: memo_value
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7900
                          opcode: create_subtree_with_memo
                          args:
                            - kind: name
                              id: 7894
                              name: tree
                            - kind: name
                              id: 7895
                              name: memo
                            - kind: name
                              id: 7896
                              name: version
                            - kind: name
                              id: 7897
                              name: bits_now
                            - kind: name
                              id: 7898
                              name: batch_now
                            - kind: name
                              id: 7899
                              name: existing_leaf_now
                        depth: ~
                      expr:
                        kind: app
                        id: 7905
                        opcode: put
                        args:
                          - kind: name
                            id: 7902
                            name: memo
                          - kind: name
                            id: 7903
                            name: memo_key
                          - kind: name
                            id: 7904
                            name: memo_value
    depth: 0
  7785:
    kind: def
    id: 7785
    name: memo
    qualifier: pureval
    expr:
      kind: app
      id: 7784
      opcode: pre_compute_create_subtree
      args:
        - kind: name
          id: 7779
          name: tree
        - kind: name
          id: 7780
          name: version
        - kind: name
          id: 7781
          name: bits
        - kind: name
          id: 7782
          name: batch
        - kind: name
          id: 7783
          name: existing_leaf
    depth: 3
  7786:
    kind: def
    id: 7785
    name: memo
    qualifier: pureval
    expr:
      kind: app
      id: 7784
      opcode: pre_compute_create_subtree
      args:
        - kind: name
          id: 7779
          name: tree
        - kind: name
          id: 7780
          name: version
        - kind: name
          id: 7781
          name: bits
        - kind: name
          id: 7782
          name: batch
        - kind: name
          id: 7783
          name: existing_leaf
    depth: 3
  7787:
    id: 7768
    name: version
  7788:
    id: 7770
    name: bits
  7789:
    id: 7773
    name: batch
  7790:
    id: 7777
    name: existing_leaf
  7793:
    kind: def
    id: 7793
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 7792
      opcode: get
      args:
        - kind: name
          id: 7786
          name: memo
        - kind: app
          id: 7791
          opcode: Tup
          args:
            - kind: name
              id: 7787
              name: version
            - kind: name
              id: 7788
              name: bits
            - kind: name
              id: 7789
              name: batch
            - kind: name
              id: 7790
              name: existing_leaf
    depth: 4
  7794:
    kind: def
    id: 7793
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 7792
      opcode: get
      args:
        - kind: name
          id: 7786
          name: memo
        - kind: app
          id: 7791
          opcode: Tup
          args:
            - kind: name
              id: 7787
              name: version
            - kind: name
              id: 7788
              name: bits
            - kind: name
              id: 7789
              name: batch
            - kind: name
              id: 7790
              name: existing_leaf
    depth: 4
  7800:
    kind: def
    id: 7793
    name: result
    qualifier: pureval
    expr:
      kind: app
      id: 7792
      opcode: get
      args:
        - kind: name
          id: 7786
          name: memo
        - kind: app
          id: 7791
          opcode: Tup
          args:
            - kind: name
              id: 7787
              name: version
            - kind: name
              id: 7788
              name: bits
            - kind: name
              id: 7789
              name: batch
            - kind: name
              id: 7790
              name: existing_leaf
    depth: 4
  7808:
    kind: def
    id: 7808
    name: create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7807
      params:
        - id: 7766
          name: tree
        - id: 7768
          name: version
        - id: 7770
          name: bits
        - id: 7773
          name: batch
        - id: 7777
          name: existing_leaf
      expr:
        kind: let
        id: 7806
        opdef:
          id: 7785
          name: memo
          qualifier: pureval
          expr:
            kind: app
            id: 7784
            opcode: pre_compute_create_subtree
            args:
              - kind: name
                id: 7779
                name: tree
              - kind: name
                id: 7780
                name: version
              - kind: name
                id: 7781
                name: bits
              - kind: name
                id: 7782
                name: batch
              - kind: name
                id: 7783
                name: existing_leaf
          depth: ~
        expr:
          kind: let
          id: 7805
          opdef:
            id: 7793
            name: result
            qualifier: pureval
            expr:
              kind: app
              id: 7792
              opcode: get
              args:
                - kind: name
                  id: 7786
                  name: memo
                - kind: app
                  id: 7791
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7787
                      name: version
                    - kind: name
                      id: 7788
                      name: bits
                    - kind: name
                      id: 7789
                      name: batch
                    - kind: name
                      id: 7790
                      name: existing_leaf
            depth: ~
          expr:
            kind: app
            id: 7804
            opcode: Rec
            args:
              - kind: str
                id: 7797
                value: outcome
              - kind: app
                id: 7796
                opcode: field
                args:
                  - kind: name
                    id: 7794
                    name: result
                  - kind: str
                    id: 7795
                    value: outcome
              - kind: str
                id: 7799
                value: orphans_to_add
              - kind: app
                id: 7798
                opcode: Set
                args: []
              - kind: str
                id: 7803
                value: nodes_to_add
              - kind: app
                id: 7802
                opcode: field
                args:
                  - kind: name
                    id: 7800
                    name: result
                  - kind: str
                    id: 7801
                    value: nodes_to_add
    depth: 0
  7809:
    kind: typedef
    id: 3260
  7810:
    kind: typedef
    id: 3258
  7811:
    kind: typedef
    id: 3255
  7813:
    kind: typedef
    id: 3897
  7817:
    kind: typedef
    id: 3919
  7818:
    kind: typedef
    id: 3264
  7819:
    kind: typedef
    id: 3900
  7825:
    kind: typedef
    id: 3278
  7827:
    kind: typedef
    id: 3260
  7829:
    kind: typedef
    id: 3258
  7831:
    kind: typedef
    id: 3255
  7834:
    kind: typedef
    id: 3897
  7838:
    kind: typedef
    id: 7824
  7842:
    kind: def
    id: 3247
    name: MAX_HASH_LENGTH
    qualifier: pureval
    expr:
      kind: int
      id: 3246
      value: 4
    depth: 0
  7845:
    id: 7830
    name: bits
  7846:
    id: 7844
    name: b
  7847:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  7852:
    id: 7850
    name: a
  7854:
    id: 7851
    name: b
  7856:
    kind: def
    id: 2268
    name: intCompare
    qualifier: puredef
    expr:
      kind: lambda
      id: 2267
      params:
        - id: 2252
          name: __a
        - id: 2254
          name: __b
      expr:
        kind: app
        id: 2266
        opcode: ite
        args:
          - kind: app
            id: 2258
            opcode: ilt
            args:
              - kind: name
                id: 2256
                name: __a
              - kind: name
                id: 2257
                name: __b
          - kind: name
            id: 2259
            name: LT
          - kind: app
            id: 2265
            opcode: ite
            args:
              - kind: app
                id: 2262
                opcode: igt
                args:
                  - kind: name
                    id: 2260
                    name: __a
                  - kind: name
                    id: 2261
                    name: __b
              - kind: name
                id: 2263
                name: GT
              - kind: name
                id: 2264
                name: EQ
    depth: 0
  7858:
    kind: def
    id: 2546
    name: toList
    qualifier: puredef
    expr:
      kind: lambda
      id: 2545
      params:
        - id: 2527
          name: __set
        - id: 2532
          name: __cmp
      expr:
        kind: app
        id: 2544
        opcode: fold
        args:
          - kind: name
            id: 2535
            name: __set
          - kind: app
            id: 2536
            opcode: List
            args: []
          - kind: lambda
            id: 2543
            params:
              - id: 2537
                name: __l
              - id: 2538
                name: __e
            expr:
              kind: app
              id: 2542
              opcode: sortedListInsert
              args:
                - kind: name
                  id: 2539
                  name: __l
                - kind: name
                  id: 2540
                  name: __e
                - kind: name
                  id: 2541
                  name: __cmp
    depth: 0
  7859:
    kind: def
    id: 7859
    name: bits_to_compute
    qualifier: pureval
    expr:
      kind: app
      id: 7858
      opcode: toList
      args:
        - kind: app
          id: 7849
          opcode: filter
          args:
            - kind: app
              id: 7843
              opcode: allListsUpTo
              args:
                - kind: app
                  id: 7841
                  opcode: Set
                  args:
                    - kind: int
                      id: 7839
                      value: 0
                    - kind: int
                      id: 7840
                      value: 1
                - kind: name
                  id: 7842
                  name: MAX_HASH_LENGTH
            - kind: lambda
              id: 7848
              params:
                - id: 7844
                  name: b
              expr:
                kind: app
                id: 7847
                opcode: isPrefixOf
                args:
                  - kind: name
                    id: 7845
                    name: bits
                  - kind: name
                    id: 7846
                    name: b
        - kind: lambda
          id: 7857
          params:
            - id: 7850
              name: a
            - id: 7851
              name: b
          expr:
            kind: app
            id: 7856
            opcode: intCompare
            args:
              - kind: app
                id: 7853
                opcode: length
                args:
                  - kind: name
                    id: 7852
                    name: a
              - kind: app
                id: 7855
                opcode: length
                args:
                  - kind: name
                    id: 7854
                    name: b
    depth: 3
  7860:
    kind: def
    id: 7859
    name: bits_to_compute
    qualifier: pureval
    expr:
      kind: app
      id: 7858
      opcode: toList
      args:
        - kind: app
          id: 7849
          opcode: filter
          args:
            - kind: app
              id: 7843
              opcode: allListsUpTo
              args:
                - kind: app
                  id: 7841
                  opcode: Set
                  args:
                    - kind: int
                      id: 7839
                      value: 0
                    - kind: int
                      id: 7840
                      value: 1
                - kind: name
                  id: 7842
                  name: MAX_HASH_LENGTH
            - kind: lambda
              id: 7848
              params:
                - id: 7844
                  name: b
              expr:
                kind: app
                id: 7847
                opcode: isPrefixOf
                args:
                  - kind: name
                    id: 7845
                    name: bits
                  - kind: name
                    id: 7846
                    name: b
        - kind: lambda
          id: 7857
          params:
            - id: 7850
              name: a
            - id: 7851
              name: b
          expr:
            kind: app
            id: 7856
            opcode: intCompare
            args:
              - kind: app
                id: 7853
                opcode: length
                args:
                  - kind: name
                    id: 7852
                    name: a
              - kind: app
                id: 7855
                opcode: length
                args:
                  - kind: name
                    id: 7854
                    name: b
    depth: 3
  7864:
    id: 7833
    name: batch
  7866:
    id: 7862
    name: bits_now
  7867:
    id: 7865
    name: kv
  7870:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  7873:
    kind: def
    id: 7873
    name: batch_now
    qualifier: pureval
    expr:
      kind: app
      id: 7872
      opcode: filter
      args:
        - kind: name
          id: 7864
          name: batch
        - kind: lambda
          id: 7871
          params:
            - id: 7865
              name: kv
          expr:
            kind: app
            id: 7870
            opcode: isPrefixOf
            args:
              - kind: name
                id: 7866
                name: bits_now
              - kind: app
                id: 7869
                opcode: field
                args:
                  - kind: name
                    id: 7867
                    name: kv
                  - kind: str
                    id: 7868
                    value: key_hash
    depth: 5
  7874:
    id: 7837
    name: existing_leaf
  7875:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7877:
    id: 7862
    name: bits_now
  7878:
    id: 7837
    name: existing_leaf
  7879:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7882:
    kind: def
    id: 2079
    name: isPrefixOf
    qualifier: puredef
    expr:
      kind: lambda
      id: 2078
      params:
        - id: 2054
          name: l1
        - id: 2057
          name: l2
      expr:
        kind: app
        id: 2077
        opcode: ite
        args:
          - kind: app
            id: 2063
            opcode: igt
            args:
              - kind: app
                id: 2060
                opcode: length
                args:
                  - kind: name
                    id: 2059
                    name: l1
              - kind: app
                id: 2062
                opcode: length
                args:
                  - kind: name
                    id: 2061
                    name: l2
          - kind: bool
            id: 2064
            value: false
          - kind: app
            id: 2076
            opcode: forall
            args:
              - kind: app
                id: 2066
                opcode: indices
                args:
                  - kind: name
                    id: 2065
                    name: l1
              - kind: lambda
                id: 2075
                params:
                  - id: 2067
                    name: i
                expr:
                  kind: app
                  id: 2074
                  opcode: eq
                  args:
                    - kind: app
                      id: 2070
                      opcode: nth
                      args:
                        - kind: name
                          id: 2068
                          name: l1
                        - kind: name
                          id: 2069
                          name: i
                    - kind: app
                      id: 2073
                      opcode: nth
                      args:
                        - kind: name
                          id: 2071
                          name: l2
                        - kind: name
                          id: 2072
                          name: i
    depth: 0
  7884:
    id: 7837
    name: existing_leaf
  7885:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7887:
    kind: def
    id: 7887
    name: existing_leaf_now
    qualifier: pureval
    expr:
      kind: app
      id: 7886
      opcode: ite
      args:
        - kind: app
          id: 7883
          opcode: and
          args:
            - kind: app
              id: 7876
              opcode: neq
              args:
                - kind: name
                  id: 7874
                  name: existing_leaf
                - kind: name
                  id: 7875
                  name: None
            - kind: app
              id: 7882
              opcode: isPrefixOf
              args:
                - kind: name
                  id: 7877
                  name: bits_now
                - kind: app
                  id: 7881
                  opcode: field
                  args:
                    - kind: app
                      id: 7879
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 7878
                          name: existing_leaf
                    - kind: str
                      id: 7880
                      value: key_hash
        - kind: name
          id: 7884
          name: existing_leaf
        - kind: name
          id: 7885
          name: None
    depth: 6
  7888:
    id: 7828
    name: version
  7889:
    id: 7862
    name: bits_now
  7890:
    kind: def
    id: 7873
    name: batch_now
    qualifier: pureval
    expr:
      kind: app
      id: 7872
      opcode: filter
      args:
        - kind: name
          id: 7864
          name: batch
        - kind: lambda
          id: 7871
          params:
            - id: 7865
              name: kv
          expr:
            kind: app
            id: 7870
            opcode: isPrefixOf
            args:
              - kind: name
                id: 7866
                name: bits_now
              - kind: app
                id: 7869
                opcode: field
                args:
                  - kind: name
                    id: 7867
                    name: kv
                  - kind: str
                    id: 7868
                    value: key_hash
    depth: 5
  7891:
    kind: def
    id: 7887
    name: existing_leaf_now
    qualifier: pureval
    expr:
      kind: app
      id: 7886
      opcode: ite
      args:
        - kind: app
          id: 7883
          opcode: and
          args:
            - kind: app
              id: 7876
              opcode: neq
              args:
                - kind: name
                  id: 7874
                  name: existing_leaf
                - kind: name
                  id: 7875
                  name: None
            - kind: app
              id: 7882
              opcode: isPrefixOf
              args:
                - kind: name
                  id: 7877
                  name: bits_now
                - kind: app
                  id: 7881
                  opcode: field
                  args:
                    - kind: app
                      id: 7879
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 7878
                          name: existing_leaf
                    - kind: str
                      id: 7880
                      value: key_hash
        - kind: name
          id: 7884
          name: existing_leaf
        - kind: name
          id: 7885
          name: None
    depth: 6
  7893:
    kind: def
    id: 7893
    name: memo_key
    qualifier: pureval
    expr:
      kind: app
      id: 7892
      opcode: Tup
      args:
        - kind: name
          id: 7888
          name: version
        - kind: name
          id: 7889
          name: bits_now
        - kind: name
          id: 7890
          name: batch_now
        - kind: name
          id: 7891
          name: existing_leaf_now
    depth: 7
  7894:
    id: 7826
    name: tree
  7895:
    id: 7863
    name: memo
  7896:
    id: 7828
    name: version
  7897:
    id: 7862
    name: bits_now
  7898:
    kind: def
    id: 7873
    name: batch_now
    qualifier: pureval
    expr:
      kind: app
      id: 7872
      opcode: filter
      args:
        - kind: name
          id: 7864
          name: batch
        - kind: lambda
          id: 7871
          params:
            - id: 7865
              name: kv
          expr:
            kind: app
            id: 7870
            opcode: isPrefixOf
            args:
              - kind: name
                id: 7866
                name: bits_now
              - kind: app
                id: 7869
                opcode: field
                args:
                  - kind: name
                    id: 7867
                    name: kv
                  - kind: str
                    id: 7868
                    value: key_hash
    depth: 5
  7899:
    kind: def
    id: 7887
    name: existing_leaf_now
    qualifier: pureval
    expr:
      kind: app
      id: 7886
      opcode: ite
      args:
        - kind: app
          id: 7883
          opcode: and
          args:
            - kind: app
              id: 7876
              opcode: neq
              args:
                - kind: name
                  id: 7874
                  name: existing_leaf
                - kind: name
                  id: 7875
                  name: None
            - kind: app
              id: 7882
              opcode: isPrefixOf
              args:
                - kind: name
                  id: 7877
                  name: bits_now
                - kind: app
                  id: 7881
                  opcode: field
                  args:
                    - kind: app
                      id: 7879
                      opcode: unwrap
                      args:
                        - kind: name
                          id: 7878
                          name: existing_leaf
                    - kind: str
                      id: 7880
                      value: key_hash
        - kind: name
          id: 7884
          name: existing_leaf
        - kind: name
          id: 7885
          name: None
    depth: 6
  7900:
    kind: def
    id: 8157
    name: create_subtree_with_memo
    qualifier: puredef
    expr:
      kind: lambda
      id: 8156
      params:
        - id: 7916
          name: tree
        - id: 7918
          name: memo
        - id: 7920
          name: version
        - id: 7922
          name: bits
        - id: 7925
          name: batch
        - id: 7929
          name: existing_leaf
      expr:
        kind: app
        id: 8155
        opcode: ite
        args:
          - kind: app
            id: 7943
            opcode: and
            args:
              - kind: app
                id: 7939
                opcode: eq
                args:
                  - kind: app
                    id: 7937
                    opcode: size
                    args:
                      - kind: name
                        id: 7936
                        name: batch
                  - kind: int
                    id: 7938
                    value: 0
              - kind: app
                id: 7942
                opcode: eq
                args:
                  - kind: name
                    id: 7940
                    name: existing_leaf
                  - kind: name
                    id: 7941
                    name: None
          - kind: app
            id: 7949
            opcode: Rec
            args:
              - kind: str
                id: 7946
                value: outcome
              - kind: app
                id: 7945
                opcode: Unchanged
                args:
                  - kind: name
                    id: 7944
                    name: None
              - kind: str
                id: 7948
                value: nodes_to_add
              - kind: app
                id: 7947
                opcode: Set
                args: []
          - kind: app
            id: 8154
            opcode: ite
            args:
              - kind: app
                id: 7953
                opcode: eq
                args:
                  - kind: app
                    id: 7951
                    opcode: size
                    args:
                      - kind: name
                        id: 7950
                        name: batch
                  - kind: int
                    id: 7952
                    value: 0
              - kind: let
                id: 7964
                opdef:
                  id: 7957
                  name: node
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 7956
                    opcode: Leaf
                    args:
                      - kind: app
                        id: 7955
                        opcode: unwrap
                        args:
                          - kind: name
                            id: 7954
                            name: existing_leaf
                  depth: ~
                expr:
                  kind: app
                  id: 7963
                  opcode: Rec
                  args:
                    - kind: str
                      id: 7960
                      value: outcome
                    - kind: app
                      id: 7959
                      opcode: Updated
                      args:
                        - kind: name
                          id: 7958
                          name: node
                    - kind: str
                      id: 7962
                      value: nodes_to_add
                    - kind: app
                      id: 7961
                      opcode: Set
                      args: []
              - kind: app
                id: 8153
                opcode: ite
                args:
                  - kind: app
                    id: 7972
                    opcode: and
                    args:
                      - kind: app
                        id: 7968
                        opcode: eq
                        args:
                          - kind: app
                            id: 7966
                            opcode: size
                            args:
                              - kind: name
                                id: 7965
                                name: batch
                          - kind: int
                            id: 7967
                            value: 1
                      - kind: app
                        id: 7971
                        opcode: eq
                        args:
                          - kind: name
                            id: 7969
                            name: existing_leaf
                          - kind: name
                            id: 7970
                            name: None
                  - kind: let
                    id: 7983
                    opdef:
                      id: 7976
                      name: node
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7975
                        opcode: Leaf
                        args:
                          - kind: app
                            id: 7974
                            opcode: getOnlyElement
                            args:
                              - kind: name
                                id: 7973
                                name: batch
                      depth: ~
                    expr:
                      kind: app
                      id: 7982
                      opcode: Rec
                      args:
                        - kind: str
                          id: 7979
                          value: outcome
                        - kind: app
                          id: 7978
                          opcode: Updated
                          args:
                            - kind: name
                              id: 7977
                              name: node
                        - kind: str
                          id: 7981
                          value: nodes_to_add
                        - kind: app
                          id: 7980
                          opcode: Set
                          args: []
                  - kind: let
                    id: 8152
                    opdef:
                      id: 7987
                      name: partitioned_batch
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7986
                        opcode: partition_batch
                        args:
                          - kind: name
                            id: 7984
                            name: batch
                          - kind: name
                            id: 7985
                            name: bits
                      depth: ~
                    expr:
                      kind: let
                      id: 8151
                      opdef:
                        id: 7991
                        name: batch_for_left
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7990
                          opcode: item
                          args:
                            - kind: name
                              id: 7988
                              name: partitioned_batch
                            - kind: int
                              id: 7989
                              value: 1
                        depth: ~
                      expr:
                        kind: let
                        id: 8150
                        opdef:
                          id: 7995
                          name: batch_for_right
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 7994
                            opcode: item
                            args:
                              - kind: name
                                id: 7992
                                name: partitioned_batch
                              - kind: int
                                id: 7993
                                value: 2
                          depth: ~
                        expr:
                          kind: let
                          id: 8149
                          opdef:
                            id: 7999
                            name: partitioned_leaf
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 7998
                              opcode: partition_leaf
                              args:
                                - kind: name
                                  id: 7996
                                  name: existing_leaf
                                - kind: name
                                  id: 7997
                                  name: bits
                            depth: ~
                          expr:
                            kind: let
                            id: 8148
                            opdef:
                              id: 8003
                              name: leaf_for_left
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 8002
                                opcode: item
                                args:
                                  - kind: name
                                    id: 8000
                                    name: partitioned_leaf
                                  - kind: int
                                    id: 8001
                                    value: 1
                              depth: ~
                            expr:
                              kind: let
                              id: 8147
                              opdef:
                                id: 8007
                                name: leaf_for_right
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 8006
                                  opcode: item
                                  args:
                                    - kind: name
                                      id: 8004
                                      name: partitioned_leaf
                                    - kind: int
                                      id: 8005
                                      value: 2
                                depth: ~
                              expr:
                                kind: let
                                id: 8146
                                opdef:
                                  id: 8011
                                  name: left_bits
                                  qualifier: pureval
                                  expr:
                                    kind: app
                                    id: 8010
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 8008
                                        name: bits
                                      - kind: int
                                        id: 8009
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 8145
                                  opdef:
                                    id: 8019
                                    name: left
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 8018
                                      opcode: get
                                      args:
                                        - kind: name
                                          id: 8012
                                          name: memo
                                        - kind: app
                                          id: 8017
                                          opcode: Tup
                                          args:
                                            - kind: name
                                              id: 8013
                                              name: version
                                            - kind: name
                                              id: 8014
                                              name: left_bits
                                            - kind: name
                                              id: 8015
                                              name: batch_for_left
                                            - kind: name
                                              id: 8016
                                              name: leaf_for_left
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 8144
                                    opdef:
                                      id: 8023
                                      name: right_bits
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 8022
                                        opcode: append
                                        args:
                                          - kind: name
                                            id: 8020
                                            name: bits
                                          - kind: int
                                            id: 8021
                                            value: 1
                                      depth: ~
                                    expr:
                                      kind: let
                                      id: 8143
                                      opdef:
                                        id: 8031
                                        name: right
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 8030
                                          opcode: get
                                          args:
                                            - kind: name
                                              id: 8024
                                              name: memo
                                            - kind: app
                                              id: 8029
                                              opcode: Tup
                                              args:
                                                - kind: name
                                                  id: 8025
                                                  name: version
                                                - kind: name
                                                  id: 8026
                                                  name: right_bits
                                                - kind: name
                                                  id: 8027
                                                  name: batch_for_right
                                                - kind: name
                                                  id: 8028
                                                  name: leaf_for_right
                                        depth: ~
                                      expr:
                                        kind: let
                                        id: 8142
                                        opdef:
                                          id: 8119
                                          name: nodes_to_add
                                          qualifier: pureval
                                          expr:
                                            kind: app
                                            id: 8118
                                            opcode: union
                                            args:
                                              - kind: app
                                                id: 8078
                                                opcode: union
                                                args:
                                                  - kind: app
                                                    id: 8038
                                                    opcode: union
                                                    args:
                                                      - kind: app
                                                        id: 8034
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8032
                                                            name: left
                                                          - kind: str
                                                            id: 8033
                                                            value: nodes_to_add
                                                      - kind: app
                                                        id: 8037
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8035
                                                            name: right
                                                          - kind: str
                                                            id: 8036
                                                            value: nodes_to_add
                                                  - kind: app
                                                    id: 8068
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 8041
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8039
                                                            name: left
                                                          - kind: str
                                                            id: 8040
                                                            value: outcome
                                                      - kind: str
                                                        id: 8069
                                                        value: Updated
                                                      - kind: lambda
                                                        id: 8070
                                                        params:
                                                          - id: 8071
                                                            name: node
                                                        expr:
                                                          kind: app
                                                          id: 8049
                                                          opcode: Set
                                                          args:
                                                            - kind: app
                                                              id: 8048
                                                              opcode: Tup
                                                              args:
                                                                - kind: app
                                                                  id: 8046
                                                                  opcode: Rec
                                                                  args:
                                                                    - kind: str
                                                                      id: 8043
                                                                      value: version
                                                                    - kind: name
                                                                      id: 8042
                                                                      name: version
                                                                    - kind: str
                                                                      id: 8045
                                                                      value: key_hash
                                                                    - kind: name
                                                                      id: 8044
                                                                      name: left_bits
                                                                - kind: name
                                                                  id: 8047
                                                                  name: node
                                                      - kind: str
                                                        id: 8072
                                                        value: Unchanged
                                                      - kind: lambda
                                                        id: 8073
                                                        params:
                                                          - id: 8074
                                                            name: option
                                                        expr:
                                                          kind: app
                                                          id: 8060
                                                          opcode: matchVariant
                                                          args:
                                                            - kind: name
                                                              id: 8050
                                                              name: option
                                                            - kind: str
                                                              id: 8061
                                                              value: Some
                                                            - kind: lambda
                                                              id: 8062
                                                              params:
                                                                - id: 8063
                                                                  name: node
                                                              expr:
                                                                kind: app
                                                                id: 8058
                                                                opcode: Set
                                                                args:
                                                                  - kind: app
                                                                    id: 8057
                                                                    opcode: Tup
                                                                    args:
                                                                      - kind: app
                                                                        id: 8055
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 8052
                                                                            value: version
                                                                          - kind: name
                                                                            id: 8051
                                                                            name: version
                                                                          - kind: str
                                                                            id: 8054
                                                                            value: key_hash
                                                                          - kind: name
                                                                            id: 8053
                                                                            name: left_bits
                                                                      - kind: name
                                                                        id: 8056
                                                                        name: node
                                                            - kind: str
                                                              id: 8064
                                                              value: _
                                                            - kind: lambda
                                                              id: 8065
                                                              params:
                                                                - id: 8066
                                                                  name: _
                                                              expr:
                                                                kind: app
                                                                id: 8059
                                                                opcode: Set
                                                                args: []
                                                      - kind: str
                                                        id: 8075
                                                        value: _
                                                      - kind: lambda
                                                        id: 8076
                                                        params:
                                                          - id: 8077
                                                            name: _
                                                        expr:
                                                          kind: app
                                                          id: 8067
                                                          opcode: Set
                                                          args: []
                                              - kind: app
                                                id: 8108
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 8081
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8079
                                                        name: right
                                                      - kind: str
                                                        id: 8080
                                                        value: outcome
                                                  - kind: str
                                                    id: 8109
                                                    value: Updated
                                                  - kind: lambda
                                                    id: 8110
                                                    params:
                                                      - id: 8111
                                                        name: node
                                                    expr:
                                                      kind: app
                                                      id: 8089
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 8088
                                                          opcode: Tup
                                                          args:
                                                            - kind: app
                                                              id: 8086
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 8083
                                                                  value: version
                                                                - kind: name
                                                                  id: 8082
                                                                  name: version
                                                                - kind: str
                                                                  id: 8085
                                                                  value: key_hash
                                                                - kind: name
                                                                  id: 8084
                                                                  name: right_bits
                                                            - kind: name
                                                              id: 8087
                                                              name: node
                                                  - kind: str
                                                    id: 8112
                                                    value: Unchanged
                                                  - kind: lambda
                                                    id: 8113
                                                    params:
                                                      - id: 8114
                                                        name: option
                                                    expr:
                                                      kind: app
                                                      id: 8100
                                                      opcode: matchVariant
                                                      args:
                                                        - kind: name
                                                          id: 8090
                                                          name: option
                                                        - kind: str
                                                          id: 8101
                                                          value: Some
                                                        - kind: lambda
                                                          id: 8102
                                                          params:
                                                            - id: 8103
                                                              name: node
                                                          expr:
                                                            kind: app
                                                            id: 8098
                                                            opcode: Set
                                                            args:
                                                              - kind: app
                                                                id: 8097
                                                                opcode: Tup
                                                                args:
                                                                  - kind: app
                                                                    id: 8095
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 8092
                                                                        value: version
                                                                      - kind: name
                                                                        id: 8091
                                                                        name: version
                                                                      - kind: str
                                                                        id: 8094
                                                                        value: key_hash
                                                                      - kind: name
                                                                        id: 8093
                                                                        name: right_bits
                                                                  - kind: name
                                                                    id: 8096
                                                                    name: node
                                                        - kind: str
                                                          id: 8104
                                                          value: _
                                                        - kind: lambda
                                                          id: 8105
                                                          params:
                                                            - id: 8106
                                                              name: _
                                                          expr:
                                                            kind: app
                                                            id: 8099
                                                            opcode: Set
                                                            args: []
                                                  - kind: str
                                                    id: 8115
                                                    value: _
                                                  - kind: lambda
                                                    id: 8116
                                                    params:
                                                      - id: 8117
                                                        name: _
                                                    expr:
                                                      kind: app
                                                      id: 8107
                                                      opcode: Set
                                                      args: []
                                          depth: ~
                                        expr:
                                          kind: let
                                          id: 8141
                                          opdef:
                                            id: 8134
                                            name: node
                                            qualifier: pureval
                                            expr:
                                              kind: app
                                              id: 8133
                                              opcode: Internal
                                              args:
                                                - kind: app
                                                  id: 8132
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 8125
                                                      value: left_child
                                                    - kind: app
                                                      id: 8124
                                                      opcode: into_child
                                                      args:
                                                        - kind: name
                                                          id: 8120
                                                          name: version
                                                        - kind: app
                                                          id: 8123
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 8121
                                                              name: left
                                                            - kind: str
                                                              id: 8122
                                                              value: outcome
                                                    - kind: str
                                                      id: 8131
                                                      value: right_child
                                                    - kind: app
                                                      id: 8130
                                                      opcode: into_child
                                                      args:
                                                        - kind: name
                                                          id: 8126
                                                          name: version
                                                        - kind: app
                                                          id: 8129
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 8127
                                                              name: right
                                                            - kind: str
                                                              id: 8128
                                                              value: outcome
                                            depth: ~
                                          expr:
                                            kind: app
                                            id: 8140
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 8137
                                                value: outcome
                                              - kind: app
                                                id: 8136
                                                opcode: Updated
                                                args:
                                                  - kind: name
                                                    id: 8135
                                                    name: node
                                              - kind: str
                                                id: 8139
                                                value: nodes_to_add
                                              - kind: name
                                                id: 8138
                                                name: nodes_to_add
    depth: 0
  7901:
    kind: def
    id: 7901
    name: memo_value
    qualifier: pureval
    expr:
      kind: app
      id: 7900
      opcode: create_subtree_with_memo
      args:
        - kind: name
          id: 7894
          name: tree
        - kind: name
          id: 7895
          name: memo
        - kind: name
          id: 7896
          name: version
        - kind: name
          id: 7897
          name: bits_now
        - kind: name
          id: 7898
          name: batch_now
        - kind: name
          id: 7899
          name: existing_leaf_now
    depth: 8
  7902:
    id: 7863
    name: memo
  7903:
    kind: def
    id: 7893
    name: memo_key
    qualifier: pureval
    expr:
      kind: app
      id: 7892
      opcode: Tup
      args:
        - kind: name
          id: 7888
          name: version
        - kind: name
          id: 7889
          name: bits_now
        - kind: name
          id: 7890
          name: batch_now
        - kind: name
          id: 7891
          name: existing_leaf_now
    depth: 7
  7904:
    kind: def
    id: 7901
    name: memo_value
    qualifier: pureval
    expr:
      kind: app
      id: 7900
      opcode: create_subtree_with_memo
      args:
        - kind: name
          id: 7894
          name: tree
        - kind: name
          id: 7895
          name: memo
        - kind: name
          id: 7896
          name: version
        - kind: name
          id: 7897
          name: bits_now
        - kind: name
          id: 7898
          name: batch_now
        - kind: name
          id: 7899
          name: existing_leaf_now
    depth: 8
  7914:
    kind: def
    id: 7914
    name: pre_compute_create_subtree
    qualifier: puredef
    expr:
      kind: lambda
      id: 7913
      params:
        - id: 7826
          name: tree
        - id: 7828
          name: version
        - id: 7830
          name: bits
        - id: 7833
          name: batch
        - id: 7837
          name: existing_leaf
      expr:
        kind: let
        id: 7912
        opdef:
          id: 7859
          name: bits_to_compute
          qualifier: pureval
          expr:
            kind: app
            id: 7858
            opcode: toList
            args:
              - kind: app
                id: 7849
                opcode: filter
                args:
                  - kind: app
                    id: 7843
                    opcode: allListsUpTo
                    args:
                      - kind: app
                        id: 7841
                        opcode: Set
                        args:
                          - kind: int
                            id: 7839
                            value: 0
                          - kind: int
                            id: 7840
                            value: 1
                      - kind: name
                        id: 7842
                        name: MAX_HASH_LENGTH
                  - kind: lambda
                    id: 7848
                    params:
                      - id: 7844
                        name: b
                    expr:
                      kind: app
                      id: 7847
                      opcode: isPrefixOf
                      args:
                        - kind: name
                          id: 7845
                          name: bits
                        - kind: name
                          id: 7846
                          name: b
              - kind: lambda
                id: 7857
                params:
                  - id: 7850
                    name: a
                  - id: 7851
                    name: b
                expr:
                  kind: app
                  id: 7856
                  opcode: intCompare
                  args:
                    - kind: app
                      id: 7853
                      opcode: length
                      args:
                        - kind: name
                          id: 7852
                          name: a
                    - kind: app
                      id: 7855
                      opcode: length
                      args:
                        - kind: name
                          id: 7854
                          name: b
          depth: ~
        expr:
          kind: app
          id: 7911
          opcode: foldr
          args:
            - kind: name
              id: 7860
              name: bits_to_compute
            - kind: app
              id: 7861
              opcode: Map
              args: []
            - kind: lambda
              id: 7910
              params:
                - id: 7862
                  name: bits_now
                - id: 7863
                  name: memo
              expr:
                kind: let
                id: 7909
                opdef:
                  id: 7873
                  name: batch_now
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 7872
                    opcode: filter
                    args:
                      - kind: name
                        id: 7864
                        name: batch
                      - kind: lambda
                        id: 7871
                        params:
                          - id: 7865
                            name: kv
                        expr:
                          kind: app
                          id: 7870
                          opcode: isPrefixOf
                          args:
                            - kind: name
                              id: 7866
                              name: bits_now
                            - kind: app
                              id: 7869
                              opcode: field
                              args:
                                - kind: name
                                  id: 7867
                                  name: kv
                                - kind: str
                                  id: 7868
                                  value: key_hash
                  depth: ~
                expr:
                  kind: let
                  id: 7908
                  opdef:
                    id: 7887
                    name: existing_leaf_now
                    qualifier: pureval
                    expr:
                      kind: app
                      id: 7886
                      opcode: ite
                      args:
                        - kind: app
                          id: 7883
                          opcode: and
                          args:
                            - kind: app
                              id: 7876
                              opcode: neq
                              args:
                                - kind: name
                                  id: 7874
                                  name: existing_leaf
                                - kind: name
                                  id: 7875
                                  name: None
                            - kind: app
                              id: 7882
                              opcode: isPrefixOf
                              args:
                                - kind: name
                                  id: 7877
                                  name: bits_now
                                - kind: app
                                  id: 7881
                                  opcode: field
                                  args:
                                    - kind: app
                                      id: 7879
                                      opcode: unwrap
                                      args:
                                        - kind: name
                                          id: 7878
                                          name: existing_leaf
                                    - kind: str
                                      id: 7880
                                      value: key_hash
                        - kind: name
                          id: 7884
                          name: existing_leaf
                        - kind: name
                          id: 7885
                          name: None
                    depth: ~
                  expr:
                    kind: let
                    id: 7907
                    opdef:
                      id: 7893
                      name: memo_key
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7892
                        opcode: Tup
                        args:
                          - kind: name
                            id: 7888
                            name: version
                          - kind: name
                            id: 7889
                            name: bits_now
                          - kind: name
                            id: 7890
                            name: batch_now
                          - kind: name
                            id: 7891
                            name: existing_leaf_now
                      depth: ~
                    expr:
                      kind: let
                      id: 7906
                      opdef:
                        id: 7901
                        name: memo_value
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7900
                          opcode: create_subtree_with_memo
                          args:
                            - kind: name
                              id: 7894
                              name: tree
                            - kind: name
                              id: 7895
                              name: memo
                            - kind: name
                              id: 7896
                              name: version
                            - kind: name
                              id: 7897
                              name: bits_now
                            - kind: name
                              id: 7898
                              name: batch_now
                            - kind: name
                              id: 7899
                              name: existing_leaf_now
                        depth: ~
                      expr:
                        kind: app
                        id: 7905
                        opcode: put
                        args:
                          - kind: name
                            id: 7902
                            name: memo
                          - kind: name
                            id: 7903
                            name: memo_key
                          - kind: name
                            id: 7904
                            name: memo_value
    depth: 0
  7915:
    kind: typedef
    id: 3278
  7917:
    kind: typedef
    id: 7824
  7919:
    kind: typedef
    id: 3260
  7921:
    kind: typedef
    id: 3258
  7923:
    kind: typedef
    id: 3255
  7926:
    kind: typedef
    id: 3897
  7930:
    kind: typedef
    id: 3919
  7931:
    kind: typedef
    id: 3264
  7932:
    kind: typedef
    id: 3900
  7936:
    id: 7925
    name: batch
  7940:
    id: 7929
    name: existing_leaf
  7941:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7944:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7945:
    kind: def
    id: 3926
    name: Unchanged
    qualifier: def
    expr:
      kind: lambda
      id: 3925
      params:
        - id: 3922
          name: __UnchangedParam
      expr:
        kind: app
        id: 3924
        opcode: variant
        args:
          - kind: str
            id: 3921
            value: Unchanged
          - kind: name
            id: 3923
            name: __UnchangedParam
    depth: 0
  7950:
    id: 7925
    name: batch
  7954:
    id: 7929
    name: existing_leaf
  7955:
    kind: def
    id: 4108
    name: unwrap
    qualifier: puredef
    expr:
      kind: lambda
      id: 4107
      params:
        - id: 4093
          name: value
      expr:
        kind: app
        id: 4100
        opcode: matchVariant
        args:
          - kind: name
            id: 4095
            name: value
          - kind: str
            id: 4101
            value: None
          - kind: lambda
            id: 4102
            params:
              - id: 4103
                name: _
            expr:
              kind: app
              id: 4098
              opcode: get
              args:
                - kind: app
                  id: 4096
                  opcode: Map
                  args: []
                - kind: name
                  id: 4097
                  name: value
          - kind: str
            id: 4104
            value: Some
          - kind: lambda
            id: 4105
            params:
              - id: 4106
                name: x
            expr:
              kind: name
              id: 4099
              name: x
    depth: 0
  7956:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  7957:
    kind: def
    id: 7957
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 7956
      opcode: Leaf
      args:
        - kind: app
          id: 7955
          opcode: unwrap
          args:
            - kind: name
              id: 7954
              name: existing_leaf
    depth: 3
  7958:
    kind: def
    id: 7957
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 7956
      opcode: Leaf
      args:
        - kind: app
          id: 7955
          opcode: unwrap
          args:
            - kind: name
              id: 7954
              name: existing_leaf
    depth: 3
  7959:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7965:
    id: 7925
    name: batch
  7969:
    id: 7929
    name: existing_leaf
  7970:
    kind: def
    id: 1234
    name: None
    qualifier: val
    expr:
      kind: app
      id: 1233
      opcode: variant
      args:
        - kind: str
          id: 1231
          value: None
        - kind: app
          id: 1232
          opcode: Tup
          args: []
    depth: 0
  7973:
    id: 7925
    name: batch
  7975:
    kind: def
    id: 3913
    name: Leaf
    qualifier: def
    expr:
      kind: lambda
      id: 3912
      params:
        - id: 3909
          name: __LeafParam
      expr:
        kind: app
        id: 3911
        opcode: variant
        args:
          - kind: str
            id: 3908
            value: Leaf
          - kind: name
            id: 3910
            name: __LeafParam
    depth: 0
  7976:
    kind: def
    id: 7976
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 7975
      opcode: Leaf
      args:
        - kind: app
          id: 7974
          opcode: getOnlyElement
          args:
            - kind: name
              id: 7973
              name: batch
    depth: 3
  7977:
    kind: def
    id: 7976
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 7975
      opcode: Leaf
      args:
        - kind: app
          id: 7974
          opcode: getOnlyElement
          args:
            - kind: name
              id: 7973
              name: batch
    depth: 3
  7978:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  7984:
    id: 7925
    name: batch
  7985:
    id: 7922
    name: bits
  7986:
    kind: def
    id: 7644
    name: partition_batch
    qualifier: puredef
    expr:
      kind: lambda
      id: 7643
      params:
        - id: 7596
          name: batch
        - id: 7598
          name: bits
      expr:
        kind: app
        id: 7642
        opcode: fold
        args:
          - kind: name
            id: 7606
            name: batch
          - kind: app
            id: 7609
            opcode: Tup
            args:
              - kind: app
                id: 7607
                opcode: Set
                args: []
              - kind: app
                id: 7608
                opcode: Set
                args: []
          - kind: lambda
            id: 7641
            params:
              - id: 7610
                name: acc
              - id: 7611
                name: op
            expr:
              kind: app
              id: 7640
              opcode: ite
              args:
                - kind: app
                  id: 7619
                  opcode: eq
                  args:
                    - kind: app
                      id: 7617
                      opcode: nth
                      args:
                        - kind: app
                          id: 7614
                          opcode: field
                          args:
                            - kind: name
                              id: 7612
                              name: op
                            - kind: str
                              id: 7613
                              value: key_hash
                        - kind: app
                          id: 7616
                          opcode: length
                          args:
                            - kind: name
                              id: 7615
                              name: bits
                    - kind: int
                      id: 7618
                      value: 0
                - kind: app
                  id: 7629
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7625
                      opcode: union
                      args:
                        - kind: app
                          id: 7622
                          opcode: item
                          args:
                            - kind: name
                              id: 7620
                              name: acc
                            - kind: int
                              id: 7621
                              value: 1
                        - kind: app
                          id: 7624
                          opcode: Set
                          args:
                            - kind: name
                              id: 7623
                              name: op
                    - kind: app
                      id: 7628
                      opcode: item
                      args:
                        - kind: name
                          id: 7626
                          name: acc
                        - kind: int
                          id: 7627
                          value: 2
                - kind: app
                  id: 7639
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7632
                      opcode: item
                      args:
                        - kind: name
                          id: 7630
                          name: acc
                        - kind: int
                          id: 7631
                          value: 1
                    - kind: app
                      id: 7638
                      opcode: union
                      args:
                        - kind: app
                          id: 7635
                          opcode: item
                          args:
                            - kind: name
                              id: 7633
                              name: acc
                            - kind: int
                              id: 7634
                              value: 2
                        - kind: app
                          id: 7637
                          opcode: Set
                          args:
                            - kind: name
                              id: 7636
                              name: op
    depth: 0
  7987:
    kind: def
    id: 7987
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 7986
      opcode: partition_batch
      args:
        - kind: name
          id: 7984
          name: batch
        - kind: name
          id: 7985
          name: bits
    depth: 3
  7988:
    kind: def
    id: 7987
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 7986
      opcode: partition_batch
      args:
        - kind: name
          id: 7984
          name: batch
        - kind: name
          id: 7985
          name: bits
    depth: 3
  7991:
    kind: def
    id: 7991
    name: batch_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 7990
      opcode: item
      args:
        - kind: name
          id: 7988
          name: partitioned_batch
        - kind: int
          id: 7989
          value: 1
    depth: 4
  7992:
    kind: def
    id: 7987
    name: partitioned_batch
    qualifier: pureval
    expr:
      kind: app
      id: 7986
      opcode: partition_batch
      args:
        - kind: name
          id: 7984
          name: batch
        - kind: name
          id: 7985
          name: bits
    depth: 3
  7995:
    kind: def
    id: 7995
    name: batch_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 7994
      opcode: item
      args:
        - kind: name
          id: 7992
          name: partitioned_batch
        - kind: int
          id: 7993
          value: 2
    depth: 5
  7996:
    id: 7929
    name: existing_leaf
  7997:
    id: 7922
    name: bits
  7998:
    kind: def
    id: 7687
    name: partition_leaf
    qualifier: puredef
    expr:
      kind: lambda
      id: 7686
      params:
        - id: 7648
          name: leaf
        - id: 7650
          name: bits
      expr:
        kind: app
        id: 7679
        opcode: matchVariant
        args:
          - kind: name
            id: 7658
            name: leaf
          - kind: str
            id: 7680
            value: Some
          - kind: lambda
            id: 7681
            params:
              - id: 7682
                name: leaf
            expr:
              kind: app
              id: 7675
              opcode: ite
              args:
                - kind: app
                  id: 7666
                  opcode: eq
                  args:
                    - kind: app
                      id: 7664
                      opcode: nth
                      args:
                        - kind: app
                          id: 7661
                          opcode: field
                          args:
                            - kind: name
                              id: 7659
                              name: leaf
                            - kind: str
                              id: 7660
                              value: key_hash
                        - kind: app
                          id: 7663
                          opcode: length
                          args:
                            - kind: name
                              id: 7662
                              name: bits
                    - kind: int
                      id: 7665
                      value: 0
                - kind: app
                  id: 7670
                  opcode: Tup
                  args:
                    - kind: app
                      id: 7668
                      opcode: Some
                      args:
                        - kind: name
                          id: 7667
                          name: leaf
                    - kind: name
                      id: 7669
                      name: None
                - kind: app
                  id: 7674
                  opcode: Tup
                  args:
                    - kind: name
                      id: 7671
                      name: None
                    - kind: app
                      id: 7673
                      opcode: Some
                      args:
                        - kind: name
                          id: 7672
                          name: leaf
          - kind: str
            id: 7683
            value: None
          - kind: lambda
            id: 7684
            params:
              - id: 7685
                name: _
            expr:
              kind: app
              id: 7678
              opcode: Tup
              args:
                - kind: name
                  id: 7676
                  name: None
                - kind: name
                  id: 7677
                  name: None
    depth: 0
  7999:
    kind: def
    id: 7999
    name: partitioned_leaf
    qualifier: pureval
    expr:
      kind: app
      id: 7998
      opcode: partition_leaf
      args:
        - kind: name
          id: 7996
          name: existing_leaf
        - kind: name
          id: 7997
          name: bits
    depth: 6
  8000:
    kind: def
    id: 7999
    name: partitioned_leaf
    qualifier: pureval
    expr:
      kind: app
      id: 7998
      opcode: partition_leaf
      args:
        - kind: name
          id: 7996
          name: existing_leaf
        - kind: name
          id: 7997
          name: bits
    depth: 6
  8003:
    kind: def
    id: 8003
    name: leaf_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 8002
      opcode: item
      args:
        - kind: name
          id: 8000
          name: partitioned_leaf
        - kind: int
          id: 8001
          value: 1
    depth: 7
  8004:
    kind: def
    id: 7999
    name: partitioned_leaf
    qualifier: pureval
    expr:
      kind: app
      id: 7998
      opcode: partition_leaf
      args:
        - kind: name
          id: 7996
          name: existing_leaf
        - kind: name
          id: 7997
          name: bits
    depth: 6
  8007:
    kind: def
    id: 8007
    name: leaf_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 8006
      opcode: item
      args:
        - kind: name
          id: 8004
          name: partitioned_leaf
        - kind: int
          id: 8005
          value: 2
    depth: 8
  8008:
    id: 7922
    name: bits
  8011:
    kind: def
    id: 8011
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8010
      opcode: append
      args:
        - kind: name
          id: 8008
          name: bits
        - kind: int
          id: 8009
          value: 0
    depth: 9
  8012:
    id: 7918
    name: memo
  8013:
    id: 7920
    name: version
  8014:
    kind: def
    id: 8011
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8010
      opcode: append
      args:
        - kind: name
          id: 8008
          name: bits
        - kind: int
          id: 8009
          value: 0
    depth: 9
  8015:
    kind: def
    id: 7991
    name: batch_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 7990
      opcode: item
      args:
        - kind: name
          id: 7988
          name: partitioned_batch
        - kind: int
          id: 7989
          value: 1
    depth: 4
  8016:
    kind: def
    id: 8003
    name: leaf_for_left
    qualifier: pureval
    expr:
      kind: app
      id: 8002
      opcode: item
      args:
        - kind: name
          id: 8000
          name: partitioned_leaf
        - kind: int
          id: 8001
          value: 1
    depth: 7
  8019:
    kind: def
    id: 8019
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 8018
      opcode: get
      args:
        - kind: name
          id: 8012
          name: memo
        - kind: app
          id: 8017
          opcode: Tup
          args:
            - kind: name
              id: 8013
              name: version
            - kind: name
              id: 8014
              name: left_bits
            - kind: name
              id: 8015
              name: batch_for_left
            - kind: name
              id: 8016
              name: leaf_for_left
    depth: 10
  8020:
    id: 7922
    name: bits
  8023:
    kind: def
    id: 8023
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8022
      opcode: append
      args:
        - kind: name
          id: 8020
          name: bits
        - kind: int
          id: 8021
          value: 1
    depth: 11
  8024:
    id: 7918
    name: memo
  8025:
    id: 7920
    name: version
  8026:
    kind: def
    id: 8023
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8022
      opcode: append
      args:
        - kind: name
          id: 8020
          name: bits
        - kind: int
          id: 8021
          value: 1
    depth: 11
  8027:
    kind: def
    id: 7995
    name: batch_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 7994
      opcode: item
      args:
        - kind: name
          id: 7992
          name: partitioned_batch
        - kind: int
          id: 7993
          value: 2
    depth: 5
  8028:
    kind: def
    id: 8007
    name: leaf_for_right
    qualifier: pureval
    expr:
      kind: app
      id: 8006
      opcode: item
      args:
        - kind: name
          id: 8004
          name: partitioned_leaf
        - kind: int
          id: 8005
          value: 2
    depth: 8
  8031:
    kind: def
    id: 8031
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 8030
      opcode: get
      args:
        - kind: name
          id: 8024
          name: memo
        - kind: app
          id: 8029
          opcode: Tup
          args:
            - kind: name
              id: 8025
              name: version
            - kind: name
              id: 8026
              name: right_bits
            - kind: name
              id: 8027
              name: batch_for_right
            - kind: name
              id: 8028
              name: leaf_for_right
    depth: 12
  8032:
    kind: def
    id: 8019
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 8018
      opcode: get
      args:
        - kind: name
          id: 8012
          name: memo
        - kind: app
          id: 8017
          opcode: Tup
          args:
            - kind: name
              id: 8013
              name: version
            - kind: name
              id: 8014
              name: left_bits
            - kind: name
              id: 8015
              name: batch_for_left
            - kind: name
              id: 8016
              name: leaf_for_left
    depth: 10
  8035:
    kind: def
    id: 8031
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 8030
      opcode: get
      args:
        - kind: name
          id: 8024
          name: memo
        - kind: app
          id: 8029
          opcode: Tup
          args:
            - kind: name
              id: 8025
              name: version
            - kind: name
              id: 8026
              name: right_bits
            - kind: name
              id: 8027
              name: batch_for_right
            - kind: name
              id: 8028
              name: leaf_for_right
    depth: 12
  8039:
    kind: def
    id: 8019
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 8018
      opcode: get
      args:
        - kind: name
          id: 8012
          name: memo
        - kind: app
          id: 8017
          opcode: Tup
          args:
            - kind: name
              id: 8013
              name: version
            - kind: name
              id: 8014
              name: left_bits
            - kind: name
              id: 8015
              name: batch_for_left
            - kind: name
              id: 8016
              name: leaf_for_left
    depth: 10
  8042:
    id: 7920
    name: version
  8044:
    kind: def
    id: 8011
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8010
      opcode: append
      args:
        - kind: name
          id: 8008
          name: bits
        - kind: int
          id: 8009
          value: 0
    depth: 9
  8047:
    id: 8071
    name: node
  8050:
    id: 8074
    name: option
  8051:
    id: 7920
    name: version
  8053:
    kind: def
    id: 8011
    name: left_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8010
      opcode: append
      args:
        - kind: name
          id: 8008
          name: bits
        - kind: int
          id: 8009
          value: 0
    depth: 9
  8056:
    id: 8063
    name: node
  8079:
    kind: def
    id: 8031
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 8030
      opcode: get
      args:
        - kind: name
          id: 8024
          name: memo
        - kind: app
          id: 8029
          opcode: Tup
          args:
            - kind: name
              id: 8025
              name: version
            - kind: name
              id: 8026
              name: right_bits
            - kind: name
              id: 8027
              name: batch_for_right
            - kind: name
              id: 8028
              name: leaf_for_right
    depth: 12
  8082:
    id: 7920
    name: version
  8084:
    kind: def
    id: 8023
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8022
      opcode: append
      args:
        - kind: name
          id: 8020
          name: bits
        - kind: int
          id: 8021
          value: 1
    depth: 11
  8087:
    id: 8111
    name: node
  8090:
    id: 8114
    name: option
  8091:
    id: 7920
    name: version
  8093:
    kind: def
    id: 8023
    name: right_bits
    qualifier: pureval
    expr:
      kind: app
      id: 8022
      opcode: append
      args:
        - kind: name
          id: 8020
          name: bits
        - kind: int
          id: 8021
          value: 1
    depth: 11
  8096:
    id: 8103
    name: node
  8119:
    kind: def
    id: 8119
    name: nodes_to_add
    qualifier: pureval
    expr:
      kind: app
      id: 8118
      opcode: union
      args:
        - kind: app
          id: 8078
          opcode: union
          args:
            - kind: app
              id: 8038
              opcode: union
              args:
                - kind: app
                  id: 8034
                  opcode: field
                  args:
                    - kind: name
                      id: 8032
                      name: left
                    - kind: str
                      id: 8033
                      value: nodes_to_add
                - kind: app
                  id: 8037
                  opcode: field
                  args:
                    - kind: name
                      id: 8035
                      name: right
                    - kind: str
                      id: 8036
                      value: nodes_to_add
            - kind: app
              id: 8068
              opcode: matchVariant
              args:
                - kind: app
                  id: 8041
                  opcode: field
                  args:
                    - kind: name
                      id: 8039
                      name: left
                    - kind: str
                      id: 8040
                      value: outcome
                - kind: str
                  id: 8069
                  value: Updated
                - kind: lambda
                  id: 8070
                  params:
                    - id: 8071
                      name: node
                  expr:
                    kind: app
                    id: 8049
                    opcode: Set
                    args:
                      - kind: app
                        id: 8048
                        opcode: Tup
                        args:
                          - kind: app
                            id: 8046
                            opcode: Rec
                            args:
                              - kind: str
                                id: 8043
                                value: version
                              - kind: name
                                id: 8042
                                name: version
                              - kind: str
                                id: 8045
                                value: key_hash
                              - kind: name
                                id: 8044
                                name: left_bits
                          - kind: name
                            id: 8047
                            name: node
                - kind: str
                  id: 8072
                  value: Unchanged
                - kind: lambda
                  id: 8073
                  params:
                    - id: 8074
                      name: option
                  expr:
                    kind: app
                    id: 8060
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 8050
                        name: option
                      - kind: str
                        id: 8061
                        value: Some
                      - kind: lambda
                        id: 8062
                        params:
                          - id: 8063
                            name: node
                        expr:
                          kind: app
                          id: 8058
                          opcode: Set
                          args:
                            - kind: app
                              id: 8057
                              opcode: Tup
                              args:
                                - kind: app
                                  id: 8055
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 8052
                                      value: version
                                    - kind: name
                                      id: 8051
                                      name: version
                                    - kind: str
                                      id: 8054
                                      value: key_hash
                                    - kind: name
                                      id: 8053
                                      name: left_bits
                                - kind: name
                                  id: 8056
                                  name: node
                      - kind: str
                        id: 8064
                        value: _
                      - kind: lambda
                        id: 8065
                        params:
                          - id: 8066
                            name: _
                        expr:
                          kind: app
                          id: 8059
                          opcode: Set
                          args: []
                - kind: str
                  id: 8075
                  value: _
                - kind: lambda
                  id: 8076
                  params:
                    - id: 8077
                      name: _
                  expr:
                    kind: app
                    id: 8067
                    opcode: Set
                    args: []
        - kind: app
          id: 8108
          opcode: matchVariant
          args:
            - kind: app
              id: 8081
              opcode: field
              args:
                - kind: name
                  id: 8079
                  name: right
                - kind: str
                  id: 8080
                  value: outcome
            - kind: str
              id: 8109
              value: Updated
            - kind: lambda
              id: 8110
              params:
                - id: 8111
                  name: node
              expr:
                kind: app
                id: 8089
                opcode: Set
                args:
                  - kind: app
                    id: 8088
                    opcode: Tup
                    args:
                      - kind: app
                        id: 8086
                        opcode: Rec
                        args:
                          - kind: str
                            id: 8083
                            value: version
                          - kind: name
                            id: 8082
                            name: version
                          - kind: str
                            id: 8085
                            value: key_hash
                          - kind: name
                            id: 8084
                            name: right_bits
                      - kind: name
                        id: 8087
                        name: node
            - kind: str
              id: 8112
              value: Unchanged
            - kind: lambda
              id: 8113
              params:
                - id: 8114
                  name: option
              expr:
                kind: app
                id: 8100
                opcode: matchVariant
                args:
                  - kind: name
                    id: 8090
                    name: option
                  - kind: str
                    id: 8101
                    value: Some
                  - kind: lambda
                    id: 8102
                    params:
                      - id: 8103
                        name: node
                    expr:
                      kind: app
                      id: 8098
                      opcode: Set
                      args:
                        - kind: app
                          id: 8097
                          opcode: Tup
                          args:
                            - kind: app
                              id: 8095
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 8092
                                  value: version
                                - kind: name
                                  id: 8091
                                  name: version
                                - kind: str
                                  id: 8094
                                  value: key_hash
                                - kind: name
                                  id: 8093
                                  name: right_bits
                            - kind: name
                              id: 8096
                              name: node
                  - kind: str
                    id: 8104
                    value: _
                  - kind: lambda
                    id: 8105
                    params:
                      - id: 8106
                        name: _
                    expr:
                      kind: app
                      id: 8099
                      opcode: Set
                      args: []
            - kind: str
              id: 8115
              value: _
            - kind: lambda
              id: 8116
              params:
                - id: 8117
                  name: _
              expr:
                kind: app
                id: 8107
                opcode: Set
                args: []
    depth: 13
  8120:
    id: 7920
    name: version
  8121:
    kind: def
    id: 8019
    name: left
    qualifier: pureval
    expr:
      kind: app
      id: 8018
      opcode: get
      args:
        - kind: name
          id: 8012
          name: memo
        - kind: app
          id: 8017
          opcode: Tup
          args:
            - kind: name
              id: 8013
              name: version
            - kind: name
              id: 8014
              name: left_bits
            - kind: name
              id: 8015
              name: batch_for_left
            - kind: name
              id: 8016
              name: leaf_for_left
    depth: 10
  8124:
    kind: def
    id: 3878
    name: into_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 3877
      params:
        - id: 3851
          name: version
        - id: 3853
          name: outcome
      expr:
        kind: app
        id: 3867
        opcode: matchVariant
        args:
          - kind: name
            id: 3857
            name: outcome
          - kind: str
            id: 3868
            value: Updated
          - kind: lambda
            id: 3869
            params:
              - id: 3870
                name: node
            expr:
              kind: app
              id: 3864
              opcode: Some
              args:
                - kind: app
                  id: 3863
                  opcode: Rec
                  args:
                    - kind: str
                      id: 3859
                      value: version
                    - kind: name
                      id: 3858
                      name: version
                    - kind: str
                      id: 3862
                      value: hash
                    - kind: app
                      id: 3861
                      opcode: hash
                      args:
                        - kind: name
                          id: 3860
                          name: node
          - kind: str
            id: 3871
            value: Unchanged
          - kind: lambda
            id: 3872
            params:
              - id: 3873
                name: _
            expr:
              kind: name
              id: 3865
              name: None
          - kind: str
            id: 3874
            value: Deleted
          - kind: lambda
            id: 3875
            params:
              - id: 3876
                name: _
            expr:
              kind: name
              id: 3866
              name: None
    depth: 0
  8126:
    id: 7920
    name: version
  8127:
    kind: def
    id: 8031
    name: right
    qualifier: pureval
    expr:
      kind: app
      id: 8030
      opcode: get
      args:
        - kind: name
          id: 8024
          name: memo
        - kind: app
          id: 8029
          opcode: Tup
          args:
            - kind: name
              id: 8025
              name: version
            - kind: name
              id: 8026
              name: right_bits
            - kind: name
              id: 8027
              name: batch_for_right
            - kind: name
              id: 8028
              name: leaf_for_right
    depth: 12
  8130:
    kind: def
    id: 3878
    name: into_child
    qualifier: puredef
    expr:
      kind: lambda
      id: 3877
      params:
        - id: 3851
          name: version
        - id: 3853
          name: outcome
      expr:
        kind: app
        id: 3867
        opcode: matchVariant
        args:
          - kind: name
            id: 3857
            name: outcome
          - kind: str
            id: 3868
            value: Updated
          - kind: lambda
            id: 3869
            params:
              - id: 3870
                name: node
            expr:
              kind: app
              id: 3864
              opcode: Some
              args:
                - kind: app
                  id: 3863
                  opcode: Rec
                  args:
                    - kind: str
                      id: 3859
                      value: version
                    - kind: name
                      id: 3858
                      name: version
                    - kind: str
                      id: 3862
                      value: hash
                    - kind: app
                      id: 3861
                      opcode: hash
                      args:
                        - kind: name
                          id: 3860
                          name: node
          - kind: str
            id: 3871
            value: Unchanged
          - kind: lambda
            id: 3872
            params:
              - id: 3873
                name: _
            expr:
              kind: name
              id: 3865
              name: None
          - kind: str
            id: 3874
            value: Deleted
          - kind: lambda
            id: 3875
            params:
              - id: 3876
                name: _
            expr:
              kind: name
              id: 3866
              name: None
    depth: 0
  8133:
    kind: def
    id: 3907
    name: Internal
    qualifier: def
    expr:
      kind: lambda
      id: 3906
      params:
        - id: 3903
          name: __InternalParam
      expr:
        kind: app
        id: 3905
        opcode: variant
        args:
          - kind: str
            id: 3902
            value: Internal
          - kind: name
            id: 3904
            name: __InternalParam
    depth: 0
  8134:
    kind: def
    id: 8134
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 8133
      opcode: Internal
      args:
        - kind: app
          id: 8132
          opcode: Rec
          args:
            - kind: str
              id: 8125
              value: left_child
            - kind: app
              id: 8124
              opcode: into_child
              args:
                - kind: name
                  id: 8120
                  name: version
                - kind: app
                  id: 8123
                  opcode: field
                  args:
                    - kind: name
                      id: 8121
                      name: left
                    - kind: str
                      id: 8122
                      value: outcome
            - kind: str
              id: 8131
              value: right_child
            - kind: app
              id: 8130
              opcode: into_child
              args:
                - kind: name
                  id: 8126
                  name: version
                - kind: app
                  id: 8129
                  opcode: field
                  args:
                    - kind: name
                      id: 8127
                      name: right
                    - kind: str
                      id: 8128
                      value: outcome
    depth: 14
  8135:
    kind: def
    id: 8134
    name: node
    qualifier: pureval
    expr:
      kind: app
      id: 8133
      opcode: Internal
      args:
        - kind: app
          id: 8132
          opcode: Rec
          args:
            - kind: str
              id: 8125
              value: left_child
            - kind: app
              id: 8124
              opcode: into_child
              args:
                - kind: name
                  id: 8120
                  name: version
                - kind: app
                  id: 8123
                  opcode: field
                  args:
                    - kind: name
                      id: 8121
                      name: left
                    - kind: str
                      id: 8122
                      value: outcome
            - kind: str
              id: 8131
              value: right_child
            - kind: app
              id: 8130
              opcode: into_child
              args:
                - kind: name
                  id: 8126
                  name: version
                - kind: app
                  id: 8129
                  opcode: field
                  args:
                    - kind: name
                      id: 8127
                      name: right
                    - kind: str
                      id: 8128
                      value: outcome
    depth: 14
  8136:
    kind: def
    id: 3932
    name: Updated
    qualifier: def
    expr:
      kind: lambda
      id: 3931
      params:
        - id: 3928
          name: __UpdatedParam
      expr:
        kind: app
        id: 3930
        opcode: variant
        args:
          - kind: str
            id: 3927
            value: Updated
          - kind: name
            id: 3929
            name: __UpdatedParam
    depth: 0
  8138:
    kind: def
    id: 8119
    name: nodes_to_add
    qualifier: pureval
    expr:
      kind: app
      id: 8118
      opcode: union
      args:
        - kind: app
          id: 8078
          opcode: union
          args:
            - kind: app
              id: 8038
              opcode: union
              args:
                - kind: app
                  id: 8034
                  opcode: field
                  args:
                    - kind: name
                      id: 8032
                      name: left
                    - kind: str
                      id: 8033
                      value: nodes_to_add
                - kind: app
                  id: 8037
                  opcode: field
                  args:
                    - kind: name
                      id: 8035
                      name: right
                    - kind: str
                      id: 8036
                      value: nodes_to_add
            - kind: app
              id: 8068
              opcode: matchVariant
              args:
                - kind: app
                  id: 8041
                  opcode: field
                  args:
                    - kind: name
                      id: 8039
                      name: left
                    - kind: str
                      id: 8040
                      value: outcome
                - kind: str
                  id: 8069
                  value: Updated
                - kind: lambda
                  id: 8070
                  params:
                    - id: 8071
                      name: node
                  expr:
                    kind: app
                    id: 8049
                    opcode: Set
                    args:
                      - kind: app
                        id: 8048
                        opcode: Tup
                        args:
                          - kind: app
                            id: 8046
                            opcode: Rec
                            args:
                              - kind: str
                                id: 8043
                                value: version
                              - kind: name
                                id: 8042
                                name: version
                              - kind: str
                                id: 8045
                                value: key_hash
                              - kind: name
                                id: 8044
                                name: left_bits
                          - kind: name
                            id: 8047
                            name: node
                - kind: str
                  id: 8072
                  value: Unchanged
                - kind: lambda
                  id: 8073
                  params:
                    - id: 8074
                      name: option
                  expr:
                    kind: app
                    id: 8060
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 8050
                        name: option
                      - kind: str
                        id: 8061
                        value: Some
                      - kind: lambda
                        id: 8062
                        params:
                          - id: 8063
                            name: node
                        expr:
                          kind: app
                          id: 8058
                          opcode: Set
                          args:
                            - kind: app
                              id: 8057
                              opcode: Tup
                              args:
                                - kind: app
                                  id: 8055
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 8052
                                      value: version
                                    - kind: name
                                      id: 8051
                                      name: version
                                    - kind: str
                                      id: 8054
                                      value: key_hash
                                    - kind: name
                                      id: 8053
                                      name: left_bits
                                - kind: name
                                  id: 8056
                                  name: node
                      - kind: str
                        id: 8064
                        value: _
                      - kind: lambda
                        id: 8065
                        params:
                          - id: 8066
                            name: _
                        expr:
                          kind: app
                          id: 8059
                          opcode: Set
                          args: []
                - kind: str
                  id: 8075
                  value: _
                - kind: lambda
                  id: 8076
                  params:
                    - id: 8077
                      name: _
                  expr:
                    kind: app
                    id: 8067
                    opcode: Set
                    args: []
        - kind: app
          id: 8108
          opcode: matchVariant
          args:
            - kind: app
              id: 8081
              opcode: field
              args:
                - kind: name
                  id: 8079
                  name: right
                - kind: str
                  id: 8080
                  value: outcome
            - kind: str
              id: 8109
              value: Updated
            - kind: lambda
              id: 8110
              params:
                - id: 8111
                  name: node
              expr:
                kind: app
                id: 8089
                opcode: Set
                args:
                  - kind: app
                    id: 8088
                    opcode: Tup
                    args:
                      - kind: app
                        id: 8086
                        opcode: Rec
                        args:
                          - kind: str
                            id: 8083
                            value: version
                          - kind: name
                            id: 8082
                            name: version
                          - kind: str
                            id: 8085
                            value: key_hash
                          - kind: name
                            id: 8084
                            name: right_bits
                      - kind: name
                        id: 8087
                        name: node
            - kind: str
              id: 8112
              value: Unchanged
            - kind: lambda
              id: 8113
              params:
                - id: 8114
                  name: option
              expr:
                kind: app
                id: 8100
                opcode: matchVariant
                args:
                  - kind: name
                    id: 8090
                    name: option
                  - kind: str
                    id: 8101
                    value: Some
                  - kind: lambda
                    id: 8102
                    params:
                      - id: 8103
                        name: node
                    expr:
                      kind: app
                      id: 8098
                      opcode: Set
                      args:
                        - kind: app
                          id: 8097
                          opcode: Tup
                          args:
                            - kind: app
                              id: 8095
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 8092
                                  value: version
                                - kind: name
                                  id: 8091
                                  name: version
                                - kind: str
                                  id: 8094
                                  value: key_hash
                                - kind: name
                                  id: 8093
                                  name: right_bits
                            - kind: name
                              id: 8096
                              name: node
                  - kind: str
                    id: 8104
                    value: _
                  - kind: lambda
                    id: 8105
                    params:
                      - id: 8106
                        name: _
                    expr:
                      kind: app
                      id: 8099
                      opcode: Set
                      args: []
            - kind: str
              id: 8115
              value: _
            - kind: lambda
              id: 8116
              params:
                - id: 8117
                  name: _
              expr:
                kind: app
                id: 8107
                opcode: Set
                args: []
    depth: 13
  8157:
    kind: def
    id: 8157
    name: create_subtree_with_memo
    qualifier: puredef
    expr:
      kind: lambda
      id: 8156
      params:
        - id: 7916
          name: tree
        - id: 7918
          name: memo
        - id: 7920
          name: version
        - id: 7922
          name: bits
        - id: 7925
          name: batch
        - id: 7929
          name: existing_leaf
      expr:
        kind: app
        id: 8155
        opcode: ite
        args:
          - kind: app
            id: 7943
            opcode: and
            args:
              - kind: app
                id: 7939
                opcode: eq
                args:
                  - kind: app
                    id: 7937
                    opcode: size
                    args:
                      - kind: name
                        id: 7936
                        name: batch
                  - kind: int
                    id: 7938
                    value: 0
              - kind: app
                id: 7942
                opcode: eq
                args:
                  - kind: name
                    id: 7940
                    name: existing_leaf
                  - kind: name
                    id: 7941
                    name: None
          - kind: app
            id: 7949
            opcode: Rec
            args:
              - kind: str
                id: 7946
                value: outcome
              - kind: app
                id: 7945
                opcode: Unchanged
                args:
                  - kind: name
                    id: 7944
                    name: None
              - kind: str
                id: 7948
                value: nodes_to_add
              - kind: app
                id: 7947
                opcode: Set
                args: []
          - kind: app
            id: 8154
            opcode: ite
            args:
              - kind: app
                id: 7953
                opcode: eq
                args:
                  - kind: app
                    id: 7951
                    opcode: size
                    args:
                      - kind: name
                        id: 7950
                        name: batch
                  - kind: int
                    id: 7952
                    value: 0
              - kind: let
                id: 7964
                opdef:
                  id: 7957
                  name: node
                  qualifier: pureval
                  expr:
                    kind: app
                    id: 7956
                    opcode: Leaf
                    args:
                      - kind: app
                        id: 7955
                        opcode: unwrap
                        args:
                          - kind: name
                            id: 7954
                            name: existing_leaf
                  depth: ~
                expr:
                  kind: app
                  id: 7963
                  opcode: Rec
                  args:
                    - kind: str
                      id: 7960
                      value: outcome
                    - kind: app
                      id: 7959
                      opcode: Updated
                      args:
                        - kind: name
                          id: 7958
                          name: node
                    - kind: str
                      id: 7962
                      value: nodes_to_add
                    - kind: app
                      id: 7961
                      opcode: Set
                      args: []
              - kind: app
                id: 8153
                opcode: ite
                args:
                  - kind: app
                    id: 7972
                    opcode: and
                    args:
                      - kind: app
                        id: 7968
                        opcode: eq
                        args:
                          - kind: app
                            id: 7966
                            opcode: size
                            args:
                              - kind: name
                                id: 7965
                                name: batch
                          - kind: int
                            id: 7967
                            value: 1
                      - kind: app
                        id: 7971
                        opcode: eq
                        args:
                          - kind: name
                            id: 7969
                            name: existing_leaf
                          - kind: name
                            id: 7970
                            name: None
                  - kind: let
                    id: 7983
                    opdef:
                      id: 7976
                      name: node
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7975
                        opcode: Leaf
                        args:
                          - kind: app
                            id: 7974
                            opcode: getOnlyElement
                            args:
                              - kind: name
                                id: 7973
                                name: batch
                      depth: ~
                    expr:
                      kind: app
                      id: 7982
                      opcode: Rec
                      args:
                        - kind: str
                          id: 7979
                          value: outcome
                        - kind: app
                          id: 7978
                          opcode: Updated
                          args:
                            - kind: name
                              id: 7977
                              name: node
                        - kind: str
                          id: 7981
                          value: nodes_to_add
                        - kind: app
                          id: 7980
                          opcode: Set
                          args: []
                  - kind: let
                    id: 8152
                    opdef:
                      id: 7987
                      name: partitioned_batch
                      qualifier: pureval
                      expr:
                        kind: app
                        id: 7986
                        opcode: partition_batch
                        args:
                          - kind: name
                            id: 7984
                            name: batch
                          - kind: name
                            id: 7985
                            name: bits
                      depth: ~
                    expr:
                      kind: let
                      id: 8151
                      opdef:
                        id: 7991
                        name: batch_for_left
                        qualifier: pureval
                        expr:
                          kind: app
                          id: 7990
                          opcode: item
                          args:
                            - kind: name
                              id: 7988
                              name: partitioned_batch
                            - kind: int
                              id: 7989
                              value: 1
                        depth: ~
                      expr:
                        kind: let
                        id: 8150
                        opdef:
                          id: 7995
                          name: batch_for_right
                          qualifier: pureval
                          expr:
                            kind: app
                            id: 7994
                            opcode: item
                            args:
                              - kind: name
                                id: 7992
                                name: partitioned_batch
                              - kind: int
                                id: 7993
                                value: 2
                          depth: ~
                        expr:
                          kind: let
                          id: 8149
                          opdef:
                            id: 7999
                            name: partitioned_leaf
                            qualifier: pureval
                            expr:
                              kind: app
                              id: 7998
                              opcode: partition_leaf
                              args:
                                - kind: name
                                  id: 7996
                                  name: existing_leaf
                                - kind: name
                                  id: 7997
                                  name: bits
                            depth: ~
                          expr:
                            kind: let
                            id: 8148
                            opdef:
                              id: 8003
                              name: leaf_for_left
                              qualifier: pureval
                              expr:
                                kind: app
                                id: 8002
                                opcode: item
                                args:
                                  - kind: name
                                    id: 8000
                                    name: partitioned_leaf
                                  - kind: int
                                    id: 8001
                                    value: 1
                              depth: ~
                            expr:
                              kind: let
                              id: 8147
                              opdef:
                                id: 8007
                                name: leaf_for_right
                                qualifier: pureval
                                expr:
                                  kind: app
                                  id: 8006
                                  opcode: item
                                  args:
                                    - kind: name
                                      id: 8004
                                      name: partitioned_leaf
                                    - kind: int
                                      id: 8005
                                      value: 2
                                depth: ~
                              expr:
                                kind: let
                                id: 8146
                                opdef:
                                  id: 8011
                                  name: left_bits
                                  qualifier: pureval
                                  expr:
                                    kind: app
                                    id: 8010
                                    opcode: append
                                    args:
                                      - kind: name
                                        id: 8008
                                        name: bits
                                      - kind: int
                                        id: 8009
                                        value: 0
                                  depth: ~
                                expr:
                                  kind: let
                                  id: 8145
                                  opdef:
                                    id: 8019
                                    name: left
                                    qualifier: pureval
                                    expr:
                                      kind: app
                                      id: 8018
                                      opcode: get
                                      args:
                                        - kind: name
                                          id: 8012
                                          name: memo
                                        - kind: app
                                          id: 8017
                                          opcode: Tup
                                          args:
                                            - kind: name
                                              id: 8013
                                              name: version
                                            - kind: name
                                              id: 8014
                                              name: left_bits
                                            - kind: name
                                              id: 8015
                                              name: batch_for_left
                                            - kind: name
                                              id: 8016
                                              name: leaf_for_left
                                    depth: ~
                                  expr:
                                    kind: let
                                    id: 8144
                                    opdef:
                                      id: 8023
                                      name: right_bits
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 8022
                                        opcode: append
                                        args:
                                          - kind: name
                                            id: 8020
                                            name: bits
                                          - kind: int
                                            id: 8021
                                            value: 1
                                      depth: ~
                                    expr:
                                      kind: let
                                      id: 8143
                                      opdef:
                                        id: 8031
                                        name: right
                                        qualifier: pureval
                                        expr:
                                          kind: app
                                          id: 8030
                                          opcode: get
                                          args:
                                            - kind: name
                                              id: 8024
                                              name: memo
                                            - kind: app
                                              id: 8029
                                              opcode: Tup
                                              args:
                                                - kind: name
                                                  id: 8025
                                                  name: version
                                                - kind: name
                                                  id: 8026
                                                  name: right_bits
                                                - kind: name
                                                  id: 8027
                                                  name: batch_for_right
                                                - kind: name
                                                  id: 8028
                                                  name: leaf_for_right
                                        depth: ~
                                      expr:
                                        kind: let
                                        id: 8142
                                        opdef:
                                          id: 8119
                                          name: nodes_to_add
                                          qualifier: pureval
                                          expr:
                                            kind: app
                                            id: 8118
                                            opcode: union
                                            args:
                                              - kind: app
                                                id: 8078
                                                opcode: union
                                                args:
                                                  - kind: app
                                                    id: 8038
                                                    opcode: union
                                                    args:
                                                      - kind: app
                                                        id: 8034
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8032
                                                            name: left
                                                          - kind: str
                                                            id: 8033
                                                            value: nodes_to_add
                                                      - kind: app
                                                        id: 8037
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8035
                                                            name: right
                                                          - kind: str
                                                            id: 8036
                                                            value: nodes_to_add
                                                  - kind: app
                                                    id: 8068
                                                    opcode: matchVariant
                                                    args:
                                                      - kind: app
                                                        id: 8041
                                                        opcode: field
                                                        args:
                                                          - kind: name
                                                            id: 8039
                                                            name: left
                                                          - kind: str
                                                            id: 8040
                                                            value: outcome
                                                      - kind: str
                                                        id: 8069
                                                        value: Updated
                                                      - kind: lambda
                                                        id: 8070
                                                        params:
                                                          - id: 8071
                                                            name: node
                                                        expr:
                                                          kind: app
                                                          id: 8049
                                                          opcode: Set
                                                          args:
                                                            - kind: app
                                                              id: 8048
                                                              opcode: Tup
                                                              args:
                                                                - kind: app
                                                                  id: 8046
                                                                  opcode: Rec
                                                                  args:
                                                                    - kind: str
                                                                      id: 8043
                                                                      value: version
                                                                    - kind: name
                                                                      id: 8042
                                                                      name: version
                                                                    - kind: str
                                                                      id: 8045
                                                                      value: key_hash
                                                                    - kind: name
                                                                      id: 8044
                                                                      name: left_bits
                                                                - kind: name
                                                                  id: 8047
                                                                  name: node
                                                      - kind: str
                                                        id: 8072
                                                        value: Unchanged
                                                      - kind: lambda
                                                        id: 8073
                                                        params:
                                                          - id: 8074
                                                            name: option
                                                        expr:
                                                          kind: app
                                                          id: 8060
                                                          opcode: matchVariant
                                                          args:
                                                            - kind: name
                                                              id: 8050
                                                              name: option
                                                            - kind: str
                                                              id: 8061
                                                              value: Some
                                                            - kind: lambda
                                                              id: 8062
                                                              params:
                                                                - id: 8063
                                                                  name: node
                                                              expr:
                                                                kind: app
                                                                id: 8058
                                                                opcode: Set
                                                                args:
                                                                  - kind: app
                                                                    id: 8057
                                                                    opcode: Tup
                                                                    args:
                                                                      - kind: app
                                                                        id: 8055
                                                                        opcode: Rec
                                                                        args:
                                                                          - kind: str
                                                                            id: 8052
                                                                            value: version
                                                                          - kind: name
                                                                            id: 8051
                                                                            name: version
                                                                          - kind: str
                                                                            id: 8054
                                                                            value: key_hash
                                                                          - kind: name
                                                                            id: 8053
                                                                            name: left_bits
                                                                      - kind: name
                                                                        id: 8056
                                                                        name: node
                                                            - kind: str
                                                              id: 8064
                                                              value: _
                                                            - kind: lambda
                                                              id: 8065
                                                              params:
                                                                - id: 8066
                                                                  name: _
                                                              expr:
                                                                kind: app
                                                                id: 8059
                                                                opcode: Set
                                                                args: []
                                                      - kind: str
                                                        id: 8075
                                                        value: _
                                                      - kind: lambda
                                                        id: 8076
                                                        params:
                                                          - id: 8077
                                                            name: _
                                                        expr:
                                                          kind: app
                                                          id: 8067
                                                          opcode: Set
                                                          args: []
                                              - kind: app
                                                id: 8108
                                                opcode: matchVariant
                                                args:
                                                  - kind: app
                                                    id: 8081
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8079
                                                        name: right
                                                      - kind: str
                                                        id: 8080
                                                        value: outcome
                                                  - kind: str
                                                    id: 8109
                                                    value: Updated
                                                  - kind: lambda
                                                    id: 8110
                                                    params:
                                                      - id: 8111
                                                        name: node
                                                    expr:
                                                      kind: app
                                                      id: 8089
                                                      opcode: Set
                                                      args:
                                                        - kind: app
                                                          id: 8088
                                                          opcode: Tup
                                                          args:
                                                            - kind: app
                                                              id: 8086
                                                              opcode: Rec
                                                              args:
                                                                - kind: str
                                                                  id: 8083
                                                                  value: version
                                                                - kind: name
                                                                  id: 8082
                                                                  name: version
                                                                - kind: str
                                                                  id: 8085
                                                                  value: key_hash
                                                                - kind: name
                                                                  id: 8084
                                                                  name: right_bits
                                                            - kind: name
                                                              id: 8087
                                                              name: node
                                                  - kind: str
                                                    id: 8112
                                                    value: Unchanged
                                                  - kind: lambda
                                                    id: 8113
                                                    params:
                                                      - id: 8114
                                                        name: option
                                                    expr:
                                                      kind: app
                                                      id: 8100
                                                      opcode: matchVariant
                                                      args:
                                                        - kind: name
                                                          id: 8090
                                                          name: option
                                                        - kind: str
                                                          id: 8101
                                                          value: Some
                                                        - kind: lambda
                                                          id: 8102
                                                          params:
                                                            - id: 8103
                                                              name: node
                                                          expr:
                                                            kind: app
                                                            id: 8098
                                                            opcode: Set
                                                            args:
                                                              - kind: app
                                                                id: 8097
                                                                opcode: Tup
                                                                args:
                                                                  - kind: app
                                                                    id: 8095
                                                                    opcode: Rec
                                                                    args:
                                                                      - kind: str
                                                                        id: 8092
                                                                        value: version
                                                                      - kind: name
                                                                        id: 8091
                                                                        name: version
                                                                      - kind: str
                                                                        id: 8094
                                                                        value: key_hash
                                                                      - kind: name
                                                                        id: 8093
                                                                        name: right_bits
                                                                  - kind: name
                                                                    id: 8096
                                                                    name: node
                                                        - kind: str
                                                          id: 8104
                                                          value: _
                                                        - kind: lambda
                                                          id: 8105
                                                          params:
                                                            - id: 8106
                                                              name: _
                                                          expr:
                                                            kind: app
                                                            id: 8099
                                                            opcode: Set
                                                            args: []
                                                  - kind: str
                                                    id: 8115
                                                    value: _
                                                  - kind: lambda
                                                    id: 8116
                                                    params:
                                                      - id: 8117
                                                        name: _
                                                    expr:
                                                      kind: app
                                                      id: 8107
                                                      opcode: Set
                                                      args: []
                                          depth: ~
                                        expr:
                                          kind: let
                                          id: 8141
                                          opdef:
                                            id: 8134
                                            name: node
                                            qualifier: pureval
                                            expr:
                                              kind: app
                                              id: 8133
                                              opcode: Internal
                                              args:
                                                - kind: app
                                                  id: 8132
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 8125
                                                      value: left_child
                                                    - kind: app
                                                      id: 8124
                                                      opcode: into_child
                                                      args:
                                                        - kind: name
                                                          id: 8120
                                                          name: version
                                                        - kind: app
                                                          id: 8123
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 8121
                                                              name: left
                                                            - kind: str
                                                              id: 8122
                                                              value: outcome
                                                    - kind: str
                                                      id: 8131
                                                      value: right_child
                                                    - kind: app
                                                      id: 8130
                                                      opcode: into_child
                                                      args:
                                                        - kind: name
                                                          id: 8126
                                                          name: version
                                                        - kind: app
                                                          id: 8129
                                                          opcode: field
                                                          args:
                                                            - kind: name
                                                              id: 8127
                                                              name: right
                                                            - kind: str
                                                              id: 8128
                                                              value: outcome
                                            depth: ~
                                          expr:
                                            kind: app
                                            id: 8140
                                            opcode: Rec
                                            args:
                                              - kind: str
                                                id: 8137
                                                value: outcome
                                              - kind: app
                                                id: 8136
                                                opcode: Updated
                                                args:
                                                  - kind: name
                                                    id: 8135
                                                    name: node
                                              - kind: str
                                                id: 8139
                                                value: nodes_to_add
                                              - kind: name
                                                id: 8138
                                                name: nodes_to_add
    depth: 0
  8163:
    kind: typedef
    id: 3278
  8165:
    kind: typedef
    id: 3260
  8168:
    id: 8164
    name: tree
  8171:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  8173:
    id: 8166
    name: v
  8176:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  8177:
    id: 8164
    name: tree
  8178:
    id: 8166
    name: v
  8179:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  8180:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  8182:
    id: 8181
    name: node
  8183:
    id: 8164
    name: tree
  8184:
    id: 8231
    name: n
  8187:
    id: 8166
    name: v
  8188:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  8189:
    id: 8223
    name: cp
  8190:
    id: 8164
    name: tree
  8193:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  8195:
    id: 8166
    name: v
  8199:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  8200:
    kind: def
    id: 8200
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 8199
      opcode: hash
      args:
        - kind: app
          id: 8198
          opcode: get
          args:
            - kind: app
              id: 8192
              opcode: field
              args:
                - kind: name
                  id: 8190
                  name: tree
                - kind: str
                  id: 8191
                  value: nodes
            - kind: app
              id: 8197
              opcode: Rec
              args:
                - kind: str
                  id: 8194
                  value: key_hash
                - kind: name
                  id: 8193
                  name: ROOT_BITS
                - kind: str
                  id: 8196
                  value: version
                - kind: name
                  id: 8195
                  name: v
    depth: 7
  8201:
    kind: def
    id: 8200
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 8199
      opcode: hash
      args:
        - kind: app
          id: 8198
          opcode: get
          args:
            - kind: app
              id: 8192
              opcode: field
              args:
                - kind: name
                  id: 8190
                  name: tree
                - kind: str
                  id: 8191
                  value: nodes
            - kind: app
              id: 8197
              opcode: Rec
              args:
                - kind: str
                  id: 8194
                  value: key_hash
                - kind: name
                  id: 8193
                  name: ROOT_BITS
                - kind: str
                  id: 8196
                  value: version
                - kind: name
                  id: 8195
                  name: v
    depth: 7
  8202:
    id: 8215
    name: ep
  8203:
    id: 8231
    name: n
  8206:
    id: 8231
    name: n
  8209:
    kind: def
    id: 4495
    name: verifyMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4494
      params:
        - id: 4481
          name: root
        - id: 4483
          name: proof
        - id: 4485
          name: key
        - id: 4487
          name: value
      expr:
        kind: app
        id: 4493
        opcode: verify_existence
        args:
          - kind: name
            id: 4489
            name: proof
          - kind: name
            id: 4490
            name: root
          - kind: name
            id: 4491
            name: key
          - kind: name
            id: 4492
            name: value
    depth: 0
  8239:
    kind: def
    id: 8239
    name: membershipCompleteness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8238
      params:
        - id: 8164
          name: tree
        - id: 8166
          name: v
      expr:
        kind: app
        id: 8237
        opcode: implies
        args:
          - kind: app
            id: 8176
            opcode: has
            args:
              - kind: app
                id: 8170
                opcode: field
                args:
                  - kind: name
                    id: 8168
                    name: tree
                  - kind: str
                    id: 8169
                    value: nodes
              - kind: app
                id: 8175
                opcode: Rec
                args:
                  - kind: str
                    id: 8172
                    value: key_hash
                  - kind: name
                    id: 8171
                    name: ROOT_BITS
                  - kind: str
                    id: 8174
                    value: version
                  - kind: name
                    id: 8173
                    name: v
          - kind: app
            id: 8236
            opcode: forall
            args:
              - kind: app
                id: 8180
                opcode: values
                args:
                  - kind: app
                    id: 8179
                    opcode: treeAtVersion
                    args:
                      - kind: name
                        id: 8177
                        name: tree
                      - kind: name
                        id: 8178
                        name: v
              - kind: lambda
                id: 8235
                params:
                  - id: 8181
                    name: node
                expr:
                  kind: app
                  id: 8228
                  opcode: matchVariant
                  args:
                    - kind: name
                      id: 8182
                      name: node
                    - kind: str
                      id: 8229
                      value: Leaf
                    - kind: lambda
                      id: 8230
                      params:
                        - id: 8231
                          name: n
                      expr:
                        kind: app
                        id: 8220
                        opcode: matchVariant
                        args:
                          - kind: app
                            id: 8188
                            opcode: ics23_prove
                            args:
                              - kind: name
                                id: 8183
                                name: tree
                              - kind: app
                                id: 8186
                                opcode: field
                                args:
                                  - kind: name
                                    id: 8184
                                    name: n
                                  - kind: str
                                    id: 8185
                                    value: key_hash
                              - kind: name
                                id: 8187
                                name: v
                          - kind: str
                            id: 8221
                            value: Some
                          - kind: lambda
                            id: 8222
                            params:
                              - id: 8223
                                name: cp
                            expr:
                              kind: app
                              id: 8212
                              opcode: matchVariant
                              args:
                                - kind: name
                                  id: 8189
                                  name: cp
                                - kind: str
                                  id: 8213
                                  value: Exist
                                - kind: lambda
                                  id: 8214
                                  params:
                                    - id: 8215
                                      name: ep
                                  expr:
                                    kind: let
                                    id: 8210
                                    opdef:
                                      id: 8200
                                      name: root
                                      qualifier: pureval
                                      expr:
                                        kind: app
                                        id: 8199
                                        opcode: hash
                                        args:
                                          - kind: app
                                            id: 8198
                                            opcode: get
                                            args:
                                              - kind: app
                                                id: 8192
                                                opcode: field
                                                args:
                                                  - kind: name
                                                    id: 8190
                                                    name: tree
                                                  - kind: str
                                                    id: 8191
                                                    value: nodes
                                              - kind: app
                                                id: 8197
                                                opcode: Rec
                                                args:
                                                  - kind: str
                                                    id: 8194
                                                    value: key_hash
                                                  - kind: name
                                                    id: 8193
                                                    name: ROOT_BITS
                                                  - kind: str
                                                    id: 8196
                                                    value: version
                                                  - kind: name
                                                    id: 8195
                                                    name: v
                                      depth: ~
                                    expr:
                                      kind: app
                                      id: 8209
                                      opcode: verifyMembership
                                      args:
                                        - kind: name
                                          id: 8201
                                          name: root
                                        - kind: name
                                          id: 8202
                                          name: ep
                                        - kind: app
                                          id: 8205
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 8203
                                              name: n
                                            - kind: str
                                              id: 8204
                                              value: key_hash
                                        - kind: app
                                          id: 8208
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 8206
                                              name: n
                                            - kind: str
                                              id: 8207
                                              value: value_hash
                                - kind: str
                                  id: 8216
                                  value: NonExist
                                - kind: lambda
                                  id: 8217
                                  params:
                                    - id: 8218
                                      name: _
                                  expr:
                                    kind: bool
                                    id: 8211
                                    value: false
                          - kind: str
                            id: 8224
                            value: None
                          - kind: lambda
                            id: 8225
                            params:
                              - id: 8226
                                name: _
                            expr:
                              kind: bool
                              id: 8219
                              value: false
                    - kind: str
                      id: 8232
                      value: Internal
                    - kind: lambda
                      id: 8233
                      params:
                        - id: 8234
                          name: _
                      expr:
                        kind: bool
                        id: 8227
                        value: true
    depth: 0
  8240:
    kind: typedef
    id: 3278
  8242:
    kind: typedef
    id: 3260
  8245:
    id: 8241
    name: tree
  8248:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  8250:
    id: 8243
    name: v
  8253:
    kind: def
    id: 1449
    name: has
    qualifier: puredef
    expr:
      kind: lambda
      id: 1448
      params:
        - id: 1440
          name: m
        - id: 1442
          name: key
      expr:
        kind: app
        id: 1447
        opcode: contains
        args:
          - kind: app
            id: 1445
            opcode: keys
            args:
              - kind: name
                id: 1444
                name: m
          - kind: name
            id: 1446
            name: key
    depth: 0
  8254:
    id: 8241
    name: tree
  8255:
    id: 8243
    name: v
  8256:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  8257:
    kind: def
    id: 3449
    name: allLeafs
    qualifier: puredef
    expr:
      kind: lambda
      id: 3448
      params:
        - id: 3411
          name: t
      expr:
        kind: let
        id: 3447
        opdef:
          id: 3427
          name: allNodes
          qualifier: val
          expr:
            kind: app
            id: 3426
            opcode: fold
            args:
              - kind: app
                id: 3415
                opcode: keys
                args:
                  - kind: name
                    id: 3414
                    name: t
              - kind: app
                id: 3416
                opcode: Set
                args: []
              - kind: lambda
                id: 3425
                params:
                  - id: 3417
                    name: s
                  - id: 3418
                    name: x
                expr:
                  kind: app
                  id: 3424
                  opcode: union
                  args:
                    - kind: name
                      id: 3419
                      name: s
                    - kind: app
                      id: 3423
                      opcode: Set
                      args:
                        - kind: app
                          id: 3422
                          opcode: get
                          args:
                            - kind: name
                              id: 3420
                              name: t
                            - kind: name
                              id: 3421
                              name: x
          depth: ~
        expr:
          kind: app
          id: 3446
          opcode: fold
          args:
            - kind: name
              id: 3428
              name: allNodes
            - kind: app
              id: 3429
              opcode: Set
              args: []
            - kind: lambda
              id: 3445
              params:
                - id: 3430
                  name: s
                - id: 3431
                  name: x
              expr:
                kind: app
                id: 3438
                opcode: matchVariant
                args:
                  - kind: name
                    id: 3432
                    name: x
                  - kind: str
                    id: 3439
                    value: Internal
                  - kind: lambda
                    id: 3440
                    params:
                      - id: 3441
                        name: _
                    expr:
                      kind: name
                      id: 3433
                      name: s
                  - kind: str
                    id: 3442
                    value: Leaf
                  - kind: lambda
                    id: 3443
                    params:
                      - id: 3444
                        name: x
                    expr:
                      kind: app
                      id: 3437
                      opcode: union
                      args:
                        - kind: name
                          id: 3434
                          name: s
                        - kind: app
                          id: 3436
                          opcode: Set
                          args:
                            - kind: name
                              id: 3435
                              name: x
    depth: 0
  8259:
    id: 8258
    name: l
  8264:
    kind: def
    id: 8264
    name: key_hashes_from_tree
    qualifier: pureval
    expr:
      kind: app
      id: 8263
      opcode: map
      args:
        - kind: app
          id: 8257
          opcode: allLeafs
          args:
            - kind: app
              id: 8256
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 8254
                  name: tree
                - kind: name
                  id: 8255
                  name: v
        - kind: lambda
          id: 8262
          params:
            - id: 8258
              name: l
          expr:
            kind: app
            id: 8261
            opcode: field
            args:
              - kind: name
                id: 8259
                name: l
              - kind: str
                id: 8260
                value: key_hash
    depth: 3
  8265:
    id: 8241
    name: tree
  8268:
    kind: def
    id: 3281
    name: ROOT_BITS
    qualifier: pureval
    expr:
      kind: app
      id: 3280
      opcode: List
      args: []
    depth: 0
  8270:
    id: 8243
    name: v
  8274:
    kind: def
    id: 4051
    name: hash
    qualifier: puredef
    expr:
      kind: lambda
      id: 4050
      params:
        - id: 4036
          name: n
      expr:
        kind: app
        id: 4043
        opcode: matchVariant
        args:
          - kind: name
            id: 4038
            name: n
          - kind: str
            id: 4044
            value: Leaf
          - kind: lambda
            id: 4045
            params:
              - id: 4046
                name: n
            expr:
              kind: app
              id: 4040
              opcode: hashLeafNode
              args:
                - kind: name
                  id: 4039
                  name: n
          - kind: str
            id: 4047
            value: Internal
          - kind: lambda
            id: 4048
            params:
              - id: 4049
                name: n
            expr:
              kind: app
              id: 4042
              opcode: hashInternalNode
              args:
                - kind: name
                  id: 4041
                  name: n
    depth: 0
  8275:
    kind: def
    id: 8275
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 8274
      opcode: hash
      args:
        - kind: app
          id: 8273
          opcode: get
          args:
            - kind: app
              id: 8267
              opcode: field
              args:
                - kind: name
                  id: 8265
                  name: tree
                - kind: str
                  id: 8266
                  value: nodes
            - kind: app
              id: 8272
              opcode: Rec
              args:
                - kind: str
                  id: 8269
                  value: key_hash
                - kind: name
                  id: 8268
                  name: ROOT_BITS
                - kind: str
                  id: 8271
                  value: version
                - kind: name
                  id: 8270
                  name: v
    depth: 4
  8276:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  8277:
    kind: def
    id: 8264
    name: key_hashes_from_tree
    qualifier: pureval
    expr:
      kind: app
      id: 8263
      opcode: map
      args:
        - kind: app
          id: 8257
          opcode: allLeafs
          args:
            - kind: app
              id: 8256
              opcode: treeAtVersion
              args:
                - kind: name
                  id: 8254
                  name: tree
                - kind: name
                  id: 8255
                  name: v
        - kind: lambda
          id: 8262
          params:
            - id: 8258
              name: l
          expr:
            kind: app
            id: 8261
            opcode: field
            args:
              - kind: name
                id: 8259
                name: l
              - kind: str
                id: 8260
                value: key_hash
    depth: 3
  8280:
    id: 8241
    name: tree
  8281:
    id: 8279
    name: k
  8282:
    id: 8243
    name: v
  8283:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  8284:
    id: 8301
    name: cp
  8285:
    kind: def
    id: 8275
    name: root
    qualifier: pureval
    expr:
      kind: app
      id: 8274
      opcode: hash
      args:
        - kind: app
          id: 8273
          opcode: get
          args:
            - kind: app
              id: 8267
              opcode: field
              args:
                - kind: name
                  id: 8265
                  name: tree
                - kind: str
                  id: 8266
                  value: nodes
            - kind: app
              id: 8272
              opcode: Rec
              args:
                - kind: str
                  id: 8269
                  value: key_hash
                - kind: name
                  id: 8268
                  name: ROOT_BITS
                - kind: str
                  id: 8271
                  value: version
                - kind: name
                  id: 8270
                  name: v
    depth: 4
  8286:
    id: 8293
    name: nep
  8287:
    id: 8279
    name: k
  8288:
    kind: def
    id: 4565
    name: verifyNonMembership
    qualifier: puredef
    expr:
      kind: lambda
      id: 4564
      params:
        - id: 4553
          name: root
        - id: 4555
          name: np
        - id: 4557
          name: key
      expr:
        kind: app
        id: 4563
        opcode: verify_non_existence
        args:
          - kind: name
            id: 4559
            name: np
          - kind: name
            id: 4560
            name: "ics23::InnerSpec"
          - kind: name
            id: 4561
            name: root
          - kind: name
            id: 4562
            name: key
    depth: 0
  8311:
    kind: def
    id: 8311
    name: nonMembershipCompleteness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8310
      params:
        - id: 8241
          name: tree
        - id: 8243
          name: v
      expr:
        kind: app
        id: 8309
        opcode: implies
        args:
          - kind: app
            id: 8253
            opcode: has
            args:
              - kind: app
                id: 8247
                opcode: field
                args:
                  - kind: name
                    id: 8245
                    name: tree
                  - kind: str
                    id: 8246
                    value: nodes
              - kind: app
                id: 8252
                opcode: Rec
                args:
                  - kind: str
                    id: 8249
                    value: key_hash
                  - kind: name
                    id: 8248
                    name: ROOT_BITS
                  - kind: str
                    id: 8251
                    value: version
                  - kind: name
                    id: 8250
                    name: v
          - kind: let
            id: 8308
            opdef:
              id: 8264
              name: key_hashes_from_tree
              qualifier: pureval
              expr:
                kind: app
                id: 8263
                opcode: map
                args:
                  - kind: app
                    id: 8257
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 8256
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 8254
                            name: tree
                          - kind: name
                            id: 8255
                            name: v
                  - kind: lambda
                    id: 8262
                    params:
                      - id: 8258
                        name: l
                    expr:
                      kind: app
                      id: 8261
                      opcode: field
                      args:
                        - kind: name
                          id: 8259
                          name: l
                        - kind: str
                          id: 8260
                          value: key_hash
              depth: ~
            expr:
              kind: let
              id: 8307
              opdef:
                id: 8275
                name: root
                qualifier: pureval
                expr:
                  kind: app
                  id: 8274
                  opcode: hash
                  args:
                    - kind: app
                      id: 8273
                      opcode: get
                      args:
                        - kind: app
                          id: 8267
                          opcode: field
                          args:
                            - kind: name
                              id: 8265
                              name: tree
                            - kind: str
                              id: 8266
                              value: nodes
                        - kind: app
                          id: 8272
                          opcode: Rec
                          args:
                            - kind: str
                              id: 8269
                              value: key_hash
                            - kind: name
                              id: 8268
                              name: ROOT_BITS
                            - kind: str
                              id: 8271
                              value: version
                            - kind: name
                              id: 8270
                              name: v
                depth: ~
              expr:
                kind: app
                id: 8306
                opcode: forall
                args:
                  - kind: app
                    id: 8278
                    opcode: exclude
                    args:
                      - kind: name
                        id: 8276
                        name: all_key_hashes
                      - kind: name
                        id: 8277
                        name: key_hashes_from_tree
                  - kind: lambda
                    id: 8305
                    params:
                      - id: 8279
                        name: k
                    expr:
                      kind: app
                      id: 8298
                      opcode: matchVariant
                      args:
                        - kind: app
                          id: 8283
                          opcode: ics23_prove
                          args:
                            - kind: name
                              id: 8280
                              name: tree
                            - kind: name
                              id: 8281
                              name: k
                            - kind: name
                              id: 8282
                              name: v
                        - kind: str
                          id: 8299
                          value: Some
                        - kind: lambda
                          id: 8300
                          params:
                            - id: 8301
                              name: cp
                          expr:
                            kind: app
                            id: 8290
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 8284
                                name: cp
                              - kind: str
                                id: 8291
                                value: NonExist
                              - kind: lambda
                                id: 8292
                                params:
                                  - id: 8293
                                    name: nep
                                expr:
                                  kind: app
                                  id: 8288
                                  opcode: verifyNonMembership
                                  args:
                                    - kind: name
                                      id: 8285
                                      name: root
                                    - kind: name
                                      id: 8286
                                      name: nep
                                    - kind: name
                                      id: 8287
                                      name: k
                              - kind: str
                                id: 8294
                                value: Exist
                              - kind: lambda
                                id: 8295
                                params:
                                  - id: 8296
                                    name: _
                                expr:
                                  kind: bool
                                  id: 8289
                                  value: false
                        - kind: str
                          id: 8302
                          value: None
                        - kind: lambda
                          id: 8303
                          params:
                            - id: 8304
                              name: _
                          expr:
                            kind: bool
                            id: 8297
                            value: false
    depth: 0
  8317:
    kind: typedef
    id: 3278
  8319:
    kind: typedef
    id: 3260
  8322:
    id: 8318
    name: tree
  8323:
    id: 8320
    name: v
  8324:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  8325:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  8326:
    kind: def
    id: 8326
    name: nodes
    qualifier: pureval
    expr:
      kind: app
      id: 8325
      opcode: values
      args:
        - kind: app
          id: 8324
          opcode: treeAtVersion
          args:
            - kind: name
              id: 8322
              name: tree
            - kind: name
              id: 8323
              name: v
    depth: 3
  8327:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  8329:
    id: 8318
    name: tree
  8330:
    id: 8328
    name: k
  8331:
    id: 8320
    name: v
  8332:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  8333:
    id: 8367
    name: cp
  8334:
    kind: def
    id: 8326
    name: nodes
    qualifier: pureval
    expr:
      kind: app
      id: 8325
      opcode: values
      args:
        - kind: app
          id: 8324
          opcode: treeAtVersion
          args:
            - kind: name
              id: 8322
              name: tree
            - kind: name
              id: 8323
              name: v
    depth: 3
  8336:
    id: 8335
    name: n
  8337:
    id: 8346
    name: n
  8340:
    id: 8328
    name: k
  8375:
    kind: def
    id: 8375
    name: membershipSoundness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8374
      params:
        - id: 8318
          name: tree
        - id: 8320
          name: v
      expr:
        kind: let
        id: 8373
        opdef:
          id: 8326
          name: nodes
          qualifier: pureval
          expr:
            kind: app
            id: 8325
            opcode: values
            args:
              - kind: app
                id: 8324
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 8322
                    name: tree
                  - kind: name
                    id: 8323
                    name: v
          depth: ~
        expr:
          kind: app
          id: 8372
          opcode: forall
          args:
            - kind: name
              id: 8327
              name: all_key_hashes
            - kind: lambda
              id: 8371
              params:
                - id: 8328
                  name: k
              expr:
                kind: app
                id: 8364
                opcode: matchVariant
                args:
                  - kind: app
                    id: 8332
                    opcode: ics23_prove
                    args:
                      - kind: name
                        id: 8329
                        name: tree
                      - kind: name
                        id: 8330
                        name: k
                      - kind: name
                        id: 8331
                        name: v
                  - kind: str
                    id: 8365
                    value: Some
                  - kind: lambda
                    id: 8366
                    params:
                      - id: 8367
                        name: cp
                    expr:
                      kind: app
                      id: 8356
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 8333
                          name: cp
                        - kind: str
                          id: 8357
                          value: Exist
                        - kind: lambda
                          id: 8358
                          params:
                            - id: 8359
                              name: ep
                          expr:
                            kind: app
                            id: 8354
                            opcode: igt
                            args:
                              - kind: app
                                id: 8352
                                opcode: size
                                args:
                                  - kind: app
                                    id: 8351
                                    opcode: filter
                                    args:
                                      - kind: name
                                        id: 8334
                                        name: nodes
                                      - kind: lambda
                                        id: 8350
                                        params:
                                          - id: 8335
                                            name: n
                                        expr:
                                          kind: app
                                          id: 8343
                                          opcode: matchVariant
                                          args:
                                            - kind: name
                                              id: 8336
                                              name: n
                                            - kind: str
                                              id: 8344
                                              value: Leaf
                                            - kind: lambda
                                              id: 8345
                                              params:
                                                - id: 8346
                                                  name: n
                                              expr:
                                                kind: app
                                                id: 8341
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 8339
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8337
                                                        name: n
                                                      - kind: str
                                                        id: 8338
                                                        value: key_hash
                                                  - kind: name
                                                    id: 8340
                                                    name: k
                                            - kind: str
                                              id: 8347
                                              value: Internal
                                            - kind: lambda
                                              id: 8348
                                              params:
                                                - id: 8349
                                                  name: _
                                              expr:
                                                kind: bool
                                                id: 8342
                                                value: false
                              - kind: int
                                id: 8353
                                value: 0
                        - kind: str
                          id: 8360
                          value: NonExist
                        - kind: lambda
                          id: 8361
                          params:
                            - id: 8362
                              name: _
                          expr:
                            kind: bool
                            id: 8355
                            value: true
                  - kind: str
                    id: 8368
                    value: None
                  - kind: lambda
                    id: 8369
                    params:
                      - id: 8370
                        name: _
                    expr:
                      kind: bool
                      id: 8363
                      value: true
    depth: 0
  8376:
    kind: typedef
    id: 3278
  8378:
    kind: typedef
    id: 3260
  8381:
    id: 8377
    name: tree
  8382:
    id: 8379
    name: v
  8383:
    kind: def
    id: 3742
    name: treeAtVersion
    qualifier: puredef
    expr:
      kind: lambda
      id: 3741
      params:
        - id: 3712
          name: t
        - id: 3714
          name: version
      expr:
        kind: let
        id: 3740
        opdef:
          id: 3721
          name: startingNodes
          qualifier: val
          expr:
            kind: app
            id: 3720
            opcode: nodesAtVersion
            args:
              - kind: app
                id: 3718
                opcode: field
                args:
                  - kind: name
                    id: 3716
                    name: t
                  - kind: str
                    id: 3717
                    value: nodes
              - kind: name
                id: 3719
                name: version
          depth: ~
        expr:
          kind: let
          id: 3739
          opdef:
            id: 3727
            name: nodePool
            qualifier: val
            expr:
              kind: app
              id: 3726
              opcode: nodesUpToVersion
              args:
                - kind: app
                  id: 3724
                  opcode: field
                  args:
                    - kind: name
                      id: 3722
                      name: t
                    - kind: str
                      id: 3723
                      value: nodes
                - kind: name
                  id: 3725
                  name: version
            depth: ~
          expr:
            kind: app
            id: 3738
            opcode: fold
            args:
              - kind: app
                id: 3730
                opcode: to
                args:
                  - kind: int
                    id: 3728
                    value: 0
                  - kind: name
                    id: 3729
                    name: MAX_HASH_LENGTH
              - kind: name
                id: 3731
                name: startingNodes
              - kind: lambda
                id: 3737
                params:
                  - id: 3732
                    name: treeNodes
                  - id: 3733
                    name: _
                expr:
                  kind: app
                  id: 3736
                  opcode: addDirectChildren
                  args:
                    - kind: name
                      id: 3734
                      name: treeNodes
                    - kind: name
                      id: 3735
                      name: nodePool
    depth: 0
  8384:
    kind: def
    id: 1646
    name: values
    qualifier: puredef
    expr:
      kind: lambda
      id: 1645
      params:
        - id: 1634
          name: m
      expr:
        kind: app
        id: 1644
        opcode: map
        args:
          - kind: app
            id: 1638
            opcode: keys
            args:
              - kind: name
                id: 1637
                name: m
          - kind: lambda
            id: 1643
            params:
              - id: 1639
                name: k
            expr:
              kind: app
              id: 1642
              opcode: get
              args:
                - kind: name
                  id: 1640
                  name: m
                - kind: name
                  id: 1641
                  name: k
    depth: 0
  8385:
    kind: def
    id: 8385
    name: nodes
    qualifier: pureval
    expr:
      kind: app
      id: 8384
      opcode: values
      args:
        - kind: app
          id: 8383
          opcode: treeAtVersion
          args:
            - kind: name
              id: 8381
              name: tree
            - kind: name
              id: 8382
              name: v
    depth: 3
  8386:
    kind: def
    id: 3815
    name: all_key_hashes
    qualifier: pureval
    expr:
      kind: let
      id: 3814
      opdef:
        id: 3796
        name: kms
        qualifier: pureval
        expr:
          kind: app
          id: 3795
          opcode: setOfMaps
          args:
            - kind: app
              id: 3791
              opcode: to
              args:
                - kind: int
                  id: 3787
                  value: 0
                - kind: app
                  id: 3790
                  opcode: isub
                  args:
                    - kind: name
                      id: 3788
                      name: MAX_HASH_LENGTH
                    - kind: int
                      id: 3789
                      value: 1
            - kind: app
              id: 3794
              opcode: Set
              args:
                - kind: int
                  id: 3792
                  value: 0
                - kind: int
                  id: 3793
                  value: 1
        depth: ~
      expr:
        kind: app
        id: 3813
        opcode: map
        args:
          - kind: name
            id: 3797
            name: kms
          - kind: lambda
            id: 3812
            params:
              - id: 3798
                name: km
            expr:
              kind: app
              id: 3811
              opcode: foldl
              args:
                - kind: app
                  id: 3801
                  opcode: range
                  args:
                    - kind: int
                      id: 3799
                      value: 0
                    - kind: name
                      id: 3800
                      name: MAX_HASH_LENGTH
                - kind: app
                  id: 3802
                  opcode: List
                  args: []
                - kind: lambda
                  id: 3810
                  params:
                    - id: 3803
                      name: acc
                    - id: 3804
                      name: i
                  expr:
                    kind: app
                    id: 3809
                    opcode: append
                    args:
                      - kind: name
                        id: 3805
                        name: acc
                      - kind: app
                        id: 3808
                        opcode: get
                        args:
                          - kind: name
                            id: 3806
                            name: km
                          - kind: name
                            id: 3807
                            name: i
    depth: 0
  8388:
    id: 8377
    name: tree
  8389:
    id: 8387
    name: k
  8390:
    id: 8379
    name: v
  8391:
    kind: def
    id: 5766
    name: ics23_prove
    qualifier: puredef
    expr:
      kind: lambda
      id: 5765
      params:
        - id: 5565
          name: t
        - id: 5567
          name: key_hash
        - id: 5569
          name: version
      expr:
        kind: let
        id: 5764
        opdef:
          id: 5592
          name: optionalValueForKey
          qualifier: val
          expr:
            kind: app
            id: 5591
            opcode: map
            args:
              - kind: app
                id: 5584
                opcode: filter
                args:
                  - kind: app
                    id: 5576
                    opcode: allLeafs
                    args:
                      - kind: app
                        id: 5575
                        opcode: treeAtVersion
                        args:
                          - kind: name
                            id: 5573
                            name: t
                          - kind: name
                            id: 5574
                            name: version
                  - kind: lambda
                    id: 5583
                    params:
                      - id: 5577
                        name: l
                    expr:
                      kind: app
                      id: 5582
                      opcode: eq
                      args:
                        - kind: app
                          id: 5580
                          opcode: field
                          args:
                            - kind: name
                              id: 5578
                              name: l
                            - kind: str
                              id: 5579
                              value: key_hash
                        - kind: name
                          id: 5581
                          name: key_hash
              - kind: lambda
                id: 5590
                params:
                  - id: 5585
                    name: l
                expr:
                  kind: app
                  id: 5589
                  opcode: Some
                  args:
                    - kind: app
                      id: 5588
                      opcode: field
                      args:
                        - kind: name
                          id: 5586
                          name: l
                        - kind: str
                          id: 5587
                          value: value_hash
          depth: ~
        expr:
          kind: let
          id: 5763
          opdef:
            id: 5599
            name: state_storage_read
            qualifier: val
            expr:
              kind: app
              id: 5598
              opcode: ite
              args:
                - kind: app
                  id: 5594
                  opcode: empty
                  args:
                    - kind: name
                      id: 5593
                      name: optionalValueForKey
                - kind: name
                  id: 5595
                  name: None
                - kind: app
                  id: 5597
                  opcode: getOnlyElement
                  args:
                    - kind: name
                      id: 5596
                      name: optionalValueForKey
            depth: ~
          expr:
            kind: app
            id: 5756
            opcode: matchVariant
            args:
              - kind: name
                id: 5600
                name: state_storage_read
              - kind: str
                id: 5757
                value: Some
              - kind: lambda
                id: 5758
                params:
                  - id: 5759
                    name: value
                expr:
                  kind: let
                  id: 5628
                  opdef:
                    id: 5605
                    name: p
                    qualifier: val
                    expr:
                      kind: app
                      id: 5604
                      opcode: ics23_prove_existence
                      args:
                        - kind: name
                          id: 5601
                          name: t
                        - kind: name
                          id: 5602
                          name: version
                        - kind: name
                          id: 5603
                          name: key_hash
                    depth: ~
                  expr:
                    kind: app
                    id: 5621
                    opcode: matchVariant
                    args:
                      - kind: name
                        id: 5606
                        name: p
                      - kind: str
                        id: 5622
                        value: Some
                      - kind: lambda
                        id: 5623
                        params:
                          - id: 5624
                            name: path
                        expr:
                          kind: app
                          id: 5619
                          opcode: Some
                          args:
                            - kind: app
                              id: 5618
                              opcode: Exist
                              args:
                                - kind: app
                                  id: 5617
                                  opcode: Rec
                                  args:
                                    - kind: str
                                      id: 5608
                                      value: key
                                    - kind: name
                                      id: 5607
                                      name: key_hash
                                    - kind: str
                                      id: 5610
                                      value: value
                                    - kind: name
                                      id: 5609
                                      name: value
                                    - kind: str
                                      id: 5614
                                      value: leaf
                                    - kind: app
                                      id: 5613
                                      opcode: Rec
                                      args:
                                        - kind: str
                                          id: 5612
                                          value: prefix
                                        - kind: name
                                          id: 5611
                                          name: LeafNodeHashPrefix
                                    - kind: str
                                      id: 5616
                                      value: path
                                    - kind: name
                                      id: 5615
                                      name: path
                      - kind: str
                        id: 5625
                        value: None
                      - kind: lambda
                        id: 5626
                        params:
                          - id: 5627
                            name: _
                        expr:
                          kind: name
                          id: 5620
                          name: None
              - kind: str
                id: 5760
                value: None
              - kind: lambda
                id: 5761
                params:
                  - id: 5762
                    name: _
                expr:
                  kind: let
                  id: 5755
                  opdef:
                    id: 5637
                    name: lneighborOption
                    qualifier: val
                    expr:
                      kind: app
                      id: 5636
                      opcode: leftNeighbor
                      args:
                        - kind: app
                          id: 5634
                          opcode: treeAtVersion
                          args:
                            - kind: name
                              id: 5632
                              name: t
                            - kind: name
                              id: 5633
                              name: version
                        - kind: name
                          id: 5635
                          name: key_hash
                    depth: ~
                  expr:
                    kind: let
                    id: 5754
                    opdef:
                      id: 5683
                      name: leftNeighborExistenceProof
                      qualifier: val
                      expr:
                        kind: app
                        id: 5676
                        opcode: matchVariant
                        args:
                          - kind: name
                            id: 5641
                            name: lneighborOption
                          - kind: str
                            id: 5677
                            value: Some
                          - kind: lambda
                            id: 5678
                            params:
                              - id: 5679
                                name: lneighbor
                            expr:
                              kind: let
                              id: 5674
                              opdef:
                                id: 5648
                                name: pathOption
                                qualifier: val
                                expr:
                                  kind: app
                                  id: 5647
                                  opcode: ics23_prove_existence
                                  args:
                                    - kind: name
                                      id: 5642
                                      name: t
                                    - kind: name
                                      id: 5643
                                      name: version
                                    - kind: app
                                      id: 5646
                                      opcode: field
                                      args:
                                        - kind: name
                                          id: 5644
                                          name: lneighbor
                                        - kind: str
                                          id: 5645
                                          value: key_hash
                                depth: ~
                              expr:
                                kind: app
                                id: 5667
                                opcode: matchVariant
                                args:
                                  - kind: name
                                    id: 5649
                                    name: pathOption
                                  - kind: str
                                    id: 5668
                                    value: Some
                                  - kind: lambda
                                    id: 5669
                                    params:
                                      - id: 5670
                                        name: path
                                    expr:
                                      kind: app
                                      id: 5665
                                      opcode: Some
                                      args:
                                        - kind: app
                                          id: 5664
                                          opcode: Rec
                                          args:
                                            - kind: str
                                              id: 5653
                                              value: key
                                            - kind: app
                                              id: 5652
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5650
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5651
                                                  value: key_hash
                                            - kind: str
                                              id: 5657
                                              value: value
                                            - kind: app
                                              id: 5656
                                              opcode: field
                                              args:
                                                - kind: name
                                                  id: 5654
                                                  name: lneighbor
                                                - kind: str
                                                  id: 5655
                                                  value: value_hash
                                            - kind: str
                                              id: 5661
                                              value: leaf
                                            - kind: app
                                              id: 5660
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5659
                                                  value: prefix
                                                - kind: name
                                                  id: 5658
                                                  name: LeafNodeHashPrefix
                                            - kind: str
                                              id: 5663
                                              value: path
                                            - kind: name
                                              id: 5662
                                              name: path
                                  - kind: str
                                    id: 5671
                                    value: None
                                  - kind: lambda
                                    id: 5672
                                    params:
                                      - id: 5673
                                        name: _
                                    expr:
                                      kind: name
                                      id: 5666
                                      name: None
                          - kind: str
                            id: 5680
                            value: None
                          - kind: lambda
                            id: 5681
                            params:
                              - id: 5682
                                name: _
                            expr:
                              kind: name
                              id: 5675
                              name: None
                      depth: ~
                    expr:
                      kind: let
                      id: 5753
                      opdef:
                        id: 5692
                        name: rneighborOption
                        qualifier: val
                        expr:
                          kind: app
                          id: 5691
                          opcode: rightNeighbor
                          args:
                            - kind: app
                              id: 5689
                              opcode: treeAtVersion
                              args:
                                - kind: name
                                  id: 5687
                                  name: t
                                - kind: name
                                  id: 5688
                                  name: version
                            - kind: name
                              id: 5690
                              name: key_hash
                        depth: ~
                      expr:
                        kind: let
                        id: 5752
                        opdef:
                          id: 5738
                          name: rightNeighborExistenceProof
                          qualifier: val
                          expr:
                            kind: app
                            id: 5731
                            opcode: matchVariant
                            args:
                              - kind: name
                                id: 5696
                                name: rneighborOption
                              - kind: str
                                id: 5732
                                value: Some
                              - kind: lambda
                                id: 5733
                                params:
                                  - id: 5734
                                    name: rneighbor
                                expr:
                                  kind: let
                                  id: 5729
                                  opdef:
                                    id: 5703
                                    name: pathOption
                                    qualifier: val
                                    expr:
                                      kind: app
                                      id: 5702
                                      opcode: ics23_prove_existence
                                      args:
                                        - kind: name
                                          id: 5697
                                          name: t
                                        - kind: name
                                          id: 5698
                                          name: version
                                        - kind: app
                                          id: 5701
                                          opcode: field
                                          args:
                                            - kind: name
                                              id: 5699
                                              name: rneighbor
                                            - kind: str
                                              id: 5700
                                              value: key_hash
                                    depth: ~
                                  expr:
                                    kind: app
                                    id: 5722
                                    opcode: matchVariant
                                    args:
                                      - kind: name
                                        id: 5704
                                        name: pathOption
                                      - kind: str
                                        id: 5723
                                        value: Some
                                      - kind: lambda
                                        id: 5724
                                        params:
                                          - id: 5725
                                            name: path
                                        expr:
                                          kind: app
                                          id: 5720
                                          opcode: Some
                                          args:
                                            - kind: app
                                              id: 5719
                                              opcode: Rec
                                              args:
                                                - kind: str
                                                  id: 5708
                                                  value: key
                                                - kind: app
                                                  id: 5707
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5705
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5706
                                                      value: key_hash
                                                - kind: str
                                                  id: 5712
                                                  value: value
                                                - kind: app
                                                  id: 5711
                                                  opcode: field
                                                  args:
                                                    - kind: name
                                                      id: 5709
                                                      name: rneighbor
                                                    - kind: str
                                                      id: 5710
                                                      value: value_hash
                                                - kind: str
                                                  id: 5716
                                                  value: leaf
                                                - kind: app
                                                  id: 5715
                                                  opcode: Rec
                                                  args:
                                                    - kind: str
                                                      id: 5714
                                                      value: prefix
                                                    - kind: name
                                                      id: 5713
                                                      name: LeafNodeHashPrefix
                                                - kind: str
                                                  id: 5718
                                                  value: path
                                                - kind: name
                                                  id: 5717
                                                  name: path
                                      - kind: str
                                        id: 5726
                                        value: None
                                      - kind: lambda
                                        id: 5727
                                        params:
                                          - id: 5728
                                            name: _
                                        expr:
                                          kind: name
                                          id: 5721
                                          name: None
                              - kind: str
                                id: 5735
                                value: None
                              - kind: lambda
                                id: 5736
                                params:
                                  - id: 5737
                                    name: _
                                expr:
                                  kind: name
                                  id: 5730
                                  name: None
                          depth: ~
                        expr:
                          kind: let
                          id: 5751
                          opdef:
                            id: 5747
                            name: nep
                            qualifier: val
                            expr:
                              kind: app
                              id: 5746
                              opcode: Rec
                              args:
                                - kind: str
                                  id: 5741
                                  value: key
                                - kind: name
                                  id: 5740
                                  name: key_hash
                                - kind: str
                                  id: 5743
                                  value: left
                                - kind: name
                                  id: 5742
                                  name: leftNeighborExistenceProof
                                - kind: str
                                  id: 5745
                                  value: right
                                - kind: name
                                  id: 5744
                                  name: rightNeighborExistenceProof
                            depth: ~
                          expr:
                            kind: app
                            id: 5750
                            opcode: Some
                            args:
                              - kind: app
                                id: 5749
                                opcode: NonExist
                                args:
                                  - kind: name
                                    id: 5748
                                    name: nep
    depth: 0
  8392:
    id: 8426
    name: cp
  8393:
    kind: def
    id: 8385
    name: nodes
    qualifier: pureval
    expr:
      kind: app
      id: 8384
      opcode: values
      args:
        - kind: app
          id: 8383
          opcode: treeAtVersion
          args:
            - kind: name
              id: 8381
              name: tree
            - kind: name
              id: 8382
              name: v
    depth: 3
  8395:
    id: 8394
    name: n
  8396:
    id: 8405
    name: n
  8399:
    id: 8387
    name: k
  8434:
    kind: def
    id: 8434
    name: nonMembershipSoundness
    qualifier: puredef
    expr:
      kind: lambda
      id: 8433
      params:
        - id: 8377
          name: tree
        - id: 8379
          name: v
      expr:
        kind: let
        id: 8432
        opdef:
          id: 8385
          name: nodes
          qualifier: pureval
          expr:
            kind: app
            id: 8384
            opcode: values
            args:
              - kind: app
                id: 8383
                opcode: treeAtVersion
                args:
                  - kind: name
                    id: 8381
                    name: tree
                  - kind: name
                    id: 8382
                    name: v
          depth: ~
        expr:
          kind: app
          id: 8431
          opcode: forall
          args:
            - kind: name
              id: 8386
              name: all_key_hashes
            - kind: lambda
              id: 8430
              params:
                - id: 8387
                  name: k
              expr:
                kind: app
                id: 8423
                opcode: matchVariant
                args:
                  - kind: app
                    id: 8391
                    opcode: ics23_prove
                    args:
                      - kind: name
                        id: 8388
                        name: tree
                      - kind: name
                        id: 8389
                        name: k
                      - kind: name
                        id: 8390
                        name: v
                  - kind: str
                    id: 8424
                    value: Some
                  - kind: lambda
                    id: 8425
                    params:
                      - id: 8426
                        name: cp
                    expr:
                      kind: app
                      id: 8415
                      opcode: matchVariant
                      args:
                        - kind: name
                          id: 8392
                          name: cp
                        - kind: str
                          id: 8416
                          value: NonExist
                        - kind: lambda
                          id: 8417
                          params:
                            - id: 8418
                              name: nep
                          expr:
                            kind: app
                            id: 8413
                            opcode: eq
                            args:
                              - kind: app
                                id: 8411
                                opcode: size
                                args:
                                  - kind: app
                                    id: 8410
                                    opcode: filter
                                    args:
                                      - kind: name
                                        id: 8393
                                        name: nodes
                                      - kind: lambda
                                        id: 8409
                                        params:
                                          - id: 8394
                                            name: n
                                        expr:
                                          kind: app
                                          id: 8402
                                          opcode: matchVariant
                                          args:
                                            - kind: name
                                              id: 8395
                                              name: n
                                            - kind: str
                                              id: 8403
                                              value: Leaf
                                            - kind: lambda
                                              id: 8404
                                              params:
                                                - id: 8405
                                                  name: n
                                              expr:
                                                kind: app
                                                id: 8400
                                                opcode: eq
                                                args:
                                                  - kind: app
                                                    id: 8398
                                                    opcode: field
                                                    args:
                                                      - kind: name
                                                        id: 8396
                                                        name: n
                                                      - kind: str
                                                        id: 8397
                                                        value: key_hash
                                                  - kind: name
                                                    id: 8399
                                                    name: k
                                            - kind: str
                                              id: 8406
                                              value: Internal
                                            - kind: lambda
                                              id: 8407
                                              params:
                                                - id: 8408
                                                  name: _
                                              expr:
                                                kind: bool
                                                id: 8401
                                                value: false
                              - kind: int
                                id: 8412
                                value: 0
                        - kind: str
                          id: 8419
                          value: Exist
                        - kind: lambda
                          id: 8420
                          params:
                            - id: 8421
                              name: _
                          expr:
                            kind: bool
                            id: 8414
                            value: true
                  - kind: str
                    id: 8427
                    value: None
                  - kind: lambda
                    id: 8428
                    params:
                      - id: 8429
                        name: _
                    expr:
                      kind: bool
                      id: 8422
                      value: true
    depth: 0
  8438:
    kind: typedef
    id: 2947
  8441:
    kind: typedef
    id: 2947
  8442:
    kind: typedef
    id: 2947
  8445:
    kind: typedef
    id: 2756
  8446:
    kind: typedef
    id: 2756
  8447:
    kind: typedef
    id: 8440
  8448:
    kind: typedef
    id: 8444
  8452:
    kind: typedef
    id: 2756
  8453:
    kind: typedef
    id: 8451
  8456:
    kind: typedef
    id: 8451
  8461:
    kind: typedef
    id: 8451
  8462:
    kind: typedef
    id: 8460
  8464:
    kind: typedef
    id: 8463
  8467:
    id: 8466
    name: __ExistParam
  8470:
    kind: def
    id: 8470
    name: Exist
    qualifier: def
    expr:
      kind: lambda
      id: 8469
      params:
        - id: 8466
          name: __ExistParam
      expr:
        kind: app
        id: 8468
        opcode: variant
        args:
          - kind: str
            id: 8465
            value: Exist
          - kind: name
            id: 8467
            name: __ExistParam
    depth: 0
  8473:
    id: 8472
    name: __NonExistParam
  8476:
    kind: def
    id: 8476
    name: NonExist
    qualifier: def
    expr:
      kind: lambda
      id: 8475
      params:
        - id: 8472
          name: __NonExistParam
      expr:
        kind: app
        id: 8474
        opcode: variant
        args:
          - kind: str
            id: 8471
            value: NonExist
          - kind: name
            id: 8473
            name: __NonExistParam
    depth: 0
  8482:
    id: 8480
    name: __set
  8486:
    id: 8484
    name: __sum
  8487:
    id: 8485
    name: __i
  8492:
    kind: def
    id: 8492
    name: setSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8491
      params:
        - id: 8480
          name: __set
      expr:
        kind: app
        id: 8490
        opcode: fold
        args:
          - kind: name
            id: 8482
            name: __set
          - kind: int
            id: 8483
            value: 0
          - kind: lambda
            id: 8489
            params:
              - id: 8484
                name: __sum
              - id: 8485
                name: __i
            expr:
              kind: app
              id: 8488
              opcode: iadd
              args:
                - kind: name
                  id: 8486
                  name: __sum
                - kind: name
                  id: 8487
                  name: __i
    depth: 0
  8494:
    kind: def
    id: 8492
    name: setSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8491
      params:
        - id: 8480
          name: __set
      expr:
        kind: app
        id: 8490
        opcode: fold
        args:
          - kind: name
            id: 8482
            name: __set
          - kind: int
            id: 8483
            value: 0
          - kind: lambda
            id: 8489
            params:
              - id: 8484
                name: __sum
              - id: 8485
                name: __i
            expr:
              kind: app
              id: 8488
              opcode: iadd
              args:
                - kind: name
                  id: 8486
                  name: __sum
                - kind: name
                  id: 8487
                  name: __i
    depth: 0
  8501:
    kind: def
    id: 8492
    name: setSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8491
      params:
        - id: 8480
          name: __set
      expr:
        kind: app
        id: 8490
        opcode: fold
        args:
          - kind: name
            id: 8482
            name: __set
          - kind: int
            id: 8483
            value: 0
          - kind: lambda
            id: 8489
            params:
              - id: 8484
                name: __sum
              - id: 8485
                name: __i
            expr:
              kind: app
              id: 8488
              opcode: iadd
              args:
                - kind: name
                  id: 8486
                  name: __sum
                - kind: name
                  id: 8487
                  name: __i
    depth: 0
  8510:
    kind: def
    id: 8492
    name: setSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8491
      params:
        - id: 8480
          name: __set
      expr:
        kind: app
        id: 8490
        opcode: fold
        args:
          - kind: name
            id: 8482
            name: __set
          - kind: int
            id: 8483
            value: 0
          - kind: lambda
            id: 8489
            params:
              - id: 8484
                name: __sum
              - id: 8485
                name: __i
            expr:
              kind: app
              id: 8488
              opcode: iadd
              args:
                - kind: name
                  id: 8486
                  name: __sum
                - kind: name
                  id: 8487
                  name: __i
    depth: 0
  8515:
    kind: def
    id: 8515
    name: setSumTest
    qualifier: run
    expr:
      kind: app
      id: 8514
      opcode: actionAll
      args:
        - kind: app
          id: 8497
          opcode: assert
          args:
            - kind: app
              id: 8496
              opcode: eq
              args:
                - kind: app
                  id: 8494
                  opcode: setSum
                  args:
                    - kind: app
                      id: 8493
                      opcode: Set
                      args: []
                - kind: int
                  id: 8495
                  value: 0
        - kind: app
          id: 8504
          opcode: assert
          args:
            - kind: app
              id: 8503
              opcode: eq
              args:
                - kind: app
                  id: 8501
                  opcode: setSum
                  args:
                    - kind: app
                      id: 8500
                      opcode: to
                      args:
                        - kind: int
                          id: 8498
                          value: 2
                        - kind: int
                          id: 8499
                          value: 4
                - kind: int
                  id: 8502
                  value: 9
        - kind: app
          id: 8513
          opcode: assert
          args:
            - kind: app
              id: 8512
              opcode: eq
              args:
                - kind: app
                  id: 8510
                  opcode: setSum
                  args:
                    - kind: app
                      id: 8509
                      opcode: Set
                      args:
                        - kind: app
                          id: 8506
                          opcode: iuminus
                          args:
                            - kind: int
                              id: 8505
                              value: 4
                        - kind: int
                          id: 8507
                          value: 4
                        - kind: int
                          id: 8508
                          value: 5
                - kind: int
                  id: 8511
                  value: 5
    depth: 0
  8520:
    id: 8518
    name: __list
  8524:
    id: 8522
    name: __sum
  8525:
    id: 8523
    name: __i
  8530:
    kind: def
    id: 8530
    name: listSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8529
      params:
        - id: 8518
          name: __list
      expr:
        kind: app
        id: 8528
        opcode: foldl
        args:
          - kind: name
            id: 8520
            name: __list
          - kind: int
            id: 8521
            value: 0
          - kind: lambda
            id: 8527
            params:
              - id: 8522
                name: __sum
              - id: 8523
                name: __i
            expr:
              kind: app
              id: 8526
              opcode: iadd
              args:
                - kind: name
                  id: 8524
                  name: __sum
                - kind: name
                  id: 8525
                  name: __i
    depth: 0
  8532:
    kind: def
    id: 8530
    name: listSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8529
      params:
        - id: 8518
          name: __list
      expr:
        kind: app
        id: 8528
        opcode: foldl
        args:
          - kind: name
            id: 8520
            name: __list
          - kind: int
            id: 8521
            value: 0
          - kind: lambda
            id: 8527
            params:
              - id: 8522
                name: __sum
              - id: 8523
                name: __i
            expr:
              kind: app
              id: 8526
              opcode: iadd
              args:
                - kind: name
                  id: 8524
                  name: __sum
                - kind: name
                  id: 8525
                  name: __i
    depth: 0
  8541:
    kind: def
    id: 8530
    name: listSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8529
      params:
        - id: 8518
          name: __list
      expr:
        kind: app
        id: 8528
        opcode: foldl
        args:
          - kind: name
            id: 8520
            name: __list
          - kind: int
            id: 8521
            value: 0
          - kind: lambda
            id: 8527
            params:
              - id: 8522
                name: __sum
              - id: 8523
                name: __i
            expr:
              kind: app
              id: 8526
              opcode: iadd
              args:
                - kind: name
                  id: 8524
                  name: __sum
                - kind: name
                  id: 8525
                  name: __i
    depth: 0
  8550:
    kind: def
    id: 8530
    name: listSum
    qualifier: puredef
    expr:
      kind: lambda
      id: 8529
      params:
        - id: 8518
          name: __list
      expr:
        kind: app
        id: 8528
        opcode: foldl
        args:
          - kind: name
            id: 8520
            name: __list
          - kind: int
            id: 8521
            value: 0
          - kind: lambda
            id: 8527
            params:
              - id: 8522
                name: __sum
              - id: 8523
                name: __i
            expr:
              kind: app
              id: 8526
              opcode: iadd
              args:
                - kind: name
                  id: 8524
                  name: __sum
                - kind: name
                  id: 8525
                  name: __i
    depth: 0
  8555:
    kind: def
    id: 8555
    name: listSumTest
    qualifier: run
    expr:
      kind: app
      id: 8554
      opcode: actionAll
      args:
        - kind: app
          id: 8535
          opcode: assert
          args:
            - kind: app
              id: 8534
              opcode: eq
              args:
                - kind: app
                  id: 8532
                  opcode: listSum
                  args:
                    - kind: app
                      id: 8531
                      opcode: List
                      args: []
                - kind: int
                  id: 8533
                  value: 0
        - kind: app
          id: 8544
          opcode: assert
          args:
            - kind: app
              id: 8543
              opcode: eq
              args:
                - kind: app
                  id: 8541
                  opcode: listSum
                  args:
                    - kind: app
                      id: 8540
                      opcode: List
                      args:
                        - kind: int
                          id: 8536
                          value: 1
                        - kind: int
                          id: 8537
                          value: 1
                        - kind: int
                          id: 8538
                          value: 1
                        - kind: int
                          id: 8539
                          value: 3
                - kind: int
                  id: 8542
                  value: 6
        - kind: app
          id: 8553
          opcode: assert
          args:
            - kind: app
              id: 8552
              opcode: eq
              args:
                - kind: app
                  id: 8550
                  opcode: listSum
                  args:
                    - kind: app
                      id: 8549
                      opcode: List
                      args:
                        - kind: app
                          id: 8546
                          opcode: iuminus
                          args:
                            - kind: int
                              id: 8545
                              value: 4
                        - kind: int
                          id: 8547
                          value: 4
                        - kind: int
                          id: 8548
                          value: 5
                - kind: int
                  id: 8551
                  value: 5
    depth: 0
  8562:
    id: 8558
    name: __list
  8566:
    id: 8564
    name: __acc
  8567:
    id: 8565
    name: __i
  8568:
    id: 8560
    name: __elem
  8574:
    kind: def
    id: 8574
    name: listContains
    qualifier: puredef
    expr:
      kind: lambda
      id: 8573
      params:
        - id: 8558
          name: __list
        - id: 8560
          name: __elem
      expr:
        kind: app
        id: 8572
        opcode: foldl
        args:
          - kind: name
            id: 8562
            name: __list
          - kind: bool
            id: 8563
            value: false
          - kind: lambda
            id: 8571
            params:
              - id: 8564
                name: __acc
              - id: 8565
                name: __i
            expr:
              kind: app
              id: 8570
              opcode: or
              args:
                - kind: name
                  id: 8566
                  name: __acc
                - kind: app
                  id: 8569
                  opcode: eq
                  args:
                    - kind: name
                      id: 8567
                      name: __i
                    - kind: name
                      id: 8568
                      name: __elem
    depth: 0
  8577:
    kind: def
    id: 8574
    name: listContains
    qualifier: puredef
    expr:
      kind: lambda
      id: 8573
      params:
        - id: 8558
          name: __list
        - id: 8560
          name: __elem
      expr:
        kind: app
        id: 8572
        opcode: foldl
        args:
          - kind: name
            id: 8562
            name: __list
          - kind: bool
            id: 8563
            value: false
          - kind: lambda
            id: 8571
            params:
              - id: 8564
                name: __acc
              - id: 8565
                name: __i
            expr:
              kind: app
              id: 8570
              opcode: or
              args:
                - kind: name
                  id: 8566
                  name: __acc
                - kind: app
                  id: 8569
                  opcode: eq
                  args:
                    - kind: name
                      id: 8567
                      name: __i
                    - kind: name
                      id: 8568
                      name: __elem
    depth: 0
  8586:
    kind: def
    id: 8574
    name: listContains
    qualifier: puredef
    expr:
      kind: lambda
      id: 8573
      params:
        - id: 8558
          name: __list
        - id: 8560
          name: __elem
      expr:
        kind: app
        id: 8572
        opcode: foldl
        args:
          - kind: name
            id: 8562
            name: __list
          - kind: bool
            id: 8563
            value: false
          - kind: lambda
            id: 8571
            params:
              - id: 8564
                name: __acc
              - id: 8565
                name: __i
            expr:
              kind: app
              id: 8570
              opcode: or
              args:
                - kind: name
                  id: 8566
                  name: __acc
                - kind: app
                  id: 8569
                  opcode: eq
                  args:
                    - kind: name
                      id: 8567
                      name: __i
                    - kind: name
                      id: 8568
                      name: __elem
    depth: 0
  8595:
    kind: def
    id: 8574
    name: listContains
    qualifier: puredef
    expr:
      kind: lambda
      id: 8573
      params:
        - id: 8558
          name: __list
        - id: 8560
          name: __elem
      expr:
        kind: app
        id: 8572
        opcode: foldl
        args:
          - kind: name
            id: 8562
            name: __list
          - kind: bool
            id: 8563
            value: false
          - kind: lambda
            id: 8571
            params:
              - id: 8564
                name: __acc
              - id: 8565
                name: __i
            expr:
              kind: app
              id: 8570
              opcode: or
              args:
                - kind: name
                  id: 8566
                  name: __acc
                - kind: app
                  id: 8569
                  opcode: eq
                  args:
                    - kind: name
                      id: 8567
                      name: __i
                    - kind: name
                      id: 8568
                      name: __elem
    depth: 0
  8606:
    kind: def
    id: 8574
    name: listContains
    qualifier: puredef
    expr:
      kind: lambda
      id: 8573
      params:
        - id: 8558
          name: __list
        - id: 8560
          name: __elem
      expr:
        kind: app
        id: 8572
        opcode: foldl
        args:
          - kind: name
            id: 8562
            name: __list
          - kind: bool
            id: 8563
            value: false
          - kind: lambda
            id: 8571
            params:
              - id: 8564
                name: __acc
              - id: 8565
                name: __i
            expr:
              kind: app
              id: 8570
              opcode: or
              args:
                - kind: name
                  id: 8566
                  name: __acc
                - kind: app
                  id: 8569
                  opcode: eq
                  args:
                    - kind: name
                      id: 8567
                      name: __i
                    - kind: name
                      id: 8568
                      name: __elem
    depth: 0
  8611:
    kind: def
    id: 8611
    name: listContainsTest
    qualifier: run
    expr:
      kind: app
      id: 8610
      opcode: actionAll
      args:
        - kind: app
          id: 8580
          opcode: assert
          args:
            - kind: app
              id: 8579
              opcode: eq
              args:
                - kind: app
                  id: 8577
                  opcode: listContains
                  args:
                    - kind: app
                      id: 8575
                      opcode: List
                      args: []
                    - kind: int
                      id: 8576
                      value: 1
                - kind: bool
                  id: 8578
                  value: false
        - kind: app
          id: 8589
          opcode: assert
          args:
            - kind: app
              id: 8588
              opcode: eq
              args:
                - kind: app
                  id: 8586
                  opcode: listContains
                  args:
                    - kind: app
                      id: 8584
                      opcode: List
                      args:
                        - kind: int
                          id: 8581
                          value: 1
                        - kind: int
                          id: 8582
                          value: 2
                        - kind: int
                          id: 8583
                          value: 3
                    - kind: int
                      id: 8585
                      value: 1
                - kind: bool
                  id: 8587
                  value: true
        - kind: app
          id: 8598
          opcode: assert
          args:
            - kind: app
              id: 8597
              opcode: eq
              args:
                - kind: app
                  id: 8595
                  opcode: listContains
                  args:
                    - kind: app
                      id: 8593
                      opcode: List
                      args:
                        - kind: int
                          id: 8590
                          value: 1
                        - kind: int
                          id: 8591
                          value: 2
                        - kind: int
                          id: 8592
                          value: 3
                    - kind: int
                      id: 8594
                      value: 4
                - kind: bool
                  id: 8596
                  value: false
        - kind: app
          id: 8609
          opcode: assert
          args:
            - kind: app
              id: 8608
              opcode: eq
              args:
                - kind: app
                  id: 8606
                  opcode: listContains
                  args:
                    - kind: app
                      id: 8604
                      opcode: List
                      args:
                        - kind: int
                          id: 8599
                          value: 1
                        - kind: int
                          id: 8600
                          value: 2
                        - kind: int
                          id: 8601
                          value: 2
                        - kind: int
                          id: 8602
                          value: 2
                        - kind: int
                          id: 8603
                          value: 3
                    - kind: int
                      id: 8605
                      value: 2
                - kind: bool
                  id: 8607
                  value: true
    depth: 0
  8620:
    id: 8615
    name: __map
  8625:
    id: 8623
    name: __acc
  8626:
    id: 8624
    name: __k
  8627:
    id: 8615
    name: __map
  8628:
    id: 8624
    name: __k
  8636:
    kind: def
    id: 8636
    name: mapToSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 8635
      params:
        - id: 8615
          name: __map
      expr:
        kind: app
        id: 8634
        opcode: fold
        args:
          - kind: app
            id: 8621
            opcode: keys
            args:
              - kind: name
                id: 8620
                name: __map
          - kind: app
            id: 8622
            opcode: Set
            args: []
          - kind: lambda
            id: 8633
            params:
              - id: 8623
                name: __acc
              - id: 8624
                name: __k
            expr:
              kind: app
              id: 8632
              opcode: union
              args:
                - kind: name
                  id: 8625
                  name: __acc
                - kind: app
                  id: 8631
                  opcode: Set
                  args:
                    - kind: app
                      id: 8630
                      opcode: Tup
                      args:
                        - kind: name
                          id: 8626
                          name: __k
                        - kind: app
                          id: 8629
                          opcode: get
                          args:
                            - kind: name
                              id: 8627
                              name: __map
                            - kind: name
                              id: 8628
                              name: __k
    depth: 0
  8638:
    kind: def
    id: 8636
    name: mapToSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 8635
      params:
        - id: 8615
          name: __map
      expr:
        kind: app
        id: 8634
        opcode: fold
        args:
          - kind: app
            id: 8621
            opcode: keys
            args:
              - kind: name
                id: 8620
                name: __map
          - kind: app
            id: 8622
            opcode: Set
            args: []
          - kind: lambda
            id: 8633
            params:
              - id: 8623
                name: __acc
              - id: 8624
                name: __k
            expr:
              kind: app
              id: 8632
              opcode: union
              args:
                - kind: name
                  id: 8625
                  name: __acc
                - kind: app
                  id: 8631
                  opcode: Set
                  args:
                    - kind: app
                      id: 8630
                      opcode: Tup
                      args:
                        - kind: name
                          id: 8626
                          name: __k
                        - kind: app
                          id: 8629
                          opcode: get
                          args:
                            - kind: name
                              id: 8627
                              name: __map
                            - kind: name
                              id: 8628
                              name: __k
    depth: 0
  8649:
    kind: def
    id: 8636
    name: mapToSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 8635
      params:
        - id: 8615
          name: __map
      expr:
        kind: app
        id: 8634
        opcode: fold
        args:
          - kind: app
            id: 8621
            opcode: keys
            args:
              - kind: name
                id: 8620
                name: __map
          - kind: app
            id: 8622
            opcode: Set
            args: []
          - kind: lambda
            id: 8633
            params:
              - id: 8623
                name: __acc
              - id: 8624
                name: __k
            expr:
              kind: app
              id: 8632
              opcode: union
              args:
                - kind: name
                  id: 8625
                  name: __acc
                - kind: app
                  id: 8631
                  opcode: Set
                  args:
                    - kind: app
                      id: 8630
                      opcode: Tup
                      args:
                        - kind: name
                          id: 8626
                          name: __k
                        - kind: app
                          id: 8629
                          opcode: get
                          args:
                            - kind: name
                              id: 8627
                              name: __map
                            - kind: name
                              id: 8628
                              name: __k
    depth: 0
  8669:
    kind: def
    id: 8636
    name: mapToSet
    qualifier: puredef
    expr:
      kind: lambda
      id: 8635
      params:
        - id: 8615
          name: __map
      expr:
        kind: app
        id: 8634
        opcode: fold
        args:
          - kind: app
            id: 8621
            opcode: keys
            args:
              - kind: name
                id: 8620
                name: __map
          - kind: app
            id: 8622
            opcode: Set
            args: []
          - kind: lambda
            id: 8633
            params:
              - id: 8623
                name: __acc
              - id: 8624
                name: __k
            expr:
              kind: app
              id: 8632
              opcode: union
              args:
                - kind: name
                  id: 8625
                  name: __acc
                - kind: app
                  id: 8631
                  opcode: Set
                  args:
                    - kind: app
                      id: 8630
                      opcode: Tup
                      args:
                        - kind: name
                          id: 8626
                          name: __k
                        - kind: app
                          id: 8629
                          opcode: get
                          args:
                            - kind: name
                              id: 8627
                              name: __map
                            - kind: name
                              id: 8628
                              name: __k
    depth: 0
  8673:
    id: 8671
    name: __acc
  8674:
    id: 8672
    name: __kv
  8684:
    kind: def
    id: 8684
    name: mapToSetTest
    qualifier: run
    expr:
      kind: app
      id: 8683
      opcode: actionAll
      args:
        - kind: app
          id: 8641
          opcode: assert
          args:
            - kind: app
              id: 8640
              opcode: eq
              args:
                - kind: app
                  id: 8638
                  opcode: mapToSet
                  args:
                    - kind: app
                      id: 8637
                      opcode: Map
                      args: []
                - kind: app
                  id: 8639
                  opcode: Set
                  args: []
        - kind: app
          id: 8658
          opcode: assert
          args:
            - kind: app
              id: 8657
              opcode: eq
              args:
                - kind: app
                  id: 8649
                  opcode: mapToSet
                  args:
                    - kind: app
                      id: 8648
                      opcode: Map
                      args:
                        - kind: app
                          id: 8644
                          opcode: Tup
                          args:
                            - kind: int
                              id: 8642
                              value: 1
                            - kind: int
                              id: 8643
                              value: 2
                        - kind: app
                          id: 8647
                          opcode: Tup
                          args:
                            - kind: int
                              id: 8645
                              value: 2
                            - kind: int
                              id: 8646
                              value: 3
                - kind: app
                  id: 8656
                  opcode: Set
                  args:
                    - kind: app
                      id: 8652
                      opcode: Tup
                      args:
                        - kind: int
                          id: 8650
                          value: 1
                        - kind: int
                          id: 8651
                          value: 2
                    - kind: app
                      id: 8655
                      opcode: Tup
                      args:
                        - kind: int
                          id: 8653
                          value: 2
                        - kind: int
                          id: 8654
                          value: 3
        - kind: app
          id: 8682
          opcode: assert
          args:
            - kind: app
              id: 8681
              opcode: eq
              args:
                - kind: app
                  id: 8679
                  opcode: fold
                  args:
                    - kind: app
                      id: 8669
                      opcode: mapToSet
                      args:
                        - kind: app
                          id: 8668
                          opcode: Map
                          args:
                            - kind: app
                              id: 8661
                              opcode: Tup
                              args:
                                - kind: str
                                  id: 8659
                                  value: a
                                - kind: int
                                  id: 8660
                                  value: 1
                            - kind: app
                              id: 8664
                              opcode: Tup
                              args:
                                - kind: str
                                  id: 8662
                                  value: b
                                - kind: int
                                  id: 8663
                                  value: 1
                            - kind: app
                              id: 8667
                              opcode: Tup
                              args:
                                - kind: str
                                  id: 8665
                                  value: c
                                - kind: int
                                  id: 8666
                                  value: 1
                    - kind: int
                      id: 8670
                      value: 0
                    - kind: lambda
                      id: 8678
                      params:
                        - id: 8671
                          name: __acc
                        - id: 8672
                          name: __kv
                      expr:
                        kind: app
                        id: 8677
                        opcode: iadd
                        args:
                          - kind: name
                            id: 8673
                            name: __acc
                          - kind: app
                            id: 8676
                            opcode: item
                            args:
                              - kind: name
                                id: 8674
                                name: __kv
                              - kind: int
                                id: 8675
                                value: 2
                - kind: int
                  id: 8680
                  value: 3
    depth: 0
  8686:
    kind: def
    id: 50
    name: init
    qualifier: action
    expr:
      kind: app
      id: 49
      opcode: actionAll
      args:
        - kind: app
          id: 39
          opcode: assign
          args:
            - kind: name
              id: 38
              name: tree
            - kind: app
              id: 37
              opcode: Rec
              args:
                - kind: str
                  id: 34
                  value: nodes
                - kind: app
                  id: 33
                  opcode: Map
                  args: []
                - kind: str
                  id: 36
                  value: orphans
                - kind: app
                  id: 35
                  opcode: Set
                  args: []
        - kind: app
          id: 42
          opcode: assign
          args:
            - kind: name
              id: 41
              name: version
            - kind: int
              id: 40
              value: 1
        - kind: app
          id: 45
          opcode: assign
          args:
            - kind: name
              id: 44
              name: smallest_unpruned_version
            - kind: int
              id: 43
              value: 1
        - kind: app
          id: 48
          opcode: assign
          args:
            - kind: name
              id: 47
              name: ops_history
            - kind: app
              id: 46
              opcode: List
              args: []
    depth: 0
  8687:
    kind: def
    id: 8687
    name: "q::init"
    qualifier: action
    expr:
      kind: name
      id: 8686
      name: init
    depth: 0
  8688:
    kind: def
    id: 171
    name: step_fancy
    qualifier: action
    expr:
      kind: app
      id: 170
      opcode: step_parametrized
      args:
        - kind: name
          id: 168
          name: "fancy::apply"
        - kind: name
          id: 169
          name: assign_result
    depth: 0
  8689:
    kind: def
    id: 8689
    name: "q::step"
    qualifier: action
    expr:
      kind: name
      id: 8688
      name: step_fancy
    depth: 0
  8690:
    kind: def
    id: 1218
    name: allInvariants
    qualifier: val
    expr:
      kind: app
      id: 1217
      opcode: actionAll
      args:
        - kind: name
          id: 1215
          name: treeInvariants
        - kind: name
          id: 1216
          name: proofInvariants
    depth: 0
  8692:
    kind: def
    id: 8692
    name: "q::inv"
    qualifier: val
    expr:
      kind: app
      id: 8691
      opcode: and
      args:
        - kind: name
          id: 8690
          name: allInvariants
    depth: 0
main: apply_state_machine
